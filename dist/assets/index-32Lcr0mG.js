(function(){const Zt=document.createElement("link").relList;if(Zt&&Zt.supports&&Zt.supports("modulepreload"))return;for(const _t of document.querySelectorAll('link[rel="modulepreload"]'))oi(_t);new MutationObserver(_t=>{for(const ge of _t)if(ge.type==="childList")for(const x of ge.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&oi(x)}).observe(document,{childList:!0,subtree:!0});function ce(_t){const ge={};return _t.integrity&&(ge.integrity=_t.integrity),_t.referrerPolicy&&(ge.referrerPolicy=_t.referrerPolicy),_t.crossOrigin==="use-credentials"?ge.credentials="include":_t.crossOrigin==="anonymous"?ge.credentials="omit":ge.credentials="same-origin",ge}function oi(_t){if(_t.ep)return;_t.ep=!0;const ge=ce(_t);fetch(_t.href,ge)}})();document.querySelectorAll(".grid");document.querySelector("#user_input");document.querySelector("#submit");var Jf={};(function(){class It{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,v,g){[e,v]=m(this,e,v);let S=[];return this.decompose(0,e,S,2),g.length&&g.decompose(0,g.length,S,3),this.decompose(v,this.length,S,1),ce.from(S,this.length-(v-e)+g.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,v=this.length){[e,v]=m(this,e,v);let g=[];return this.decompose(e,v,g,0),ce.from(g,v-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let v=this.scanIdentical(e,1),g=this.length-this.scanIdentical(e,-1),S=new x(this),E=new x(e);for(let R=v,D=v;;){if(S.next(R),E.next(R),R=0,S.lineBreak!=E.lineBreak||S.done!=E.done||S.value!=E.value)return!1;if(D+=S.value.length,S.done||D>=g)return!0}}iter(e=1){return new x(this,e)}iterRange(e,v=this.length){return new M(this,e,v)}iterLines(e,v){let g;if(e==null)g=this.iter();else{v==null&&(v=this.lines+1);let S=this.line(e).from;g=this.iterRange(S,Math.max(S,v==this.lines+1?this.length:v<=1?0:this.line(v-1).to))}return new t(g)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?It.empty:e.length<=32?new Zt(e):ce.from(Zt.split(e,[]))}}class Zt extends It{constructor(e,v=oi(e)){super(),this.text=e,this.length=v}get lines(){return this.text.length}get children(){return null}lineInner(e,v,g,S){for(let E=0;;E++){let R=this.text[E],D=S+R.length;if((v?g:D)>=e)return new c(S,D,g,R);S=D+1,g++}}decompose(e,v,g,S){let E=e<=0&&v>=this.length?this:new Zt(ge(this.text,e,v),Math.min(v,this.length)-Math.max(0,e));if(S&1){let R=g.pop(),D=_t(E.text,R.text.slice(),0,E.length);if(D.length<=32)g.push(new Zt(D,R.length+E.length));else{let I=D.length>>1;g.push(new Zt(D.slice(0,I)),new Zt(D.slice(I)))}}else g.push(E)}replace(e,v,g){if(!(g instanceof Zt))return super.replace(e,v,g);[e,v]=m(this,e,v);let S=_t(this.text,_t(g.text,ge(this.text,0,e)),v),E=this.length+g.length-(v-e);return S.length<=32?new Zt(S,E):ce.from(Zt.split(S,[]),E)}sliceString(e,v=this.length,g=`
`){[e,v]=m(this,e,v);let S="";for(let E=0,R=0;E<=v&&R<this.text.length;R++){let D=this.text[R],I=E+D.length;E>e&&R&&(S+=g),e<I&&v>E&&(S+=D.slice(Math.max(0,e-E),v-E)),E=I+1}return S}flatten(e){for(let v of this.text)e.push(v)}scanIdentical(){return 0}static split(e,v){let g=[],S=-1;for(let E of e)g.push(E),S+=E.length+1,g.length==32&&(v.push(new Zt(g,S)),g=[],S=-1);return S>-1&&v.push(new Zt(g,S)),v}}class ce extends It{constructor(e,v){super(),this.children=e,this.length=v,this.lines=0;for(let g of e)this.lines+=g.lines}lineInner(e,v,g,S){for(let E=0;;E++){let R=this.children[E],D=S+R.length,I=g+R.lines-1;if((v?I:D)>=e)return R.lineInner(e,v,g,S);S=D+1,g=I+1}}decompose(e,v,g,S){for(let E=0,R=0;R<=v&&E<this.children.length;E++){let D=this.children[E],I=R+D.length;if(e<=I&&v>=R){let V=S&((R<=e?1:0)|(I>=v?2:0));R>=e&&I<=v&&!V?g.push(D):D.decompose(e-R,v-R,g,V)}R=I+1}}replace(e,v,g){if([e,v]=m(this,e,v),g.lines<this.lines)for(let S=0,E=0;S<this.children.length;S++){let R=this.children[S],D=E+R.length;if(e>=E&&v<=D){let I=R.replace(e-E,v-E,g),V=this.lines-R.lines+I.lines;if(I.lines<V>>4&&I.lines>V>>6){let Y=this.children.slice();return Y[S]=I,new ce(Y,this.length-(v-e)+g.length)}return super.replace(E,D,I)}E=D+1}return super.replace(e,v,g)}sliceString(e,v=this.length,g=`
`){[e,v]=m(this,e,v);let S="";for(let E=0,R=0;E<this.children.length&&R<=v;E++){let D=this.children[E],I=R+D.length;R>e&&E&&(S+=g),e<I&&v>R&&(S+=D.sliceString(e-R,v-R,g)),R=I+1}return S}flatten(e){for(let v of this.children)v.flatten(e)}scanIdentical(e,v){if(!(e instanceof ce))return 0;let g=0,[S,E,R,D]=v>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;S+=v,E+=v){if(S==R||E==D)return g;let I=this.children[S],V=e.children[E];if(I!=V)return g+I.scanIdentical(V,v);g+=I.length+1}}static from(e,v=e.reduce((g,S)=>g+S.length+1,-1)){let g=0;for(let et of e)g+=et.lines;if(g<32){let et=[];for(let st of e)st.flatten(et);return new Zt(et,v)}let S=Math.max(32,g>>5),E=S<<1,R=S>>1,D=[],I=0,V=-1,Y=[];function j(et){let st;if(et.lines>E&&et instanceof ce)for(let at of et.children)j(at);else et.lines>R&&(I>R||!I)?(_(),D.push(et)):et instanceof Zt&&I&&(st=Y[Y.length-1])instanceof Zt&&et.lines+st.lines<=32?(I+=et.lines,V+=et.length+1,Y[Y.length-1]=new Zt(st.text.concat(et.text),st.length+1+et.length)):(I+et.lines>S&&_(),I+=et.lines,V+=et.length+1,Y.push(et))}function _(){I!=0&&(D.push(Y.length==1?Y[0]:ce.from(Y,V)),V=-1,I=Y.length=0)}for(let et of e)j(et);return _(),D.length==1?D[0]:new ce(D,v)}}It.empty=new Zt([""],0);function oi(O){let e=-1;for(let v of O)e+=v.length+1;return e}function _t(O,e,v=0,g=1e9){for(let S=0,E=0,R=!0;E<O.length&&S<=g;E++){let D=O[E],I=S+D.length;I>=v&&(I>g&&(D=D.slice(0,g-S)),S<v&&(D=D.slice(v-S)),R?(e[e.length-1]+=D,R=!1):e.push(D)),S=I+1}return e}function ge(O,e,v){return _t(O,[""],e,v)}class x{constructor(e,v=1){this.dir=v,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[v>0?1:(e instanceof Zt?e.text.length:e.children.length)<<1]}nextInner(e,v){for(this.done=this.lineBreak=!1;;){let g=this.nodes.length-1,S=this.nodes[g],E=this.offsets[g],R=E>>1,D=S instanceof Zt?S.text.length:S.children.length;if(R==(v>0?D:0)){if(g==0)return this.done=!0,this.value="",this;v>0&&this.offsets[g-1]++,this.nodes.pop(),this.offsets.pop()}else if((E&1)==(v>0?0:1)){if(this.offsets[g]+=v,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(S instanceof Zt){let I=S.text[R+(v<0?-1:0)];if(this.offsets[g]+=v,I.length>Math.max(0,e))return this.value=e==0?I:v>0?I.slice(e):I.slice(0,I.length-e),this;e-=I.length}else{let I=S.children[R+(v<0?-1:0)];e>I.length?(e-=I.length,this.offsets[g]+=v):(v<0&&this.offsets[g]--,this.nodes.push(I),this.offsets.push(v>0?1:(I instanceof Zt?I.text.length:I.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class M{constructor(e,v,g){this.value="",this.done=!1,this.cursor=new x(e,v>g?-1:1),this.pos=v>g?e.length:0,this.from=Math.min(v,g),this.to=Math.max(v,g)}nextInner(e,v){if(v<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,v<0?this.pos-this.to:this.from-this.pos);let g=v<0?this.pos-this.from:this.to-this.pos;e>g&&(e=g),g-=e;let{value:S}=this.cursor.next(e);return this.pos+=(S.length+e)*v,this.value=S.length<=g?S:v<0?S.slice(S.length-g):S.slice(0,g),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class t{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:v,lineBreak:g,value:S}=this.inner.next(e);return v&&this.afterBreak?(this.value="",this.afterBreak=!1):v?(this.done=!0,this.value=""):g?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=S,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(It.prototype[Symbol.iterator]=function(){return this.iter()},x.prototype[Symbol.iterator]=M.prototype[Symbol.iterator]=t.prototype[Symbol.iterator]=function(){return this});class c{constructor(e,v,g,S){this.from=e,this.to=v,this.number=g,this.text=S}get length(){return this.to-this.from}}function m(O,e,v){return e=Math.max(0,Math.min(O.length,e)),[e,Math.max(e,Math.min(O.length,v))]}let l="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(O=>O?parseInt(O,36):1);for(let O=1;O<l.length;O++)l[O]+=l[O-1];function a(O){for(let e=1;e<l.length;e+=2)if(l[e]>O)return l[e-1]<=O;return!1}function r(O){return O>=127462&&O<=127487}const i=8205;function n(O,e,v=!0,g=!0){return(v?h:s)(O,e,g)}function h(O,e,v){if(e==O.length)return e;e&&o(O.charCodeAt(e))&&u(O.charCodeAt(e-1))&&e--;let g=f(O,e);for(e+=p(g);e<O.length;){let S=f(O,e);if(g==i||S==i||v&&a(S))e+=p(S),g=S;else if(r(S)){let E=0,R=e-2;for(;R>=0&&r(f(O,R));)E++,R-=2;if(E%2==0)break;e+=2}else break}return e}function s(O,e,v){for(;e>0;){let g=h(O,e-2,v);if(g<e)return g;e--}return 0}function o(O){return O>=56320&&O<57344}function u(O){return O>=55296&&O<56320}function f(O,e){let v=O.charCodeAt(e);if(!u(v)||e+1==O.length)return v;let g=O.charCodeAt(e+1);return o(g)?(v-55296<<10)+(g-56320)+65536:v}function d(O){return O<=65535?String.fromCharCode(O):(O-=65536,String.fromCharCode((O>>10)+55296,(O&1023)+56320))}function p(O){return O<65536?1:2}const y=/\r\n?|\n/;var T=function(O){return O[O.Simple=0]="Simple",O[O.TrackDel=1]="TrackDel",O[O.TrackBefore=2]="TrackBefore",O[O.TrackAfter=3]="TrackAfter",O}(T||(T={}));class C{constructor(e){this.sections=e}get length(){let e=0;for(let v=0;v<this.sections.length;v+=2)e+=this.sections[v];return e}get newLength(){let e=0;for(let v=0;v<this.sections.length;v+=2){let g=this.sections[v+1];e+=g<0?this.sections[v]:g}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let v=0,g=0,S=0;v<this.sections.length;){let E=this.sections[v++],R=this.sections[v++];R<0?(e(g,S,E),S+=E):S+=R,g+=E}}iterChangedRanges(e,v=!1){L(this,e,v)}get invertedDesc(){let e=[];for(let v=0;v<this.sections.length;){let g=this.sections[v++],S=this.sections[v++];S<0?e.push(g,S):e.push(S,g)}return new C(e)}composeDesc(e){return this.empty?e:e.empty?this:F(this,e)}mapDesc(e,v=!1){return e.empty?this:B(this,e,v)}mapPos(e,v=-1,g=T.Simple){let S=0,E=0;for(let R=0;R<this.sections.length;){let D=this.sections[R++],I=this.sections[R++],V=S+D;if(I<0){if(V>e)return E+(e-S);E+=D}else{if(g!=T.Simple&&V>=e&&(g==T.TrackDel&&S<e&&V>e||g==T.TrackBefore&&S<e||g==T.TrackAfter&&V>e))return null;if(V>e||V==e&&v<0&&!D)return e==S||v<0?E:E+I;E+=I}S=V}if(e>S)throw new RangeError(`Position ${e} is out of range for changeset of length ${S}`);return E}touchesRange(e,v=e){for(let g=0,S=0;g<this.sections.length&&S<=v;){let E=this.sections[g++],R=this.sections[g++],D=S+E;if(R>=0&&S<=v&&D>=e)return S<e&&D>v?"cover":!0;S=D}return!1}toString(){let e="";for(let v=0;v<this.sections.length;){let g=this.sections[v++],S=this.sections[v++];e+=(e?" ":"")+g+(S>=0?":"+S:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(v=>typeof v!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new C(e)}static create(e){return new C(e)}}class P extends C{constructor(e,v){super(e),this.inserted=v}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return L(this,(v,g,S,E,R)=>e=e.replace(S,S+(g-v),R),!1),e}mapDesc(e,v=!1){return B(this,e,v,!0)}invert(e){let v=this.sections.slice(),g=[];for(let S=0,E=0;S<v.length;S+=2){let R=v[S],D=v[S+1];if(D>=0){v[S]=D,v[S+1]=R;let I=S>>1;for(;g.length<I;)g.push(It.empty);g.push(R?e.slice(E,E+R):It.empty)}E+=R}return new P(v,g)}compose(e){return this.empty?e:e.empty?this:F(this,e,!0)}map(e,v=!1){return e.empty?this:B(this,e,v,!0)}iterChanges(e,v=!1){L(this,e,v)}get desc(){return C.create(this.sections)}filter(e){let v=[],g=[],S=[],E=new b(this);t:for(let R=0,D=0;;){let I=R==e.length?1e9:e[R++];for(;D<I||D==I&&E.len==0;){if(E.done)break t;let Y=Math.min(E.len,I-D);A(S,Y,-1);let j=E.ins==-1?-1:E.off==0?E.ins:0;A(v,Y,j),j>0&&w(g,v,E.text),E.forward(Y),D+=Y}let V=e[R++];for(;D<V;){if(E.done)break t;let Y=Math.min(E.len,V-D);A(v,Y,-1),A(S,Y,E.ins==-1?-1:E.off==0?E.ins:0),E.forward(Y),D+=Y}}return{changes:new P(v,g),filtered:C.create(S)}}toJSON(){let e=[];for(let v=0;v<this.sections.length;v+=2){let g=this.sections[v],S=this.sections[v+1];S<0?e.push(g):S==0?e.push([g]):e.push([g].concat(this.inserted[v>>1].toJSON()))}return e}static of(e,v,g){let S=[],E=[],R=0,D=null;function I(Y=!1){if(!Y&&!S.length)return;R<v&&A(S,v-R,-1);let j=new P(S,E);D=D?D.compose(j.map(D)):j,S=[],E=[],R=0}function V(Y){if(Array.isArray(Y))for(let j of Y)V(j);else if(Y instanceof P){if(Y.length!=v)throw new RangeError(`Mismatched change set length (got ${Y.length}, expected ${v})`);I(),D=D?D.compose(Y.map(D)):Y}else{let{from:j,to:_=j,insert:et}=Y;if(j>_||j<0||_>v)throw new RangeError(`Invalid change range ${j} to ${_} (in doc of length ${v})`);let st=et?typeof et=="string"?It.of(et.split(g||y)):et:It.empty,at=st.length;if(j==_&&at==0)return;j<R&&I(),j>R&&A(S,j-R,-1),A(S,_-j,at),w(E,S,st),R=_}}return V(e),I(!D),D}static empty(e){return new P(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let v=[],g=[];for(let S=0;S<e.length;S++){let E=e[S];if(typeof E=="number")v.push(E,-1);else{if(!Array.isArray(E)||typeof E[0]!="number"||E.some((R,D)=>D&&typeof R!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(E.length==1)v.push(E[0],0);else{for(;g.length<S;)g.push(It.empty);g[S]=It.of(E.slice(1)),v.push(E[0],g[S].length)}}}return new P(v,g)}static createSet(e,v){return new P(e,v)}}function A(O,e,v,g=!1){if(e==0&&v<=0)return;let S=O.length-2;S>=0&&v<=0&&v==O[S+1]?O[S]+=e:e==0&&O[S]==0?O[S+1]+=v:g?(O[S]+=e,O[S+1]+=v):O.push(e,v)}function w(O,e,v){if(v.length==0)return;let g=e.length-2>>1;if(g<O.length)O[O.length-1]=O[O.length-1].append(v);else{for(;O.length<g;)O.push(It.empty);O.push(v)}}function L(O,e,v){let g=O.inserted;for(let S=0,E=0,R=0;R<O.sections.length;){let D=O.sections[R++],I=O.sections[R++];if(I<0)S+=D,E+=D;else{let V=S,Y=E,j=It.empty;for(;V+=D,Y+=I,I&&g&&(j=j.append(g[R-2>>1])),!(v||R==O.sections.length||O.sections[R+1]<0);)D=O.sections[R++],I=O.sections[R++];e(S,V,E,Y,j),S=V,E=Y}}}function B(O,e,v,g=!1){let S=[],E=g?[]:null,R=new b(O),D=new b(e);for(let I=-1;;)if(R.ins==-1&&D.ins==-1){let V=Math.min(R.len,D.len);A(S,V,-1),R.forward(V),D.forward(V)}else if(D.ins>=0&&(R.ins<0||I==R.i||R.off==0&&(D.len<R.len||D.len==R.len&&!v))){let V=D.len;for(A(S,D.ins,-1);V;){let Y=Math.min(R.len,V);R.ins>=0&&I<R.i&&R.len<=Y&&(A(S,0,R.ins),E&&w(E,S,R.text),I=R.i),R.forward(Y),V-=Y}D.next()}else if(R.ins>=0){let V=0,Y=R.len;for(;Y;)if(D.ins==-1){let j=Math.min(Y,D.len);V+=j,Y-=j,D.forward(j)}else if(D.ins==0&&D.len<Y)Y-=D.len,D.next();else break;A(S,V,I<R.i?R.ins:0),E&&I<R.i&&w(E,S,R.text),I=R.i,R.forward(R.len-Y)}else{if(R.done&&D.done)return E?P.createSet(S,E):C.create(S);throw new Error("Mismatched change set lengths")}}function F(O,e,v=!1){let g=[],S=v?[]:null,E=new b(O),R=new b(e);for(let D=!1;;){if(E.done&&R.done)return S?P.createSet(g,S):C.create(g);if(E.ins==0)A(g,E.len,0,D),E.next();else if(R.len==0&&!R.done)A(g,0,R.ins,D),S&&w(S,g,R.text),R.next();else{if(E.done||R.done)throw new Error("Mismatched change set lengths");{let I=Math.min(E.len2,R.len),V=g.length;if(E.ins==-1){let Y=R.ins==-1?-1:R.off?0:R.ins;A(g,I,Y,D),S&&Y&&w(S,g,R.text)}else R.ins==-1?(A(g,E.off?0:E.len,I,D),S&&w(S,g,E.textBit(I))):(A(g,E.off?0:E.len,R.off?0:R.ins,D),S&&!R.off&&w(S,g,R.text));D=(E.ins>I||R.ins>=0&&R.len>I)&&(D||g.length>V),E.forward2(I),R.forward(I)}}}}class b{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,v=this.i-2>>1;return v>=e.length?It.empty:e[v]}textBit(e){let{inserted:v}=this.set,g=this.i-2>>1;return g>=v.length&&!e?It.empty:v[g].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class G{constructor(e,v,g){this.from=e,this.to=v,this.flags=g}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,v=-1){let g,S;return this.empty?g=S=e.mapPos(this.from,v):(g=e.mapPos(this.from,1),S=e.mapPos(this.to,-1)),g==this.from&&S==this.to?this:new G(g,S,this.flags)}extend(e,v=e){if(e<=this.anchor&&v>=this.anchor)return N.range(e,v);let g=Math.abs(e-this.anchor)>Math.abs(v-this.anchor)?e:v;return N.range(this.anchor,g)}eq(e,v=!1){return this.anchor==e.anchor&&this.head==e.head&&(!v||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return N.range(e.anchor,e.head)}static create(e,v,g){return new G(e,v,g)}}class N{constructor(e,v){this.ranges=e,this.mainIndex=v}map(e,v=-1){return e.empty?this:N.create(this.ranges.map(g=>g.map(e,v)),this.mainIndex)}eq(e,v=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let g=0;g<this.ranges.length;g++)if(!this.ranges[g].eq(e.ranges[g],v))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new N([this.main],0)}addRange(e,v=!0){return N.create([e].concat(this.ranges),v?0:this.mainIndex+1)}replaceRange(e,v=this.mainIndex){let g=this.ranges.slice();return g[v]=e,N.create(g,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new N(e.ranges.map(v=>G.fromJSON(v)),e.main)}static single(e,v=e){return new N([N.range(e,v)],0)}static create(e,v=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let g=0,S=0;S<e.length;S++){let E=e[S];if(E.empty?E.from<=g:E.from<g)return N.normalized(e.slice(),v);g=E.to}return new N(e,v)}static cursor(e,v=0,g,S){return G.create(e,e,(v==0?0:v<0?8:16)|(g==null?7:Math.min(6,g))|(S??16777215)<<6)}static range(e,v,g,S){let E=(g??16777215)<<6|(S==null?7:Math.min(6,S));return v<e?G.create(v,e,48|E):G.create(e,v,(v>e?8:0)|E)}static normalized(e,v=0){let g=e[v];e.sort((S,E)=>S.from-E.from),v=e.indexOf(g);for(let S=1;S<e.length;S++){let E=e[S],R=e[S-1];if(E.empty?E.from<=R.to:E.from<R.to){let D=R.from,I=Math.max(E.to,R.to);S<=v&&v--,e.splice(--S,2,E.anchor>E.head?N.range(I,D):N.range(D,I))}}return new N(e,v)}}function U(O,e){for(let v of O.ranges)if(v.to>e)throw new RangeError("Selection points outside of document")}let W=0;class H{constructor(e,v,g,S,E){this.combine=e,this.compareInput=v,this.compare=g,this.isStatic=S,this.id=W++,this.default=e([]),this.extensions=typeof E=="function"?E(this):E}get reader(){return this}static define(e={}){return new H(e.combine||(v=>v),e.compareInput||((v,g)=>v===g),e.compare||(e.combine?(v,g)=>v===g:k),!!e.static,e.enables)}of(e){return new z([],this,0,e)}compute(e,v){if(this.isStatic)throw new Error("Can't compute a static facet");return new z(e,this,1,v)}computeN(e,v){if(this.isStatic)throw new Error("Can't compute a static facet");return new z(e,this,2,v)}from(e,v){return v||(v=g=>g),this.compute([e],g=>v(g.field(e)))}}function k(O,e){return O==e||O.length==e.length&&O.every((v,g)=>v===e[g])}class z{constructor(e,v,g,S){this.dependencies=e,this.facet=v,this.type=g,this.value=S,this.id=W++}dynamicSlot(e){var v;let g=this.value,S=this.facet.compareInput,E=this.id,R=e[E]>>1,D=this.type==2,I=!1,V=!1,Y=[];for(let j of this.dependencies)j=="doc"?I=!0:j=="selection"?V=!0:((v=e[j.id])!==null&&v!==void 0?v:1)&1||Y.push(e[j.id]);return{create(j){return j.values[R]=g(j),1},update(j,_){if(I&&_.docChanged||V&&(_.docChanged||_.selection)||X(j,Y)){let et=g(j);if(D?!$(et,j.values[R],S):!S(et,j.values[R]))return j.values[R]=et,1}return 0},reconfigure:(j,_)=>{let et,st=_.config.address[E];if(st!=null){let at=vt(_,st);if(this.dependencies.every(ot=>ot instanceof H?_.facet(ot)===j.facet(ot):ot instanceof K?_.field(ot,!1)==j.field(ot,!1):!0)||(D?$(et=g(j),at,S):S(et=g(j),at)))return j.values[R]=at,0}else et=g(j);return j.values[R]=et,1}}}}function $(O,e,v){if(O.length!=e.length)return!1;for(let g=0;g<O.length;g++)if(!v(O[g],e[g]))return!1;return!0}function X(O,e){let v=!1;for(let g of e)lt(O,g)&1&&(v=!0);return v}function Q(O,e,v){let g=v.map(I=>O[I.id]),S=v.map(I=>I.type),E=g.filter(I=>!(I&1)),R=O[e.id]>>1;function D(I){let V=[];for(let Y=0;Y<g.length;Y++){let j=vt(I,g[Y]);if(S[Y]==2)for(let _ of j)V.push(_);else V.push(j)}return e.combine(V)}return{create(I){for(let V of g)lt(I,V);return I.values[R]=D(I),1},update(I,V){if(!X(I,E))return 0;let Y=D(I);return e.compare(Y,I.values[R])?0:(I.values[R]=Y,1)},reconfigure(I,V){let Y=X(I,g),j=V.config.facets[e.id],_=V.facet(e);if(j&&!Y&&k(v,j))return I.values[R]=_,0;let et=D(I);return e.compare(et,_)?(I.values[R]=_,0):(I.values[R]=et,1)}}}const Z=H.define({static:!0});class K{constructor(e,v,g,S,E){this.id=e,this.createF=v,this.updateF=g,this.compareF=S,this.spec=E,this.provides=void 0}static define(e){let v=new K(W++,e.create,e.update,e.compare||((g,S)=>g===S),e);return e.provide&&(v.provides=e.provide(v)),v}create(e){let v=e.facet(Z).find(g=>g.field==this);return((v==null?void 0:v.create)||this.createF)(e)}slot(e){let v=e[this.id]>>1;return{create:g=>(g.values[v]=this.create(g),1),update:(g,S)=>{let E=g.values[v],R=this.updateF(E,S);return this.compareF(E,R)?0:(g.values[v]=R,1)},reconfigure:(g,S)=>S.config.address[this.id]!=null?(g.values[v]=S.field(this),0):(g.values[v]=this.create(g),1)}}init(e){return[this,Z.of({field:this,create:e})]}get extension(){return this}}const J={lowest:4,low:3,default:2,high:1,highest:0};function q(O){return e=>new it(e,O)}const tt={highest:q(J.highest),high:q(J.high),default:q(J.default),low:q(J.low),lowest:q(J.lowest)};class it{constructor(e,v){this.inner=e,this.prec=v}}class nt{of(e){return new rt(this,e)}reconfigure(e){return nt.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class rt{constructor(e,v){this.compartment=e,this.inner=v}}class ht{constructor(e,v,g,S,E,R){for(this.base=e,this.compartments=v,this.dynamicSlots=g,this.address=S,this.staticValues=E,this.facets=R,this.statusTemplate=[];this.statusTemplate.length<g.length;)this.statusTemplate.push(0)}staticFacet(e){let v=this.address[e.id];return v==null?e.default:this.staticValues[v>>1]}static resolve(e,v,g){let S=[],E=Object.create(null),R=new Map;for(let _ of dt(e,v,R))_ instanceof K?S.push(_):(E[_.facet.id]||(E[_.facet.id]=[])).push(_);let D=Object.create(null),I=[],V=[];for(let _ of S)D[_.id]=V.length<<1,V.push(et=>_.slot(et));let Y=g==null?void 0:g.config.facets;for(let _ in E){let et=E[_],st=et[0].facet,at=Y&&Y[_]||[];if(et.every(ot=>ot.type==0))if(D[st.id]=I.length<<1|1,k(at,et))I.push(g.facet(st));else{let ot=st.combine(et.map(ut=>ut.value));I.push(g&&st.compare(ot,g.facet(st))?g.facet(st):ot)}else{for(let ot of et)ot.type==0?(D[ot.id]=I.length<<1|1,I.push(ot.value)):(D[ot.id]=V.length<<1,V.push(ut=>ot.dynamicSlot(ut)));D[st.id]=V.length<<1,V.push(ot=>Q(ot,st,et))}}let j=V.map(_=>_(D));return new ht(e,R,j,D,I,E)}}function dt(O,e,v){let g=[[],[],[],[],[]],S=new Map;function E(R,D){let I=S.get(R);if(I!=null){if(I<=D)return;let V=g[I].indexOf(R);V>-1&&g[I].splice(V,1),R instanceof rt&&v.delete(R.compartment)}if(S.set(R,D),Array.isArray(R))for(let V of R)E(V,D);else if(R instanceof rt){if(v.has(R.compartment))throw new RangeError("Duplicate use of compartment in extensions");let V=e.get(R.compartment)||R.inner;v.set(R.compartment,V),E(V,D)}else if(R instanceof it)E(R.inner,R.prec);else if(R instanceof K)g[D].push(R),R.provides&&E(R.provides,D);else if(R instanceof z)g[D].push(R),R.facet.extensions&&E(R.facet.extensions,J.default);else{let V=R.extension;if(!V)throw new Error(`Unrecognized extension value in extension set (${R}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);E(V,D)}}return E(O,J.default),g.reduce((R,D)=>R.concat(D))}function lt(O,e){if(e&1)return 2;let v=e>>1,g=O.status[v];if(g==4)throw new Error("Cyclic dependency between fields and/or facets");if(g&2)return g;O.status[v]=4;let S=O.computeSlot(O,O.config.dynamicSlots[v]);return O.status[v]=2|S}function vt(O,e){return e&1?O.config.staticValues[e>>1]:O.values[e>>1]}const Mt=H.define(),At=H.define({combine:O=>O.some(e=>e),static:!0}),wt=H.define({combine:O=>O.length?O[0]:void 0,static:!0}),ct=H.define(),gt=H.define(),xt=H.define(),Ft=H.define({combine:O=>O.length?O[0]:!1});class bt{constructor(e,v){this.type=e,this.value=v}static define(){return new kt}}class kt{of(e){return new bt(this,e)}}class Gt{constructor(e){this.map=e}of(e){return new Ot(this,e)}}class Ot{constructor(e,v){this.type=e,this.value=v}map(e){let v=this.type.map(this.value,e);return v===void 0?void 0:v==this.value?this:new Ot(this.type,v)}is(e){return this.type==e}static define(e={}){return new Gt(e.map||(v=>v))}static mapEffects(e,v){if(!e.length)return e;let g=[];for(let S of e){let E=S.map(v);E&&g.push(E)}return g}}Ot.reconfigure=Ot.define(),Ot.appendConfig=Ot.define();class Bt{constructor(e,v,g,S,E,R){this.startState=e,this.changes=v,this.selection=g,this.effects=S,this.annotations=E,this.scrollIntoView=R,this._doc=null,this._state=null,g&&U(g,v.newLength),E.some(D=>D.type==Bt.time)||(this.annotations=E.concat(Bt.time.of(Date.now())))}static create(e,v,g,S,E,R){return new Bt(e,v,g,S,E,R)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let v of this.annotations)if(v.type==e)return v.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let v=this.annotation(Bt.userEvent);return!!(v&&(v==e||v.length>e.length&&v.slice(0,e.length)==e&&v[e.length]=="."))}}Bt.time=bt.define(),Bt.userEvent=bt.define(),Bt.addToHistory=bt.define(),Bt.remote=bt.define();function re(O,e){let v=[];for(let g=0,S=0;;){let E,R;if(g<O.length&&(S==e.length||e[S]>=O[g]))E=O[g++],R=O[g++];else if(S<e.length)E=e[S++],R=e[S++];else return v;!v.length||v[v.length-1]<E?v.push(E,R):v[v.length-1]<R&&(v[v.length-1]=R)}}function Vt(O,e,v){var g;let S,E,R;return v?(S=e.changes,E=P.empty(e.changes.length),R=O.changes.compose(e.changes)):(S=e.changes.map(O.changes),E=O.changes.mapDesc(e.changes,!0),R=O.changes.compose(S)),{changes:R,selection:e.selection?e.selection.map(E):(g=O.selection)===null||g===void 0?void 0:g.map(S),effects:Ot.mapEffects(O.effects,S).concat(Ot.mapEffects(e.effects,E)),annotations:O.annotations.length?O.annotations.concat(e.annotations):e.annotations,scrollIntoView:O.scrollIntoView||e.scrollIntoView}}function jt(O,e,v){let g=e.selection,S=Ce(e.annotations);return e.userEvent&&(S=S.concat(Bt.userEvent.of(e.userEvent))),{changes:e.changes instanceof P?e.changes:P.of(e.changes||[],v,O.facet(wt)),selection:g&&(g instanceof N?g:N.single(g.anchor,g.head)),effects:Ce(e.effects),annotations:S,scrollIntoView:!!e.scrollIntoView}}function ie(O,e,v){let g=jt(O,e.length?e[0]:{},O.doc.length);e.length&&e[0].filter===!1&&(v=!1);for(let E=1;E<e.length;E++){e[E].filter===!1&&(v=!1);let R=!!e[E].sequential;g=Vt(g,jt(O,e[E],R?g.changes.newLength:O.doc.length),R)}let S=Bt.create(O,g.changes,g.selection,g.effects,g.annotations,g.scrollIntoView);return hi(v?fe(S):S)}function fe(O){let e=O.startState,v=!0;for(let S of e.facet(ct)){let E=S(O);if(E===!1){v=!1;break}Array.isArray(E)&&(v=v===!0?E:re(v,E))}if(v!==!0){let S,E;if(v===!1)E=O.changes.invertedDesc,S=P.empty(e.doc.length);else{let R=O.changes.filter(v);S=R.changes,E=R.filtered.mapDesc(R.changes).invertedDesc}O=Bt.create(e,S,O.selection&&O.selection.map(E),Ot.mapEffects(O.effects,E),O.annotations,O.scrollIntoView)}let g=e.facet(gt);for(let S=g.length-1;S>=0;S--){let E=g[S](O);E instanceof Bt?O=E:Array.isArray(E)&&E.length==1&&E[0]instanceof Bt?O=E[0]:O=ie(e,Ce(E),!1)}return O}function hi(O){let e=O.startState,v=e.facet(xt),g=O;for(let S=v.length-1;S>=0;S--){let E=v[S](O);E&&Object.keys(E).length&&(g=Vt(g,jt(e,E,O.changes.newLength),!0))}return g==O?O:Bt.create(e,O.changes,O.selection,g.effects,g.annotations,g.scrollIntoView)}const li=[];function Ce(O){return O==null?li:Array.isArray(O)?O:[O]}var Ut=function(O){return O[O.Word=0]="Word",O[O.Space=1]="Space",O[O.Other=2]="Other",O}(Ut||(Ut={}));const ui=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let vr;try{vr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function td(O){if(vr)return vr.test(O);for(let e=0;e<O.length;e++){let v=O[e];if(/\w/.test(v)||v>""&&(v.toUpperCase()!=v.toLowerCase()||ui.test(v)))return!0}return!1}function ed(O){return e=>{if(!/\S/.test(e))return Ut.Space;if(td(e))return Ut.Word;for(let v=0;v<O.length;v++)if(e.indexOf(O[v])>-1)return Ut.Word;return Ut.Other}}class Wt{constructor(e,v,g,S,E,R){this.config=e,this.doc=v,this.selection=g,this.values=S,this.status=e.statusTemplate.slice(),this.computeSlot=E,R&&(R._state=this);for(let D=0;D<this.config.dynamicSlots.length;D++)lt(this,D<<1);this.computeSlot=null}field(e,v=!0){let g=this.config.address[e.id];if(g==null){if(v)throw new RangeError("Field is not present in this state");return}return lt(this,g),vt(this,g)}update(...e){return ie(this,e,!0)}applyTransaction(e){let v=this.config,{base:g,compartments:S}=v;for(let D of e.effects)D.is(nt.reconfigure)?(v&&(S=new Map,v.compartments.forEach((I,V)=>S.set(V,I)),v=null),S.set(D.value.compartment,D.value.extension)):D.is(Ot.reconfigure)?(v=null,g=D.value):D.is(Ot.appendConfig)&&(v=null,g=Ce(g).concat(D.value));let E;v?E=e.startState.values.slice():(v=ht.resolve(g,S,this),E=new Wt(v,this.doc,this.selection,v.dynamicSlots.map(()=>null),(I,V)=>V.reconfigure(I,this),null).values);let R=e.startState.facet(At)?e.newSelection:e.newSelection.asSingle();new Wt(v,e.newDoc,R,E,(D,I)=>I.update(D,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(v=>({changes:{from:v.from,to:v.to,insert:e},range:N.cursor(v.from+e.length)}))}changeByRange(e){let v=this.selection,g=e(v.ranges[0]),S=this.changes(g.changes),E=[g.range],R=Ce(g.effects);for(let D=1;D<v.ranges.length;D++){let I=e(v.ranges[D]),V=this.changes(I.changes),Y=V.map(S);for(let _=0;_<D;_++)E[_]=E[_].map(Y);let j=S.mapDesc(V,!0);E.push(I.range.map(j)),S=S.compose(Y),R=Ot.mapEffects(R,Y).concat(Ot.mapEffects(Ce(I.effects),j))}return{changes:S,selection:N.create(E,v.mainIndex),effects:R}}changes(e=[]){return e instanceof P?e:P.of(e,this.doc.length,this.facet(Wt.lineSeparator))}toText(e){return It.of(e.split(this.facet(Wt.lineSeparator)||y))}sliceDoc(e=0,v=this.doc.length){return this.doc.sliceString(e,v,this.lineBreak)}facet(e){let v=this.config.address[e.id];return v==null?e.default:(lt(this,v),vt(this,v))}toJSON(e){let v={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let g in e){let S=e[g];S instanceof K&&this.config.address[S.id]!=null&&(v[g]=S.spec.toJSON(this.field(e[g]),this))}return v}static fromJSON(e,v={},g){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let S=[];if(g){for(let E in g)if(Object.prototype.hasOwnProperty.call(e,E)){let R=g[E],D=e[E];S.push(R.init(I=>R.spec.fromJSON(D,I)))}}return Wt.create({doc:e.doc,selection:N.fromJSON(e.selection),extensions:v.extensions?S.concat([v.extensions]):S})}static create(e={}){let v=ht.resolve(e.extensions||[],new Map),g=e.doc instanceof It?e.doc:It.of((e.doc||"").split(v.staticFacet(Wt.lineSeparator)||y)),S=e.selection?e.selection instanceof N?e.selection:N.single(e.selection.anchor,e.selection.head):N.single(0);return U(S,g.length),v.staticFacet(At)||(S=S.asSingle()),new Wt(v,g,S,v.dynamicSlots.map(()=>null),(E,R)=>R.create(E),null)}get tabSize(){return this.facet(Wt.tabSize)}get lineBreak(){return this.facet(Wt.lineSeparator)||`
`}get readOnly(){return this.facet(Ft)}phrase(e,...v){for(let g of this.facet(Wt.phrases))if(Object.prototype.hasOwnProperty.call(g,e)){e=g[e];break}return v.length&&(e=e.replace(/\$(\$|\d*)/g,(g,S)=>{if(S=="$")return"$";let E=+(S||1);return!E||E>v.length?g:v[E-1]})),e}languageDataAt(e,v,g=-1){let S=[];for(let E of this.facet(Mt))for(let R of E(this,v,g))Object.prototype.hasOwnProperty.call(R,e)&&S.push(R[e]);return S}charCategorizer(e){return ed(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:v,from:g,length:S}=this.doc.lineAt(e),E=this.charCategorizer(e),R=e-g,D=e-g;for(;R>0;){let I=n(v,R,!1);if(E(v.slice(I,R))!=Ut.Word)break;R=I}for(;D<S;){let I=n(v,D);if(E(v.slice(D,I))!=Ut.Word)break;D=I}return R==D?null:N.range(R+g,D+g)}}Wt.allowMultipleSelections=At,Wt.tabSize=H.define({combine:O=>O.length?O[0]:4}),Wt.lineSeparator=wt,Wt.readOnly=Ft,Wt.phrases=H.define({compare(O,e){let v=Object.keys(O),g=Object.keys(e);return v.length==g.length&&v.every(S=>O[S]==e[S])}}),Wt.languageData=Mt,Wt.changeFilter=ct,Wt.transactionFilter=gt,Wt.transactionExtender=xt,nt.reconfigure=Ot.define();function ke(O,e,v={}){let g={};for(let S of O)for(let E of Object.keys(S)){let R=S[E],D=g[E];if(D===void 0)g[E]=R;else if(!(D===R||R===void 0))if(Object.hasOwnProperty.call(v,E))g[E]=v[E](D,R);else throw new Error("Config merge conflict for field "+E)}for(let S in e)g[S]===void 0&&(g[S]=e[S]);return g}class Fi{eq(e){return this==e}range(e,v=e){return pr.create(e,v,this)}}Fi.prototype.startSide=Fi.prototype.endSide=0,Fi.prototype.point=!1,Fi.prototype.mapMode=T.TrackDel;let pr=class qf{constructor(e,v,g){this.from=e,this.to=v,this.value=g}static create(e,v,g){return new qf(e,v,g)}};function mr(O,e){return O.from-e.from||O.value.startSide-e.value.startSide}class gr{constructor(e,v,g,S){this.from=e,this.to=v,this.value=g,this.maxPoint=S}get length(){return this.to[this.to.length-1]}findIndex(e,v,g,S=0){let E=g?this.to:this.from;for(let R=S,D=E.length;;){if(R==D)return R;let I=R+D>>1,V=E[I]-e||(g?this.value[I].endSide:this.value[I].startSide)-v;if(I==R)return V>=0?R:D;V>=0?D=I:R=I+1}}between(e,v,g,S){for(let E=this.findIndex(v,-1e9,!0),R=this.findIndex(g,1e9,!1,E);E<R;E++)if(S(this.from[E]+e,this.to[E]+e,this.value[E])===!1)return!1}map(e,v){let g=[],S=[],E=[],R=-1,D=-1;for(let I=0;I<this.value.length;I++){let V=this.value[I],Y=this.from[I]+e,j=this.to[I]+e,_,et;if(Y==j){let st=v.mapPos(Y,V.startSide,V.mapMode);if(st==null||(_=et=st,V.startSide!=V.endSide&&(et=v.mapPos(Y,V.endSide),et<_)))continue}else if(_=v.mapPos(Y,V.startSide),et=v.mapPos(j,V.endSide),_>et||_==et&&V.startSide>0&&V.endSide<=0)continue;(et-_||V.endSide-V.startSide)<0||(R<0&&(R=_),V.point&&(D=Math.max(D,et-_)),g.push(V),S.push(_-R),E.push(et-R))}return{mapped:g.length?new gr(S,E,g,D):null,pos:R}}}class Yt{constructor(e,v,g,S){this.chunkPos=e,this.chunk=v,this.nextLayer=g,this.maxPoint=S}static create(e,v,g,S){return new Yt(e,v,g,S)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let v of this.chunk)e+=v.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:v=[],sort:g=!1,filterFrom:S=0,filterTo:E=this.length}=e,R=e.filter;if(v.length==0&&!R)return this;if(g&&(v=v.slice().sort(mr)),this.isEmpty)return v.length?Yt.of(v):this;let D=new go(this,null,-1).goto(0),I=0,V=[],Y=new gi;for(;D.value||I<v.length;)if(I<v.length&&(D.from-v[I].from||D.startSide-v[I].value.startSide)>=0){let j=v[I++];Y.addInner(j.from,j.to,j.value)||V.push(j)}else D.rangeIndex==1&&D.chunkIndex<this.chunk.length&&(I==v.length||this.chunkEnd(D.chunkIndex)<v[I].from)&&(!R||S>this.chunkEnd(D.chunkIndex)||E<this.chunkPos[D.chunkIndex])&&Y.addChunk(this.chunkPos[D.chunkIndex],this.chunk[D.chunkIndex])?D.nextChunk():((!R||S>D.to||E<D.from||R(D.from,D.to,D.value))&&(Y.addInner(D.from,D.to,D.value)||V.push(pr.create(D.from,D.to,D.value))),D.next());return Y.finishInner(this.nextLayer.isEmpty&&!V.length?Yt.empty:this.nextLayer.update({add:V,filter:R,filterFrom:S,filterTo:E}))}map(e){if(e.empty||this.isEmpty)return this;let v=[],g=[],S=-1;for(let R=0;R<this.chunk.length;R++){let D=this.chunkPos[R],I=this.chunk[R],V=e.touchesRange(D,D+I.length);if(V===!1)S=Math.max(S,I.maxPoint),v.push(I),g.push(e.mapPos(D));else if(V===!0){let{mapped:Y,pos:j}=I.map(D,e);Y&&(S=Math.max(S,Y.maxPoint),v.push(Y),g.push(j))}}let E=this.nextLayer.map(e);return v.length==0?E:new Yt(g,v,E||Yt.empty,S)}between(e,v,g){if(!this.isEmpty){for(let S=0;S<this.chunk.length;S++){let E=this.chunkPos[S],R=this.chunk[S];if(v>=E&&e<=E+R.length&&R.between(E,e-E,v-E,g)===!1)return}this.nextLayer.between(e,v,g)}}iter(e=0){return fs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,v=0){return fs.from(e).goto(v)}static compare(e,v,g,S,E=-1){let R=e.filter(j=>j.maxPoint>0||!j.isEmpty&&j.maxPoint>=E),D=v.filter(j=>j.maxPoint>0||!j.isEmpty&&j.maxPoint>=E),I=mo(R,D,g),V=new ds(R,I,E),Y=new ds(D,I,E);g.iterGaps((j,_,et)=>xo(V,j,Y,_,et,S)),g.empty&&g.length==0&&xo(V,0,Y,0,0,S)}static eq(e,v,g=0,S){S==null&&(S=999999999);let E=e.filter(Y=>!Y.isEmpty&&v.indexOf(Y)<0),R=v.filter(Y=>!Y.isEmpty&&e.indexOf(Y)<0);if(E.length!=R.length)return!1;if(!E.length)return!0;let D=mo(E,R),I=new ds(E,D,0).goto(g),V=new ds(R,D,0).goto(g);for(;;){if(I.to!=V.to||!Or(I.active,V.active)||I.point&&(!V.point||!I.point.eq(V.point)))return!1;if(I.to>S)return!0;I.next(),V.next()}}static spans(e,v,g,S,E=-1){let R=new ds(e,null,E).goto(v),D=v,I=R.openStart;for(;;){let V=Math.min(R.to,g);if(R.point){let Y=R.activeForPoint(R.to),j=R.pointFrom<v?Y.length+1:R.point.startSide<0?Y.length:Math.min(Y.length,I);S.point(D,V,R.point,Y,j,R.pointRank),I=Math.min(R.openEnd(V),Y.length)}else V>D&&(S.span(D,V,R.active,I),I=R.openEnd(V));if(R.to>g)return I+(R.point&&R.to>g?1:0);D=R.to,R.next()}}static of(e,v=!1){let g=new gi;for(let S of e instanceof pr?[e]:v?id(e):e)g.add(S.from,S.to,S.value);return g.finish()}static join(e){if(!e.length)return Yt.empty;let v=e[e.length-1];for(let g=e.length-2;g>=0;g--)for(let S=e[g];S!=Yt.empty;S=S.nextLayer)v=new Yt(S.chunkPos,S.chunk,v,Math.max(S.maxPoint,v.maxPoint));return v}}Yt.empty=new Yt([],[],null,-1);function id(O){if(O.length>1)for(let e=O[0],v=1;v<O.length;v++){let g=O[v];if(mr(e,g)>0)return O.slice().sort(mr);e=g}return O}Yt.empty.nextLayer=Yt.empty;class gi{finishChunk(e){this.chunks.push(new gr(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,v,g){this.addInner(e,v,g)||(this.nextLayer||(this.nextLayer=new gi)).add(e,v,g)}addInner(e,v,g){let S=e-this.lastTo||g.startSide-this.last.endSide;if(S<=0&&(e-this.lastFrom||g.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return S<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(v-this.chunkStart),this.last=g,this.lastFrom=e,this.lastTo=v,this.value.push(g),g.point&&(this.maxPoint=Math.max(this.maxPoint,v-e)),!0)}addChunk(e,v){if((e-this.lastTo||v.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,v.maxPoint),this.chunks.push(v),this.chunkPos.push(e);let g=v.value.length-1;return this.last=v.value[g],this.lastFrom=v.from[g]+e,this.lastTo=v.to[g]+e,!0}finish(){return this.finishInner(Yt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let v=Yt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,v}}function mo(O,e,v){let g=new Map;for(let E of O)for(let R=0;R<E.chunk.length;R++)E.chunk[R].maxPoint<=0&&g.set(E.chunk[R],E.chunkPos[R]);let S=new Set;for(let E of e)for(let R=0;R<E.chunk.length;R++){let D=g.get(E.chunk[R]);D!=null&&(v?v.mapPos(D):D)==E.chunkPos[R]&&!(v!=null&&v.touchesRange(D,D+E.chunk[R].length))&&S.add(E.chunk[R])}return S}class go{constructor(e,v,g,S=0){this.layer=e,this.skip=v,this.minPoint=g,this.rank=S}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,v=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,v,!1),this}gotoInner(e,v,g){for(;this.chunkIndex<this.layer.chunk.length;){let S=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(S)||this.layer.chunkEnd(this.chunkIndex)<e||S.maxPoint<this.minPoint))break;this.chunkIndex++,g=!1}if(this.chunkIndex<this.layer.chunk.length){let S=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],v,!0);(!g||this.rangeIndex<S)&&this.setRangeIndex(S)}this.next()}forward(e,v){(this.to-e||this.endSide-v)<0&&this.gotoInner(e,v,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],v=this.layer.chunk[this.chunkIndex],g=e+v.from[this.rangeIndex];if(this.from=g,this.to=e+v.to[this.rangeIndex],this.value=v.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class fs{constructor(e){this.heap=e}static from(e,v=null,g=-1){let S=[];for(let E=0;E<e.length;E++)for(let R=e[E];!R.isEmpty;R=R.nextLayer)R.maxPoint>=g&&S.push(new go(R,v,g,E));return S.length==1?S[0]:new fs(S)}get startSide(){return this.value?this.value.startSide:0}goto(e,v=-1e9){for(let g of this.heap)g.goto(e,v);for(let g=this.heap.length>>1;g>=0;g--)xr(this.heap,g);return this.next(),this}forward(e,v){for(let g of this.heap)g.forward(e,v);for(let g=this.heap.length>>1;g>=0;g--)xr(this.heap,g);(this.to-e||this.value.endSide-v)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),xr(this.heap,0)}}}function xr(O,e){for(let v=O[e];;){let g=(e<<1)+1;if(g>=O.length)break;let S=O[g];if(g+1<O.length&&S.compare(O[g+1])>=0&&(S=O[g+1],g++),v.compare(S)<0)break;O[g]=v,O[e]=S,e=g}}class ds{constructor(e,v,g){this.minPoint=g,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=fs.from(e,v,g)}goto(e,v=-1e9){return this.cursor.goto(e,v),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=v,this.openStart=-1,this.next(),this}forward(e,v){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-v)<0;)this.removeActive(this.minActive);this.cursor.forward(e,v)}removeActive(e){Ks(this.active,e),Ks(this.activeTo,e),Ks(this.activeRank,e),this.minActive=Oo(this.active,this.activeTo)}addActive(e){let v=0,{value:g,to:S,rank:E}=this.cursor;for(;v<this.activeRank.length&&(E-this.activeRank[v]||S-this.activeTo[v])>0;)v++;Js(this.active,v,g),Js(this.activeTo,v,S),Js(this.activeRank,v,E),e&&Js(e,v,this.cursor.from),this.minActive=Oo(this.active,this.activeTo)}next(){let e=this.to,v=this.point;this.point=null;let g=this.openStart<0?[]:null;for(;;){let S=this.minActive;if(S>-1&&(this.activeTo[S]-this.cursor.from||this.active[S].endSide-this.cursor.startSide)<0){if(this.activeTo[S]>e){this.to=this.activeTo[S],this.endSide=this.active[S].endSide;break}this.removeActive(S),g&&Ks(g,S)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let E=this.cursor.value;if(!E.point)this.addActive(g),this.cursor.next();else if(v&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=E,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=E.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(g){this.openStart=0;for(let S=g.length-1;S>=0&&g[S]<e;S--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let v=[];for(let g=this.active.length-1;g>=0&&!(this.activeRank[g]<this.pointRank);g--)(this.activeTo[g]>e||this.activeTo[g]==e&&this.active[g].endSide>=this.point.endSide)&&v.push(this.active[g]);return v.reverse()}openEnd(e){let v=0;for(let g=this.activeTo.length-1;g>=0&&this.activeTo[g]>e;g--)v++;return v}}function xo(O,e,v,g,S,E){O.goto(e),v.goto(g);let R=g+S,D=g,I=g-e;for(;;){let V=O.to+I-v.to||O.endSide-v.endSide,Y=V<0?O.to+I:v.to,j=Math.min(Y,R);if(O.point||v.point?O.point&&v.point&&(O.point==v.point||O.point.eq(v.point))&&Or(O.activeForPoint(O.to),v.activeForPoint(v.to))||E.comparePoint(D,j,O.point,v.point):j>D&&!Or(O.active,v.active)&&E.compareRange(D,j,O.active,v.active),Y>R)break;D=Y,V<=0&&O.next(),V>=0&&v.next()}}function Or(O,e){if(O.length!=e.length)return!1;for(let v=0;v<O.length;v++)if(O[v]!=e[v]&&!O[v].eq(e[v]))return!1;return!0}function Ks(O,e){for(let v=e,g=O.length-1;v<g;v++)O[v]=O[v+1];O.pop()}function Js(O,e,v){for(let g=O.length-1;g>=e;g--)O[g+1]=O[g];O[e]=v}function Oo(O,e){let v=-1,g=1e9;for(let S=0;S<e.length;S++)(e[S]-g||O[S].endSide-O[v].endSide)<0&&(v=S,g=e[S]);return v}function Ui(O,e,v=O.length){let g=0;for(let S=0;S<v;)O.charCodeAt(S)==9?(g+=e-g%e,S++):(g++,S=n(O,S));return g}function yr(O,e,v,g){for(let S=0,E=0;;){if(E>=e)return S;if(S==O.length)break;E+=O.charCodeAt(S)==9?v-E%v:1,S=n(O,S)}return g===!0?-1:O.length}const Sr="ͼ",yo=typeof Symbol>"u"?"__"+Sr:Symbol.for(Sr),Tr=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xi{constructor(e,v){this.rules=[];let{finish:g}=v||{};function S(R){return/^@/.test(R)?[R]:R.split(/,\s*/)}function E(R,D,I,V){let Y=[],j=/^@(\w+)\b/.exec(R[0]),_=j&&j[1]=="keyframes";if(j&&D==null)return I.push(R[0]+";");for(let et in D){let st=D[et];if(/&/.test(et))E(et.split(/,\s*/).map(at=>R.map(ot=>at.replace(/&/,ot))).reduce((at,ot)=>at.concat(ot)),st,I);else if(st&&typeof st=="object"){if(!j)throw new RangeError("The value of a property ("+et+") should be a primitive value.");E(S(et),st,Y,_)}else st!=null&&Y.push(et.replace(/_.*/,"").replace(/[A-Z]/g,at=>"-"+at.toLowerCase())+": "+st+";")}(Y.length||_)&&I.push((g&&!j&&!V?R.map(g):R).join(", ")+" {"+Y.join(" ")+"}")}for(let R in e)E(S(R),e[R],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=So[yo]||1;return So[yo]=e+1,Sr+e.toString(36)}static mount(e,v,g){let S=e[Tr],E=g&&g.nonce;S?E&&S.setNonce(E):S=new sd(e,E),S.mount(Array.isArray(v)?v:[v],e)}}let To=new Map;class sd{constructor(e,v){let g=e.ownerDocument||e,S=g.defaultView;if(!e.head&&e.adoptedStyleSheets&&S.CSSStyleSheet){let E=To.get(g);if(E)return e[Tr]=E;this.sheet=new S.CSSStyleSheet,To.set(g,this)}else this.styleTag=g.createElement("style"),v&&this.styleTag.setAttribute("nonce",v);this.modules=[],e[Tr]=this}mount(e,v){let g=this.sheet,S=0,E=0;for(let R=0;R<e.length;R++){let D=e[R],I=this.modules.indexOf(D);if(I<E&&I>-1&&(this.modules.splice(I,1),E--,I=-1),I==-1){if(this.modules.splice(E++,0,D),g)for(let V=0;V<D.rules.length;V++)g.insertRule(D.rules[V],S++)}else{for(;E<I;)S+=this.modules[E++].rules.length;S+=D.rules.length,E++}}if(g)v.adoptedStyleSheets.indexOf(this.sheet)<0&&(v.adoptedStyleSheets=[this.sheet,...v.adoptedStyleSheets]);else{let R="";for(let I=0;I<this.modules.length;I++)R+=this.modules[I].getRules()+`
`;this.styleTag.textContent=R;let D=v.head||v;this.styleTag.parentNode!=D&&D.insertBefore(this.styleTag,D.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var Oi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},cs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nd=typeof navigator<"u"&&/Mac/.test(navigator.platform),rd=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ve=0;ve<10;ve++)Oi[48+ve]=Oi[96+ve]=String(ve);for(var ve=1;ve<=24;ve++)Oi[ve+111]="F"+ve;for(var ve=65;ve<=90;ve++)Oi[ve]=String.fromCharCode(ve+32),cs[ve]=String.fromCharCode(ve);for(var Cr in Oi)cs.hasOwnProperty(Cr)||(cs[Cr]=Oi[Cr]);function ad(O){var e=nd&&O.metaKey&&O.shiftKey&&!O.ctrlKey&&!O.altKey||rd&&O.shiftKey&&O.key&&O.key.length==1||O.key=="Unidentified",v=!e&&O.key||(O.shiftKey?cs:Oi)[O.keyCode]||O.key||"Unidentified";return v=="Esc"&&(v="Escape"),v=="Del"&&(v="Delete"),v=="Left"&&(v="ArrowLeft"),v=="Up"&&(v="ArrowUp"),v=="Right"&&(v="ArrowRight"),v=="Down"&&(v="ArrowDown"),v}function vs(O){let e;return O.nodeType==11?e=O.getSelection?O:O.ownerDocument:e=O,e.getSelection()}function Pr(O,e){return e?O==e||O.contains(e.nodeType!=1?e.parentNode:e):!1}function qs(O,e){if(!e.anchorNode)return!1;try{return Pr(O,e.anchorNode)}catch{return!1}}function ps(O){return O.nodeType==3?bi(O,0,O.nodeValue.length).getClientRects():O.nodeType==1?O.getClientRects():[]}function ms(O,e,v,g){return v?Co(O,e,v,g,-1)||Co(O,e,v,g,1):!1}function Di(O){for(var e=0;;e++)if(O=O.previousSibling,!O)return e}function _s(O){return O.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(O.nodeName)}function Co(O,e,v,g,S){for(;;){if(O==v&&e==g)return!0;if(e==(S<0?0:je(O))){if(O.nodeName=="DIV")return!1;let E=O.parentNode;if(!E||E.nodeType!=1)return!1;e=Di(O)+(S<0?0:1),O=E}else if(O.nodeType==1){if(O=O.childNodes[e+(S<0?-1:0)],O.nodeType==1&&O.contentEditable=="false")return!1;e=S<0?je(O):0}else return!1}}function je(O){return O.nodeType==3?O.nodeValue.length:O.childNodes.length}function tn(O,e){let v=e?O.left:O.right;return{left:v,right:v,top:O.top,bottom:O.bottom}}function od(O){let e=O.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:O.innerWidth,top:0,bottom:O.innerHeight}}function Po(O,e){let v=e.width/O.offsetWidth,g=e.height/O.offsetHeight;return(v>.995&&v<1.005||!isFinite(v)||Math.abs(e.width-O.offsetWidth)<1)&&(v=1),(g>.995&&g<1.005||!isFinite(g)||Math.abs(e.height-O.offsetHeight)<1)&&(g=1),{scaleX:v,scaleY:g}}function hd(O,e,v,g,S,E,R,D){let I=O.ownerDocument,V=I.defaultView||window;for(let Y=O,j=!1;Y&&!j;)if(Y.nodeType==1){let _,et=Y==I.body,st=1,at=1;if(et)_=od(V);else{if(/^(fixed|sticky)$/.test(getComputedStyle(Y).position)&&(j=!0),Y.scrollHeight<=Y.clientHeight&&Y.scrollWidth<=Y.clientWidth){Y=Y.assignedSlot||Y.parentNode;continue}let pt=Y.getBoundingClientRect();({scaleX:st,scaleY:at}=Po(Y,pt)),_={left:pt.left,right:pt.left+Y.clientWidth*st,top:pt.top,bottom:pt.top+Y.clientHeight*at}}let ot=0,ut=0;if(S=="nearest")e.top<_.top?(ut=-(_.top-e.top+R),v>0&&e.bottom>_.bottom+ut&&(ut=e.bottom-_.bottom+ut+R)):e.bottom>_.bottom&&(ut=e.bottom-_.bottom+R,v<0&&e.top-ut<_.top&&(ut=-(_.top+ut-e.top+R)));else{let pt=e.bottom-e.top,yt=_.bottom-_.top;ut=(S=="center"&&pt<=yt?e.top+pt/2-yt/2:S=="start"||S=="center"&&v<0?e.top-R:e.bottom-yt+R)-_.top}if(g=="nearest"?e.left<_.left?(ot=-(_.left-e.left+E),v>0&&e.right>_.right+ot&&(ot=e.right-_.right+ot+E)):e.right>_.right&&(ot=e.right-_.right+E,v<0&&e.left<_.left+ot&&(ot=-(_.left+ot-e.left+E))):ot=(g=="center"?e.left+(e.right-e.left)/2-(_.right-_.left)/2:g=="start"==D?e.left-E:e.right-(_.right-_.left)+E)-_.left,ot||ut)if(et)V.scrollBy(ot,ut);else{let pt=0,yt=0;if(ut){let St=Y.scrollTop;Y.scrollTop+=ut/at,yt=(Y.scrollTop-St)*at}if(ot){let St=Y.scrollLeft;Y.scrollLeft+=ot/st,pt=(Y.scrollLeft-St)*st}e={left:e.left-pt,top:e.top-yt,right:e.right-pt,bottom:e.bottom-yt},pt&&Math.abs(pt-ot)<1&&(g="nearest"),yt&&Math.abs(yt-ut)<1&&(S="nearest")}if(et)break;Y=Y.assignedSlot||Y.parentNode}else if(Y.nodeType==11)Y=Y.host;else break}function ld(O){let e=O.ownerDocument,v,g;for(let S=O.parentNode;S&&!(S==e.body||v&&g);)if(S.nodeType==1)!g&&S.scrollHeight>S.clientHeight&&(g=S),!v&&S.scrollWidth>S.clientWidth&&(v=S),S=S.assignedSlot||S.parentNode;else if(S.nodeType==11)S=S.host;else break;return{x:v,y:g}}class ud{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:v,focusNode:g}=e;this.set(v,Math.min(e.anchorOffset,v?je(v):0),g,Math.min(e.focusOffset,g?je(g):0))}set(e,v,g,S){this.anchorNode=e,this.anchorOffset=v,this.focusNode=g,this.focusOffset=S}}let Wi=null;function Eo(O){if(O.setActive)return O.setActive();if(Wi)return O.focus(Wi);let e=[];for(let v=O;v&&(e.push(v,v.scrollTop,v.scrollLeft),v!=v.ownerDocument);v=v.parentNode);if(O.focus(Wi==null?{get preventScroll(){return Wi={preventScroll:!0},!0}}:void 0),!Wi){Wi=!1;for(let v=0;v<e.length;){let g=e[v++],S=e[v++],E=e[v++];g.scrollTop!=S&&(g.scrollTop=S),g.scrollLeft!=E&&(g.scrollLeft=E)}}}let Ao;function bi(O,e,v=e){let g=Ao||(Ao=document.createRange());return g.setEnd(O,v),g.setStart(O,e),g}function $i(O,e,v,g){let S={key:e,code:e,keyCode:v,which:v,cancelable:!0};g&&({altKey:S.altKey,ctrlKey:S.ctrlKey,shiftKey:S.shiftKey,metaKey:S.metaKey}=g);let E=new KeyboardEvent("keydown",S);E.synthetic=!0,O.dispatchEvent(E);let R=new KeyboardEvent("keyup",S);return R.synthetic=!0,O.dispatchEvent(R),E.defaultPrevented||R.defaultPrevented}function fd(O){for(;O;){if(O&&(O.nodeType==9||O.nodeType==11&&O.host))return O;O=O.assignedSlot||O.parentNode}return null}function Mo(O){for(;O.attributes.length;)O.removeAttributeNode(O.attributes[0])}function dd(O,e){let v=e.focusNode,g=e.focusOffset;if(!v||e.anchorNode!=v||e.anchorOffset!=g)return!1;for(g=Math.min(g,je(v));;)if(g){if(v.nodeType!=1)return!1;let S=v.childNodes[g-1];S.contentEditable=="false"?g--:(v=S,g=je(v))}else{if(v==O)return!0;g=Di(v),v=v.parentNode}}function Ro(O){return O.scrollTop>Math.max(1,O.scrollHeight-O.clientHeight-4)}function wo(O,e){for(let v=O,g=e;;){if(v.nodeType==3&&g>0)return{node:v,offset:g};if(v.nodeType==1&&g>0){if(v.contentEditable=="false")return null;v=v.childNodes[g-1],g=je(v)}else if(v.parentNode&&!_s(v))g=Di(v),v=v.parentNode;else return null}}function Lo(O,e){for(let v=O,g=e;;){if(v.nodeType==3&&g<v.nodeValue.length)return{node:v,offset:g};if(v.nodeType==1&&g<v.childNodes.length){if(v.contentEditable=="false")return null;v=v.childNodes[g],g=0}else if(v.parentNode&&!_s(v))g=Di(v)+1,v=v.parentNode;else return null}}class xe{constructor(e,v,g=!0){this.node=e,this.offset=v,this.precise=g}static before(e,v){return new xe(e.parentNode,Di(e),v)}static after(e,v){return new xe(e.parentNode,Di(e)+1,v)}}const Er=[];class Kt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let v=this.posAtStart;for(let g of this.children){if(g==e)return v;v+=g.length+g.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,v){if(this.flags&2){let g=this.dom,S=null,E;for(let R of this.children){if(R.flags&7){if(!R.dom&&(E=S?S.nextSibling:g.firstChild)){let D=Kt.get(E);(!D||!D.parent&&D.canReuseDOM(R))&&R.reuseDOM(E)}R.sync(e,v),R.flags&=-8}if(E=S?S.nextSibling:g.firstChild,v&&!v.written&&v.node==g&&E!=R.dom&&(v.written=!0),R.dom.parentNode==g)for(;E&&E!=R.dom;)E=Fo(E);else g.insertBefore(R.dom,E);S=R.dom}for(E=S?S.nextSibling:g.firstChild,E&&v&&v.node==g&&(v.written=!0);E;)E=Fo(E)}else if(this.flags&1)for(let g of this.children)g.flags&7&&(g.sync(e,v),g.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,v){let g;if(e==this.dom)g=this.dom.childNodes[v];else{let S=je(e)==0?0:v==0?-1:1;for(;;){let E=e.parentNode;if(E==this.dom)break;S==0&&E.firstChild!=E.lastChild&&(e==E.firstChild?S=-1:S=1),e=E}S<0?g=e:g=e.nextSibling}if(g==this.dom.firstChild)return 0;for(;g&&!Kt.get(g);)g=g.nextSibling;if(!g)return this.length;for(let S=0,E=0;;S++){let R=this.children[S];if(R.dom==g)return E;E+=R.length+R.breakAfter}}domBoundsAround(e,v,g=0){let S=-1,E=-1,R=-1,D=-1;for(let I=0,V=g,Y=g;I<this.children.length;I++){let j=this.children[I],_=V+j.length;if(V<e&&_>v)return j.domBoundsAround(e,v,V);if(_>=e&&S==-1&&(S=I,E=V),V>v&&j.dom.parentNode==this.dom){R=I,D=Y;break}Y=_,V=_+j.breakAfter}return{from:E,to:D<0?g+this.length:D,startDOM:(S?this.children[S-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:R<this.children.length&&R>=0?this.children[R].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let v=this.parent;v;v=v.parent){if(e&&(v.flags|=2),v.flags&1)return;v.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let v=e.parent;if(!v)return e;e=v}}replaceChildren(e,v,g=Er){this.markDirty();for(let S=e;S<v;S++){let E=this.children[S];E.parent==this&&g.indexOf(E)<0&&E.destroy()}g.length<250?this.children.splice(e,v-e,...g):this.children=[].concat(this.children.slice(0,e),g,this.children.slice(v));for(let S=0;S<g.length;S++)g[S].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Do(this.children,e,this.children.length)}childPos(e,v=1){return this.childCursor().findPos(e,v)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,v,g,S,E,R){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Kt.prototype.breakAfter=0;function Fo(O){let e=O.nextSibling;return O.parentNode.removeChild(O),e}class Do{constructor(e,v,g){this.children=e,this.pos=v,this.i=g,this.off=0}findPos(e,v=1){for(;;){if(e>this.pos||e==this.pos&&(v>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let g=this.children[--this.i];this.pos-=g.length+g.breakAfter}}}function bo(O,e,v,g,S,E,R,D,I){let{children:V}=O,Y=V.length?V[e]:null,j=E.length?E[E.length-1]:null,_=j?j.breakAfter:R;if(!(e==g&&Y&&!R&&!_&&E.length<2&&Y.merge(v,S,E.length?j:null,v==0,D,I))){if(g<V.length){let et=V[g];et&&(S<et.length||et.breakAfter&&(j!=null&&j.breakAfter))?(e==g&&(et=et.split(S),S=0),!_&&j&&et.merge(0,S,j,!0,0,I)?E[E.length-1]=et:((S||et.children.length&&!et.children[0].length)&&et.merge(0,S,null,!1,0,I),E.push(et))):et!=null&&et.breakAfter&&(j?j.breakAfter=1:R=1),g++}for(Y&&(Y.breakAfter=R,v>0&&(!R&&E.length&&Y.merge(v,Y.length,E[0],!1,D,0)?Y.breakAfter=E.shift().breakAfter:(v<Y.length||Y.children.length&&Y.children[Y.children.length-1].length==0)&&Y.merge(v,Y.length,null,!1,D,0),e++));e<g&&E.length;)if(V[g-1].become(E[E.length-1]))g--,E.pop(),I=E.length?0:D;else if(V[e].become(E[0]))e++,E.shift(),D=E.length?0:I;else break;!E.length&&e&&g<V.length&&!V[e-1].breakAfter&&V[g].merge(0,0,V[e-1],!1,D,I)&&e--,(e<g||E.length)&&O.replaceChildren(e,g,E)}}function Bo(O,e,v,g,S,E){let R=O.childCursor(),{i:D,off:I}=R.findPos(v,1),{i:V,off:Y}=R.findPos(e,-1),j=e-v;for(let _ of g)j+=_.length;O.length+=j,bo(O,V,Y,D,I,g,0,S,E)}let Pe=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Ar=typeof document<"u"?document:{documentElement:{style:{}}};const Mr=/Edge\/(\d+)/.exec(Pe.userAgent),Io=/MSIE \d/.test(Pe.userAgent),Rr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pe.userAgent),en=!!(Io||Rr||Mr),Go=!en&&/gecko\/(\d+)/i.test(Pe.userAgent),wr=!en&&/Chrome\/(\d+)/.exec(Pe.userAgent),No="webkitFontSmoothing"in Ar.documentElement.style,Qo=!en&&/Apple Computer/.test(Pe.vendor),Xo=Qo&&(/Mobile\/\w+/.test(Pe.userAgent)||Pe.maxTouchPoints>2);var Rt={mac:Xo||/Mac/.test(Pe.platform),windows:/Win/.test(Pe.platform),linux:/Linux|X11/.test(Pe.platform),ie:en,ie_version:Io?Ar.documentMode||6:Rr?+Rr[1]:Mr?+Mr[1]:0,gecko:Go,gecko_version:Go?+(/Firefox\/(\d+)/.exec(Pe.userAgent)||[0,0])[1]:0,chrome:!!wr,chrome_version:wr?+wr[1]:0,ios:Xo,android:/Android\b/.test(Pe.userAgent),webkit:No,safari:Qo,webkit_version:No?+(/\bAppleWebKit\/(\d+)/.exec(Pe.userAgent)||[0,0])[1]:0,tabSize:Ar.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const cd=256;class We extends Kt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,v){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(v&&v.node==this.dom&&(v.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,v,g){return this.flags&8||g&&(!(g instanceof We)||this.length-(v-e)+g.length>cd||g.flags&8)?!1:(this.text=this.text.slice(0,e)+(g?g.text:"")+this.text.slice(v),this.markDirty(),!0)}split(e){let v=new We(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),v.flags|=this.flags&8,v}localPosFromDOM(e,v){return e==this.dom?v:v?this.text.length:0}domAtPos(e){return new xe(this.dom,e)}domBoundsAround(e,v,g){return{from:g,to:g+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,v){return vd(this.dom,e,v)}}class fi extends Kt{constructor(e,v=[],g=0){super(),this.mark=e,this.children=v,this.length=g;for(let S of v)S.setParent(this)}setAttrs(e){if(Mo(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let v in this.mark.attrs)e.setAttribute(v,this.mark.attrs[v]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,v){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,v)}merge(e,v,g,S,E,R){return g&&(!(g instanceof fi&&g.mark.eq(this.mark))||e&&E<=0||v<this.length&&R<=0)?!1:(Bo(this,e,v,g?g.children.slice():[],E-1,R-1),this.markDirty(),!0)}split(e){let v=[],g=0,S=-1,E=0;for(let D of this.children){let I=g+D.length;I>e&&v.push(g<e?D.split(e-g):D),S<0&&g>=e&&(S=E),g=I,E++}let R=this.length-e;return this.length=e,S>-1&&(this.children.length=S,this.markDirty()),new fi(this.mark,v,R)}domAtPos(e){return zo(this,e)}coordsAt(e,v){return Yo(this,e,v)}}function vd(O,e,v){let g=O.nodeValue.length;e>g&&(e=g);let S=e,E=e,R=0;e==0&&v<0||e==g&&v>=0?Rt.chrome||Rt.gecko||(e?(S--,R=1):E<g&&(E++,R=-1)):v<0?S--:E<g&&E++;let D=bi(O,S,E).getClientRects();if(!D.length)return null;let I=D[(R?R<0:v>=0)?0:D.length-1];return Rt.safari&&!R&&I.width==0&&(I=Array.prototype.find.call(D,V=>V.width)||I),R?tn(I,R<0):I||null}class yi extends Kt{static create(e,v,g){return new yi(e,v,g)}constructor(e,v,g){super(),this.widget=e,this.length=v,this.side=g,this.prevWidget=null}split(e){let v=yi.create(this.widget,this.length-e,this.side);return this.length-=e,v}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,v,g,S,E,R){return g&&(!(g instanceof yi)||!this.widget.compare(g.widget)||e>0&&E<=0||v<this.length&&R<=0)?!1:(this.length=e+(g?g.length:0)+(this.length-v),!0)}become(e){return e instanceof yi&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return It.empty;let e=this;for(;e.parent;)e=e.parent;let{view:v}=e,g=v&&v.state.doc,S=this.posAtStart;return g?g.slice(S,S+this.length):It.empty}domAtPos(e){return(this.length?e==0:this.side>0)?xe.before(this.dom):xe.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,v){let g=this.widget.coordsAt(this.dom,e,v);if(g)return g;let S=this.dom.getClientRects(),E=null;if(!S.length)return null;let R=this.side?this.side<0:e>0;for(let D=R?S.length-1:0;E=S[D],!(e>0?D==0:D==S.length-1||E.top<E.bottom);D+=R?-1:1);return tn(E,!R)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Zi extends Kt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Zi&&e.side==this.side}split(){return new Zi(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?xe.before(this.dom):xe.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return It.empty}get isHidden(){return!0}}We.prototype.children=yi.prototype.children=Zi.prototype.children=Er;function zo(O,e){let v=O.dom,{children:g}=O,S=0;for(let E=0;S<g.length;S++){let R=g[S],D=E+R.length;if(!(D==E&&R.getSide()<=0)){if(e>E&&e<D&&R.dom.parentNode==v)return R.domAtPos(e-E);if(e<=E)break;E=D}}for(let E=S;E>0;E--){let R=g[E-1];if(R.dom.parentNode==v)return R.domAtPos(R.length)}for(let E=S;E<g.length;E++){let R=g[E];if(R.dom.parentNode==v)return R.domAtPos(0)}return new xe(v,0)}function Vo(O,e,v){let g,{children:S}=O;v>0&&e instanceof fi&&S.length&&(g=S[S.length-1])instanceof fi&&g.mark.eq(e.mark)?Vo(g,e.children[0],v-1):(S.push(e),e.setParent(O)),O.length+=e.length}function Yo(O,e,v){let g=null,S=-1,E=null,R=-1;function D(V,Y){for(let j=0,_=0;j<V.children.length&&_<=Y;j++){let et=V.children[j],st=_+et.length;st>=Y&&(et.children.length?D(et,Y-_):(!E||E.isHidden&&v>0)&&(st>Y||_==st&&et.getSide()>0)?(E=et,R=Y-_):(_<Y||_==st&&et.getSide()<0&&!et.isHidden)&&(g=et,S=Y-_)),_=st}}D(O,e);let I=(v<0?g:E)||g||E;return I?I.coordsAt(Math.max(0,I==g?S:R),v):pd(O)}function pd(O){let e=O.dom.lastChild;if(!e)return O.dom.getBoundingClientRect();let v=ps(e);return v[v.length-1]||null}function Lr(O,e){for(let v in O)v=="class"&&e.class?e.class+=" "+O.class:v=="style"&&e.style?e.style+=";"+O.style:e[v]=O[v];return e}const Uo=Object.create(null);function sn(O,e,v){if(O==e)return!0;O||(O=Uo),e||(e=Uo);let g=Object.keys(O),S=Object.keys(e);if(g.length-(v&&g.indexOf(v)>-1?1:0)!=S.length-(v&&S.indexOf(v)>-1?1:0))return!1;for(let E of g)if(E!=v&&(S.indexOf(E)==-1||O[E]!==e[E]))return!1;return!0}function Fr(O,e,v){let g=!1;if(e)for(let S in e)v&&S in v||(g=!0,S=="style"?O.style.cssText="":O.removeAttribute(S));if(v)for(let S in v)e&&e[S]==v[S]||(g=!0,S=="style"?O.style.cssText=v[S]:O.setAttribute(S,v[S]));return g}function md(O){let e=Object.create(null);for(let v=0;v<O.attributes.length;v++){let g=O.attributes[v];e[g.name]=g.value}return e}class di{eq(e){return!1}updateDOM(e,v){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,v,g){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ye=function(O){return O[O.Text=0]="Text",O[O.WidgetBefore=1]="WidgetBefore",O[O.WidgetAfter=2]="WidgetAfter",O[O.WidgetRange=3]="WidgetRange",O}(ye||(ye={}));class Lt extends Fi{constructor(e,v,g,S){super(),this.startSide=e,this.endSide=v,this.widget=g,this.spec=S}get heightRelevant(){return!1}static mark(e){return new gs(e)}static widget(e){let v=Math.max(-1e4,Math.min(1e4,e.side||0)),g=!!e.block;return v+=g&&!e.inlineOrder?v>0?3e8:-4e8:v>0?1e8:-1e8,new Si(e,v,v,g,e.widget||null,!1)}static replace(e){let v=!!e.block,g,S;if(e.isBlockGap)g=-5e8,S=4e8;else{let{start:E,end:R}=Wo(e,v);g=(E?v?-3e8:-1:5e8)-1,S=(R?v?2e8:1:-6e8)+1}return new Si(e,g,S,v,e.widget||null,!0)}static line(e){return new xs(e)}static set(e,v=!1){return Yt.of(e,v)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Lt.none=Yt.empty;class gs extends Lt{constructor(e){let{start:v,end:g}=Wo(e);super(v?-1:5e8,g?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var v,g;return this==e||e instanceof gs&&this.tagName==e.tagName&&(this.class||((v=this.attrs)===null||v===void 0?void 0:v.class))==(e.class||((g=e.attrs)===null||g===void 0?void 0:g.class))&&sn(this.attrs,e.attrs,"class")}range(e,v=e){if(e>=v)throw new RangeError("Mark decorations may not be empty");return super.range(e,v)}}gs.prototype.point=!1;class xs extends Lt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof xs&&this.spec.class==e.spec.class&&sn(this.spec.attributes,e.spec.attributes)}range(e,v=e){if(v!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,v)}}xs.prototype.mapMode=T.TrackBefore,xs.prototype.point=!0;class Si extends Lt{constructor(e,v,g,S,E,R){super(v,g,E,e),this.block=S,this.isReplace=R,this.mapMode=S?v<=0?T.TrackBefore:T.TrackAfter:T.TrackDel}get type(){return this.startSide!=this.endSide?ye.WidgetRange:this.startSide<=0?ye.WidgetBefore:ye.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Si&&gd(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,v=e){if(this.isReplace&&(e>v||e==v&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&v!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,v)}}Si.prototype.point=!0;function Wo(O,e=!1){let{inclusiveStart:v,inclusiveEnd:g}=O;return v==null&&(v=O.inclusive),g==null&&(g=O.inclusive),{start:v??e,end:g??e}}function gd(O,e){return O==e||!!(O&&e&&O.compare(e))}function Dr(O,e,v,g=0){let S=v.length-1;S>=0&&v[S]+g>=O?v[S]=Math.max(v[S],e):v.push(O,e)}class ae extends Kt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,v,g,S,E,R){if(g){if(!(g instanceof ae))return!1;this.dom||g.transferDOM(this)}return S&&this.setDeco(g?g.attrs:null),Bo(this,e,v,g?g.children.slice():[],E,R),!0}split(e){let v=new ae;if(v.breakAfter=this.breakAfter,this.length==0)return v;let{i:g,off:S}=this.childPos(e);S&&(v.append(this.children[g].split(S),0),this.children[g].merge(S,this.children[g].length,null,!1,0,0),g++);for(let E=g;E<this.children.length;E++)v.append(this.children[E],0);for(;g>0&&this.children[g-1].length==0;)this.children[--g].destroy();return this.children.length=g,this.markDirty(),this.length=e,v}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){sn(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,v){Vo(this,e,v)}addLineDeco(e){let v=e.spec.attributes,g=e.spec.class;v&&(this.attrs=Lr(v,this.attrs||{})),g&&(this.attrs=Lr({class:g},this.attrs||{}))}domAtPos(e){return zo(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,v){var g;this.dom?this.flags&4&&(Mo(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Fr(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,v);let S=this.dom.lastChild;for(;S&&Kt.get(S)instanceof fi;)S=S.lastChild;if(!S||!this.length||S.nodeName!="BR"&&((g=Kt.get(S))===null||g===void 0?void 0:g.isEditable)==!1&&(!Rt.ios||!this.children.some(E=>E instanceof We))){let E=document.createElement("BR");E.cmIgnore=!0,this.dom.appendChild(E)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,v;for(let g of this.children){if(!(g instanceof We)||/[^ -~]/.test(g.text))return null;let S=ps(g.dom);if(S.length!=1)return null;e+=S[0].width,v=S[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:v}:null}coordsAt(e,v){let g=Yo(this,e,v);if(!this.children.length&&g&&this.parent){let{heightOracle:S}=this.parent.view.viewState,E=g.bottom-g.top;if(Math.abs(E-S.lineHeight)<2&&S.textHeight<E){let R=(E-S.textHeight)/2;return{top:g.top+R,bottom:g.bottom-R,left:g.left,right:g.left}}}return g}become(e){return e instanceof ae&&this.children.length==0&&e.children.length==0&&sn(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,v){for(let g=0,S=0;g<e.children.length;g++){let E=e.children[g],R=S+E.length;if(R>=v){if(E instanceof ae)return E;if(R>v)break}S=R+E.breakAfter}return null}}class ci extends Kt{constructor(e,v,g){super(),this.widget=e,this.length=v,this.deco=g,this.breakAfter=0,this.prevWidget=null}merge(e,v,g,S,E,R){return g&&(!(g instanceof ci)||!this.widget.compare(g.widget)||e>0&&E<=0||v<this.length&&R<=0)?!1:(this.length=e+(g?g.length:0)+(this.length-v),!0)}domAtPos(e){return e==0?xe.before(this.dom):xe.after(this.dom,e==this.length)}split(e){let v=this.length-e;this.length=e;let g=new ci(this.widget,v,this.deco);return g.breakAfter=this.breakAfter,g}get children(){return Er}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):It.empty}domBoundsAround(){return null}become(e){return e instanceof ci&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,v){let g=this.widget.coordsAt(this.dom,e,v);return g||(this.widget instanceof br?null:tn(this.dom.getBoundingClientRect(),this.length?e==0:v<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:v,endSide:g}=this.deco;return v==g?!1:e<0?v<0:g>0}}class br extends di{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Os{constructor(e,v,g,S){this.doc=e,this.pos=v,this.end=g,this.disallowBlockEffectsFor=S,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=v}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ci&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ae),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(nn(new Zi(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ci)&&this.getLine()}buildText(e,v,g){for(;e>0;){if(this.textOff==this.text.length){let{value:E,lineBreak:R,done:D}=this.cursor.next(this.skip);if(this.skip=0,D)throw new Error("Ran out of text content when drawing inline views");if(R){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=E,this.textOff=0}let S=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(v.slice(v.length-g)),this.getLine().append(nn(new We(this.text.slice(this.textOff,this.textOff+S)),v),g),this.atCursorPos=!0,this.textOff+=S,e-=S,g=0}}span(e,v,g,S){this.buildText(v-e,g,S),this.pos=v,this.openStart<0&&(this.openStart=S)}point(e,v,g,S,E,R){if(this.disallowBlockEffectsFor[R]&&g instanceof Si){if(g.block)throw new RangeError("Block decorations may not be specified via plugins");if(v>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let D=v-e;if(g instanceof Si)if(g.block)g.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ci(g.widget||Hi.block,D,g));else{let I=yi.create(g.widget||Hi.inline,D,D?0:g.startSide),V=this.atCursorPos&&!I.isEditable&&E<=S.length&&(e<v||g.startSide>0),Y=!I.isEditable&&(e<v||E>S.length||g.startSide<=0),j=this.getLine();this.pendingBuffer==2&&!V&&!I.isEditable&&(this.pendingBuffer=0),this.flushBuffer(S),V&&(j.append(nn(new Zi(1),S),E),E=S.length+Math.max(0,E-S.length)),j.append(nn(I,S),E),this.atCursorPos=Y,this.pendingBuffer=Y?e<v||E>S.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=S.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(g);D&&(this.textOff+D<=this.text.length?this.textOff+=D:(this.skip+=D-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=v),this.openStart<0&&(this.openStart=E)}static build(e,v,g,S,E){let R=new Os(e,v,g,E);return R.openEnd=Yt.spans(S,v,g,R),R.openStart<0&&(R.openStart=R.openEnd),R.finish(R.openEnd),R}}function nn(O,e){for(let v of e)O=new fi(v,[O],O.length);return O}class Hi extends di{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Hi.inline=new Hi("span"),Hi.block=new Hi("div");var se=function(O){return O[O.LTR=0]="LTR",O[O.RTL=1]="RTL",O}(se||(se={}));const Bi=se.LTR,Br=se.RTL;function $o(O){let e=[];for(let v=0;v<O.length;v++)e.push(1<<+O[v]);return e}const xd=$o("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Od=$o("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ir=Object.create(null),Ke=[];for(let O of["()","[]","{}"]){let e=O.charCodeAt(0),v=O.charCodeAt(1);Ir[e]=v,Ir[v]=-e}function Zo(O){return O<=247?xd[O]:1424<=O&&O<=1524?2:1536<=O&&O<=1785?Od[O-1536]:1774<=O&&O<=2220?4:8192<=O&&O<=8204?256:64336<=O&&O<=65023?4:1}const yd=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ti{get dir(){return this.level%2?Br:Bi}constructor(e,v,g){this.from=e,this.to=v,this.level=g}side(e,v){return this.dir==v==e?this.to:this.from}forward(e,v){return e==(this.dir==v)}static find(e,v,g,S){let E=-1;for(let R=0;R<e.length;R++){let D=e[R];if(D.from<=v&&D.to>=v){if(D.level==g)return R;(E<0||(S!=0?S<0?D.from<v:D.to>v:e[E].level>D.level))&&(E=R)}}if(E<0)throw new RangeError("Index out of range");return E}}function Ho(O,e){if(O.length!=e.length)return!1;for(let v=0;v<O.length;v++){let g=O[v],S=e[v];if(g.from!=S.from||g.to!=S.to||g.direction!=S.direction||!Ho(g.inner,S.inner))return!1}return!0}const Jt=[];function Sd(O,e,v,g,S){for(let E=0;E<=g.length;E++){let R=E?g[E-1].to:e,D=E<g.length?g[E].from:v,I=E?256:S;for(let V=R,Y=I,j=I;V<D;V++){let _=Zo(O.charCodeAt(V));_==512?_=Y:_==8&&j==4&&(_=16),Jt[V]=_==4?2:_,_&7&&(j=_),Y=_}for(let V=R,Y=I,j=I;V<D;V++){let _=Jt[V];if(_==128)V<D-1&&Y==Jt[V+1]&&Y&24?_=Jt[V]=Y:Jt[V]=256;else if(_==64){let et=V+1;for(;et<D&&Jt[et]==64;)et++;let st=V&&Y==8||et<v&&Jt[et]==8?j==1?1:8:256;for(let at=V;at<et;at++)Jt[at]=st;V=et-1}else _==8&&j==1&&(Jt[V]=1);Y=_,_&7&&(j=_)}}}function Td(O,e,v,g,S){let E=S==1?2:1;for(let R=0,D=0,I=0;R<=g.length;R++){let V=R?g[R-1].to:e,Y=R<g.length?g[R].from:v;for(let j=V,_,et,st;j<Y;j++)if(et=Ir[_=O.charCodeAt(j)])if(et<0){for(let at=D-3;at>=0;at-=3)if(Ke[at+1]==-et){let ot=Ke[at+2],ut=ot&2?S:ot&4?ot&1?E:S:0;ut&&(Jt[j]=Jt[Ke[at]]=ut),D=at;break}}else{if(Ke.length==189)break;Ke[D++]=j,Ke[D++]=_,Ke[D++]=I}else if((st=Jt[j])==2||st==1){let at=st==S;I=at?0:1;for(let ot=D-3;ot>=0;ot-=3){let ut=Ke[ot+2];if(ut&2)break;if(at)Ke[ot+2]|=2;else{if(ut&4)break;Ke[ot+2]|=4}}}}}function Cd(O,e,v,g){for(let S=0,E=g;S<=v.length;S++){let R=S?v[S-1].to:O,D=S<v.length?v[S].from:e;for(let I=R;I<D;){let V=Jt[I];if(V==256){let Y=I+1;for(;;)if(Y==D){if(S==v.length)break;Y=v[S++].to,D=S<v.length?v[S].from:e}else if(Jt[Y]==256)Y++;else break;let j=E==1,_=(Y<e?Jt[Y]:g)==1,et=j==_?j?1:2:g;for(let st=Y,at=S,ot=at?v[at-1].to:O;st>I;)st==ot&&(st=v[--at].from,ot=at?v[at-1].to:O),Jt[--st]=et;I=Y}else E=V,I++}}}function Gr(O,e,v,g,S,E,R){let D=g%2?2:1;if(g%2==S%2)for(let I=e,V=0;I<v;){let Y=!0,j=!1;if(V==E.length||I<E[V].from){let at=Jt[I];at!=D&&(Y=!1,j=at==16)}let _=!Y&&D==1?[]:null,et=Y?g:g+1,st=I;t:for(;;)if(V<E.length&&st==E[V].from){if(j)break t;let at=E[V];if(!Y)for(let ot=at.to,ut=V+1;;){if(ot==v)break t;if(ut<E.length&&E[ut].from==ot)ot=E[ut++].to;else{if(Jt[ot]==D)break t;break}}if(V++,_)_.push(at);else{at.from>I&&R.push(new Ti(I,at.from,et));let ot=at.direction==Bi!=!(et%2);Nr(O,ot?g+1:g,S,at.inner,at.from,at.to,R),I=at.to}st=at.to}else{if(st==v||(Y?Jt[st]!=D:Jt[st]==D))break;st++}_?Gr(O,I,st,g+1,S,_,R):I<st&&R.push(new Ti(I,st,et)),I=st}else for(let I=v,V=E.length;I>e;){let Y=!0,j=!1;if(!V||I>E[V-1].to){let at=Jt[I-1];at!=D&&(Y=!1,j=at==16)}let _=!Y&&D==1?[]:null,et=Y?g:g+1,st=I;t:for(;;)if(V&&st==E[V-1].to){if(j)break t;let at=E[--V];if(!Y)for(let ot=at.from,ut=V;;){if(ot==e)break t;if(ut&&E[ut-1].to==ot)ot=E[--ut].from;else{if(Jt[ot-1]==D)break t;break}}if(_)_.push(at);else{at.to<I&&R.push(new Ti(at.to,I,et));let ot=at.direction==Bi!=!(et%2);Nr(O,ot?g+1:g,S,at.inner,at.from,at.to,R),I=at.from}st=at.from}else{if(st==e||(Y?Jt[st-1]!=D:Jt[st-1]==D))break;st--}_?Gr(O,st,I,g+1,S,_,R):st<I&&R.push(new Ti(st,I,et)),I=st}}function Nr(O,e,v,g,S,E,R){let D=e%2?2:1;Sd(O,S,E,g,D),Td(O,S,E,g,D),Cd(S,E,g,D),Gr(O,S,E,e,v,g,R)}function Pd(O,e,v){if(!O)return[new Ti(0,0,e==Br?1:0)];if(e==Bi&&!v.length&&!yd.test(O))return ko(O.length);if(v.length)for(;O.length>Jt.length;)Jt[Jt.length]=256;let g=[],S=e==Bi?0:1;return Nr(O,S,S,v,0,O.length,g),g}function ko(O){return[new Ti(0,O,0)]}let jo="";function Ed(O,e,v,g,S){var E;let R=g.head-O.from,D=Ti.find(e,R,(E=g.bidiLevel)!==null&&E!==void 0?E:-1,g.assoc),I=e[D],V=I.side(S,v);if(R==V){let _=D+=S?1:-1;if(_<0||_>=e.length)return null;I=e[D=_],R=I.side(!S,v),V=I.side(S,v)}let Y=n(O.text,R,I.forward(S,v));(Y<I.from||Y>I.to)&&(Y=V),jo=O.text.slice(Math.min(R,Y),Math.max(R,Y));let j=D==(S?e.length-1:0)?null:e[D+(S?1:-1)];return j&&Y==V&&j.level+(S?0:1)<I.level?N.cursor(j.side(!S,v)+O.from,j.forward(S,v)?1:-1,j.level):N.cursor(Y+O.from,I.forward(S,v)?-1:1,I.level)}function Ad(O,e,v){for(let g=e;g<v;g++){let S=Zo(O.charCodeAt(g));if(S==1)return Bi;if(S==2||S==4)return Br}return Bi}const Ko=H.define(),Jo=H.define(),qo=H.define(),_o=H.define(),Qr=H.define(),th=H.define(),eh=H.define(),Xr=H.define(),zr=H.define(),ih=H.define({combine:O=>O.some(e=>e)}),sh=H.define({combine:O=>O.some(e=>e)}),nh=H.define();class ki{constructor(e,v="nearest",g="nearest",S=5,E=5,R=!1){this.range=e,this.y=v,this.x=g,this.yMargin=S,this.xMargin=E,this.isSnapshot=R}map(e){return e.empty?this:new ki(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ki(N.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const rn=Ot.define({map:(O,e)=>O.map(e)}),rh=Ot.define();function Ee(O,e,v){let g=O.facet(_o);g.length?g[0](e):window.onerror?window.onerror(String(e),v,void 0,void 0,e):v?console.error(v+":",e):console.error(e)}const Ci=H.define({combine:O=>O.length?O[0]:!0});let Md=0;const ys=H.define();class oe{constructor(e,v,g,S,E){this.id=e,this.create=v,this.domEventHandlers=g,this.domEventObservers=S,this.extension=E(this)}static define(e,v){const{eventHandlers:g,eventObservers:S,provide:E,decorations:R}=v||{};return new oe(Md++,e,g,S,D=>{let I=[ys.of(D)];return R&&I.push(Ss.of(V=>{let Y=V.plugin(D);return Y?R(Y):Lt.none})),E&&I.push(E(D)),I})}static fromClass(e,v){return oe.define(g=>new e(g),v)}}class Vr{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let v=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(v)}catch(g){if(Ee(v.state,g,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(v){Ee(e.state,v,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var v;if(!((v=this.value)===null||v===void 0)&&v.destroy)try{this.value.destroy()}catch(g){Ee(e.state,g,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ah=H.define(),Yr=H.define(),Ss=H.define(),oh=H.define(),Ur=H.define(),hh=H.define();function lh(O,e){let v=O.state.facet(hh);if(!v.length)return v;let g=v.map(E=>E instanceof Function?E(O):E),S=[];return Yt.spans(g,e.from,e.to,{point(){},span(E,R,D,I){let V=E-e.from,Y=R-e.from,j=S;for(let _=D.length-1;_>=0;_--,I--){let et=D[_].spec.bidiIsolate,st;if(et==null&&(et=Ad(e.text,V,Y)),I>0&&j.length&&(st=j[j.length-1]).to==V&&st.direction==et)st.to=Y,j=st.inner;else{let at={from:V,to:Y,direction:et,inner:[]};j.push(at),j=at.inner}}}}),S}const uh=H.define();function Wr(O){let e=0,v=0,g=0,S=0;for(let E of O.state.facet(uh)){let R=E(O);R&&(R.left!=null&&(e=Math.max(e,R.left)),R.right!=null&&(v=Math.max(v,R.right)),R.top!=null&&(g=Math.max(g,R.top)),R.bottom!=null&&(S=Math.max(S,R.bottom)))}return{left:e,right:v,top:g,bottom:S}}const Ts=H.define();class Ge{constructor(e,v,g,S){this.fromA=e,this.toA=v,this.fromB=g,this.toB=S}join(e){return new Ge(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let v=e.length,g=this;for(;v>0;v--){let S=e[v-1];if(!(S.fromA>g.toA)){if(S.toA<g.fromA)break;g=g.join(S),e.splice(v-1,1)}}return e.splice(v,0,g),e}static extendWithRanges(e,v){if(v.length==0)return e;let g=[];for(let S=0,E=0,R=0,D=0;;S++){let I=S==e.length?null:e[S],V=R-D,Y=I?I.fromB:1e9;for(;E<v.length&&v[E]<Y;){let j=v[E],_=v[E+1],et=Math.max(D,j),st=Math.min(Y,_);if(et<=st&&new Ge(et+V,st+V,et,st).addToSet(g),_>Y)break;E+=2}if(!I)return g;new Ge(I.fromA,I.toA,I.fromB,I.toB).addToSet(g),R=I.toA,D=I.toB}}}class an{constructor(e,v,g){this.view=e,this.state=v,this.transactions=g,this.flags=0,this.startState=e.state,this.changes=P.empty(this.startState.doc.length);for(let E of g)this.changes=this.changes.compose(E.changes);let S=[];this.changes.iterChangedRanges((E,R,D,I)=>S.push(new Ge(E,R,D,I))),this.changedRanges=S}static create(e,v,g){return new an(e,v,g)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class fh extends Kt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Lt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ae],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ge(0,0,0,e.state.doc.length)],0,null)}update(e){var v;let g=e.changedRanges;this.minWidth>0&&g.length&&(g.every(({fromA:V,toA:Y})=>Y<this.minWidthFrom||V>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let S=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((v=this.domChanged)===null||v===void 0)&&v.newSel?S=this.domChanged.newSel.head:!Bd(e.changes,this.hasComposition)&&!e.selectionSet&&(S=e.state.selection.main.head));let E=S>-1?wd(this.view,e.changes,S):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:V,to:Y}=this.hasComposition;g=new Ge(V,Y,e.changes.mapPos(V,-1),e.changes.mapPos(Y,1)).addToSet(g.slice())}this.hasComposition=E?{from:E.range.fromB,to:E.range.toB}:null,(Rt.ie||Rt.chrome)&&!E&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let R=this.decorations,D=this.updateDeco(),I=Dd(R,D,e.changes);return g=Ge.extendWithRanges(g,I),!(this.flags&7)&&g.length==0?!1:(this.updateInner(g,e.startState.doc.length,E),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,v,g){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,v,g);let{observer:S}=this.view;S.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let R=Rt.chrome||Rt.ios?{node:S.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,R),this.flags&=-8,R&&(R.written||S.selectionRange.focusNode!=R.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(R=>R.flags&=-9);let E=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let R of this.children)R instanceof ci&&R.widget instanceof br&&E.push(R.dom);S.updateGaps(E)}updateChildren(e,v,g){let S=g?g.range.addToSet(e.slice()):e,E=this.childCursor(v);for(let R=S.length-1;;R--){let D=R>=0?S[R]:null;if(!D)break;let{fromA:I,toA:V,fromB:Y,toB:j}=D,_,et,st,at;if(g&&g.range.fromB<j&&g.range.toB>Y){let St=Os.build(this.view.state.doc,Y,g.range.fromB,this.decorations,this.dynamicDecorationMap),mt=Os.build(this.view.state.doc,g.range.toB,j,this.decorations,this.dynamicDecorationMap);et=St.breakAtStart,st=St.openStart,at=mt.openEnd;let Tt=this.compositionView(g);mt.breakAtStart?Tt.breakAfter=1:mt.content.length&&Tt.merge(Tt.length,Tt.length,mt.content[0],!1,mt.openStart,0)&&(Tt.breakAfter=mt.content[0].breakAfter,mt.content.shift()),St.content.length&&Tt.merge(0,0,St.content[St.content.length-1],!0,0,St.openEnd)&&St.content.pop(),_=St.content.concat(Tt).concat(mt.content)}else({content:_,breakAtStart:et,openStart:st,openEnd:at}=Os.build(this.view.state.doc,Y,j,this.decorations,this.dynamicDecorationMap));let{i:ot,off:ut}=E.findPos(V,1),{i:pt,off:yt}=E.findPos(I,-1);bo(this,pt,yt,ot,ut,_,et,st,at)}g&&this.fixCompositionDOM(g)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let v of e.transactions)for(let g of v.effects)g.is(rh)&&(this.editContextFormatting=g.value)}compositionView(e){let v=new We(e.text.nodeValue);v.flags|=8;for(let{deco:S}of e.marks)v=new fi(S,[v],v.length);let g=new ae;return g.append(v,0),g}fixCompositionDOM(e){let v=(E,R)=>{R.flags|=8|(R.children.some(I=>I.flags&7)?1:0),this.markedForComposition.add(R);let D=Kt.get(E);D&&D!=R&&(D.dom=null),R.setDOM(E)},g=this.childPos(e.range.fromB,1),S=this.children[g.i];v(e.line,S);for(let E=e.marks.length-1;E>=-1;E--)g=S.childPos(g.off,1),S=S.children[g.i],v(E>=0?e.marks[E].node:e.text,S)}updateSelection(e=!1,v=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let g=this.view.root.activeElement,S=g==this.dom,E=!S&&qs(this.dom,this.view.observer.selectionRange)&&!(g&&this.dom.contains(g));if(!(S||v||E))return;let R=this.forceSelection;this.forceSelection=!1;let D=this.view.state.selection.main,I=this.moveToLine(this.domAtPos(D.anchor)),V=D.empty?I:this.moveToLine(this.domAtPos(D.head));if(Rt.gecko&&D.empty&&!this.hasComposition&&Rd(I)){let j=document.createTextNode("");this.view.observer.ignore(()=>I.node.insertBefore(j,I.node.childNodes[I.offset]||null)),I=V=new xe(j,0),R=!0}let Y=this.view.observer.selectionRange;(R||!Y.focusNode||(!ms(I.node,I.offset,Y.anchorNode,Y.anchorOffset)||!ms(V.node,V.offset,Y.focusNode,Y.focusOffset))&&!this.suppressWidgetCursorChange(Y,D))&&(this.view.observer.ignore(()=>{Rt.android&&Rt.chrome&&this.dom.contains(Y.focusNode)&&bd(Y.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let j=vs(this.view.root);if(j)if(D.empty){if(Rt.gecko){let _=Ld(I.node,I.offset);if(_&&_!=3){let et=(_==1?wo:Lo)(I.node,I.offset);et&&(I=new xe(et.node,et.offset))}}j.collapse(I.node,I.offset),D.bidiLevel!=null&&j.caretBidiLevel!==void 0&&(j.caretBidiLevel=D.bidiLevel)}else if(j.extend){j.collapse(I.node,I.offset);try{j.extend(V.node,V.offset)}catch{}}else{let _=document.createRange();D.anchor>D.head&&([I,V]=[V,I]),_.setEnd(V.node,V.offset),_.setStart(I.node,I.offset),j.removeAllRanges(),j.addRange(_)}E&&this.view.root.activeElement==this.dom&&(this.dom.blur(),g&&g.focus())}),this.view.observer.setSelectionRange(I,V)),this.impreciseAnchor=I.precise?null:new xe(Y.anchorNode,Y.anchorOffset),this.impreciseHead=V.precise?null:new xe(Y.focusNode,Y.focusOffset)}suppressWidgetCursorChange(e,v){return this.hasComposition&&v.empty&&ms(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==v.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,v=e.state.selection.main,g=vs(e.root),{anchorNode:S,anchorOffset:E}=e.observer.selectionRange;if(!g||!v.empty||!v.assoc||!g.modify)return;let R=ae.find(this,v.head);if(!R)return;let D=R.posAtStart;if(v.head==D||v.head==D+R.length)return;let I=this.coordsAt(v.head,-1),V=this.coordsAt(v.head,1);if(!I||!V||I.bottom>V.top)return;let Y=this.domAtPos(v.head+v.assoc);g.collapse(Y.node,Y.offset),g.modify("move",v.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let j=e.observer.selectionRange;e.docView.posFromDOM(j.anchorNode,j.anchorOffset)!=v.from&&g.collapse(S,E)}moveToLine(e){let v=this.dom,g;if(e.node!=v)return e;for(let S=e.offset;!g&&S<v.childNodes.length;S++){let E=Kt.get(v.childNodes[S]);E instanceof ae&&(g=E.domAtPos(0))}for(let S=e.offset-1;!g&&S>=0;S--){let E=Kt.get(v.childNodes[S]);E instanceof ae&&(g=E.domAtPos(E.length))}return g?new xe(g.node,g.offset,!0):e}nearest(e){for(let v=e;v;){let g=Kt.get(v);if(g&&g.rootView==this)return g;v=v.parentNode}return null}posFromDOM(e,v){let g=this.nearest(e);if(!g)throw new RangeError("Trying to find position for a DOM position outside of the document");return g.localPosFromDOM(e,v)+g.posAtStart}domAtPos(e){let{i:v,off:g}=this.childCursor().findPos(e,-1);for(;v<this.children.length-1;){let S=this.children[v];if(g<S.length||S instanceof ae)break;v++,g=0}return this.children[v].domAtPos(g)}coordsAt(e,v){let g=null,S=0;for(let E=this.length,R=this.children.length-1;R>=0;R--){let D=this.children[R],I=E-D.breakAfter,V=I-D.length;if(I<e)break;if(V<=e&&(V<e||D.covers(-1))&&(I>e||D.covers(1))&&(!g||D instanceof ae&&!(g instanceof ae&&v>=0)))g=D,S=V;else if(g&&V==e&&I==e&&D instanceof ci&&Math.abs(v)<2){if(D.deco.startSide<0)break;R&&(g=null)}E=V}return g?g.coordsAt(e-S,v):null}coordsForChar(e){let{i:v,off:g}=this.childPos(e,1),S=this.children[v];if(!(S instanceof ae))return null;for(;S.children.length;){let{i:D,off:I}=S.childPos(g,1);for(;;D++){if(D==S.children.length)return null;if((S=S.children[D]).length)break}g=I}if(!(S instanceof We))return null;let E=n(S.text,g);if(E==g)return null;let R=bi(S.dom,g,E).getClientRects();for(let D=0;D<R.length;D++){let I=R[D];if(D==R.length-1||I.top<I.bottom&&I.left<I.right)return I}return null}measureVisibleLineHeights(e){let v=[],{from:g,to:S}=e,E=this.view.contentDOM.clientWidth,R=E>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,D=-1,I=this.view.textDirection==se.LTR;for(let V=0,Y=0;Y<this.children.length;Y++){let j=this.children[Y],_=V+j.length;if(_>S)break;if(V>=g){let et=j.dom.getBoundingClientRect();if(v.push(et.height),R){let st=j.dom.lastChild,at=st?ps(st):[];if(at.length){let ot=at[at.length-1],ut=I?ot.right-et.left:et.right-ot.left;ut>D&&(D=ut,this.minWidth=E,this.minWidthFrom=V,this.minWidthTo=_)}}}V=_+j.breakAfter}return v}textDirectionAt(e){let{i:v}=this.childPos(e,1);return getComputedStyle(this.children[v].dom).direction=="rtl"?se.RTL:se.LTR}measureTextSize(){for(let E of this.children)if(E instanceof ae){let R=E.measureTextSize();if(R)return R}let e=document.createElement("div"),v,g,S;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let E=ps(e.firstChild)[0];v=e.getBoundingClientRect().height,g=E?E.width/27:7,S=E?E.height:v,e.remove()}),{lineHeight:v,charWidth:g,textHeight:S}}childCursor(e=this.length){let v=this.children.length;return v&&(e-=this.children[--v].length),new Do(this.children,e,v)}computeBlockGapDeco(){let e=[],v=this.view.viewState;for(let g=0,S=0;;S++){let E=S==v.viewports.length?null:v.viewports[S],R=E?E.from-1:this.length;if(R>g){let D=(v.lineBlockAt(R).bottom-v.lineBlockAt(g).top)/this.view.scaleY;e.push(Lt.replace({widget:new br(D),block:!0,inclusive:!0,isBlockGap:!0}).range(g,R))}if(!E)break;g=E.to+1}return Lt.set(e)}updateDeco(){let e=1,v=this.view.state.facet(Ss).map(E=>(this.dynamicDecorationMap[e++]=typeof E=="function")?E(this.view):E),g=!1,S=this.view.state.facet(oh).map((E,R)=>{let D=typeof E=="function";return D&&(g=!0),D?E(this.view):E});for(S.length&&(this.dynamicDecorationMap[e++]=g,v.push(Yt.join(S))),this.decorations=[this.editContextFormatting,...v,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let V=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=V.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let V of this.view.state.facet(nh))try{if(V(this.view,e.range,e))return!0}catch(Y){Ee(this.view.state,Y,"scroll handler")}let{range:v}=e,g=this.coordsAt(v.head,v.empty?v.assoc:v.head>v.anchor?-1:1),S;if(!g)return;!v.empty&&(S=this.coordsAt(v.anchor,v.anchor>v.head?-1:1))&&(g={left:Math.min(g.left,S.left),top:Math.min(g.top,S.top),right:Math.max(g.right,S.right),bottom:Math.max(g.bottom,S.bottom)});let E=Wr(this.view),R={left:g.left-E.left,top:g.top-E.top,right:g.right+E.right,bottom:g.bottom+E.bottom},{offsetWidth:D,offsetHeight:I}=this.view.scrollDOM;hd(this.view.scrollDOM,R,v.head<v.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,D),-D),Math.max(Math.min(e.yMargin,I),-I),this.view.textDirection==se.LTR)}}function Rd(O){return O.node.nodeType==1&&O.node.firstChild&&(O.offset==0||O.node.childNodes[O.offset-1].contentEditable=="false")&&(O.offset==O.node.childNodes.length||O.node.childNodes[O.offset].contentEditable=="false")}function dh(O,e){let v=O.observer.selectionRange;if(!v.focusNode)return null;let g=wo(v.focusNode,v.focusOffset),S=Lo(v.focusNode,v.focusOffset),E=g||S;if(S&&g&&S.node!=g.node){let D=Kt.get(S.node);if(!D||D instanceof We&&D.text!=S.node.nodeValue)E=S;else if(O.docView.lastCompositionAfterCursor){let I=Kt.get(g.node);!I||I instanceof We&&I.text!=g.node.nodeValue||(E=S)}}if(O.docView.lastCompositionAfterCursor=E!=g,!E)return null;let R=e-E.offset;return{from:R,to:R+E.node.nodeValue.length,node:E.node}}function wd(O,e,v){let g=dh(O,v);if(!g)return null;let{node:S,from:E,to:R}=g,D=S.nodeValue;if(/[\n\r]/.test(D)||O.state.doc.sliceString(g.from,g.to)!=D)return null;let I=e.invertedDesc,V=new Ge(I.mapPos(E),I.mapPos(R),E,R),Y=[];for(let j=S.parentNode;;j=j.parentNode){let _=Kt.get(j);if(_ instanceof fi)Y.push({node:j,deco:_.mark});else{if(_ instanceof ae||j.nodeName=="DIV"&&j.parentNode==O.contentDOM)return{range:V,text:S,marks:Y,line:j};if(j!=O.contentDOM)Y.push({node:j,deco:new gs({inclusive:!0,attributes:md(j),tagName:j.tagName.toLowerCase()})});else return null}}}function Ld(O,e){return O.nodeType!=1?0:(e&&O.childNodes[e-1].contentEditable=="false"?1:0)|(e<O.childNodes.length&&O.childNodes[e].contentEditable=="false"?2:0)}let Fd=class{constructor(){this.changes=[]}compareRange(e,v){Dr(e,v,this.changes)}comparePoint(e,v){Dr(e,v,this.changes)}};function Dd(O,e,v){let g=new Fd;return Yt.compare(O,e,v,g),g.changes}function bd(O,e){for(let v=O;v&&v!=e;v=v.assignedSlot||v.parentNode)if(v.nodeType==1&&v.contentEditable=="false")return!0;return!1}function Bd(O,e){let v=!1;return e&&O.iterChangedRanges((g,S)=>{g<e.to&&S>e.from&&(v=!0)}),v}function Id(O,e,v=1){let g=O.charCategorizer(e),S=O.doc.lineAt(e),E=e-S.from;if(S.length==0)return N.cursor(e);E==0?v=1:E==S.length&&(v=-1);let R=E,D=E;v<0?R=n(S.text,E,!1):D=n(S.text,E);let I=g(S.text.slice(R,D));for(;R>0;){let V=n(S.text,R,!1);if(g(S.text.slice(V,R))!=I)break;R=V}for(;D<S.length;){let V=n(S.text,D);if(g(S.text.slice(D,V))!=I)break;D=V}return N.range(R+S.from,D+S.from)}function Gd(O,e){return e.left>O?e.left-O:Math.max(0,O-e.right)}function Nd(O,e){return e.top>O?e.top-O:Math.max(0,O-e.bottom)}function $r(O,e){return O.top<e.bottom-1&&O.bottom>e.top+1}function ch(O,e){return e<O.top?{top:e,left:O.left,right:O.right,bottom:O.bottom}:O}function vh(O,e){return e>O.bottom?{top:O.top,left:O.left,right:O.right,bottom:e}:O}function Zr(O,e,v){let g,S,E,R,D=!1,I,V,Y,j;for(let st=O.firstChild;st;st=st.nextSibling){let at=ps(st);for(let ot=0;ot<at.length;ot++){let ut=at[ot];S&&$r(S,ut)&&(ut=ch(vh(ut,S.bottom),S.top));let pt=Gd(e,ut),yt=Nd(v,ut);if(pt==0&&yt==0)return st.nodeType==3?ph(st,e,v):Zr(st,e,v);if(!g||R>yt||R==yt&&E>pt){g=st,S=ut,E=pt,R=yt;let St=yt?v<ut.top?-1:1:pt?e<ut.left?-1:1:0;D=!St||(St>0?ot<at.length-1:ot>0)}pt==0?v>ut.bottom&&(!Y||Y.bottom<ut.bottom)?(I=st,Y=ut):v<ut.top&&(!j||j.top>ut.top)&&(V=st,j=ut):Y&&$r(Y,ut)?Y=vh(Y,ut.bottom):j&&$r(j,ut)&&(j=ch(j,ut.top))}}if(Y&&Y.bottom>=v?(g=I,S=Y):j&&j.top<=v&&(g=V,S=j),!g)return{node:O,offset:0};let _=Math.max(S.left,Math.min(S.right,e));if(g.nodeType==3)return ph(g,_,v);if(D&&g.contentEditable!="false")return Zr(g,_,v);let et=Array.prototype.indexOf.call(O.childNodes,g)+(e>=(S.left+S.right)/2?1:0);return{node:O,offset:et}}function ph(O,e,v){let g=O.nodeValue.length,S=-1,E=1e9,R=0;for(let D=0;D<g;D++){let I=bi(O,D,D+1).getClientRects();for(let V=0;V<I.length;V++){let Y=I[V];if(Y.top==Y.bottom)continue;R||(R=e-Y.left);let j=(Y.top>v?Y.top-v:v-Y.bottom)-1;if(Y.left-1<=e&&Y.right+1>=e&&j<E){let _=e>=(Y.left+Y.right)/2,et=_;if((Rt.chrome||Rt.gecko)&&bi(O,D).getBoundingClientRect().left==Y.right&&(et=!_),j<=0)return{node:O,offset:D+(et?1:0)};S=D+(et?1:0),E=j}}}return{node:O,offset:S>-1?S:R>0?O.nodeValue.length:0}}function mh(O,e,v,g=-1){var S,E;let R=O.contentDOM.getBoundingClientRect(),D=R.top+O.viewState.paddingTop,I,{docHeight:V}=O.viewState,{x:Y,y:j}=e,_=j-D;if(_<0)return 0;if(_>V)return O.state.doc.length;for(let St=O.viewState.heightOracle.textHeight/2,mt=!1;I=O.elementAtHeight(_),I.type!=ye.Text;)for(;_=g>0?I.bottom+St:I.top-St,!(_>=0&&_<=V);){if(mt)return v?null:0;mt=!0,g=-g}j=D+_;let et=I.from;if(et<O.viewport.from)return O.viewport.from==0?0:v?null:gh(O,R,I,Y,j);if(et>O.viewport.to)return O.viewport.to==O.state.doc.length?O.state.doc.length:v?null:gh(O,R,I,Y,j);let st=O.dom.ownerDocument,at=O.root.elementFromPoint?O.root:st,ot=at.elementFromPoint(Y,j);ot&&!O.contentDOM.contains(ot)&&(ot=null),ot||(Y=Math.max(R.left+1,Math.min(R.right-1,Y)),ot=at.elementFromPoint(Y,j),ot&&!O.contentDOM.contains(ot)&&(ot=null));let ut,pt=-1;if(ot&&((S=O.docView.nearest(ot))===null||S===void 0?void 0:S.isEditable)!=!1){if(st.caretPositionFromPoint){let St=st.caretPositionFromPoint(Y,j);St&&({offsetNode:ut,offset:pt}=St)}else if(st.caretRangeFromPoint){let St=st.caretRangeFromPoint(Y,j);St&&({startContainer:ut,startOffset:pt}=St,(!O.contentDOM.contains(ut)||Rt.safari&&Qd(ut,pt,Y)||Rt.chrome&&Xd(ut,pt,Y))&&(ut=void 0))}ut&&(pt=Math.min(je(ut),pt))}if(!ut||!O.docView.dom.contains(ut)){let St=ae.find(O.docView,et);if(!St)return _>I.top+I.height/2?I.to:I.from;({node:ut,offset:pt}=Zr(St.dom,Y,j))}let yt=O.docView.nearest(ut);if(!yt)return null;if(yt.isWidget&&((E=yt.dom)===null||E===void 0?void 0:E.nodeType)==1){let St=yt.dom.getBoundingClientRect();return e.y<St.top||e.y<=St.bottom&&e.x<=(St.left+St.right)/2?yt.posAtStart:yt.posAtEnd}else return yt.localPosFromDOM(ut,pt)+yt.posAtStart}function gh(O,e,v,g,S){let E=Math.round((g-e.left)*O.defaultCharacterWidth);if(O.lineWrapping&&v.height>O.defaultLineHeight*1.5){let D=O.viewState.heightOracle.textHeight,I=Math.floor((S-v.top-(O.defaultLineHeight-D)*.5)/D);E+=I*O.viewState.heightOracle.lineLength}let R=O.state.sliceDoc(v.from,v.to);return v.from+yr(R,E,O.state.tabSize)}function Qd(O,e,v){let g;if(O.nodeType!=3||e!=(g=O.nodeValue.length))return!1;for(let S=O.nextSibling;S;S=S.nextSibling)if(S.nodeType!=1||S.nodeName!="BR")return!1;return bi(O,g-1,g).getBoundingClientRect().left>v}function Xd(O,e,v){if(e!=0)return!1;for(let S=O;;){let E=S.parentNode;if(!E||E.nodeType!=1||E.firstChild!=S)return!1;if(E.classList.contains("cm-line"))break;S=E}let g=O.nodeType==1?O.getBoundingClientRect():bi(O,0,Math.max(O.nodeValue.length,1)).getBoundingClientRect();return v-g.left>5}function Hr(O,e){let v=O.lineBlockAt(e);if(Array.isArray(v.type)){for(let g of v.type)if(g.to>e||g.to==e&&(g.to==v.to||g.type==ye.Text))return g}return v}function zd(O,e,v,g){let S=Hr(O,e.head),E=!g||S.type!=ye.Text||!(O.lineWrapping||S.widgetLineBreaks)?null:O.coordsAtPos(e.assoc<0&&e.head>S.from?e.head-1:e.head);if(E){let R=O.dom.getBoundingClientRect(),D=O.textDirectionAt(S.from),I=O.posAtCoords({x:v==(D==se.LTR)?R.right-1:R.left+1,y:(E.top+E.bottom)/2});if(I!=null)return N.cursor(I,v?-1:1)}return N.cursor(v?S.to:S.from,v?-1:1)}function xh(O,e,v,g){let S=O.state.doc.lineAt(e.head),E=O.bidiSpans(S),R=O.textDirectionAt(S.from);for(let D=e,I=null;;){let V=Ed(S,E,R,D,v),Y=jo;if(!V){if(S.number==(v?O.state.doc.lines:1))return D;Y=`
`,S=O.state.doc.line(S.number+(v?1:-1)),E=O.bidiSpans(S),V=O.visualLineSide(S,!v)}if(I){if(!I(Y))return D}else{if(!g)return V;I=g(Y)}D=V}}function Vd(O,e,v){let g=O.state.charCategorizer(e),S=g(v);return E=>{let R=g(E);return S==Ut.Space&&(S=R),S==R}}function Yd(O,e,v,g){let S=e.head,E=v?1:-1;if(S==(v?O.state.doc.length:0))return N.cursor(S,e.assoc);let R=e.goalColumn,D,I=O.contentDOM.getBoundingClientRect(),V=O.coordsAtPos(S,e.assoc||-1),Y=O.documentTop;if(V)R==null&&(R=V.left-I.left),D=E<0?V.top:V.bottom;else{let et=O.viewState.lineBlockAt(S);R==null&&(R=Math.min(I.right-I.left,O.defaultCharacterWidth*(S-et.from))),D=(E<0?et.top:et.bottom)+Y}let j=I.left+R,_=g??O.viewState.heightOracle.textHeight>>1;for(let et=0;;et+=10){let st=D+(_+et)*E,at=mh(O,{x:j,y:st},!1,E);if(st<I.top||st>I.bottom||(E<0?at<S:at>S)){let ot=O.docView.coordsForChar(at),ut=!ot||st<ot.top?-1:1;return N.cursor(at,ut,void 0,R)}}}function on(O,e,v){for(;;){let g=0;for(let S of O)S.between(e-1,e+1,(E,R,D)=>{if(e>E&&e<R){let I=g||v||(e-E<R-e?-1:1);e=I<0?E:R,g=I}});if(!g)return e}}function kr(O,e,v){let g=on(O.state.facet(Ur).map(S=>S(O)),v.from,e.head>v.from?-1:1);return g==v.from?v:N.cursor(g,g<v.from?1:-1)}const Cs="￿";class Ud{constructor(e,v){this.points=e,this.text="",this.lineSeparator=v.facet(Wt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Cs}readRange(e,v){if(!e)return this;let g=e.parentNode;for(let S=e;;){this.findPointBefore(g,S);let E=this.text.length;this.readNode(S);let R=S.nextSibling;if(R==v)break;let D=Kt.get(S),I=Kt.get(R);(D&&I?D.breakAfter:(D?D.breakAfter:_s(S))||_s(R)&&(S.nodeName!="BR"||S.cmIgnore)&&this.text.length>E)&&this.lineBreak(),S=R}return this.findPointBefore(g,v),this}readTextNode(e){let v=e.nodeValue;for(let g of this.points)g.node==e&&(g.pos=this.text.length+Math.min(g.offset,v.length));for(let g=0,S=this.lineSeparator?null:/\r\n?|\n/g;;){let E=-1,R=1,D;if(this.lineSeparator?(E=v.indexOf(this.lineSeparator,g),R=this.lineSeparator.length):(D=S.exec(v))&&(E=D.index,R=D[0].length),this.append(v.slice(g,E<0?v.length:E)),E<0)break;if(this.lineBreak(),R>1)for(let I of this.points)I.node==e&&I.pos>this.text.length&&(I.pos-=R-1);g=E+R}}readNode(e){if(e.cmIgnore)return;let v=Kt.get(e),g=v&&v.overrideDOMText;if(g!=null){this.findPointInside(e,g.length);for(let S=g.iter();!S.next().done;)S.lineBreak?this.lineBreak():this.append(S.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,v){for(let g of this.points)g.node==e&&e.childNodes[g.offset]==v&&(g.pos=this.text.length)}findPointInside(e,v){for(let g of this.points)(e.nodeType==3?g.node==e:e.contains(g.node))&&(g.pos=this.text.length+(Wd(e,g.node,g.offset)?v:0))}}function Wd(O,e,v){for(;;){if(!e||v<je(e))return!1;if(e==O)return!0;v=Di(e)+1,e=e.parentNode}}class Oh{constructor(e,v){this.node=e,this.offset=v,this.pos=-1}}class $d{constructor(e,v,g,S){this.typeOver=S,this.bounds=null,this.text="",this.domChanged=v>-1;let{impreciseHead:E,impreciseAnchor:R}=e.docView;if(e.state.readOnly&&v>-1)this.newSel=null;else if(v>-1&&(this.bounds=e.docView.domBoundsAround(v,g,0))){let D=E||R?[]:kd(e),I=new Ud(D,e.state);I.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=I.text,this.newSel=jd(D,this.bounds.from)}else{let D=e.observer.selectionRange,I=E&&E.node==D.focusNode&&E.offset==D.focusOffset||!Pr(e.contentDOM,D.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(D.focusNode,D.focusOffset),V=R&&R.node==D.anchorNode&&R.offset==D.anchorOffset||!Pr(e.contentDOM,D.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(D.anchorNode,D.anchorOffset),Y=e.viewport;if((Rt.ios||Rt.chrome)&&e.state.selection.main.empty&&I!=V&&(Y.from>0||Y.to<e.state.doc.length)){let j=Math.min(I,V),_=Math.max(I,V),et=Y.from-j,st=Y.to-_;(et==0||et==1||j==0)&&(st==0||st==-1||_==e.state.doc.length)&&(I=0,V=e.state.doc.length)}this.newSel=N.single(V,I)}}}function yh(O,e){let v,{newSel:g}=e,S=O.state.selection.main,E=O.inputState.lastKeyTime>Date.now()-100?O.inputState.lastKeyCode:-1;if(e.bounds){let{from:R,to:D}=e.bounds,I=S.from,V=null;(E===8||Rt.android&&e.text.length<D-R)&&(I=S.to,V="end");let Y=Hd(O.state.doc.sliceString(R,D,Cs),e.text,I-R,V);Y&&(Rt.chrome&&E==13&&Y.toB==Y.from+2&&e.text.slice(Y.from,Y.toB)==Cs+Cs&&Y.toB--,v={from:R+Y.from,to:R+Y.toA,insert:It.of(e.text.slice(Y.from,Y.toB).split(Cs))})}else g&&(!O.hasFocus&&O.state.facet(Ci)||g.main.eq(S))&&(g=null);if(!v&&!g)return!1;if(!v&&e.typeOver&&!S.empty&&g&&g.main.empty?v={from:S.from,to:S.to,insert:O.state.doc.slice(S.from,S.to)}:v&&v.from>=S.from&&v.to<=S.to&&(v.from!=S.from||v.to!=S.to)&&S.to-S.from-(v.to-v.from)<=4?v={from:S.from,to:S.to,insert:O.state.doc.slice(S.from,v.from).append(v.insert).append(O.state.doc.slice(v.to,S.to))}:(Rt.mac||Rt.android)&&v&&v.from==v.to&&v.from==S.head-1&&/^\. ?$/.test(v.insert.toString())&&O.contentDOM.getAttribute("autocorrect")=="off"?(g&&v.insert.length==2&&(g=N.single(g.main.anchor-1,g.main.head-1)),v={from:S.from,to:S.to,insert:It.of([" "])}):Rt.chrome&&v&&v.from==v.to&&v.from==S.head&&v.insert.toString()==`
 `&&O.lineWrapping&&(g&&(g=N.single(g.main.anchor-1,g.main.head-1)),v={from:S.from,to:S.to,insert:It.of([" "])}),v)return jr(O,v,g,E);if(g&&!g.main.eq(S)){let R=!1,D="select";return O.inputState.lastSelectionTime>Date.now()-50&&(O.inputState.lastSelectionOrigin=="select"&&(R=!0),D=O.inputState.lastSelectionOrigin),O.dispatch({selection:g,scrollIntoView:R,userEvent:D}),!0}else return!1}function jr(O,e,v,g=-1){if(Rt.ios&&O.inputState.flushIOSKey(e))return!0;let S=O.state.selection.main;if(Rt.android&&(e.to==S.to&&(e.from==S.from||e.from==S.from-1&&O.state.sliceDoc(e.from,S.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&$i(O.contentDOM,"Enter",13)||(e.from==S.from-1&&e.to==S.to&&e.insert.length==0||g==8&&e.insert.length<e.to-e.from&&e.to>S.head)&&$i(O.contentDOM,"Backspace",8)||e.from==S.from&&e.to==S.to+1&&e.insert.length==0&&$i(O.contentDOM,"Delete",46)))return!0;let E=e.insert.toString();O.inputState.composing>=0&&O.inputState.composing++;let R,D=()=>R||(R=Zd(O,e,v));return O.state.facet(th).some(I=>I(O,e.from,e.to,E,D))||O.dispatch(D()),!0}function Zd(O,e,v){let g,S=O.state,E=S.selection.main;if(e.from>=E.from&&e.to<=E.to&&e.to-e.from>=(E.to-E.from)/3&&(!v||v.main.empty&&v.main.from==e.from+e.insert.length)&&O.inputState.composing<0){let D=E.from<e.from?S.sliceDoc(E.from,e.from):"",I=E.to>e.to?S.sliceDoc(e.to,E.to):"";g=S.replaceSelection(O.state.toText(D+e.insert.sliceString(0,void 0,O.state.lineBreak)+I))}else{let D=S.changes(e),I=v&&v.main.to<=D.newLength?v.main:void 0;if(S.selection.ranges.length>1&&O.inputState.composing>=0&&e.to<=E.to&&e.to>=E.to-10){let V=O.state.sliceDoc(e.from,e.to),Y,j=v&&dh(O,v.main.head);if(j){let st=e.insert.length-(e.to-e.from);Y={from:j.from,to:j.to-st}}else Y=O.state.doc.lineAt(E.head);let _=E.to-e.to,et=E.to-E.from;g=S.changeByRange(st=>{if(st.from==E.from&&st.to==E.to)return{changes:D,range:I||st.map(D)};let at=st.to-_,ot=at-V.length;if(st.to-st.from!=et||O.state.sliceDoc(ot,at)!=V||st.to>=Y.from&&st.from<=Y.to)return{range:st};let ut=S.changes({from:ot,to:at,insert:e.insert}),pt=st.to-E.to;return{changes:ut,range:I?N.range(Math.max(0,I.anchor+pt),Math.max(0,I.head+pt)):st.map(ut)}})}else g={changes:D,selection:I&&S.selection.replaceRange(I)}}let R="input.type";return(O.composing||O.inputState.compositionPendingChange&&O.inputState.compositionEndedAt>Date.now()-50)&&(O.inputState.compositionPendingChange=!1,R+=".compose",O.inputState.compositionFirstChange&&(R+=".start",O.inputState.compositionFirstChange=!1)),S.update(g,{userEvent:R,scrollIntoView:!0})}function Hd(O,e,v,g){let S=Math.min(O.length,e.length),E=0;for(;E<S&&O.charCodeAt(E)==e.charCodeAt(E);)E++;if(E==S&&O.length==e.length)return null;let R=O.length,D=e.length;for(;R>0&&D>0&&O.charCodeAt(R-1)==e.charCodeAt(D-1);)R--,D--;if(g=="end"){let I=Math.max(0,E-Math.min(R,D));v-=R+I-E}if(R<E&&O.length<e.length){let I=v<=E&&v>=R?E-v:0;E-=I,D=E+(D-R),R=E}else if(D<E){let I=v<=E&&v>=D?E-v:0;E-=I,R=E+(R-D),D=E}return{from:E,toA:R,toB:D}}function kd(O){let e=[];if(O.root.activeElement!=O.contentDOM)return e;let{anchorNode:v,anchorOffset:g,focusNode:S,focusOffset:E}=O.observer.selectionRange;return v&&(e.push(new Oh(v,g)),(S!=v||E!=g)&&e.push(new Oh(S,E))),e}function jd(O,e){if(O.length==0)return null;let v=O[0].pos,g=O.length==2?O[1].pos:v;return v>-1&&g>-1?N.single(v+e,g+e):null}class Kd{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Rt.safari&&e.contentDOM.addEventListener("input",()=>null),Rt.gecko&&dc(e.contentDOM.ownerDocument)}handleEvent(e){!nc(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,v){let g=this.handlers[e];if(g){for(let S of g.observers)S(this.view,v);for(let S of g.handlers){if(v.defaultPrevented)break;if(S(this.view,v)){v.preventDefault();break}}}}ensureHandlers(e){let v=Jd(e),g=this.handlers,S=this.view.contentDOM;for(let E in v)if(E!="scroll"){let R=!v[E].handlers.length,D=g[E];D&&R!=!D.handlers.length&&(S.removeEventListener(E,this.handleEvent),D=null),D||S.addEventListener(E,this.handleEvent,{passive:R})}for(let E in g)E!="scroll"&&!v[E]&&S.removeEventListener(E,this.handleEvent);this.handlers=v}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Ch.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Rt.android&&Rt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let v;return Rt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((v=Th.find(g=>g.keyCode==e.keyCode))&&!e.ctrlKey||qd.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=v||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let v=this.pendingIOSKey;return!v||v.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,$i(this.view.contentDOM,v.key,v.keyCode,v instanceof KeyboardEvent?v:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Rt.safari&&!Rt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Sh(O,e){return(v,g)=>{try{return e.call(O,g,v)}catch(S){Ee(v.state,S)}}}function Jd(O){let e=Object.create(null);function v(g){return e[g]||(e[g]={observers:[],handlers:[]})}for(let g of O){let S=g.spec;if(S&&S.domEventHandlers)for(let E in S.domEventHandlers){let R=S.domEventHandlers[E];R&&v(E).handlers.push(Sh(g.value,R))}if(S&&S.domEventObservers)for(let E in S.domEventObservers){let R=S.domEventObservers[E];R&&v(E).observers.push(Sh(g.value,R))}}for(let g in $e)v(g).handlers.push($e[g]);for(let g in Ne)v(g).observers.push(Ne[g]);return e}const Th=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],qd="dthko",Ch=[16,17,18,20,91,92,224,225],hn=6;function ln(O){return Math.max(0,O)*.7+8}function _d(O,e){return Math.max(Math.abs(O.clientX-e.clientX),Math.abs(O.clientY-e.clientY))}class tc{constructor(e,v,g,S){this.view=e,this.startEvent=v,this.style=g,this.mustSelect=S,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=v,this.scrollParents=ld(e.contentDOM),this.atoms=e.state.facet(Ur).map(R=>R(e));let E=e.contentDOM.ownerDocument;E.addEventListener("mousemove",this.move=this.move.bind(this)),E.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=v.shiftKey,this.multiple=e.state.facet(Wt.allowMultipleSelections)&&ec(e,v),this.dragging=sc(e,v)&&Dh(v)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&_d(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let v=0,g=0,S=0,E=0,R=this.view.win.innerWidth,D=this.view.win.innerHeight;this.scrollParents.x&&({left:S,right:R}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:E,bottom:D}=this.scrollParents.y.getBoundingClientRect());let I=Wr(this.view);e.clientX-I.left<=S+hn?v=-ln(S-e.clientX):e.clientX+I.right>=R-hn&&(v=ln(e.clientX-R)),e.clientY-I.top<=E+hn?g=-ln(E-e.clientY):e.clientY+I.bottom>=D-hn&&(g=ln(e.clientY-D)),this.setScrollSpeed(v,g)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,v){this.scrollSpeed={x:e,y:v},e||v?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:v}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),v&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=v,v=0),(e||v)&&this.view.win.scrollBy(e,v),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let v=null;for(let g=0;g<e.ranges.length;g++){let S=e.ranges[g],E=null;if(S.empty){let R=on(this.atoms,S.from,0);R!=S.from&&(E=N.cursor(R,-1))}else{let R=on(this.atoms,S.from,-1),D=on(this.atoms,S.to,1);(R!=S.from||D!=S.to)&&(E=N.range(S.from==S.anchor?R:D,S.from==S.head?R:D))}E&&(v||(v=e.ranges.slice()),v[g]=E)}return v?N.create(v,e.mainIndex):e}select(e){let{view:v}=this,g=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!g.eq(v.state.selection,this.dragging===!1))&&this.view.dispatch({selection:g,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(v=>v.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ec(O,e){let v=O.state.facet(Ko);return v.length?v[0](e):Rt.mac?e.metaKey:e.ctrlKey}function ic(O,e){let v=O.state.facet(Jo);return v.length?v[0](e):Rt.mac?!e.altKey:!e.ctrlKey}function sc(O,e){let{main:v}=O.state.selection;if(v.empty)return!1;let g=vs(O.root);if(!g||g.rangeCount==0)return!0;let S=g.getRangeAt(0).getClientRects();for(let E=0;E<S.length;E++){let R=S[E];if(R.left<=e.clientX&&R.right>=e.clientX&&R.top<=e.clientY&&R.bottom>=e.clientY)return!0}return!1}function nc(O,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let v=e.target,g;v!=O.contentDOM;v=v.parentNode)if(!v||v.nodeType==11||(g=Kt.get(v))&&g.ignoreEvent(e))return!1;return!0}const $e=Object.create(null),Ne=Object.create(null),Ph=Rt.ie&&Rt.ie_version<15||Rt.ios&&Rt.webkit_version<604;function rc(O){let e=O.dom.parentNode;if(!e)return;let v=e.appendChild(document.createElement("textarea"));v.style.cssText="position: fixed; left: -10000px; top: 10px",v.focus(),setTimeout(()=>{O.focus(),v.remove(),Eh(O,v.value)},50)}function un(O,e,v){for(let g of O.facet(e))v=g(v,O);return v}function Eh(O,e){e=un(O.state,Xr,e);let{state:v}=O,g,S=1,E=v.toText(e),R=E.lines==v.selection.ranges.length;if(Kr!=null&&v.selection.ranges.every(I=>I.empty)&&Kr==E.toString()){let I=-1;g=v.changeByRange(V=>{let Y=v.doc.lineAt(V.from);if(Y.from==I)return{range:V};I=Y.from;let j=v.toText((R?E.line(S++).text:e)+v.lineBreak);return{changes:{from:Y.from,insert:j},range:N.cursor(V.from+j.length)}})}else R?g=v.changeByRange(I=>{let V=E.line(S++);return{changes:{from:I.from,to:I.to,insert:V.text},range:N.cursor(I.from+V.length)}}):g=v.replaceSelection(E);O.dispatch(g,{userEvent:"input.paste",scrollIntoView:!0})}Ne.scroll=O=>{O.inputState.lastScrollTop=O.scrollDOM.scrollTop,O.inputState.lastScrollLeft=O.scrollDOM.scrollLeft},$e.keydown=(O,e)=>(O.inputState.setSelectionOrigin("select"),e.keyCode==27&&O.inputState.tabFocusMode!=0&&(O.inputState.tabFocusMode=Date.now()+2e3),!1),Ne.touchstart=(O,e)=>{O.inputState.lastTouchTime=Date.now(),O.inputState.setSelectionOrigin("select.pointer")},Ne.touchmove=O=>{O.inputState.setSelectionOrigin("select.pointer")},$e.mousedown=(O,e)=>{if(O.observer.flush(),O.inputState.lastTouchTime>Date.now()-2e3)return!1;let v=null;for(let g of O.state.facet(qo))if(v=g(O,e),v)break;if(!v&&e.button==0&&(v=hc(O,e)),v){let g=!O.hasFocus;O.inputState.startMouseSelection(new tc(O,e,v,g)),g&&O.observer.ignore(()=>{Eo(O.contentDOM);let E=O.root.activeElement;E&&!E.contains(O.contentDOM)&&E.blur()});let S=O.inputState.mouseSelection;if(S)return S.start(e),S.dragging===!1}return!1};function Ah(O,e,v,g){if(g==1)return N.cursor(e,v);if(g==2)return Id(O.state,e,v);{let S=ae.find(O.docView,e),E=O.state.doc.lineAt(S?S.posAtEnd:e),R=S?S.posAtStart:E.from,D=S?S.posAtEnd:E.to;return D<O.state.doc.length&&D==E.to&&D++,N.range(R,D)}}let Mh=(O,e,v)=>e>=v.top&&e<=v.bottom&&O>=v.left&&O<=v.right;function ac(O,e,v,g){let S=ae.find(O.docView,e);if(!S)return 1;let E=e-S.posAtStart;if(E==0)return 1;if(E==S.length)return-1;let R=S.coordsAt(E,-1);if(R&&Mh(v,g,R))return-1;let D=S.coordsAt(E,1);return D&&Mh(v,g,D)?1:R&&R.bottom>=g?-1:1}function Rh(O,e){let v=O.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:v,bias:ac(O,v,e.clientX,e.clientY)}}const oc=Rt.ie&&Rt.ie_version<=11;let wh=null,Lh=0,Fh=0;function Dh(O){if(!oc)return O.detail;let e=wh,v=Fh;return wh=O,Fh=Date.now(),Lh=!e||v>Date.now()-400&&Math.abs(e.clientX-O.clientX)<2&&Math.abs(e.clientY-O.clientY)<2?(Lh+1)%3:1}function hc(O,e){let v=Rh(O,e),g=Dh(e),S=O.state.selection;return{update(E){E.docChanged&&(v.pos=E.changes.mapPos(v.pos),S=S.map(E.changes))},get(E,R,D){let I=Rh(O,E),V,Y=Ah(O,I.pos,I.bias,g);if(v.pos!=I.pos&&!R){let j=Ah(O,v.pos,v.bias,g),_=Math.min(j.from,Y.from),et=Math.max(j.to,Y.to);Y=_<Y.from?N.range(_,et):N.range(et,_)}return R?S.replaceRange(S.main.extend(Y.from,Y.to)):D&&g==1&&S.ranges.length>1&&(V=lc(S,I.pos))?V:D?S.addRange(Y):N.create([Y])}}}function lc(O,e){for(let v=0;v<O.ranges.length;v++){let{from:g,to:S}=O.ranges[v];if(g<=e&&S>=e)return N.create(O.ranges.slice(0,v).concat(O.ranges.slice(v+1)),O.mainIndex==v?0:O.mainIndex-(O.mainIndex>v?1:0))}return null}$e.dragstart=(O,e)=>{let{selection:{main:v}}=O.state;if(e.target.draggable){let S=O.docView.nearest(e.target);if(S&&S.isWidget){let E=S.posAtStart,R=E+S.length;(E>=v.to||R<=v.from)&&(v=N.range(E,R))}}let{inputState:g}=O;return g.mouseSelection&&(g.mouseSelection.dragging=!0),g.draggedContent=v,e.dataTransfer&&(e.dataTransfer.setData("Text",un(O.state,zr,O.state.sliceDoc(v.from,v.to))),e.dataTransfer.effectAllowed="copyMove"),!1},$e.dragend=O=>(O.inputState.draggedContent=null,!1);function bh(O,e,v,g){if(v=un(O.state,Xr,v),!v)return;let S=O.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:E}=O.inputState,R=g&&E&&ic(O,e)?{from:E.from,to:E.to}:null,D={from:S,insert:v},I=O.state.changes(R?[R,D]:D);O.focus(),O.dispatch({changes:I,selection:{anchor:I.mapPos(S,-1),head:I.mapPos(S,1)},userEvent:R?"move.drop":"input.drop"}),O.inputState.draggedContent=null}$e.drop=(O,e)=>{if(!e.dataTransfer)return!1;if(O.state.readOnly)return!0;let v=e.dataTransfer.files;if(v&&v.length){let g=Array(v.length),S=0,E=()=>{++S==v.length&&bh(O,e,g.filter(R=>R!=null).join(O.state.lineBreak),!1)};for(let R=0;R<v.length;R++){let D=new FileReader;D.onerror=E,D.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(D.result)||(g[R]=D.result),E()},D.readAsText(v[R])}return!0}else{let g=e.dataTransfer.getData("Text");if(g)return bh(O,e,g,!0),!0}return!1},$e.paste=(O,e)=>{if(O.state.readOnly)return!0;O.observer.flush();let v=Ph?null:e.clipboardData;return v?(Eh(O,v.getData("text/plain")||v.getData("text/uri-list")),!0):(rc(O),!1)};function uc(O,e){let v=O.dom.parentNode;if(!v)return;let g=v.appendChild(document.createElement("textarea"));g.style.cssText="position: fixed; left: -10000px; top: 10px",g.value=e,g.focus(),g.selectionEnd=e.length,g.selectionStart=0,setTimeout(()=>{g.remove(),O.focus()},50)}function fc(O){let e=[],v=[],g=!1;for(let S of O.selection.ranges)S.empty||(e.push(O.sliceDoc(S.from,S.to)),v.push(S));if(!e.length){let S=-1;for(let{from:E}of O.selection.ranges){let R=O.doc.lineAt(E);R.number>S&&(e.push(R.text),v.push({from:R.from,to:Math.min(O.doc.length,R.to+1)})),S=R.number}g=!0}return{text:un(O,zr,e.join(O.lineBreak)),ranges:v,linewise:g}}let Kr=null;$e.copy=$e.cut=(O,e)=>{let{text:v,ranges:g,linewise:S}=fc(O.state);if(!v&&!S)return!1;Kr=S?v:null,e.type=="cut"&&!O.state.readOnly&&O.dispatch({changes:g,scrollIntoView:!0,userEvent:"delete.cut"});let E=Ph?null:e.clipboardData;return E?(E.clearData(),E.setData("text/plain",v),!0):(uc(O,v),!1)};const Bh=bt.define();function Ih(O,e){let v=[];for(let g of O.facet(eh)){let S=g(O,e);S&&v.push(S)}return v?O.update({effects:v,annotations:Bh.of(!0)}):null}function Gh(O){setTimeout(()=>{let e=O.hasFocus;if(e!=O.inputState.notifiedFocused){let v=Ih(O.state,e);v?O.dispatch(v):O.update([])}},10)}Ne.focus=O=>{O.inputState.lastFocusTime=Date.now(),!O.scrollDOM.scrollTop&&(O.inputState.lastScrollTop||O.inputState.lastScrollLeft)&&(O.scrollDOM.scrollTop=O.inputState.lastScrollTop,O.scrollDOM.scrollLeft=O.inputState.lastScrollLeft),Gh(O)},Ne.blur=O=>{O.observer.clearSelectionRange(),Gh(O)},Ne.compositionstart=Ne.compositionupdate=O=>{O.observer.editContext||(O.inputState.compositionFirstChange==null&&(O.inputState.compositionFirstChange=!0),O.inputState.composing<0&&(O.inputState.composing=0))},Ne.compositionend=O=>{O.observer.editContext||(O.inputState.composing=-1,O.inputState.compositionEndedAt=Date.now(),O.inputState.compositionPendingKey=!0,O.inputState.compositionPendingChange=O.observer.pendingRecords().length>0,O.inputState.compositionFirstChange=null,Rt.chrome&&Rt.android?O.observer.flushSoon():O.inputState.compositionPendingChange?Promise.resolve().then(()=>O.observer.flush()):setTimeout(()=>{O.inputState.composing<0&&O.docView.hasComposition&&O.update([])},50))},Ne.contextmenu=O=>{O.inputState.lastContextMenu=Date.now()},$e.beforeinput=(O,e)=>{var v,g;if(e.inputType=="insertReplacementText"&&O.observer.editContext){let E=(v=e.dataTransfer)===null||v===void 0?void 0:v.getData("text/plain"),R=e.getTargetRanges();if(E&&R.length){let D=R[0],I=O.posAtDOM(D.startContainer,D.startOffset),V=O.posAtDOM(D.endContainer,D.endOffset);return jr(O,{from:I,to:V,insert:O.state.toText(E)},null),!0}}let S;if(Rt.chrome&&Rt.android&&(S=Th.find(E=>E.inputType==e.inputType))&&(O.observer.delayAndroidKey(S.key,S.keyCode),S.key=="Backspace"||S.key=="Delete")){let E=((g=window.visualViewport)===null||g===void 0?void 0:g.height)||0;setTimeout(()=>{var R;(((R=window.visualViewport)===null||R===void 0?void 0:R.height)||0)>E+10&&O.hasFocus&&(O.contentDOM.blur(),O.focus())},100)}return Rt.ios&&e.inputType=="deleteContentForward"&&O.observer.flushSoon(),Rt.safari&&e.inputType=="insertText"&&O.inputState.composing>=0&&setTimeout(()=>Ne.compositionend(O,e),20),!1};const Nh=new Set;function dc(O){Nh.has(O)||(Nh.add(O),O.addEventListener("copy",()=>{}),O.addEventListener("cut",()=>{}))}const Qh=["pre-wrap","normal","pre-line","break-spaces"];let ji=!1;function Xh(){ji=!1}class cc{constructor(e){this.lineWrapping=e,this.doc=It.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,v){let g=this.doc.lineAt(v).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(g+=Math.max(0,Math.ceil((v-e-g*this.lineLength*.5)/this.lineLength))),this.lineHeight*g}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Qh.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let v=!1;for(let g=0;g<e.length;g++){let S=e[g];S<0?g++:this.heightSamples[Math.floor(S*10)]||(v=!0,this.heightSamples[Math.floor(S*10)]=!0)}return v}refresh(e,v,g,S,E,R){let D=Qh.indexOf(e)>-1,I=Math.round(v)!=Math.round(this.lineHeight)||this.lineWrapping!=D;if(this.lineWrapping=D,this.lineHeight=v,this.charWidth=g,this.textHeight=S,this.lineLength=E,I){this.heightSamples={};for(let V=0;V<R.length;V++){let Y=R[V];Y<0?V++:this.heightSamples[Math.floor(Y*10)]=!0}}return I}}class vc{constructor(e,v){this.from=e,this.heights=v,this.index=0}get more(){return this.index<this.heights.length}}class Je{constructor(e,v,g,S,E){this.from=e,this.length=v,this.top=g,this.height=S,this._content=E}get type(){return typeof this._content=="number"?ye.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Si?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let v=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Je(this.from,this.length+e.length,this.top,this.height+e.height,v)}}var ne=function(O){return O[O.ByPos=0]="ByPos",O[O.ByHeight=1]="ByHeight",O[O.ByPosNoHeight=2]="ByPosNoHeight",O}(ne||(ne={}));const fn=.001;class Se{constructor(e,v,g=2){this.length=e,this.height=v,this.flags=g}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>fn&&(ji=!0),this.height=e)}replace(e,v,g){return Se.of(g)}decomposeLeft(e,v){v.push(this)}decomposeRight(e,v){v.push(this)}applyChanges(e,v,g,S){let E=this,R=g.doc;for(let D=S.length-1;D>=0;D--){let{fromA:I,toA:V,fromB:Y,toB:j}=S[D],_=E.lineAt(I,ne.ByPosNoHeight,g.setDoc(v),0,0),et=_.to>=V?_:E.lineAt(V,ne.ByPosNoHeight,g,0,0);for(j+=et.to-V,V=et.to;D>0&&_.from<=S[D-1].toA;)I=S[D-1].fromA,Y=S[D-1].fromB,D--,I<_.from&&(_=E.lineAt(I,ne.ByPosNoHeight,g,0,0));Y+=_.from-I,I=_.from;let st=Jr.build(g.setDoc(R),e,Y,j);E=dn(E,E.replace(I,V,st))}return E.updateHeight(g,0)}static empty(){return new Fe(0,0)}static of(e){if(e.length==1)return e[0];let v=0,g=e.length,S=0,E=0;for(;;)if(v==g)if(S>E*2){let D=e[v-1];D.break?e.splice(--v,1,D.left,null,D.right):e.splice(--v,1,D.left,D.right),g+=1+D.break,S-=D.size}else if(E>S*2){let D=e[g];D.break?e.splice(g,1,D.left,null,D.right):e.splice(g,1,D.left,D.right),g+=2+D.break,E-=D.size}else break;else if(S<E){let D=e[v++];D&&(S+=D.size)}else{let D=e[--g];D&&(E+=D.size)}let R=0;return e[v-1]==null?(R=1,v--):e[v]==null&&(R=1,g++),new pc(Se.of(e.slice(0,v)),R,Se.of(e.slice(g)))}}function dn(O,e){return O==e?O:(O.constructor!=e.constructor&&(ji=!0),e)}Se.prototype.size=1;class zh extends Se{constructor(e,v,g){super(e,v),this.deco=g}blockAt(e,v,g,S){return new Je(S,this.length,g,this.height,this.deco||0)}lineAt(e,v,g,S,E){return this.blockAt(0,g,S,E)}forEachLine(e,v,g,S,E,R){e<=E+this.length&&v>=E&&R(this.blockAt(0,g,S,E))}updateHeight(e,v=0,g=!1,S){return S&&S.from<=v&&S.more&&this.setHeight(S.heights[S.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Fe extends zh{constructor(e,v){super(e,v,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,v,g,S){return new Je(S,this.length,g,this.height,this.breaks)}replace(e,v,g){let S=g[0];return g.length==1&&(S instanceof Fe||S instanceof pe&&S.flags&4)&&Math.abs(this.length-S.length)<10?(S instanceof pe?S=new Fe(S.length,this.height):S.height=this.height,this.outdated||(S.outdated=!1),S):Se.of(g)}updateHeight(e,v=0,g=!1,S){return S&&S.from<=v&&S.more?this.setHeight(S.heights[S.index++]):(g||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class pe extends Se{constructor(e){super(e,0)}heightMetrics(e,v){let g=e.doc.lineAt(v).number,S=e.doc.lineAt(v+this.length).number,E=S-g+1,R,D=0;if(e.lineWrapping){let I=Math.min(this.height,e.lineHeight*E);R=I/E,this.length>E+1&&(D=(this.height-I)/(this.length-E-1))}else R=this.height/E;return{firstLine:g,lastLine:S,perLine:R,perChar:D}}blockAt(e,v,g,S){let{firstLine:E,lastLine:R,perLine:D,perChar:I}=this.heightMetrics(v,S);if(v.lineWrapping){let V=S+(e<v.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-g)/this.height))*this.length)),Y=v.doc.lineAt(V),j=D+Y.length*I,_=Math.max(g,e-j/2);return new Je(Y.from,Y.length,_,j,0)}else{let V=Math.max(0,Math.min(R-E,Math.floor((e-g)/D))),{from:Y,length:j}=v.doc.line(E+V);return new Je(Y,j,g+D*V,D,0)}}lineAt(e,v,g,S,E){if(v==ne.ByHeight)return this.blockAt(e,g,S,E);if(v==ne.ByPosNoHeight){let{from:et,to:st}=g.doc.lineAt(e);return new Je(et,st-et,0,0,0)}let{firstLine:R,perLine:D,perChar:I}=this.heightMetrics(g,E),V=g.doc.lineAt(e),Y=D+V.length*I,j=V.number-R,_=S+D*j+I*(V.from-E-j);return new Je(V.from,V.length,Math.max(S,Math.min(_,S+this.height-Y)),Y,0)}forEachLine(e,v,g,S,E,R){e=Math.max(e,E),v=Math.min(v,E+this.length);let{firstLine:D,perLine:I,perChar:V}=this.heightMetrics(g,E);for(let Y=e,j=S;Y<=v;){let _=g.doc.lineAt(Y);if(Y==e){let st=_.number-D;j+=I*st+V*(e-E-st)}let et=I+V*_.length;R(new Je(_.from,_.length,j,et,0)),j+=et,Y=_.to+1}}replace(e,v,g){let S=this.length-v;if(S>0){let E=g[g.length-1];E instanceof pe?g[g.length-1]=new pe(E.length+S):g.push(null,new pe(S-1))}if(e>0){let E=g[0];E instanceof pe?g[0]=new pe(e+E.length):g.unshift(new pe(e-1),null)}return Se.of(g)}decomposeLeft(e,v){v.push(new pe(e-1),null)}decomposeRight(e,v){v.push(null,new pe(this.length-e-1))}updateHeight(e,v=0,g=!1,S){let E=v+this.length;if(S&&S.from<=v+this.length&&S.more){let R=[],D=Math.max(v,S.from),I=-1;for(S.from>v&&R.push(new pe(S.from-v-1).updateHeight(e,v));D<=E&&S.more;){let Y=e.doc.lineAt(D).length;R.length&&R.push(null);let j=S.heights[S.index++];I==-1?I=j:Math.abs(j-I)>=fn&&(I=-2);let _=new Fe(Y,j);_.outdated=!1,R.push(_),D+=Y+1}D<=E&&R.push(null,new pe(E-D).updateHeight(e,D));let V=Se.of(R);return(I<0||Math.abs(V.height-this.height)>=fn||Math.abs(I-this.heightMetrics(e,v).perLine)>=fn)&&(ji=!0),dn(this,V)}else(g||this.outdated)&&(this.setHeight(e.heightForGap(v,v+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class pc extends Se{constructor(e,v,g){super(e.length+v+g.length,e.height+g.height,v|(e.outdated||g.outdated?2:0)),this.left=e,this.right=g,this.size=e.size+g.size}get break(){return this.flags&1}blockAt(e,v,g,S){let E=g+this.left.height;return e<E?this.left.blockAt(e,v,g,S):this.right.blockAt(e,v,E,S+this.left.length+this.break)}lineAt(e,v,g,S,E){let R=S+this.left.height,D=E+this.left.length+this.break,I=v==ne.ByHeight?e<R:e<D,V=I?this.left.lineAt(e,v,g,S,E):this.right.lineAt(e,v,g,R,D);if(this.break||(I?V.to<D:V.from>D))return V;let Y=v==ne.ByPosNoHeight?ne.ByPosNoHeight:ne.ByPos;return I?V.join(this.right.lineAt(D,Y,g,R,D)):this.left.lineAt(D,Y,g,S,E).join(V)}forEachLine(e,v,g,S,E,R){let D=S+this.left.height,I=E+this.left.length+this.break;if(this.break)e<I&&this.left.forEachLine(e,v,g,S,E,R),v>=I&&this.right.forEachLine(e,v,g,D,I,R);else{let V=this.lineAt(I,ne.ByPos,g,S,E);e<V.from&&this.left.forEachLine(e,V.from-1,g,S,E,R),V.to>=e&&V.from<=v&&R(V),v>V.to&&this.right.forEachLine(V.to+1,v,g,D,I,R)}}replace(e,v,g){let S=this.left.length+this.break;if(v<S)return this.balanced(this.left.replace(e,v,g),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-S,v-S,g));let E=[];e>0&&this.decomposeLeft(e,E);let R=E.length;for(let D of g)E.push(D);if(e>0&&Vh(E,R-1),v<this.length){let D=E.length;this.decomposeRight(v,E),Vh(E,D)}return Se.of(E)}decomposeLeft(e,v){let g=this.left.length;if(e<=g)return this.left.decomposeLeft(e,v);v.push(this.left),this.break&&(g++,e>=g&&v.push(null)),e>g&&this.right.decomposeLeft(e-g,v)}decomposeRight(e,v){let g=this.left.length,S=g+this.break;if(e>=S)return this.right.decomposeRight(e-S,v);e<g&&this.left.decomposeRight(e,v),this.break&&e<S&&v.push(null),v.push(this.right)}balanced(e,v){return e.size>2*v.size||v.size>2*e.size?Se.of(this.break?[e,null,v]:[e,v]):(this.left=dn(this.left,e),this.right=dn(this.right,v),this.setHeight(e.height+v.height),this.outdated=e.outdated||v.outdated,this.size=e.size+v.size,this.length=e.length+this.break+v.length,this)}updateHeight(e,v=0,g=!1,S){let{left:E,right:R}=this,D=v+E.length+this.break,I=null;return S&&S.from<=v+E.length&&S.more?I=E=E.updateHeight(e,v,g,S):E.updateHeight(e,v,g),S&&S.from<=D+R.length&&S.more?I=R=R.updateHeight(e,D,g,S):R.updateHeight(e,D,g),I?this.balanced(E,R):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Vh(O,e){let v,g;O[e]==null&&(v=O[e-1])instanceof pe&&(g=O[e+1])instanceof pe&&O.splice(e-1,3,new pe(v.length+1+g.length))}const mc=5;class Jr{constructor(e,v){this.pos=e,this.oracle=v,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,v){if(this.lineStart>-1){let g=Math.min(v,this.lineEnd),S=this.nodes[this.nodes.length-1];S instanceof Fe?S.length+=g-this.pos:(g>this.pos||!this.isCovered)&&this.nodes.push(new Fe(g-this.pos,-1)),this.writtenTo=g,v>g&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=v}point(e,v,g){if(e<v||g.heightRelevant){let S=g.widget?g.widget.estimatedHeight:0,E=g.widget?g.widget.lineBreaks:0;S<0&&(S=this.oracle.lineHeight);let R=v-e;g.block?this.addBlock(new zh(R,S,g)):(R||E||S>=mc)&&this.addLineDeco(S,E,R)}else v>e&&this.span(e,v);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:v}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=v,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Fe(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,v){let g=new pe(v-e);return this.oracle.doc.lineAt(e).to==v&&(g.flags|=4),g}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Fe)return e;let v=new Fe(0,-1);return this.nodes.push(v),v}addBlock(e){this.enterLine();let v=e.deco;v&&v.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,v&&v.endSide>0&&(this.covering=e)}addLineDeco(e,v,g){let S=this.ensureLine();S.length+=g,S.collapsed+=g,S.widgetHeight=Math.max(S.widgetHeight,e),S.breaks+=v,this.writtenTo=this.pos=this.pos+g}finish(e){let v=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(v instanceof Fe)&&!this.isCovered?this.nodes.push(new Fe(0,-1)):(this.writtenTo<this.pos||v==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let g=e;for(let S of this.nodes)S instanceof Fe&&S.updateHeight(this.oracle,g),g+=S?S.length:1;return this.nodes}static build(e,v,g,S){let E=new Jr(g,e);return Yt.spans(v,g,S,E,0),E.finish(g)}}function gc(O,e,v){let g=new xc;return Yt.compare(O,e,v,g,0),g.changes}class xc{constructor(){this.changes=[]}compareRange(){}comparePoint(e,v,g,S){(e<v||g&&g.heightRelevant||S&&S.heightRelevant)&&Dr(e,v,this.changes,5)}}function Oc(O,e){let v=O.getBoundingClientRect(),g=O.ownerDocument,S=g.defaultView||window,E=Math.max(0,v.left),R=Math.min(S.innerWidth,v.right),D=Math.max(0,v.top),I=Math.min(S.innerHeight,v.bottom);for(let V=O.parentNode;V&&V!=g.body;)if(V.nodeType==1){let Y=V,j=window.getComputedStyle(Y);if((Y.scrollHeight>Y.clientHeight||Y.scrollWidth>Y.clientWidth)&&j.overflow!="visible"){let _=Y.getBoundingClientRect();E=Math.max(E,_.left),R=Math.min(R,_.right),D=Math.max(D,_.top),I=Math.min(V==O.parentNode?S.innerHeight:I,_.bottom)}V=j.position=="absolute"||j.position=="fixed"?Y.offsetParent:Y.parentNode}else if(V.nodeType==11)V=V.host;else break;return{left:E-v.left,right:Math.max(E,R)-v.left,top:D-(v.top+e),bottom:Math.max(D,I)-(v.top+e)}}function yc(O,e){let v=O.getBoundingClientRect();return{left:0,right:v.right-v.left,top:e,bottom:v.bottom-(v.top+e)}}class qr{constructor(e,v,g,S){this.from=e,this.to=v,this.size=g,this.displaySize=S}static same(e,v){if(e.length!=v.length)return!1;for(let g=0;g<e.length;g++){let S=e[g],E=v[g];if(S.from!=E.from||S.to!=E.to||S.size!=E.size)return!1}return!0}draw(e,v){return Lt.replace({widget:new Sc(this.displaySize*(v?e.scaleY:e.scaleX),v)}).range(this.from,this.to)}}class Sc extends di{constructor(e,v){super(),this.size=e,this.vertical=v}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Yh{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Uh,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=se.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let v=e.facet(Yr).some(g=>typeof g!="function"&&g.class=="cm-lineWrapping");this.heightOracle=new cc(v),this.stateDeco=e.facet(Ss).filter(g=>typeof g!="function"),this.heightMap=Se.empty().applyChanges(this.stateDeco,It.empty,this.heightOracle.setDoc(e.doc),[new Ge(0,0,0,e.doc.length)]);for(let g=0;g<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());g++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Lt.set(this.lineGaps.map(g=>g.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:v}=this.state.selection;for(let g=0;g<=1;g++){let S=g?v.head:v.anchor;if(!e.some(({from:E,to:R})=>S>=E&&S<=R)){let{from:E,to:R}=this.lineBlockAt(S);e.push(new cn(E,R))}}return this.viewports=e.sort((g,S)=>g.from-S.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Uh:new _r(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ps(e,this.scaler))})}update(e,v=null){this.state=e.state;let g=this.stateDeco;this.stateDeco=this.state.facet(Ss).filter(Y=>typeof Y!="function");let S=e.changedRanges,E=Ge.extendWithRanges(S,gc(g,this.stateDeco,e?e.changes:P.empty(this.state.doc.length))),R=this.heightMap.height,D=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Xh(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),E),(this.heightMap.height!=R||ji)&&(e.flags|=2),D?(this.scrollAnchorPos=e.changes.mapPos(D.from,-1),this.scrollAnchorHeight=D.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let I=E.length?this.mapViewport(this.viewport,e.changes):this.viewport;(v&&(v.range.head<I.from||v.range.head>I.to)||!this.viewportIsAppropriate(I))&&(I=this.getViewport(0,v));let V=I.from!=this.viewport.from||I.to!=this.viewport.to;this.viewport=I,e.flags|=this.updateForViewport(),(V||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),v&&(this.scrollTarget=v),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(sh)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let v=e.contentDOM,g=window.getComputedStyle(v),S=this.heightOracle,E=g.whiteSpace;this.defaultTextDirection=g.direction=="rtl"?se.RTL:se.LTR;let R=this.heightOracle.mustRefreshForWrapping(E),D=v.getBoundingClientRect(),I=R||this.mustMeasureContent||this.contentDOMHeight!=D.height;this.contentDOMHeight=D.height,this.mustMeasureContent=!1;let V=0,Y=0;if(D.width&&D.height){let{scaleX:St,scaleY:mt}=Po(v,D);(St>.005&&Math.abs(this.scaleX-St)>.005||mt>.005&&Math.abs(this.scaleY-mt)>.005)&&(this.scaleX=St,this.scaleY=mt,V|=8,R=I=!0)}let j=(parseInt(g.paddingTop)||0)*this.scaleY,_=(parseInt(g.paddingBottom)||0)*this.scaleY;(this.paddingTop!=j||this.paddingBottom!=_)&&(this.paddingTop=j,this.paddingBottom=_,V|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(S.lineWrapping&&(I=!0),this.editorWidth=e.scrollDOM.clientWidth,V|=8);let et=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=et&&(this.scrollAnchorHeight=-1,this.scrollTop=et),this.scrolledToBottom=Ro(e.scrollDOM);let st=(this.printing?yc:Oc)(v,this.paddingTop),at=st.top-this.pixelViewport.top,ot=st.bottom-this.pixelViewport.bottom;this.pixelViewport=st;let ut=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(ut!=this.inView&&(this.inView=ut,ut&&(I=!0)),!this.inView&&!this.scrollTarget)return 0;let pt=D.width;if((this.contentDOMWidth!=pt||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=D.width,this.editorHeight=e.scrollDOM.clientHeight,V|=8),I){let St=e.docView.measureVisibleLineHeights(this.viewport);if(S.mustRefreshForHeights(St)&&(R=!0),R||S.lineWrapping&&Math.abs(pt-this.contentDOMWidth)>S.charWidth){let{lineHeight:mt,charWidth:Tt,textHeight:Pt}=e.docView.measureTextSize();R=mt>0&&S.refresh(E,mt,Tt,Pt,pt/Tt,St),R&&(e.docView.minWidth=0,V|=8)}at>0&&ot>0?Y=Math.max(at,ot):at<0&&ot<0&&(Y=Math.min(at,ot)),Xh();for(let mt of this.viewports){let Tt=mt.from==this.viewport.from?St:e.docView.measureVisibleLineHeights(mt);this.heightMap=(R?Se.empty().applyChanges(this.stateDeco,It.empty,this.heightOracle,[new Ge(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(S,0,R,new vc(mt.from,Tt))}ji&&(V|=2)}let yt=!this.viewportIsAppropriate(this.viewport,Y)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return yt&&(V&2&&(V|=this.updateScaler()),this.viewport=this.getViewport(Y,this.scrollTarget),V|=this.updateForViewport()),(V&2||yt)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(R?[]:this.lineGaps,e)),V|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),V}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,v){let g=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),S=this.heightMap,E=this.heightOracle,{visibleTop:R,visibleBottom:D}=this,I=new cn(S.lineAt(R-g*1e3,ne.ByHeight,E,0,0).from,S.lineAt(D+(1-g)*1e3,ne.ByHeight,E,0,0).to);if(v){let{head:V}=v.range;if(V<I.from||V>I.to){let Y=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),j=S.lineAt(V,ne.ByPos,E,0,0),_;v.y=="center"?_=(j.top+j.bottom)/2-Y/2:v.y=="start"||v.y=="nearest"&&V<I.from?_=j.top:_=j.bottom-Y,I=new cn(S.lineAt(_-1e3/2,ne.ByHeight,E,0,0).from,S.lineAt(_+Y+1e3/2,ne.ByHeight,E,0,0).to)}}return I}mapViewport(e,v){let g=v.mapPos(e.from,-1),S=v.mapPos(e.to,1);return new cn(this.heightMap.lineAt(g,ne.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(S,ne.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:v},g=0){if(!this.inView)return!0;let{top:S}=this.heightMap.lineAt(e,ne.ByPos,this.heightOracle,0,0),{bottom:E}=this.heightMap.lineAt(v,ne.ByPos,this.heightOracle,0,0),{visibleTop:R,visibleBottom:D}=this;return(e==0||S<=R-Math.max(10,Math.min(-g,250)))&&(v==this.state.doc.length||E>=D+Math.max(10,Math.min(g,250)))&&S>R-2*1e3&&E<D+2*1e3}mapLineGaps(e,v){if(!e.length||v.empty)return e;let g=[];for(let S of e)v.touchesRange(S.from,S.to)||g.push(new qr(v.mapPos(S.from),v.mapPos(S.to),S.size,S.displaySize));return g}ensureLineGaps(e,v){let g=this.heightOracle.lineWrapping,S=g?1e4:2e3,E=S>>1,R=S<<1;if(this.defaultTextDirection!=se.LTR&&!g)return[];let D=[],I=(Y,j,_,et)=>{if(j-Y<E)return;let st=this.state.selection.main,at=[st.from];st.empty||at.push(st.to);for(let ut of at)if(ut>Y&&ut<j){I(Y,ut-10,_,et),I(ut+10,j,_,et);return}let ot=Cc(e,ut=>ut.from>=_.from&&ut.to<=_.to&&Math.abs(ut.from-Y)<E&&Math.abs(ut.to-j)<E&&!at.some(pt=>ut.from<pt&&ut.to>pt));if(!ot){if(j<_.to&&v&&g&&v.visibleRanges.some(yt=>yt.from<=j&&yt.to>=j)){let yt=v.moveToLineBoundary(N.cursor(j),!1,!0).head;yt>Y&&(j=yt)}let ut=this.gapSize(_,Y,j,et),pt=g||ut<2e6?ut:2e6;ot=new qr(Y,j,ut,pt)}D.push(ot)},V=Y=>{if(Y.length<R||Y.type!=ye.Text)return;let j=Tc(Y.from,Y.to,this.stateDeco);if(j.total<R)return;let _=this.scrollTarget?this.scrollTarget.range.head:null,et,st;if(g){let at=S/this.heightOracle.lineLength*this.heightOracle.lineHeight,ot,ut;if(_!=null){let pt=pn(j,_),yt=((this.visibleBottom-this.visibleTop)/2+at)/Y.height;ot=pt-yt,ut=pt+yt}else ot=(this.visibleTop-Y.top-at)/Y.height,ut=(this.visibleBottom-Y.top+at)/Y.height;et=vn(j,ot),st=vn(j,ut)}else{let at=j.total*this.heightOracle.charWidth,ot=S*this.heightOracle.charWidth,ut=0;if(at>2e6)for(let Tt of e)Tt.from>=Y.from&&Tt.from<Y.to&&Tt.size!=Tt.displaySize&&Tt.from*this.heightOracle.charWidth+ut<this.pixelViewport.left&&(ut=Tt.size-Tt.displaySize);let pt=this.pixelViewport.left+ut,yt=this.pixelViewport.right+ut,St,mt;if(_!=null){let Tt=pn(j,_),Pt=((yt-pt)/2+ot)/at;St=Tt-Pt,mt=Tt+Pt}else St=(pt-ot)/at,mt=(yt+ot)/at;et=vn(j,St),st=vn(j,mt)}et>Y.from&&I(Y.from,et,Y,j),st<Y.to&&I(st,Y.to,Y,j)};for(let Y of this.viewportLines)Array.isArray(Y.type)?Y.type.forEach(V):V(Y);return D}gapSize(e,v,g,S){let E=pn(S,g)-pn(S,v);return this.heightOracle.lineWrapping?e.height*E:S.total*this.heightOracle.charWidth*E}updateLineGaps(e){qr.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Lt.set(e.map(v=>v.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let v=[];Yt.spans(e,this.viewport.from,this.viewport.to,{span(S,E){v.push({from:S,to:E})},point(){}},20);let g=v.length!=this.visibleRanges.length||this.visibleRanges.some((S,E)=>S.from!=v[E].from||S.to!=v[E].to);return this.visibleRanges=v,g?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(v=>v.from<=e&&v.to>=e)||Ps(this.heightMap.lineAt(e,ne.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(v=>v.top<=e&&v.bottom>=e)||Ps(this.heightMap.lineAt(this.scaler.fromDOM(e),ne.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let v=this.lineBlockAtHeight(e+8);return v.from>=this.viewport.from||this.viewportLines[0].top-e>200?v:this.viewportLines[0]}elementAtHeight(e){return Ps(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class cn{constructor(e,v){this.from=e,this.to=v}}function Tc(O,e,v){let g=[],S=O,E=0;return Yt.spans(v,O,e,{span(){},point(R,D){R>S&&(g.push({from:S,to:R}),E+=R-S),S=D}},20),S<e&&(g.push({from:S,to:e}),E+=e-S),{total:E,ranges:g}}function vn({total:O,ranges:e},v){if(v<=0)return e[0].from;if(v>=1)return e[e.length-1].to;let g=Math.floor(O*v);for(let S=0;;S++){let{from:E,to:R}=e[S],D=R-E;if(g<=D)return E+g;g-=D}}function pn(O,e){let v=0;for(let{from:g,to:S}of O.ranges){if(e<=S){v+=e-g;break}v+=S-g}return v/O.total}function Cc(O,e){for(let v of O)if(e(v))return v}const Uh={toDOM(O){return O},fromDOM(O){return O},scale:1,eq(O){return O==this}};class _r{constructor(e,v,g){let S=0,E=0,R=0;this.viewports=g.map(({from:D,to:I})=>{let V=v.lineAt(D,ne.ByPos,e,0,0).top,Y=v.lineAt(I,ne.ByPos,e,0,0).bottom;return S+=Y-V,{from:D,to:I,top:V,bottom:Y,domTop:0,domBottom:0}}),this.scale=(7e6-S)/(v.height-S);for(let D of this.viewports)D.domTop=R+(D.top-E)*this.scale,R=D.domBottom=D.domTop+(D.bottom-D.top),E=D.bottom}toDOM(e){for(let v=0,g=0,S=0;;v++){let E=v<this.viewports.length?this.viewports[v]:null;if(!E||e<E.top)return S+(e-g)*this.scale;if(e<=E.bottom)return E.domTop+(e-E.top);g=E.bottom,S=E.domBottom}}fromDOM(e){for(let v=0,g=0,S=0;;v++){let E=v<this.viewports.length?this.viewports[v]:null;if(!E||e<E.domTop)return g+(e-S)/this.scale;if(e<=E.domBottom)return E.top+(e-E.domTop);g=E.bottom,S=E.domBottom}}eq(e){return e instanceof _r?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((v,g)=>v.from==e.viewports[g].from&&v.to==e.viewports[g].to):!1}}function Ps(O,e){if(e.scale==1)return O;let v=e.toDOM(O.top),g=e.toDOM(O.bottom);return new Je(O.from,O.length,v,g-v,Array.isArray(O._content)?O._content.map(S=>Ps(S,e)):O._content)}const mn=H.define({combine:O=>O.join(" ")}),ta=H.define({combine:O=>O.indexOf(!0)>-1}),ea=xi.newName(),Wh=xi.newName(),$h=xi.newName(),Zh={"&light":"."+Wh,"&dark":"."+$h};function ia(O,e,v){return new xi(e,{finish(g){return/&/.test(g)?g.replace(/&\w*/,S=>{if(S=="&")return O;if(!v||!v[S])throw new RangeError(`Unsupported selector: ${S}`);return v[S]}):O+" "+g}})}const Pc=ia("."+ea,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Zh),Ec={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},sa=Rt.ie&&Rt.ie_version<=11;class Ac{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new ud,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(v=>{for(let g of v)this.queue.push(g);(Rt.ie&&Rt.ie_version<=11||Rt.ios&&e.composing)&&v.some(g=>g.type=="childList"&&g.removedNodes.length||g.type=="characterData"&&g.oldValue.length>g.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Rt.chrome&&Rt.chrome_version<126)&&(this.editContext=new Rc(e),e.state.facet(Ci)&&(e.contentDOM.editContext=this.editContext.editContext)),sa&&(this.onCharData=v=>{this.queue.push({target:v.target,type:"characterData",oldValue:v.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var v;((v=this.view.docView)===null||v===void 0?void 0:v.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(v=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),v.length>0&&v[v.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(v=>{v.length>0&&v[v.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((v,g)=>v!=e[g]))){this.gapIntersection.disconnect();for(let v of e)this.gapIntersection.observe(v);this.gaps=e}}onSelectionChange(e){let v=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:g}=this,S=this.selectionRange;if(g.state.facet(Ci)?g.root.activeElement!=this.dom:!qs(this.dom,S))return;let E=S.anchorNode&&g.docView.nearest(S.anchorNode);if(E&&E.ignoreEvent(e)){v||(this.selectionChanged=!1);return}(Rt.ie&&Rt.ie_version<=11||Rt.android&&Rt.chrome)&&!g.state.selection.main.empty&&S.focusNode&&ms(S.focusNode,S.focusOffset,S.anchorNode,S.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,v=vs(e.root);if(!v)return!1;let g=Rt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Mc(this.view,v)||v;if(!g||this.selectionRange.eq(g))return!1;let S=qs(this.dom,g);return S&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&dd(this.dom,g)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(g),S&&(this.selectionChanged=!0),!0)}setSelectionRange(e,v){this.selectionRange.set(e.node,e.offset,v.node,v.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,v=null;for(let g=this.dom;g;)if(g.nodeType==1)!v&&e<this.scrollTargets.length&&this.scrollTargets[e]==g?e++:v||(v=this.scrollTargets.slice(0,e)),v&&v.push(g),g=g.assignedSlot||g.parentNode;else if(g.nodeType==11)g=g.host;else break;if(e<this.scrollTargets.length&&!v&&(v=this.scrollTargets.slice(0,e)),v){for(let g of this.scrollTargets)g.removeEventListener("scroll",this.onScroll);for(let g of this.scrollTargets=v)g.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Ec),sa&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),sa&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,v){var g;if(!this.delayedAndroidKey){let S=()=>{let E=this.delayedAndroidKey;E&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=E.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&E.force&&$i(this.dom,E.key,E.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(S)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:v,force:this.lastChange<Date.now()-50||!!(!((g=this.delayedAndroidKey)===null||g===void 0)&&g.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let v=-1,g=-1,S=!1;for(let E of e){let R=this.readMutation(E);R&&(R.typeOver&&(S=!0),v==-1?{from:v,to:g}=R:(v=Math.min(R.from,v),g=Math.max(R.to,g)))}return{from:v,to:g,typeOver:S}}readChange(){let{from:e,to:v,typeOver:g}=this.processRecords(),S=this.selectionChanged&&qs(this.dom,this.selectionRange);if(e<0&&!S)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let E=new $d(this.view,e,v,g);return this.view.docView.domChanged={newSel:E.newSel?E.newSel.main:null},E}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let v=this.readChange();if(!v)return this.view.requestMeasure(),!1;let g=this.view.state,S=yh(this.view,v);return this.view.state==g&&(v.domChanged||v.newSel&&!v.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),S}readMutation(e){let v=this.view.docView.nearest(e.target);if(!v||v.ignoreMutation(e))return null;if(v.markDirty(e.type=="attributes"),e.type=="attributes"&&(v.flags|=4),e.type=="childList"){let g=Hh(v,e.previousSibling||e.target.previousSibling,-1),S=Hh(v,e.nextSibling||e.target.nextSibling,1);return{from:g?v.posAfter(g):v.posAtStart,to:S?v.posBefore(S):v.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:v.posAtStart,to:v.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ci)!=e.state.facet(Ci)&&(e.view.contentDOM.editContext=e.state.facet(Ci)?this.editContext.editContext:null))}destroy(){var e,v,g;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(v=this.gapIntersection)===null||v===void 0||v.disconnect(),(g=this.resizeScroll)===null||g===void 0||g.disconnect();for(let S of this.scrollTargets)S.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Hh(O,e,v){for(;e;){let g=Kt.get(e);if(g&&g.parent==O)return g;let S=e.parentNode;e=S!=O.dom?S:v>0?e.nextSibling:e.previousSibling}return null}function kh(O,e){let v=e.startContainer,g=e.startOffset,S=e.endContainer,E=e.endOffset,R=O.docView.domAtPos(O.state.selection.main.anchor);return ms(R.node,R.offset,S,E)&&([v,g,S,E]=[S,E,v,g]),{anchorNode:v,anchorOffset:g,focusNode:S,focusOffset:E}}function Mc(O,e){if(e.getComposedRanges){let S=e.getComposedRanges(O.root)[0];if(S)return kh(O,S)}let v=null;function g(S){S.preventDefault(),S.stopImmediatePropagation(),v=S.getTargetRanges()[0]}return O.contentDOM.addEventListener("beforeinput",g,!0),O.dom.ownerDocument.execCommand("indent"),O.contentDOM.removeEventListener("beforeinput",g,!0),v?kh(O,v):null}class Rc{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let v=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=g=>{let{anchor:S}=e.state.selection.main,E=this.toEditorPos(g.updateRangeStart),R=this.toEditorPos(g.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:g.updateRangeStart,editorBase:E,drifted:!1});let D={from:E,to:R,insert:It.of(g.text.split(`
`))};D.from==this.from&&S<this.from?D.from=S:D.to==this.to&&S>this.to&&(D.to=S),!(D.from==D.to&&!D.insert.length)&&(this.pendingContextChange=D,e.state.readOnly||jr(e,D,N.single(this.toEditorPos(g.selectionStart),this.toEditorPos(g.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=g=>{let S=[],E=null;for(let R=this.toEditorPos(g.rangeStart),D=this.toEditorPos(g.rangeEnd);R<D;R++){let I=e.coordsForChar(R);E=I&&new DOMRect(I.left,I.top,I.right-I.left,I.bottom-I.top)||E||new DOMRect,S.push(E)}v.updateCharacterBounds(g.rangeStart,S)},this.handlers.textformatupdate=g=>{let S=[];for(let E of g.getTextFormats()){let R=E.underlineStyle,D=E.underlineThickness;if(R!="None"&&D!="None"){let I=`text-decoration: underline ${R=="Dashed"?"dashed ":R=="Squiggle"?"wavy ":""}${D=="Thin"?1:2}px`;S.push(Lt.mark({attributes:{style:I}}).range(this.toEditorPos(E.rangeStart),this.toEditorPos(E.rangeEnd)))}}e.dispatch({effects:rh.of(Lt.set(S))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:g}=this.composing;this.composing=null,g&&this.reset(e.state)}};for(let g in this.handlers)v.addEventListener(g,this.handlers[g]);this.measureReq={read:g=>{this.editContext.updateControlBounds(g.contentDOM.getBoundingClientRect());let S=vs(g.root);S&&S.rangeCount&&this.editContext.updateSelectionBounds(S.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let v=0,g=!1,S=this.pendingContextChange;return e.changes.iterChanges((E,R,D,I,V)=>{if(g)return;let Y=V.length-(R-E);if(S&&R>=S.to)if(S.from==E&&S.to==R&&S.insert.eq(V)){S=this.pendingContextChange=null,v+=Y,this.to+=Y;return}else S=null,this.revertPending(e.state);if(E+=v,R+=v,R<=this.from)this.from+=Y,this.to+=Y;else if(E<this.to){if(E<this.from||R>this.to||this.to-this.from+V.length>3e4){g=!0;return}this.editContext.updateText(this.toContextPos(E),this.toContextPos(R),V.toString()),this.to+=Y}v+=Y}),S&&!g&&this.revertPending(e.state),!g}update(e){let v=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(g=>!g.isUserEvent("input.type")&&g.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||v)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:v}=e.selection.main;this.from=Math.max(0,v-1e4),this.to=Math.min(e.doc.length,v+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let v=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(v.from),this.toContextPos(v.from+v.insert.length),e.doc.sliceString(v.from,v.to))}setSelection(e){let{main:v}=e.selection,g=this.toContextPos(Math.max(this.from,Math.min(this.to,v.anchor))),S=this.toContextPos(v.head);(this.editContext.selectionStart!=g||this.editContext.selectionEnd!=S)&&this.editContext.updateSelection(g,S)}rangeIsValid(e){let{head:v}=e.selection.main;return!(this.from>0&&v-this.from<500||this.to<e.doc.length&&this.to-v<500||this.to-this.from>1e4*3)}toEditorPos(e){let v=this.composing;return v&&v.drifted?v.editorBase+(e-v.contextBase):e+this.from}toContextPos(e){let v=this.composing;return v&&v.drifted?v.contextBase+(e-v.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Et{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var v;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:g}=e;this.dispatchTransactions=e.dispatchTransactions||g&&(S=>S.forEach(E=>g(E,this)))||(S=>this.update(S)),this.dispatch=this.dispatch.bind(this),this._root=e.root||fd(e.parent)||document,this.viewState=new Yh(e.state||Wt.create(e)),e.scrollTo&&e.scrollTo.is(rn)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ys).map(S=>new Vr(S));for(let S of this.plugins)S.update(this);this.observer=new Ac(this),this.inputState=new Kd(this),this.inputState.ensureHandlers(this.plugins),this.docView=new fh(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((v=document.fonts)===null||v===void 0)&&v.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let v=e.length==1&&e[0]instanceof Bt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(v,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let v=!1,g=!1,S,E=this.state;for(let _ of e){if(_.startState!=E)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");E=_.state}if(this.destroyed){this.viewState.state=E;return}let R=this.hasFocus,D=0,I=null;e.some(_=>_.annotation(Bh))?(this.inputState.notifiedFocused=R,D=1):R!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=R,I=Ih(E,R),I||(D=1));let V=this.observer.delayedAndroidKey,Y=null;if(V?(this.observer.clearDelayedAndroidKey(),Y=this.observer.readChange(),(Y&&!this.state.doc.eq(E.doc)||!this.state.selection.eq(E.selection))&&(Y=null)):this.observer.clear(),E.facet(Wt.phrases)!=this.state.facet(Wt.phrases))return this.setState(E);S=an.create(this,E,e),S.flags|=D;let j=this.viewState.scrollTarget;try{this.updateState=2;for(let _ of e){if(j&&(j=j.map(_.changes)),_.scrollIntoView){let{main:et}=_.state.selection;j=new ki(et.empty?et:N.cursor(et.head,et.head>et.anchor?-1:1))}for(let et of _.effects)et.is(rn)&&(j=et.value.clip(this.state))}this.viewState.update(S,j),this.bidiCache=gn.update(this.bidiCache,S.changes),S.empty||(this.updatePlugins(S),this.inputState.update(S)),v=this.docView.update(S),this.state.facet(Ts)!=this.styleModules&&this.mountStyles(),g=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(v,e.some(_=>_.isUserEvent("select.pointer")))}finally{this.updateState=0}if(S.startState.facet(mn)!=S.state.facet(mn)&&(this.viewState.mustMeasureContent=!0),(v||g||j||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),v&&this.docViewUpdate(),!S.empty)for(let _ of this.state.facet(Qr))try{_(S)}catch(et){Ee(this.state,et,"update listener")}(I||Y)&&Promise.resolve().then(()=>{I&&this.state==I.startState&&this.dispatch(I),Y&&!yh(this,Y)&&V.force&&$i(this.contentDOM,V.key,V.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let v=this.hasFocus;try{for(let g of this.plugins)g.destroy(this);this.viewState=new Yh(e),this.plugins=e.facet(ys).map(g=>new Vr(g)),this.pluginMap.clear();for(let g of this.plugins)g.update(this);this.docView.destroy(),this.docView=new fh(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}v&&this.focus(),this.requestMeasure()}updatePlugins(e){let v=e.startState.facet(ys),g=e.state.facet(ys);if(v!=g){let S=[];for(let E of g){let R=v.indexOf(E);if(R<0)S.push(new Vr(E));else{let D=this.plugins[R];D.mustUpdate=e,S.push(D)}}for(let E of this.plugins)E.mustUpdate!=e&&E.destroy(this);this.plugins=S,this.pluginMap.clear()}else for(let S of this.plugins)S.mustUpdate=e;for(let S=0;S<this.plugins.length;S++)this.plugins[S].update(this);v!=g&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let v=e.value;if(v&&v.docViewUpdate)try{v.docViewUpdate(this)}catch(g){Ee(this.state,g,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let v=null,g=this.scrollDOM,S=g.scrollTop*this.scaleY,{scrollAnchorPos:E,scrollAnchorHeight:R}=this.viewState;Math.abs(S-this.viewState.scrollTop)>1&&(R=-1),this.viewState.scrollAnchorHeight=-1;try{for(let D=0;;D++){if(R<0)if(Ro(g))E=-1,R=this.viewState.heightMap.height;else{let et=this.viewState.scrollAnchorAt(S);E=et.from,R=et.top}this.updateState=1;let I=this.viewState.measure(this);if(!I&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(D>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let V=[];I&4||([this.measureRequests,V]=[V,this.measureRequests]);let Y=V.map(et=>{try{return et.read(this)}catch(st){return Ee(this.state,st),jh}}),j=an.create(this,this.state,[]),_=!1;j.flags|=I,v?v.flags|=I:v=j,this.updateState=2,j.empty||(this.updatePlugins(j),this.inputState.update(j),this.updateAttrs(),_=this.docView.update(j),_&&this.docViewUpdate());for(let et=0;et<V.length;et++)if(Y[et]!=jh)try{let st=V[et];st.write&&st.write(Y[et],this)}catch(st){Ee(this.state,st)}if(_&&this.docView.updateSelection(!0),!j.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,R=-1;continue}else{let st=(E<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(E).top)-R;if(st>1||st<-1){S=S+st,g.scrollTop=S/this.scaleY,R=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(v&&!v.empty)for(let D of this.state.facet(Qr))D(v)}get themeClasses(){return ea+" "+(this.state.facet(ta)?$h:Wh)+" "+this.state.facet(mn)}updateAttrs(){let e=Kh(this,ah,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),v={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ci)?"true":"false",class:"cm-content",style:`${Rt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(v["aria-readonly"]="true"),Kh(this,Yr,v);let g=this.observer.ignore(()=>{let S=Fr(this.contentDOM,this.contentAttrs,v),E=Fr(this.dom,this.editorAttrs,e);return S||E});return this.editorAttrs=e,this.contentAttrs=v,g}showAnnouncements(e){let v=!0;for(let g of e)for(let S of g.effects)if(S.is(Et.announce)){v&&(this.announceDOM.textContent=""),v=!1;let E=this.announceDOM.appendChild(document.createElement("div"));E.textContent=S.value}}mountStyles(){this.styleModules=this.state.facet(Ts);let e=this.state.facet(Et.cspNonce);xi.mount(this.root,this.styleModules.concat(Pc).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let v=0;v<this.measureRequests.length;v++)if(this.measureRequests[v].key===e.key){this.measureRequests[v]=e;return}}this.measureRequests.push(e)}}plugin(e){let v=this.pluginMap.get(e);return(v===void 0||v&&v.spec!=e)&&this.pluginMap.set(e,v=this.plugins.find(g=>g.spec==e)||null),v&&v.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,v,g){return kr(this,e,xh(this,e,v,g))}moveByGroup(e,v){return kr(this,e,xh(this,e,v,g=>Vd(this,e.head,g)))}visualLineSide(e,v){let g=this.bidiSpans(e),S=this.textDirectionAt(e.from),E=g[v?g.length-1:0];return N.cursor(E.side(v,S)+e.from,E.forward(!v,S)?1:-1)}moveToLineBoundary(e,v,g=!0){return zd(this,e,v,g)}moveVertically(e,v,g){return kr(this,e,Yd(this,e,v,g))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,v=0){return this.docView.posFromDOM(e,v)}posAtCoords(e,v=!0){return this.readMeasured(),mh(this,e,v)}coordsAtPos(e,v=1){this.readMeasured();let g=this.docView.coordsAt(e,v);if(!g||g.left==g.right)return g;let S=this.state.doc.lineAt(e),E=this.bidiSpans(S),R=E[Ti.find(E,e-S.from,-1,v)];return tn(g,R.dir==se.LTR==v>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ih)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>wc)return ko(e.length);let v=this.textDirectionAt(e.from),g;for(let E of this.bidiCache)if(E.from==e.from&&E.dir==v&&(E.fresh||Ho(E.isolates,g=lh(this,e))))return E.order;g||(g=lh(this,e));let S=Pd(e.text,v,g);return this.bidiCache.push(new gn(e.from,e.to,v,g,!0,S)),S}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Rt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Eo(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,v={}){return rn.of(new ki(typeof e=="number"?N.cursor(e):e,v.y,v.x,v.yMargin,v.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:v}=this.scrollDOM,g=this.viewState.scrollAnchorAt(e);return rn.of(new ki(N.cursor(g.from),"start","start",g.top-e,v,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return oe.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return oe.define(()=>({}),{eventObservers:e})}static theme(e,v){let g=xi.newName(),S=[mn.of(g),Ts.of(ia(`.${g}`,e))];return v&&v.dark&&S.push(ta.of(!0)),S}static baseTheme(e){return tt.lowest(Ts.of(ia("."+ea,e,Zh)))}static findFromDOM(e){var v;let g=e.querySelector(".cm-content"),S=g&&Kt.get(g)||Kt.get(e);return((v=S==null?void 0:S.rootView)===null||v===void 0?void 0:v.view)||null}}Et.styleModule=Ts,Et.inputHandler=th,Et.clipboardInputFilter=Xr,Et.clipboardOutputFilter=zr,Et.scrollHandler=nh,Et.focusChangeEffect=eh,Et.perLineTextDirection=ih,Et.exceptionSink=_o,Et.updateListener=Qr,Et.editable=Ci,Et.mouseSelectionStyle=qo,Et.dragMovesSelection=Jo,Et.clickAddsSelectionRange=Ko,Et.decorations=Ss,Et.outerDecorations=oh,Et.atomicRanges=Ur,Et.bidiIsolatedRanges=hh,Et.scrollMargins=uh,Et.darkTheme=ta,Et.cspNonce=H.define({combine:O=>O.length?O[0]:""}),Et.contentAttributes=Yr,Et.editorAttributes=ah,Et.lineWrapping=Et.contentAttributes.of({class:"cm-lineWrapping"}),Et.announce=Ot.define();const wc=4096,jh={};class gn{constructor(e,v,g,S,E,R){this.from=e,this.to=v,this.dir=g,this.isolates=S,this.fresh=E,this.order=R}static update(e,v){if(v.empty&&!e.some(E=>E.fresh))return e;let g=[],S=e.length?e[e.length-1].dir:se.LTR;for(let E=Math.max(0,e.length-10);E<e.length;E++){let R=e[E];R.dir==S&&!v.touchesRange(R.from,R.to)&&g.push(new gn(v.mapPos(R.from,1),v.mapPos(R.to,-1),R.dir,R.isolates,!1,R.order))}return g}}function Kh(O,e,v){for(let g=O.state.facet(e),S=g.length-1;S>=0;S--){let E=g[S],R=typeof E=="function"?E(O):E;R&&Lr(R,v)}return v}const Lc=Rt.mac?"mac":Rt.windows?"win":Rt.linux?"linux":"key";function Fc(O,e){const v=O.split(/-(?!$)/);let g=v[v.length-1];g=="Space"&&(g=" ");let S,E,R,D;for(let I=0;I<v.length-1;++I){const V=v[I];if(/^(cmd|meta|m)$/i.test(V))D=!0;else if(/^a(lt)?$/i.test(V))S=!0;else if(/^(c|ctrl|control)$/i.test(V))E=!0;else if(/^s(hift)?$/i.test(V))R=!0;else if(/^mod$/i.test(V))e=="mac"?D=!0:E=!0;else throw new Error("Unrecognized modifier name: "+V)}return S&&(g="Alt-"+g),E&&(g="Ctrl-"+g),D&&(g="Meta-"+g),R&&(g="Shift-"+g),g}function xn(O,e,v){return e.altKey&&(O="Alt-"+O),e.ctrlKey&&(O="Ctrl-"+O),e.metaKey&&(O="Meta-"+O),v!==!1&&e.shiftKey&&(O="Shift-"+O),O}const Dc=tt.default(Et.domEventHandlers({keydown(O,e){return _h(qh(e.state),O,e,"editor")}})),On=H.define({enables:Dc}),Jh=new WeakMap;function qh(O){let e=O.facet(On),v=Jh.get(e);return v||Jh.set(e,v=Ic(e.reduce((g,S)=>g.concat(S),[]))),v}function bc(O,e,v){return _h(qh(O.state),e,O,v)}let Pi=null;const Bc=4e3;function Ic(O,e=Lc){let v=Object.create(null),g=Object.create(null),S=(R,D)=>{let I=g[R];if(I==null)g[R]=D;else if(I!=D)throw new Error("Key binding "+R+" is used both as a regular binding and as a multi-stroke prefix")},E=(R,D,I,V,Y)=>{var j,_;let et=v[R]||(v[R]=Object.create(null)),st=D.split(/ (?!$)/).map(ut=>Fc(ut,e));for(let ut=1;ut<st.length;ut++){let pt=st.slice(0,ut).join(" ");S(pt,!0),et[pt]||(et[pt]={preventDefault:!0,stopPropagation:!1,run:[yt=>{let St=Pi={view:yt,prefix:pt,scope:R};return setTimeout(()=>{Pi==St&&(Pi=null)},Bc),!0}]})}let at=st.join(" ");S(at,!1);let ot=et[at]||(et[at]={preventDefault:!1,stopPropagation:!1,run:((_=(j=et._any)===null||j===void 0?void 0:j.run)===null||_===void 0?void 0:_.slice())||[]});I&&ot.run.push(I),V&&(ot.preventDefault=!0),Y&&(ot.stopPropagation=!0)};for(let R of O){let D=R.scope?R.scope.split(" "):["editor"];if(R.any)for(let V of D){let Y=v[V]||(v[V]=Object.create(null));Y._any||(Y._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:j}=R;for(let _ in Y)Y[_].run.push(et=>j(et,na))}let I=R[e]||R.key;if(I)for(let V of D)E(V,I,R.run,R.preventDefault,R.stopPropagation),R.shift&&E(V,"Shift-"+I,R.shift,R.preventDefault,R.stopPropagation)}return v}let na=null;function _h(O,e,v,g){na=e;let S=ad(e),E=f(S,0),R=p(E)==S.length&&S!=" ",D="",I=!1,V=!1,Y=!1;Pi&&Pi.view==v&&Pi.scope==g&&(D=Pi.prefix+" ",Ch.indexOf(e.keyCode)<0&&(V=!0,Pi=null));let j=new Set,_=ot=>{if(ot){for(let ut of ot.run)if(!j.has(ut)&&(j.add(ut),ut(v)))return ot.stopPropagation&&(Y=!0),!0;ot.preventDefault&&(ot.stopPropagation&&(Y=!0),V=!0)}return!1},et=O[g],st,at;return et&&(_(et[D+xn(S,e,!R)])?I=!0:R&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Rt.windows&&e.ctrlKey&&e.altKey)&&(st=Oi[e.keyCode])&&st!=S?(_(et[D+xn(st,e,!0)])||e.shiftKey&&(at=cs[e.keyCode])!=S&&at!=st&&_(et[D+xn(at,e,!1)]))&&(I=!0):R&&e.shiftKey&&_(et[D+xn(S,e,!0)])&&(I=!0),!I&&_(et._any)&&(I=!0)),V&&(I=!0),I&&Y&&e.stopPropagation(),na=null,I}class Es{constructor(e,v,g,S,E){this.className=e,this.left=v,this.top=g,this.width=S,this.height=E}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,v){return v.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,v,g){if(g.empty){let S=e.coordsAtPos(g.head,g.assoc||1);if(!S)return[];let E=tl(e);return[new Es(v,S.left-E.left,S.top-E.top,null,S.bottom-S.top)]}else return Gc(e,v,g)}}function tl(O){let e=O.scrollDOM.getBoundingClientRect();return{left:(O.textDirection==se.LTR?e.left:e.right-O.scrollDOM.clientWidth*O.scaleX)-O.scrollDOM.scrollLeft*O.scaleX,top:e.top-O.scrollDOM.scrollTop*O.scaleY}}function el(O,e,v,g){let S=O.coordsAtPos(e,v*2);if(!S)return g;let E=O.dom.getBoundingClientRect(),R=(S.top+S.bottom)/2,D=O.posAtCoords({x:E.left+1,y:R}),I=O.posAtCoords({x:E.right-1,y:R});return D==null||I==null?g:{from:Math.max(g.from,Math.min(D,I)),to:Math.min(g.to,Math.max(D,I))}}function Gc(O,e,v){if(v.to<=O.viewport.from||v.from>=O.viewport.to)return[];let g=Math.max(v.from,O.viewport.from),S=Math.min(v.to,O.viewport.to),E=O.textDirection==se.LTR,R=O.contentDOM,D=R.getBoundingClientRect(),I=tl(O),V=R.querySelector(".cm-line"),Y=V&&window.getComputedStyle(V),j=D.left+(Y?parseInt(Y.paddingLeft)+Math.min(0,parseInt(Y.textIndent)):0),_=D.right-(Y?parseInt(Y.paddingRight):0),et=Hr(O,g),st=Hr(O,S),at=et.type==ye.Text?et:null,ot=st.type==ye.Text?st:null;if(at&&(O.lineWrapping||et.widgetLineBreaks)&&(at=el(O,g,1,at)),ot&&(O.lineWrapping||st.widgetLineBreaks)&&(ot=el(O,S,-1,ot)),at&&ot&&at.from==ot.from&&at.to==ot.to)return pt(yt(v.from,v.to,at));{let mt=at?yt(v.from,null,at):St(et,!1),Tt=ot?yt(null,v.to,ot):St(st,!0),Pt=[];return(at||et).to<(ot||st).from-(at&&ot?1:0)||et.widgetLineBreaks>1&&mt.bottom+O.defaultLineHeight/2<Tt.top?Pt.push(ut(j,mt.bottom,_,Tt.top)):mt.bottom<Tt.top&&O.elementAtHeight((mt.bottom+Tt.top)/2).type==ye.Text&&(mt.bottom=Tt.top=(mt.bottom+Tt.top)/2),pt(mt).concat(Pt).concat(pt(Tt))}function ut(mt,Tt,Pt,Nt){return new Es(e,mt-I.left,Tt-I.top-.01,Pt-mt,Nt-Tt+.01)}function pt({top:mt,bottom:Tt,horizontal:Pt}){let Nt=[];for(let zt=0;zt<Pt.length;zt+=2)Nt.push(ut(Pt[zt],mt,Pt[zt+1],Tt));return Nt}function yt(mt,Tt,Pt){let Nt=1e9,zt=-1e9,qt=[];function Xt($t,ee,Te,Ie,ri){let me=O.coordsAtPos($t,$t==Pt.to?-2:2),Ye=O.coordsAtPos(Te,Te==Pt.from?2:-2);!me||!Ye||(Nt=Math.min(me.top,Ye.top,Nt),zt=Math.max(me.bottom,Ye.bottom,zt),ri==se.LTR?qt.push(E&&ee?j:me.left,E&&Ie?_:Ye.right):qt.push(!E&&Ie?j:Ye.left,!E&&ee?_:me.right))}let Dt=mt??Pt.from,Ht=Tt??Pt.to;for(let $t of O.visibleRanges)if($t.to>Dt&&$t.from<Ht)for(let ee=Math.max($t.from,Dt),Te=Math.min($t.to,Ht);;){let Ie=O.state.doc.lineAt(ee);for(let ri of O.bidiSpans(Ie)){let me=ri.from+Ie.from,Ye=ri.to+Ie.from;if(me>=Te)break;Ye>ee&&Xt(Math.max(me,ee),mt==null&&me<=Dt,Math.min(Ye,Te),Tt==null&&Ye>=Ht,ri.dir)}if(ee=Ie.to+1,ee>=Te)break}return qt.length==0&&Xt(Dt,mt==null,Ht,Tt==null,O.textDirection),{top:Nt,bottom:zt,horizontal:qt}}function St(mt,Tt){let Pt=D.top+(Tt?mt.top:mt.bottom);return{top:Pt,bottom:Pt,horizontal:[]}}}function Nc(O,e){return O.constructor==e.constructor&&O.eq(e)}class Qc{constructor(e,v){this.view=e,this.layer=v,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),v.above&&this.dom.classList.add("cm-layer-above"),v.class&&this.dom.classList.add(v.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),v.mount&&v.mount(this.dom,e)}update(e){e.startState.facet(yn)!=e.state.facet(yn)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let v=0,g=e.facet(yn);for(;v<g.length&&g[v]!=this.layer;)v++;this.dom.style.zIndex=String((this.layer.above?150:-1)-v)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:v}=this.view;(e!=this.scaleX||v!=this.scaleY)&&(this.scaleX=e,this.scaleY=v,this.dom.style.transform=`scale(${1/e}, ${1/v})`)}draw(e){if(e.length!=this.drawn.length||e.some((v,g)=>!Nc(v,this.drawn[g]))){let v=this.dom.firstChild,g=0;for(let S of e)S.update&&v&&S.constructor&&this.drawn[g].constructor&&S.update(v,this.drawn[g])?(v=v.nextSibling,g++):this.dom.insertBefore(S.draw(),v);for(;v;){let S=v.nextSibling;v.remove(),v=S}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const yn=H.define();function il(O){return[oe.define(e=>new Qc(e,O)),yn.of(O)]}const sl=!Rt.ios,As=H.define({combine(O){return ke(O,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,v)=>Math.min(e,v),drawRangeCursor:(e,v)=>e||v})}});function Xc(O={}){return[As.of(O),zc,Vc,Yc,sh.of(!0)]}function nl(O){return O.startState.facet(As)!=O.state.facet(As)}const zc=il({above:!0,markers(O){let{state:e}=O,v=e.facet(As),g=[];for(let S of e.selection.ranges){let E=S==e.selection.main;if(S.empty?!E||sl:v.drawRangeCursor){let R=E?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",D=S.empty?S:N.cursor(S.head,S.head>S.anchor?-1:1);for(let I of Es.forRange(O,R,D))g.push(I)}}return g},update(O,e){O.transactions.some(g=>g.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let v=nl(O);return v&&rl(O.state,e),O.docChanged||O.selectionSet||v},mount(O,e){rl(e.state,O)},class:"cm-cursorLayer"});function rl(O,e){e.style.animationDuration=O.facet(As).cursorBlinkRate+"ms"}const Vc=il({above:!1,markers(O){return O.state.selection.ranges.map(e=>e.empty?[]:Es.forRange(O,"cm-selectionBackground",e)).reduce((e,v)=>e.concat(v))},update(O,e){return O.docChanged||O.selectionSet||O.viewportChanged||nl(O)},class:"cm-selectionLayer"}),ra={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};sl&&(ra[".cm-line"].caretColor=ra[".cm-content"].caretColor="transparent !important");const Yc=tt.highest(Et.theme(ra)),al=Ot.define({map(O,e){return O==null?null:e.mapPos(O)}}),Ms=K.define({create(){return null},update(O,e){return O!=null&&(O=e.changes.mapPos(O)),e.effects.reduce((v,g)=>g.is(al)?g.value:v,O)}}),Uc=oe.fromClass(class{constructor(O){this.view=O,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(O){var e;let v=O.state.field(Ms);v==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(O.startState.field(Ms)!=v||O.docChanged||O.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:O}=this,e=O.state.field(Ms),v=e!=null&&O.coordsAtPos(e);if(!v)return null;let g=O.scrollDOM.getBoundingClientRect();return{left:v.left-g.left+O.scrollDOM.scrollLeft*O.scaleX,top:v.top-g.top+O.scrollDOM.scrollTop*O.scaleY,height:v.bottom-v.top}}drawCursor(O){if(this.cursor){let{scaleX:e,scaleY:v}=this.view;O?(this.cursor.style.left=O.left/e+"px",this.cursor.style.top=O.top/v+"px",this.cursor.style.height=O.height/v+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(O){this.view.state.field(Ms)!=O&&this.view.dispatch({effects:al.of(O)})}},{eventObservers:{dragover(O){this.setDropPos(this.view.posAtCoords({x:O.clientX,y:O.clientY}))},dragleave(O){(O.target==this.view.contentDOM||!this.view.contentDOM.contains(O.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Wc(){return[Ms,Uc]}function ol(O,e,v,g,S){e.lastIndex=0;for(let E=O.iterRange(v,g),R=v,D;!E.next().done;R+=E.value.length)if(!E.lineBreak)for(;D=e.exec(E.value);)S(R+D.index,D)}function $c(O,e){let v=O.visibleRanges;if(v.length==1&&v[0].from==O.viewport.from&&v[0].to==O.viewport.to)return v;let g=[];for(let{from:S,to:E}of v)S=Math.max(O.state.doc.lineAt(S).from,S-e),E=Math.min(O.state.doc.lineAt(E).to,E+e),g.length&&g[g.length-1].to>=S?g[g.length-1].to=E:g.push({from:S,to:E});return g}class Zc{constructor(e){const{regexp:v,decoration:g,decorate:S,boundary:E,maxLength:R=1e3}=e;if(!v.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=v,S)this.addMatch=(D,I,V,Y)=>S(Y,V,V+D[0].length,D,I);else if(typeof g=="function")this.addMatch=(D,I,V,Y)=>{let j=g(D,I,V);j&&Y(V,V+D[0].length,j)};else if(g)this.addMatch=(D,I,V,Y)=>Y(V,V+D[0].length,g);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=E,this.maxLength=R}createDeco(e){let v=new gi,g=v.add.bind(v);for(let{from:S,to:E}of $c(e,this.maxLength))ol(e.state.doc,this.regexp,S,E,(R,D)=>this.addMatch(D,e,R,g));return v.finish()}updateDeco(e,v){let g=1e9,S=-1;return e.docChanged&&e.changes.iterChanges((E,R,D,I)=>{I>e.view.viewport.from&&D<e.view.viewport.to&&(g=Math.min(D,g),S=Math.max(I,S))}),e.viewportChanged||S-g>1e3?this.createDeco(e.view):S>-1?this.updateRange(e.view,v.map(e.changes),g,S):v}updateRange(e,v,g,S){for(let E of e.visibleRanges){let R=Math.max(E.from,g),D=Math.min(E.to,S);if(D>R){let I=e.state.doc.lineAt(R),V=I.to<D?e.state.doc.lineAt(D):I,Y=Math.max(E.from,I.from),j=Math.min(E.to,V.to);if(this.boundary){for(;R>I.from;R--)if(this.boundary.test(I.text[R-1-I.from])){Y=R;break}for(;D<V.to;D++)if(this.boundary.test(V.text[D-V.from])){j=D;break}}let _=[],et,st=(at,ot,ut)=>_.push(ut.range(at,ot));if(I==V)for(this.regexp.lastIndex=Y-I.from;(et=this.regexp.exec(I.text))&&et.index<j-I.from;)this.addMatch(et,e,et.index+I.from,st);else ol(e.state.doc,this.regexp,Y,j,(at,ot)=>this.addMatch(ot,e,at,st));v=v.update({filterFrom:Y,filterTo:j,filter:(at,ot)=>at<Y||ot>j,add:_})}}return v}}const aa=/x/.unicode!=null?"gu":"g",Hc=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,aa),kc={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let oa=null;function jc(){var O;if(oa==null&&typeof document<"u"&&document.body){let e=document.body.style;oa=((O=e.tabSize)!==null&&O!==void 0?O:e.MozTabSize)!=null}return oa||!1}const Sn=H.define({combine(O){let e=ke(O,{render:null,specialChars:Hc,addSpecialChars:null});return(e.replaceTabs=!jc())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,aa)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,aa)),e}});function Kc(O={}){return[Sn.of(O),Jc()]}let hl=null;function Jc(){return hl||(hl=oe.fromClass(class{constructor(O){this.view=O,this.decorations=Lt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(O.state.facet(Sn)),this.decorations=this.decorator.createDeco(O)}makeDecorator(O){return new Zc({regexp:O.specialChars,decoration:(e,v,g)=>{let{doc:S}=v.state,E=f(e[0],0);if(E==9){let R=S.lineAt(g),D=v.state.tabSize,I=Ui(R.text,D,g-R.from);return Lt.replace({widget:new ev((D-I%D)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[E]||(this.decorationCache[E]=Lt.replace({widget:new tv(O,E)}))},boundary:O.replaceTabs?void 0:/[^]/})}update(O){let e=O.state.facet(Sn);O.startState.facet(Sn)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(O.view)):this.decorations=this.decorator.updateDeco(O,this.decorations)}},{decorations:O=>O.decorations}))}const qc="•";function _c(O){return O>=32?qc:O==10?"␤":String.fromCharCode(9216+O)}class tv extends di{constructor(e,v){super(),this.options=e,this.code=v}eq(e){return e.code==this.code}toDOM(e){let v=_c(this.code),g=e.state.phrase("Control character")+" "+(kc[this.code]||"0x"+this.code.toString(16)),S=this.options.render&&this.options.render(this.code,g,v);if(S)return S;let E=document.createElement("span");return E.textContent=v,E.title=g,E.setAttribute("aria-label",g),E.className="cm-specialChar",E}ignoreEvent(){return!1}}class ev extends di{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function iv(){return nv}const sv=Lt.line({class:"cm-activeLine"}),nv=oe.fromClass(class{constructor(O){this.decorations=this.getDeco(O)}update(O){(O.docChanged||O.selectionSet)&&(this.decorations=this.getDeco(O.view))}getDeco(O){let e=-1,v=[];for(let g of O.state.selection.ranges){let S=O.lineBlockAt(g.head);S.from>e&&(v.push(sv.range(S.from)),e=S.from)}return Lt.set(v)}},{decorations:O=>O.decorations}),ha=2e3;function rv(O,e,v){let g=Math.min(e.line,v.line),S=Math.max(e.line,v.line),E=[];if(e.off>ha||v.off>ha||e.col<0||v.col<0){let R=Math.min(e.off,v.off),D=Math.max(e.off,v.off);for(let I=g;I<=S;I++){let V=O.doc.line(I);V.length<=D&&E.push(N.range(V.from+R,V.to+D))}}else{let R=Math.min(e.col,v.col),D=Math.max(e.col,v.col);for(let I=g;I<=S;I++){let V=O.doc.line(I),Y=yr(V.text,R,O.tabSize,!0);if(Y<0)E.push(N.cursor(V.to));else{let j=yr(V.text,D,O.tabSize);E.push(N.range(V.from+Y,V.from+j))}}}return E}function av(O,e){let v=O.coordsAtPos(O.viewport.from);return v?Math.round(Math.abs((v.left-e)/O.defaultCharacterWidth)):-1}function ll(O,e){let v=O.posAtCoords({x:e.clientX,y:e.clientY},!1),g=O.state.doc.lineAt(v),S=v-g.from,E=S>ha?-1:S==g.length?av(O,e.clientX):Ui(g.text,O.state.tabSize,v-g.from);return{line:g.number,col:E,off:S}}function ov(O,e){let v=ll(O,e),g=O.state.selection;return v?{update(S){if(S.docChanged){let E=S.changes.mapPos(S.startState.doc.line(v.line).from),R=S.state.doc.lineAt(E);v={line:R.number,col:v.col,off:Math.min(v.off,R.length)},g=g.map(S.changes)}},get(S,E,R){let D=ll(O,S);if(!D)return g;let I=rv(O.state,v,D);return I.length?R?N.create(I.concat(g.ranges)):N.create(I):g}}:null}function hv(O){let e=v=>v.altKey&&v.button==0;return Et.mouseSelectionStyle.of((v,g)=>e(g)?ov(v,g):null)}const lv={Alt:[18,O=>!!O.altKey],Control:[17,O=>!!O.ctrlKey],Shift:[16,O=>!!O.shiftKey],Meta:[91,O=>!!O.metaKey]},uv={style:"cursor: crosshair"};function fv(O={}){let[e,v]=lv[O.key||"Alt"],g=oe.fromClass(class{constructor(S){this.view=S,this.isDown=!1}set(S){this.isDown!=S&&(this.isDown=S,this.view.update([]))}},{eventObservers:{keydown(S){this.set(S.keyCode==e||v(S))},keyup(S){(S.keyCode==e||!v(S))&&this.set(!1)},mousemove(S){this.set(v(S))}}});return[g,Et.contentAttributes.of(S=>{var E;return!((E=S.plugin(g))===null||E===void 0)&&E.isDown?uv:null})]}const Rs="-10000px";class ul{constructor(e,v,g,S){this.facet=v,this.createTooltipView=g,this.removeTooltipView=S,this.input=e.state.facet(v),this.tooltips=this.input.filter(R=>R);let E=null;this.tooltipViews=this.tooltips.map(R=>E=g(R,E))}update(e,v){var g;let S=e.state.facet(this.facet),E=S.filter(I=>I);if(S===this.input){for(let I of this.tooltipViews)I.update&&I.update(e);return!1}let R=[],D=v?[]:null;for(let I=0;I<E.length;I++){let V=E[I],Y=-1;if(V){for(let j=0;j<this.tooltips.length;j++){let _=this.tooltips[j];_&&_.create==V.create&&(Y=j)}if(Y<0)R[I]=this.createTooltipView(V,I?R[I-1]:null),D&&(D[I]=!!V.above);else{let j=R[I]=this.tooltipViews[Y];D&&(D[I]=v[Y]),j.update&&j.update(e)}}}for(let I of this.tooltipViews)R.indexOf(I)<0&&(this.removeTooltipView(I),(g=I.destroy)===null||g===void 0||g.call(I));return v&&(D.forEach((I,V)=>v[V]=I),v.length=D.length),this.input=S,this.tooltips=E,this.tooltipViews=R,!0}}function dv(O){let{win:e}=O;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const la=H.define({combine:O=>{var e,v,g;return{position:Rt.ios?"absolute":((e=O.find(S=>S.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((v=O.find(S=>S.parent))===null||v===void 0?void 0:v.parent)||null,tooltipSpace:((g=O.find(S=>S.tooltipSpace))===null||g===void 0?void 0:g.tooltipSpace)||dv}}}),fl=new WeakMap,ua=oe.fromClass(class{constructor(O){this.view=O,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=O.state.facet(la);this.position=e.position,this.parent=e.parent,this.classes=O.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new ul(O,fa,(v,g)=>this.createTooltip(v,g),v=>{this.resizeObserver&&this.resizeObserver.unobserve(v.dom),v.dom.remove()}),this.above=this.manager.tooltips.map(v=>!!v.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(v=>{Date.now()>this.lastTransaction-50&&v.length>0&&v[v.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),O.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let O of this.manager.tooltipViews)this.intersectionObserver.observe(O.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(O){O.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(O,this.above);e&&this.observeIntersection();let v=e||O.geometryChanged,g=O.state.facet(la);if(g.position!=this.position&&!this.madeAbsolute){this.position=g.position;for(let S of this.manager.tooltipViews)S.dom.style.position=this.position;v=!0}if(g.parent!=this.parent){this.parent&&this.container.remove(),this.parent=g.parent,this.createContainer();for(let S of this.manager.tooltipViews)this.container.appendChild(S.dom);v=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);v&&this.maybeMeasure()}createTooltip(O,e){let v=O.create(this.view),g=e?e.dom:null;if(v.dom.classList.add("cm-tooltip"),O.arrow&&!v.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let S=document.createElement("div");S.className="cm-tooltip-arrow",v.dom.appendChild(S)}return v.dom.style.position=this.position,v.dom.style.top=Rs,v.dom.style.left="0px",this.container.insertBefore(v.dom,g),v.mount&&v.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(v.dom),v}destroy(){var O,e,v;this.view.win.removeEventListener("resize",this.measureSoon);for(let g of this.manager.tooltipViews)g.dom.remove(),(O=g.destroy)===null||O===void 0||O.call(g);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(v=this.intersectionObserver)===null||v===void 0||v.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let O=1,e=1,v=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:E}=this.manager.tooltipViews[0];if(Rt.gecko)v=E.offsetParent!=this.container.ownerDocument.body;else if(E.style.top==Rs&&E.style.left=="0px"){let R=E.getBoundingClientRect();v=Math.abs(R.top+1e4)>1||Math.abs(R.left)>1}}if(v||this.position=="absolute")if(this.parent){let E=this.parent.getBoundingClientRect();E.width&&E.height&&(O=E.width/this.parent.offsetWidth,e=E.height/this.parent.offsetHeight)}else({scaleX:O,scaleY:e}=this.view.viewState);let g=this.view.scrollDOM.getBoundingClientRect(),S=Wr(this.view);return{visible:{left:g.left+S.left,top:g.top+S.top,right:g.right-S.right,bottom:g.bottom-S.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((E,R)=>{let D=this.manager.tooltipViews[R];return D.getCoords?D.getCoords(E.pos):this.view.coordsAtPos(E.pos)}),size:this.manager.tooltipViews.map(({dom:E})=>E.getBoundingClientRect()),space:this.view.state.facet(la).tooltipSpace(this.view),scaleX:O,scaleY:e,makeAbsolute:v}}writeMeasure(O){var e;if(O.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let D of this.manager.tooltipViews)D.dom.style.position="absolute"}let{visible:v,space:g,scaleX:S,scaleY:E}=O,R=[];for(let D=0;D<this.manager.tooltips.length;D++){let I=this.manager.tooltips[D],V=this.manager.tooltipViews[D],{dom:Y}=V,j=O.pos[D],_=O.size[D];if(!j||j.bottom<=Math.max(v.top,g.top)||j.top>=Math.min(v.bottom,g.bottom)||j.right<Math.max(v.left,g.left)-.1||j.left>Math.min(v.right,g.right)+.1){Y.style.top=Rs;continue}let et=I.arrow?V.dom.querySelector(".cm-tooltip-arrow"):null,st=et?7:0,at=_.right-_.left,ot=(e=fl.get(V))!==null&&e!==void 0?e:_.bottom-_.top,ut=V.offset||vv,pt=this.view.textDirection==se.LTR,yt=_.width>g.right-g.left?pt?g.left:g.right-_.width:pt?Math.max(g.left,Math.min(j.left-(et?14:0)+ut.x,g.right-at)):Math.min(Math.max(g.left,j.left-at+(et?14:0)-ut.x),g.right-at),St=this.above[D];!I.strictSide&&(St?j.top-ot-st-ut.y<g.top:j.bottom+ot+st+ut.y>g.bottom)&&St==g.bottom-j.bottom>j.top-g.top&&(St=this.above[D]=!St);let mt=(St?j.top-g.top:g.bottom-j.bottom)-st;if(mt<ot&&V.resize!==!1){if(mt<this.view.defaultLineHeight){Y.style.top=Rs;continue}fl.set(V,ot),Y.style.height=(ot=mt)/E+"px"}else Y.style.height&&(Y.style.height="");let Tt=St?j.top-ot-st-ut.y:j.bottom+st+ut.y,Pt=yt+at;if(V.overlap!==!0)for(let Nt of R)Nt.left<Pt&&Nt.right>yt&&Nt.top<Tt+ot&&Nt.bottom>Tt&&(Tt=St?Nt.top-ot-2-st:Nt.bottom+st+2);if(this.position=="absolute"?(Y.style.top=(Tt-O.parent.top)/E+"px",Y.style.left=(yt-O.parent.left)/S+"px"):(Y.style.top=Tt/E+"px",Y.style.left=yt/S+"px"),et){let Nt=j.left+(pt?ut.x:-ut.x)-(yt+14-7);et.style.left=Nt/S+"px"}V.overlap!==!0&&R.push({left:yt,top:Tt,right:Pt,bottom:Tt+ot}),Y.classList.toggle("cm-tooltip-above",St),Y.classList.toggle("cm-tooltip-below",!St),V.positioned&&V.positioned(O.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let O of this.manager.tooltipViews)O.dom.style.top=Rs}},{eventObservers:{scroll(){this.maybeMeasure()}}}),cv=Et.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),vv={x:0,y:0},fa=H.define({enables:[ua,cv]}),Tn=H.define({combine:O=>O.reduce((e,v)=>e.concat(v),[])});class Cn{static create(e){return new Cn(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new ul(e,Tn,(v,g)=>this.createHostedView(v,g),v=>v.dom.remove())}createHostedView(e,v){let g=e.create(this.view);return g.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(g.dom,v?v.dom.nextSibling:this.dom.firstChild),this.mounted&&g.mount&&g.mount(this.view),g}mount(e){for(let v of this.manager.tooltipViews)v.mount&&v.mount(e);this.mounted=!0}positioned(e){for(let v of this.manager.tooltipViews)v.positioned&&v.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let v of this.manager.tooltipViews)(e=v.destroy)===null||e===void 0||e.call(v)}passProp(e){let v;for(let g of this.manager.tooltipViews){let S=g[e];if(S!==void 0){if(v===void 0)v=S;else if(v!==S)return}}return v}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const pv=fa.compute([Tn],O=>{let e=O.facet(Tn);return e.length===0?null:{pos:Math.min(...e.map(v=>v.pos)),end:Math.max(...e.map(v=>{var g;return(g=v.end)!==null&&g!==void 0?g:v.pos})),create:Cn.create,above:e[0].above,arrow:e.some(v=>v.arrow)}});class mv{constructor(e,v,g,S,E){this.view=e,this.source=v,this.field=g,this.setHover=S,this.hoverTime=E,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:v}=this,g=e.docView.nearest(v.target);if(!g)return;let S,E=1;if(g instanceof yi)S=g.posAtStart;else{if(S=e.posAtCoords(v),S==null)return;let D=e.coordsAtPos(S);if(!D||v.y<D.top||v.y>D.bottom||v.x<D.left-e.defaultCharacterWidth||v.x>D.right+e.defaultCharacterWidth)return;let I=e.bidiSpans(e.state.doc.lineAt(S)).find(Y=>Y.from<=S&&Y.to>=S),V=I&&I.dir==se.RTL?-1:1;E=v.x<D.left?-V:V}let R=this.source(e,S,E);if(R!=null&&R.then){let D=this.pending={pos:S};R.then(I=>{this.pending==D&&(this.pending=null,I&&!(Array.isArray(I)&&!I.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(I)?I:[I])}))},I=>Ee(e.state,I,"hover tooltip"))}else R&&!(Array.isArray(R)&&!R.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(R)?R:[R])})}get tooltip(){let e=this.view.plugin(ua),v=e?e.manager.tooltips.findIndex(g=>g.create==Cn.create):-1;return v>-1?e.manager.tooltipViews[v]:null}mousemove(e){var v,g;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:S,tooltip:E}=this;if(S.length&&E&&!gv(E.dom,e)||this.pending){let{pos:R}=S[0]||this.pending,D=(g=(v=S[0])===null||v===void 0?void 0:v.end)!==null&&g!==void 0?g:R;(R==D?this.view.posAtCoords(this.lastMove)!=R:!xv(this.view,R,D,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:v}=this;if(v.length){let{tooltip:g}=this;g&&g.dom.contains(e.relatedTarget)?this.watchTooltipLeave(g.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let v=g=>{e.removeEventListener("mouseleave",v),this.active.length&&!this.view.dom.contains(g.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",v)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Pn=4;function gv(O,e){let{left:v,right:g,top:S,bottom:E}=O.getBoundingClientRect(),R;if(R=O.querySelector(".cm-tooltip-arrow")){let D=R.getBoundingClientRect();S=Math.min(D.top,S),E=Math.max(D.bottom,E)}return e.clientX>=v-Pn&&e.clientX<=g+Pn&&e.clientY>=S-Pn&&e.clientY<=E+Pn}function xv(O,e,v,g,S,E){let R=O.scrollDOM.getBoundingClientRect(),D=O.documentTop+O.documentPadding.top+O.contentHeight;if(R.left>g||R.right<g||R.top>S||Math.min(R.bottom,D)<S)return!1;let I=O.posAtCoords({x:g,y:S},!1);return I>=e&&I<=v}function Ov(O,e={}){let v=Ot.define(),g=K.define({create(){return[]},update(S,E){if(S.length&&(e.hideOnChange&&(E.docChanged||E.selection)?S=[]:e.hideOn&&(S=S.filter(R=>!e.hideOn(E,R))),E.docChanged)){let R=[];for(let D of S){let I=E.changes.mapPos(D.pos,-1,T.TrackDel);if(I!=null){let V=Object.assign(Object.create(null),D);V.pos=I,V.end!=null&&(V.end=E.changes.mapPos(V.end)),R.push(V)}}S=R}for(let R of E.effects)R.is(v)&&(S=R.value),R.is(yv)&&(S=[]);return S},provide:S=>Tn.from(S)});return{active:g,extension:[g,oe.define(S=>new mv(S,O,g,v,e.hoverTime||300)),pv]}}function dl(O,e){let v=O.plugin(ua);if(!v)return null;let g=v.manager.tooltips.indexOf(e);return g<0?null:v.manager.tooltipViews[g]}const yv=Ot.define(),cl=H.define({combine(O){let e,v;for(let g of O)e=e||g.topContainer,v=v||g.bottomContainer;return{topContainer:e,bottomContainer:v}}});function ws(O,e){let v=O.plugin(vl),g=v?v.specs.indexOf(e):-1;return g>-1?v.panels[g]:null}const vl=oe.fromClass(class{constructor(O){this.input=O.state.facet(Ls),this.specs=this.input.filter(v=>v),this.panels=this.specs.map(v=>v(O));let e=O.state.facet(cl);this.top=new En(O,!0,e.topContainer),this.bottom=new En(O,!1,e.bottomContainer),this.top.sync(this.panels.filter(v=>v.top)),this.bottom.sync(this.panels.filter(v=>!v.top));for(let v of this.panels)v.dom.classList.add("cm-panel"),v.mount&&v.mount()}update(O){let e=O.state.facet(cl);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new En(O.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new En(O.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let v=O.state.facet(Ls);if(v!=this.input){let g=v.filter(I=>I),S=[],E=[],R=[],D=[];for(let I of g){let V=this.specs.indexOf(I),Y;V<0?(Y=I(O.view),D.push(Y)):(Y=this.panels[V],Y.update&&Y.update(O)),S.push(Y),(Y.top?E:R).push(Y)}this.specs=g,this.panels=S,this.top.sync(E),this.bottom.sync(R);for(let I of D)I.dom.classList.add("cm-panel"),I.mount&&I.mount()}else for(let g of this.panels)g.update&&g.update(O)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:O=>Et.scrollMargins.of(e=>{let v=e.plugin(O);return v&&{top:v.top.scrollMargin(),bottom:v.bottom.scrollMargin()}})});class En{constructor(e,v,g){this.view=e,this.top=v,this.container=g,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let v of this.panels)v.destroy&&e.indexOf(v)<0&&v.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let v=this.container||this.view.dom;v.insertBefore(this.dom,this.top?v.firstChild:null)}let e=this.dom.firstChild;for(let v of this.panels)if(v.dom.parentNode==this.dom){for(;e!=v.dom;)e=pl(e);e=e.nextSibling}else this.dom.insertBefore(v.dom,e);for(;e;)e=pl(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function pl(O){let e=O.nextSibling;return O.remove(),e}const Ls=H.define({enables:vl});class vi extends Fi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}vi.prototype.elementClass="",vi.prototype.toDOM=void 0,vi.prototype.mapMode=T.TrackBefore,vi.prototype.startSide=vi.prototype.endSide=-1,vi.prototype.point=!0;const An=H.define(),Sv=H.define(),Tv={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Yt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Fs=H.define();function Cv(O){return[gl(),Fs.of(Object.assign(Object.assign({},Tv),O))]}const ml=H.define({combine:O=>O.some(e=>e)});function gl(O){return[Pv]}const Pv=oe.fromClass(class{constructor(O){this.view=O,this.prevViewport=O.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=O.state.facet(Fs).map(e=>new Ol(O,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!O.state.facet(ml),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),O.scrollDOM.insertBefore(this.dom,O.contentDOM)}update(O){if(this.updateGutters(O)){let e=this.prevViewport,v=O.view.viewport,g=Math.min(e.to,v.to)-Math.max(e.from,v.from);this.syncGutters(g<(v.to-v.from)*.8)}O.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(ml)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=O.view.viewport}syncGutters(O){let e=this.dom.nextSibling;O&&this.dom.remove();let v=Yt.iter(this.view.state.facet(An),this.view.viewport.from),g=[],S=this.gutters.map(E=>new Ev(E,this.view.viewport,-this.view.documentPadding.top));for(let E of this.view.viewportLineBlocks)if(g.length&&(g=[]),Array.isArray(E.type)){let R=!0;for(let D of E.type)if(D.type==ye.Text&&R){da(v,g,D.from);for(let I of S)I.line(this.view,D,g);R=!1}else if(D.widget)for(let I of S)I.widget(this.view,D)}else if(E.type==ye.Text){da(v,g,E.from);for(let R of S)R.line(this.view,E,g)}else if(E.widget)for(let R of S)R.widget(this.view,E);for(let E of S)E.finish();O&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(O){let e=O.startState.facet(Fs),v=O.state.facet(Fs),g=O.docChanged||O.heightChanged||O.viewportChanged||!Yt.eq(O.startState.facet(An),O.state.facet(An),O.view.viewport.from,O.view.viewport.to);if(e==v)for(let S of this.gutters)S.update(O)&&(g=!0);else{g=!0;let S=[];for(let E of v){let R=e.indexOf(E);R<0?S.push(new Ol(this.view,E)):(this.gutters[R].update(O),S.push(this.gutters[R]))}for(let E of this.gutters)E.dom.remove(),S.indexOf(E)<0&&E.destroy();for(let E of S)this.dom.appendChild(E.dom);this.gutters=S}return g}destroy(){for(let O of this.gutters)O.destroy();this.dom.remove()}},{provide:O=>Et.scrollMargins.of(e=>{let v=e.plugin(O);return!v||v.gutters.length==0||!v.fixed?null:e.textDirection==se.LTR?{left:v.dom.offsetWidth*e.scaleX}:{right:v.dom.offsetWidth*e.scaleX}})});function xl(O){return Array.isArray(O)?O:[O]}function da(O,e,v){for(;O.value&&O.from<=v;)O.from==v&&e.push(O.value),O.next()}class Ev{constructor(e,v,g){this.gutter=e,this.height=g,this.i=0,this.cursor=Yt.iter(e.markers,v.from)}addElement(e,v,g){let{gutter:S}=this,E=(v.top-this.height)/e.scaleY,R=v.height/e.scaleY;if(this.i==S.elements.length){let D=new yl(e,R,E,g);S.elements.push(D),S.dom.appendChild(D.dom)}else S.elements[this.i].update(e,R,E,g);this.height=v.bottom,this.i++}line(e,v,g){let S=[];da(this.cursor,S,v.from),g.length&&(S=S.concat(g));let E=this.gutter.config.lineMarker(e,v,S);E&&S.unshift(E);let R=this.gutter;S.length==0&&!R.config.renderEmptyElements||this.addElement(e,v,S)}widget(e,v){let g=this.gutter.config.widgetMarker(e,v.widget,v),S=g?[g]:null;for(let E of e.state.facet(Sv)){let R=E(e,v.widget,v);R&&(S||(S=[])).push(R)}S&&this.addElement(e,v,S)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let v=e.elements.pop();e.dom.removeChild(v.dom),v.destroy()}}}class Ol{constructor(e,v){this.view=e,this.config=v,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let g in v.domEventHandlers)this.dom.addEventListener(g,S=>{let E=S.target,R;if(E!=this.dom&&this.dom.contains(E)){for(;E.parentNode!=this.dom;)E=E.parentNode;let I=E.getBoundingClientRect();R=(I.top+I.bottom)/2}else R=S.clientY;let D=e.lineBlockAtHeight(R-e.documentTop);v.domEventHandlers[g](e,D,S)&&S.preventDefault()});this.markers=xl(v.markers(e)),v.initialSpacer&&(this.spacer=new yl(e,0,0,[v.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let v=this.markers;if(this.markers=xl(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let S=this.config.updateSpacer(this.spacer.markers[0],e);S!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[S])}let g=e.view.viewport;return!Yt.eq(this.markers,v,g.from,g.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class yl{constructor(e,v,g,S){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,v,g,S)}update(e,v,g,S){this.height!=v&&(this.height=v,this.dom.style.height=v+"px"),this.above!=g&&(this.dom.style.marginTop=(this.above=g)?g+"px":""),Av(this.markers,S)||this.setMarkers(e,S)}setMarkers(e,v){let g="cm-gutterElement",S=this.dom.firstChild;for(let E=0,R=0;;){let D=R,I=E<v.length?v[E++]:null,V=!1;if(I){let Y=I.elementClass;Y&&(g+=" "+Y);for(let j=R;j<this.markers.length;j++)if(this.markers[j].compare(I)){D=j,V=!0;break}}else D=this.markers.length;for(;R<D;){let Y=this.markers[R++];if(Y.toDOM){Y.destroy(S);let j=S.nextSibling;S.remove(),S=j}}if(!I)break;I.toDOM&&(V?S=S.nextSibling:this.dom.insertBefore(I.toDOM(e),S)),V&&R++}this.dom.className=g,this.markers=v}destroy(){this.setMarkers(null,[])}}function Av(O,e){if(O.length!=e.length)return!1;for(let v=0;v<O.length;v++)if(!O[v].compare(e[v]))return!1;return!0}const Mv=H.define(),Rv=H.define(),Ki=H.define({combine(O){return ke(O,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,v){let g=Object.assign({},e);for(let S in v){let E=g[S],R=v[S];g[S]=E?(D,I,V)=>E(D,I,V)||R(D,I,V):R}return g}})}});class ca extends vi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function va(O,e){return O.state.facet(Ki).formatNumber(e,O.state)}const wv=Fs.compute([Ki],O=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Mv)},lineMarker(e,v,g){return g.some(S=>S.toDOM)?null:new ca(va(e,e.state.doc.lineAt(v.from).number))},widgetMarker:(e,v,g)=>{for(let S of e.state.facet(Rv)){let E=S(e,v,g);if(E)return E}return null},lineMarkerChange:e=>e.startState.facet(Ki)!=e.state.facet(Ki),initialSpacer(e){return new ca(va(e,Sl(e.state.doc.lines)))},updateSpacer(e,v){let g=va(v.view,Sl(v.view.state.doc.lines));return g==e.number?e:new ca(g)},domEventHandlers:O.facet(Ki).domEventHandlers}));function Lv(O={}){return[Ki.of(O),gl(),wv]}function Sl(O){let e=9;for(;e<O;)e=e*10+9;return e}const Fv=new class extends vi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Dv=An.compute(["selection"],O=>{let e=[],v=-1;for(let g of O.selection.ranges){let S=O.doc.lineAt(g.head).from;S>v&&(v=S,e.push(Fv.range(S)))}return Yt.of(e)});function bv(){return Dv}const Tl=1024;let Bv=0;class pa{constructor(e,v){this.from=e,this.to=v}}class Qt{constructor(e={}){this.id=Bv++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ae.match(e)),v=>{let g=e(v);return g===void 0?null:[this,g]}}}Qt.closedBy=new Qt({deserialize:O=>O.split(" ")}),Qt.openedBy=new Qt({deserialize:O=>O.split(" ")}),Qt.group=new Qt({deserialize:O=>O.split(" ")}),Qt.isolate=new Qt({deserialize:O=>{if(O&&O!="rtl"&&O!="ltr"&&O!="auto")throw new RangeError("Invalid value for isolate: "+O);return O||"auto"}}),Qt.contextHash=new Qt({perNode:!0}),Qt.lookAhead=new Qt({perNode:!0}),Qt.mounted=new Qt({perNode:!0});class Mn{constructor(e,v,g){this.tree=e,this.overlay=v,this.parser=g}static get(e){return e&&e.props&&e.props[Qt.mounted.id]}}const Iv=Object.create(null);class Ae{constructor(e,v,g,S=0){this.name=e,this.props=v,this.id=g,this.flags=S}static define(e){let v=e.props&&e.props.length?Object.create(null):Iv,g=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),S=new Ae(e.name||"",v,e.id,g);if(e.props){for(let E of e.props)if(Array.isArray(E)||(E=E(S)),E){if(E[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");v[E[0].id]=E[1]}}return S}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let v=this.prop(Qt.group);return v?v.indexOf(e)>-1:!1}return this.id==e}static match(e){let v=Object.create(null);for(let g in e)for(let S of g.split(" "))v[S]=e[g];return g=>{for(let S=g.prop(Qt.group),E=-1;E<(S?S.length:0);E++){let R=v[E<0?g.name:S[E]];if(R)return R}}}}Ae.none=new Ae("",Object.create(null),0,8);class ma{constructor(e){this.types=e;for(let v=0;v<e.length;v++)if(e[v].id!=v)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let v=[];for(let g of this.types){let S=null;for(let E of e){let R=E(g);R&&(S||(S=Object.assign({},g.props)),S[R[0].id]=R[1])}v.push(S?new Ae(g.name,S,g.id,g.flags):g)}return new ma(v)}}const Rn=new WeakMap,Cl=new WeakMap;var le;(function(O){O[O.ExcludeBuffers=1]="ExcludeBuffers",O[O.IncludeAnonymous=2]="IncludeAnonymous",O[O.IgnoreMounts=4]="IgnoreMounts",O[O.IgnoreOverlays=8]="IgnoreOverlays"})(le||(le={}));class he{constructor(e,v,g,S,E){if(this.type=e,this.children=v,this.positions=g,this.length=S,this.props=null,E&&E.length){this.props=Object.create(null);for(let[R,D]of E)this.props[typeof R=="number"?R:R.id]=D}}toString(){let e=Mn.get(this);if(e&&!e.overlay)return e.tree.toString();let v="";for(let g of this.children){let S=g.toString();S&&(v&&(v+=","),v+=S)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(v.length?"("+v+")":""):v}cursor(e=0){return new Oa(this.topNode,e)}cursorAt(e,v=0,g=0){let S=Rn.get(this)||this.topNode,E=new Oa(S);return E.moveTo(e,v),Rn.set(this,E._tree),E}get topNode(){return new Me(this,0,0,null)}resolve(e,v=0){let g=Ds(Rn.get(this)||this.topNode,e,v,!1);return Rn.set(this,g),g}resolveInner(e,v=0){let g=Ds(Cl.get(this)||this.topNode,e,v,!0);return Cl.set(this,g),g}resolveStack(e,v=0){return Qv(this,e,v)}iterate(e){let{enter:v,leave:g,from:S=0,to:E=this.length}=e,R=e.mode||0,D=(R&le.IncludeAnonymous)>0;for(let I=this.cursor(R|le.IncludeAnonymous);;){let V=!1;if(I.from<=E&&I.to>=S&&(!D&&I.type.isAnonymous||v(I)!==!1)){if(I.firstChild())continue;V=!0}for(;V&&g&&(D||!I.type.isAnonymous)&&g(I),!I.nextSibling();){if(!I.parent())return;V=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let v in this.props)e.push([+v,this.props[v]]);return e}balance(e={}){return this.children.length<=8?this:Sa(Ae.none,this.children,this.positions,0,this.children.length,0,this.length,(v,g,S)=>new he(this.type,v,g,S,this.propValues),e.makeTree||((v,g,S)=>new he(Ae.none,v,g,S)))}static build(e){return Xv(e)}}he.empty=new he(Ae.none,[],[],0);class ga{constructor(e,v){this.buffer=e,this.index=v}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ga(this.buffer,this.index)}}class Ei{constructor(e,v,g){this.buffer=e,this.length=v,this.set=g}get type(){return Ae.none}toString(){let e=[];for(let v=0;v<this.buffer.length;)e.push(this.childString(v)),v=this.buffer[v+3];return e.join(",")}childString(e){let v=this.buffer[e],g=this.buffer[e+3],S=this.set.types[v],E=S.name;if(/\W/.test(E)&&!S.isError&&(E=JSON.stringify(E)),e+=4,g==e)return E;let R=[];for(;e<g;)R.push(this.childString(e)),e=this.buffer[e+3];return E+"("+R.join(",")+")"}findChild(e,v,g,S,E){let{buffer:R}=this,D=-1;for(let I=e;I!=v&&!(Pl(E,S,R[I+1],R[I+2])&&(D=I,g>0));I=R[I+3]);return D}slice(e,v,g){let S=this.buffer,E=new Uint16Array(v-e),R=0;for(let D=e,I=0;D<v;){E[I++]=S[D++],E[I++]=S[D++]-g;let V=E[I++]=S[D++]-g;E[I++]=S[D++]-e,R=Math.max(R,V)}return new Ei(E,R,this.set)}}function Pl(O,e,v,g){switch(O){case-2:return v<e;case-1:return g>=e&&v<e;case 0:return v<e&&g>e;case 1:return v<=e&&g>e;case 2:return g>e;case 4:return!0}}function Ds(O,e,v,g){for(var S;O.from==O.to||(v<1?O.from>=e:O.from>e)||(v>-1?O.to<=e:O.to<e);){let R=!g&&O instanceof Me&&O.index<0?null:O.parent;if(!R)return O;O=R}let E=g?0:le.IgnoreOverlays;if(g)for(let R=O,D=R.parent;D;R=D,D=R.parent)R instanceof Me&&R.index<0&&((S=D.enter(e,v,E))===null||S===void 0?void 0:S.from)!=R.from&&(O=D);for(;;){let R=O.enter(e,v,E);if(!R)return O;O=R}}class El{cursor(e=0){return new Oa(this,e)}getChild(e,v=null,g=null){let S=Al(this,e,v,g);return S.length?S[0]:null}getChildren(e,v=null,g=null){return Al(this,e,v,g)}resolve(e,v=0){return Ds(this,e,v,!1)}resolveInner(e,v=0){return Ds(this,e,v,!0)}matchContext(e){return xa(this.parent,e)}enterUnfinishedNodesBefore(e){let v=this.childBefore(e),g=this;for(;v;){let S=v.lastChild;if(!S||S.to!=v.to)break;S.type.isError&&S.from==S.to?(g=v,v=S.prevSibling):v=S}return g}get node(){return this}get next(){return this.parent}}class Me extends El{constructor(e,v,g,S){super(),this._tree=e,this.from=v,this.index=g,this._parent=S}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,v,g,S,E=0){for(let R=this;;){for(let{children:D,positions:I}=R._tree,V=v>0?D.length:-1;e!=V;e+=v){let Y=D[e],j=I[e]+R.from;if(Pl(S,g,j,j+Y.length)){if(Y instanceof Ei){if(E&le.ExcludeBuffers)continue;let _=Y.findChild(0,Y.buffer.length,v,g-j,S);if(_>-1)return new qe(new Gv(R,Y,e,j),null,_)}else if(E&le.IncludeAnonymous||!Y.type.isAnonymous||ya(Y)){let _;if(!(E&le.IgnoreMounts)&&(_=Mn.get(Y))&&!_.overlay)return new Me(_.tree,j,e,R);let et=new Me(Y,j,e,R);return E&le.IncludeAnonymous||!et.type.isAnonymous?et:et.nextChild(v<0?Y.children.length-1:0,v,g,S)}}}if(E&le.IncludeAnonymous||!R.type.isAnonymous||(R.index>=0?e=R.index+v:e=v<0?-1:R._parent._tree.children.length,R=R._parent,!R))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,v,g=0){let S;if(!(g&le.IgnoreOverlays)&&(S=Mn.get(this._tree))&&S.overlay){let E=e-this.from;for(let{from:R,to:D}of S.overlay)if((v>0?R<=E:R<E)&&(v<0?D>=E:D>E))return new Me(S.tree,S.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,v,g)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Al(O,e,v,g){let S=O.cursor(),E=[];if(!S.firstChild())return E;if(v!=null){for(let R=!1;!R;)if(R=S.type.is(v),!S.nextSibling())return E}for(;;){if(g!=null&&S.type.is(g))return E;if(S.type.is(e)&&E.push(S.node),!S.nextSibling())return g==null?E:[]}}function xa(O,e,v=e.length-1){for(let g=O;v>=0;g=g.parent){if(!g)return!1;if(!g.type.isAnonymous){if(e[v]&&e[v]!=g.name)return!1;v--}}return!0}class Gv{constructor(e,v,g,S){this.parent=e,this.buffer=v,this.index=g,this.start=S}}class qe extends El{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,v,g){super(),this.context=e,this._parent=v,this.index=g,this.type=e.buffer.set.types[e.buffer.buffer[g]]}child(e,v,g){let{buffer:S}=this.context,E=S.findChild(this.index+4,S.buffer[this.index+3],e,v-this.context.start,g);return E<0?null:new qe(this.context,this,E)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,v,g=0){if(g&le.ExcludeBuffers)return null;let{buffer:S}=this.context,E=S.findChild(this.index+4,S.buffer[this.index+3],v>0?1:-1,e-this.context.start,v);return E<0?null:new qe(this.context,this,E)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,v=e.buffer[this.index+3];return v<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new qe(this.context,this._parent,v):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,v=this._parent?this._parent.index+4:0;return this.index==v?this.externalSibling(-1):new qe(this.context,this._parent,e.findChild(v,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],v=[],{buffer:g}=this.context,S=this.index+4,E=g.buffer[this.index+3];if(E>S){let R=g.buffer[this.index+1];e.push(g.slice(S,E,R)),v.push(0)}return new he(this.type,e,v,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Ml(O){if(!O.length)return null;let e=0,v=O[0];for(let E=1;E<O.length;E++){let R=O[E];(R.from>v.from||R.to<v.to)&&(v=R,e=E)}let g=v instanceof Me&&v.index<0?null:v.parent,S=O.slice();return g?S[e]=g:S.splice(e,1),new Nv(S,v)}class Nv{constructor(e,v){this.heads=e,this.node=v}get next(){return Ml(this.heads)}}function Qv(O,e,v){let g=O.resolveInner(e,v),S=null;for(let E=g instanceof Me?g:g.context.parent;E;E=E.parent)if(E.index<0){let R=E.parent;(S||(S=[g])).push(R.resolve(e,v)),E=R}else{let R=Mn.get(E.tree);if(R&&R.overlay&&R.overlay[0].from<=e&&R.overlay[R.overlay.length-1].to>=e){let D=new Me(R.tree,R.overlay[0].from+E.from,-1,E);(S||(S=[g])).push(Ds(D,e,v,!1))}}return S?Ml(S):g}class Oa{get name(){return this.type.name}constructor(e,v=0){if(this.mode=v,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Me)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let g=e._parent;g;g=g._parent)this.stack.unshift(g.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,v){this.index=e;let{start:g,buffer:S}=this.buffer;return this.type=v||S.set.types[S.buffer[e]],this.from=g+S.buffer[e+1],this.to=g+S.buffer[e+2],!0}yield(e){return e?e instanceof Me?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,v,g){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,v,g,this.mode));let{buffer:S}=this.buffer,E=S.findChild(this.index+4,S.buffer[this.index+3],e,v-this.buffer.start,g);return E<0?!1:(this.stack.push(this.index),this.yieldBuf(E))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,v,g=this.mode){return this.buffer?g&le.ExcludeBuffers?!1:this.enterChild(1,e,v):this.yield(this._tree.enter(e,v,g))}parent(){if(!this.buffer)return this.yieldNode(this.mode&le.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&le.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:v}=this.buffer,g=this.stack.length-1;if(e<0){let S=g<0?0:this.stack[g]+4;if(this.index!=S)return this.yieldBuf(v.findChild(S,this.index,-1,0,4))}else{let S=v.buffer[this.index+3];if(S<(g<0?v.buffer.length:v.buffer[this.stack[g]+3]))return this.yieldBuf(S)}return g<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let v,g,{buffer:S}=this;if(S){if(e>0){if(this.index<S.buffer.buffer.length)return!1}else for(let E=0;E<this.index;E++)if(S.buffer.buffer[E+3]<this.index)return!1;({index:v,parent:g}=S)}else({index:v,_parent:g}=this._tree);for(;g;{index:v,_parent:g}=g)if(v>-1)for(let E=v+e,R=e<0?-1:g._tree.children.length;E!=R;E+=e){let D=g._tree.children[E];if(this.mode&le.IncludeAnonymous||D instanceof Ei||!D.type.isAnonymous||ya(D))return!1}return!0}move(e,v){if(v&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,v=0){for(;(this.from==this.to||(v<1?this.from>=e:this.from>e)||(v>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,v););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,v=null,g=0;if(e&&e.context==this.buffer)t:for(let S=this.index,E=this.stack.length;E>=0;){for(let R=e;R;R=R._parent)if(R.index==S){if(S==this.index)return R;v=R,g=E+1;break t}S=this.stack[--E]}for(let S=g;S<this.stack.length;S++)v=new qe(this.buffer,v,this.stack[S]);return this.bufferNode=new qe(this.buffer,v,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,v){for(let g=0;;){let S=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){g++;continue}this.type.isAnonymous||(S=!0)}for(;;){if(S&&v&&v(this),S=this.type.isAnonymous,!g)return;if(this.nextSibling())break;this.parent(),g--,S=!0}}}matchContext(e){if(!this.buffer)return xa(this.node.parent,e);let{buffer:v}=this.buffer,{types:g}=v.set;for(let S=e.length-1,E=this.stack.length-1;S>=0;E--){if(E<0)return xa(this._tree,e,S);let R=g[v.buffer[this.stack[E]]];if(!R.isAnonymous){if(e[S]&&e[S]!=R.name)return!1;S--}}return!0}}function ya(O){return O.children.some(e=>e instanceof Ei||!e.type.isAnonymous||ya(e))}function Xv(O){var e;let{buffer:v,nodeSet:g,maxBufferLength:S=Tl,reused:E=[],minRepeatType:R=g.types.length}=O,D=Array.isArray(v)?new ga(v,v.length):v,I=g.types,V=0,Y=0;function j(mt,Tt,Pt,Nt,zt,qt){let{id:Xt,start:Dt,end:Ht,size:$t}=D,ee=Y,Te=V;for(;$t<0;)if(D.next(),$t==-1){let mi=E[Xt];Pt.push(mi),Nt.push(Dt-mt);return}else if($t==-3){V=Xt;return}else if($t==-4){Y=Xt;return}else throw new RangeError(`Unrecognized record size: ${$t}`);let Ie=I[Xt],ri,me,Ye=Dt-mt;if(Ht-Dt<=S&&(me=ot(D.pos-Tt,zt))){let mi=new Uint16Array(me.size-me.skip),Ue=D.pos-me.size,ai=mi.length;for(;D.pos>Ue;)ai=ut(me.start,mi,ai);ri=new Ei(mi,Ht-me.start,g),Ye=me.start-mt}else{let mi=D.pos-$t;D.next();let Ue=[],ai=[],Yi=Xt>=R?Xt:-1,us=0,cr=Ht;for(;D.pos>mi;)Yi>=0&&D.id==Yi&&D.size>=0?(D.end<=cr-S&&(st(Ue,ai,Dt,us,D.end,cr,Yi,ee,Te),us=Ue.length,cr=D.end),D.next()):qt>2500?_(Dt,mi,Ue,ai):j(Dt,mi,Ue,ai,Yi,qt+1);if(Yi>=0&&us>0&&us<Ue.length&&st(Ue,ai,Dt,us,Dt,cr,Yi,ee,Te),Ue.reverse(),ai.reverse(),Yi>-1&&us>0){let Kf=et(Ie,Te);ri=Sa(Ie,Ue,ai,0,Ue.length,0,Ht-Dt,Kf,Kf)}else ri=at(Ie,Ue,ai,Ht-Dt,ee-Ht,Te)}Pt.push(ri),Nt.push(Ye)}function _(mt,Tt,Pt,Nt){let zt=[],qt=0,Xt=-1;for(;D.pos>Tt;){let{id:Dt,start:Ht,end:$t,size:ee}=D;if(ee>4)D.next();else{if(Xt>-1&&Ht<Xt)break;Xt<0&&(Xt=$t-S),zt.push(Dt,Ht,$t),qt++,D.next()}}if(qt){let Dt=new Uint16Array(qt*4),Ht=zt[zt.length-2];for(let $t=zt.length-3,ee=0;$t>=0;$t-=3)Dt[ee++]=zt[$t],Dt[ee++]=zt[$t+1]-Ht,Dt[ee++]=zt[$t+2]-Ht,Dt[ee++]=ee;Pt.push(new Ei(Dt,zt[2]-Ht,g)),Nt.push(Ht-mt)}}function et(mt,Tt){return(Pt,Nt,zt)=>{let qt=0,Xt=Pt.length-1,Dt,Ht;if(Xt>=0&&(Dt=Pt[Xt])instanceof he){if(!Xt&&Dt.type==mt&&Dt.length==zt)return Dt;(Ht=Dt.prop(Qt.lookAhead))&&(qt=Nt[Xt]+Dt.length+Ht)}return at(mt,Pt,Nt,zt,qt,Tt)}}function st(mt,Tt,Pt,Nt,zt,qt,Xt,Dt,Ht){let $t=[],ee=[];for(;mt.length>Nt;)$t.push(mt.pop()),ee.push(Tt.pop()+Pt-zt);mt.push(at(g.types[Xt],$t,ee,qt-zt,Dt-qt,Ht)),Tt.push(zt-Pt)}function at(mt,Tt,Pt,Nt,zt,qt,Xt){if(qt){let Dt=[Qt.contextHash,qt];Xt=Xt?[Dt].concat(Xt):[Dt]}if(zt>25){let Dt=[Qt.lookAhead,zt];Xt=Xt?[Dt].concat(Xt):[Dt]}return new he(mt,Tt,Pt,Nt,Xt)}function ot(mt,Tt){let Pt=D.fork(),Nt=0,zt=0,qt=0,Xt=Pt.end-S,Dt={size:0,start:0,skip:0};t:for(let Ht=Pt.pos-mt;Pt.pos>Ht;){let $t=Pt.size;if(Pt.id==Tt&&$t>=0){Dt.size=Nt,Dt.start=zt,Dt.skip=qt,qt+=4,Nt+=4,Pt.next();continue}let ee=Pt.pos-$t;if($t<0||ee<Ht||Pt.start<Xt)break;let Te=Pt.id>=R?4:0,Ie=Pt.start;for(Pt.next();Pt.pos>ee;){if(Pt.size<0)if(Pt.size==-3)Te+=4;else break t;else Pt.id>=R&&(Te+=4);Pt.next()}zt=Ie,Nt+=$t,qt+=Te}return(Tt<0||Nt==mt)&&(Dt.size=Nt,Dt.start=zt,Dt.skip=qt),Dt.size>4?Dt:void 0}function ut(mt,Tt,Pt){let{id:Nt,start:zt,end:qt,size:Xt}=D;if(D.next(),Xt>=0&&Nt<R){let Dt=Pt;if(Xt>4){let Ht=D.pos-(Xt-4);for(;D.pos>Ht;)Pt=ut(mt,Tt,Pt)}Tt[--Pt]=Dt,Tt[--Pt]=qt-mt,Tt[--Pt]=zt-mt,Tt[--Pt]=Nt}else Xt==-3?V=Nt:Xt==-4&&(Y=Nt);return Pt}let pt=[],yt=[];for(;D.pos>0;)j(O.start||0,O.bufferStart||0,pt,yt,-1,0);let St=(e=O.length)!==null&&e!==void 0?e:pt.length?yt[0]+pt[0].length:0;return new he(I[O.topID],pt.reverse(),yt.reverse(),St)}const Rl=new WeakMap;function wn(O,e){if(!O.isAnonymous||e instanceof Ei||e.type!=O)return 1;let v=Rl.get(e);if(v==null){v=1;for(let g of e.children){if(g.type!=O||!(g instanceof he)){v=1;break}v+=wn(O,g)}Rl.set(e,v)}return v}function Sa(O,e,v,g,S,E,R,D,I){let V=0;for(let st=g;st<S;st++)V+=wn(O,e[st]);let Y=Math.ceil(V*1.5/8),j=[],_=[];function et(st,at,ot,ut,pt){for(let yt=ot;yt<ut;){let St=yt,mt=at[yt],Tt=wn(O,st[yt]);for(yt++;yt<ut;yt++){let Pt=wn(O,st[yt]);if(Tt+Pt>=Y)break;Tt+=Pt}if(yt==St+1){if(Tt>Y){let Pt=st[St];et(Pt.children,Pt.positions,0,Pt.children.length,at[St]+pt);continue}j.push(st[St])}else{let Pt=at[yt-1]+st[yt-1].length-mt;j.push(Sa(O,st,at,St,yt,mt,Pt,null,I))}_.push(mt+pt-E)}}return et(e,v,g,S,0),(D||I)(j,_,R)}class zv{constructor(){this.map=new WeakMap}setBuffer(e,v,g){let S=this.map.get(e);S||this.map.set(e,S=new Map),S.set(v,g)}getBuffer(e,v){let g=this.map.get(e);return g&&g.get(v)}set(e,v){e instanceof qe?this.setBuffer(e.context.buffer,e.index,v):e instanceof Me&&this.map.set(e.tree,v)}get(e){return e instanceof qe?this.getBuffer(e.context.buffer,e.index):e instanceof Me?this.map.get(e.tree):void 0}cursorSet(e,v){e.buffer?this.setBuffer(e.buffer.buffer,e.index,v):this.map.set(e.tree,v)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ii{constructor(e,v,g,S,E=!1,R=!1){this.from=e,this.to=v,this.tree=g,this.offset=S,this.open=(E?1:0)|(R?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,v=[],g=!1){let S=[new Ii(0,e.length,e,0,!1,g)];for(let E of v)E.to>e.length&&S.push(E);return S}static applyChanges(e,v,g=128){if(!v.length)return e;let S=[],E=1,R=e.length?e[0]:null;for(let D=0,I=0,V=0;;D++){let Y=D<v.length?v[D]:null,j=Y?Y.fromA:1e9;if(j-I>=g)for(;R&&R.from<j;){let _=R;if(I>=_.from||j<=_.to||V){let et=Math.max(_.from,I)-V,st=Math.min(_.to,j)-V;_=et>=st?null:new Ii(et,st,_.tree,_.offset+V,D>0,!!Y)}if(_&&S.push(_),R.to>j)break;R=E<e.length?e[E++]:null}if(!Y)break;I=Y.toA,V=Y.toA-Y.toB}return S}}class wl{startParse(e,v,g){return typeof e=="string"&&(e=new Vv(e)),g=g?g.length?g.map(S=>new pa(S.from,S.to)):[new pa(0,0)]:[new pa(0,e.length)],this.createParse(e,v||[],g)}parse(e,v,g){let S=this.startParse(e,v,g);for(;;){let E=S.advance();if(E)return E}}}class Vv{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,v){return this.string.slice(e,v)}}new Qt({perNode:!0});let Yv=0;class Qe{constructor(e,v,g,S){this.name=e,this.set=v,this.base=g,this.modified=S,this.id=Yv++}toString(){let{name:e}=this;for(let v of this.modified)v.name&&(e=`${v.name}(${e})`);return e}static define(e,v){let g=typeof e=="string"?e:"?";if(e instanceof Qe&&(v=e),v!=null&&v.base)throw new Error("Can not derive from a modified tag");let S=new Qe(g,[],null,[]);if(S.set.push(S),v)for(let E of v.set)S.set.push(E);return S}static defineModifier(e){let v=new Ln(e);return g=>g.modified.indexOf(v)>-1?g:Ln.get(g.base||g,g.modified.concat(v).sort((S,E)=>S.id-E.id))}}let Uv=0;class Ln{constructor(e){this.name=e,this.instances=[],this.id=Uv++}static get(e,v){if(!v.length)return e;let g=v[0].instances.find(D=>D.base==e&&Wv(v,D.modified));if(g)return g;let S=[],E=new Qe(e.name,S,e,v);for(let D of v)D.instances.push(E);let R=$v(v);for(let D of e.set)if(!D.modified.length)for(let I of R)S.push(Ln.get(D,I));return E}}function Wv(O,e){return O.length==e.length&&O.every((v,g)=>v==e[g])}function $v(O){let e=[[]];for(let v=0;v<O.length;v++)for(let g=0,S=e.length;g<S;g++)e.push(e[g].concat(O[v]));return e.sort((v,g)=>g.length-v.length)}function Ll(O){let e=Object.create(null);for(let v in O){let g=O[v];Array.isArray(g)||(g=[g]);for(let S of v.split(" "))if(S){let E=[],R=2,D=S;for(let j=0;;){if(D=="..."&&j>0&&j+3==S.length){R=1;break}let _=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(D);if(!_)throw new RangeError("Invalid path: "+S);if(E.push(_[0]=="*"?"":_[0][0]=='"'?JSON.parse(_[0]):_[0]),j+=_[0].length,j==S.length)break;let et=S[j++];if(j==S.length&&et=="!"){R=0;break}if(et!="/")throw new RangeError("Invalid path: "+S);D=S.slice(j)}let I=E.length-1,V=E[I];if(!V)throw new RangeError("Invalid path: "+S);let Y=new Fn(g,R,I>0?E.slice(0,I):null);e[V]=Y.sort(e[V])}}return Fl.add(e)}const Fl=new Qt;class Fn{constructor(e,v,g,S){this.tags=e,this.mode=v,this.context=g,this.next=S}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Fn.empty=new Fn([],2,null);function Dl(O,e){let v=Object.create(null);for(let E of O)if(!Array.isArray(E.tag))v[E.tag.id]=E.class;else for(let R of E.tag)v[R.id]=E.class;let{scope:g,all:S=null}=e||{};return{style:E=>{let R=S;for(let D of E)for(let I of D.set){let V=v[I.id];if(V){R=R?R+" "+V:V;break}}return R},scope:g}}function Zv(O,e){let v=null;for(let g of O){let S=g.style(e);S&&(v=v?v+" "+S:S)}return v}function Hv(O,e,v,g=0,S=O.length){let E=new kv(g,Array.isArray(e)?e:[e],v);E.highlightRange(O.cursor(),g,S,"",E.highlighters),E.flush(S)}class kv{constructor(e,v,g){this.at=e,this.highlighters=v,this.span=g,this.class=""}startSpan(e,v){v!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=v)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,v,g,S,E){let{type:R,from:D,to:I}=e;if(D>=g||I<=v)return;R.isTop&&(E=this.highlighters.filter(et=>!et.scope||et.scope(R)));let V=S,Y=jv(e)||Fn.empty,j=Zv(E,Y.tags);if(j&&(V&&(V+=" "),V+=j,Y.mode==1&&(S+=(S?" ":"")+j)),this.startSpan(Math.max(v,D),V),Y.opaque)return;let _=e.tree&&e.tree.prop(Qt.mounted);if(_&&_.overlay){let et=e.node.enter(_.overlay[0].from+D,1),st=this.highlighters.filter(ot=>!ot.scope||ot.scope(_.tree.type)),at=e.firstChild();for(let ot=0,ut=D;;ot++){let pt=ot<_.overlay.length?_.overlay[ot]:null,yt=pt?pt.from+D:I,St=Math.max(v,ut),mt=Math.min(g,yt);if(St<mt&&at)for(;e.from<mt&&(this.highlightRange(e,St,mt,S,E),this.startSpan(Math.min(mt,e.to),V),!(e.to>=yt||!e.nextSibling())););if(!pt||yt>g)break;ut=pt.to+D,ut>v&&(this.highlightRange(et.cursor(),Math.max(v,pt.from+D),Math.min(g,ut),"",st),this.startSpan(Math.min(g,ut),V))}at&&e.parent()}else if(e.firstChild()){_&&(S="");do if(!(e.to<=v)){if(e.from>=g)break;this.highlightRange(e,v,g,S,E),this.startSpan(Math.min(g,e.to),V)}while(e.nextSibling());e.parent()}}}function jv(O){let e=O.type.prop(Fl);for(;e&&e.context&&!O.matchContext(e.context);)e=e.next;return e||null}const Ct=Qe.define,Dn=Ct(),Ai=Ct(),bl=Ct(Ai),Bl=Ct(Ai),Mi=Ct(),bn=Ct(Mi),Ta=Ct(Mi),_e=Ct(),Gi=Ct(_e),ti=Ct(),ei=Ct(),Ca=Ct(),bs=Ct(Ca),Bn=Ct(),ft={comment:Dn,lineComment:Ct(Dn),blockComment:Ct(Dn),docComment:Ct(Dn),name:Ai,variableName:Ct(Ai),typeName:bl,tagName:Ct(bl),propertyName:Bl,attributeName:Ct(Bl),className:Ct(Ai),labelName:Ct(Ai),namespace:Ct(Ai),macroName:Ct(Ai),literal:Mi,string:bn,docString:Ct(bn),character:Ct(bn),attributeValue:Ct(bn),number:Ta,integer:Ct(Ta),float:Ct(Ta),bool:Ct(Mi),regexp:Ct(Mi),escape:Ct(Mi),color:Ct(Mi),url:Ct(Mi),keyword:ti,self:Ct(ti),null:Ct(ti),atom:Ct(ti),unit:Ct(ti),modifier:Ct(ti),operatorKeyword:Ct(ti),controlKeyword:Ct(ti),definitionKeyword:Ct(ti),moduleKeyword:Ct(ti),operator:ei,derefOperator:Ct(ei),arithmeticOperator:Ct(ei),logicOperator:Ct(ei),bitwiseOperator:Ct(ei),compareOperator:Ct(ei),updateOperator:Ct(ei),definitionOperator:Ct(ei),typeOperator:Ct(ei),controlOperator:Ct(ei),punctuation:Ca,separator:Ct(Ca),bracket:bs,angleBracket:Ct(bs),squareBracket:Ct(bs),paren:Ct(bs),brace:Ct(bs),content:_e,heading:Gi,heading1:Ct(Gi),heading2:Ct(Gi),heading3:Ct(Gi),heading4:Ct(Gi),heading5:Ct(Gi),heading6:Ct(Gi),contentSeparator:Ct(_e),list:Ct(_e),quote:Ct(_e),emphasis:Ct(_e),strong:Ct(_e),link:Ct(_e),monospace:Ct(_e),strikethrough:Ct(_e),inserted:Ct(),deleted:Ct(),changed:Ct(),invalid:Ct(),meta:Bn,documentMeta:Ct(Bn),annotation:Ct(Bn),processingInstruction:Ct(Bn),definition:Qe.defineModifier("definition"),constant:Qe.defineModifier("constant"),function:Qe.defineModifier("function"),standard:Qe.defineModifier("standard"),local:Qe.defineModifier("local"),special:Qe.defineModifier("special")};for(let O in ft){let e=ft[O];e instanceof Qe&&(e.name=O)}Dl([{tag:ft.link,class:"tok-link"},{tag:ft.heading,class:"tok-heading"},{tag:ft.emphasis,class:"tok-emphasis"},{tag:ft.strong,class:"tok-strong"},{tag:ft.keyword,class:"tok-keyword"},{tag:ft.atom,class:"tok-atom"},{tag:ft.bool,class:"tok-bool"},{tag:ft.url,class:"tok-url"},{tag:ft.labelName,class:"tok-labelName"},{tag:ft.inserted,class:"tok-inserted"},{tag:ft.deleted,class:"tok-deleted"},{tag:ft.literal,class:"tok-literal"},{tag:ft.string,class:"tok-string"},{tag:ft.number,class:"tok-number"},{tag:[ft.regexp,ft.escape,ft.special(ft.string)],class:"tok-string2"},{tag:ft.variableName,class:"tok-variableName"},{tag:ft.local(ft.variableName),class:"tok-variableName tok-local"},{tag:ft.definition(ft.variableName),class:"tok-variableName tok-definition"},{tag:ft.special(ft.variableName),class:"tok-variableName2"},{tag:ft.definition(ft.propertyName),class:"tok-propertyName tok-definition"},{tag:ft.typeName,class:"tok-typeName"},{tag:ft.namespace,class:"tok-namespace"},{tag:ft.className,class:"tok-className"},{tag:ft.macroName,class:"tok-macroName"},{tag:ft.propertyName,class:"tok-propertyName"},{tag:ft.operator,class:"tok-operator"},{tag:ft.comment,class:"tok-comment"},{tag:ft.meta,class:"tok-meta"},{tag:ft.invalid,class:"tok-invalid"},{tag:ft.punctuation,class:"tok-punctuation"}]);var Pa;const Ji=new Qt;function Il(O){return H.define({combine:O?e=>e.concat(O):void 0})}const Ea=new Qt;class Ze{constructor(e,v,g=[],S=""){this.data=e,this.name=S,Wt.prototype.hasOwnProperty("tree")||Object.defineProperty(Wt.prototype,"tree",{get(){return ue(this)}}),this.parser=v,this.extension=[Ri.of(this),Wt.languageData.of((E,R,D)=>{let I=Gl(E,R,D),V=I.type.prop(Ji);if(!V)return[];let Y=E.facet(V),j=I.type.prop(Ea);if(j){let _=I.resolve(R-I.from,D);for(let et of j)if(et.test(_,E)){let st=E.facet(et.facet);return et.type=="replace"?st:st.concat(Y)}}return Y})].concat(g)}isActiveAt(e,v,g=-1){return Gl(e,v,g).type.prop(Ji)==this.data}findRegions(e){let v=e.facet(Ri);if((v==null?void 0:v.data)==this.data)return[{from:0,to:e.doc.length}];if(!v||!v.allowsNesting)return[];let g=[],S=(E,R)=>{if(E.prop(Ji)==this.data){g.push({from:R,to:R+E.length});return}let D=E.prop(Qt.mounted);if(D){if(D.tree.prop(Ji)==this.data){if(D.overlay)for(let I of D.overlay)g.push({from:I.from+R,to:I.to+R});else g.push({from:R,to:R+E.length});return}else if(D.overlay){let I=g.length;if(S(D.tree,D.overlay[0].from+R),g.length>I)return}}for(let I=0;I<E.children.length;I++){let V=E.children[I];V instanceof he&&S(V,E.positions[I]+R)}};return S(ue(e),0),g}get allowsNesting(){return!0}}Ze.setState=Ot.define();function Gl(O,e,v){let g=O.facet(Ri),S=ue(O).topNode;if(!g||g.allowsNesting)for(let E=S;E;E=E.enter(e,v,le.ExcludeBuffers))E.type.isTop&&(S=E);return S}class In extends Ze{constructor(e,v,g){super(e,v,[],g),this.parser=v}static define(e){let v=Il(e.languageData);return new In(v,e.parser.configure({props:[Ji.add(g=>g.isTop?v:void 0)]}),e.name)}configure(e,v){return new In(this.data,this.parser.configure(e),v||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ue(O){let e=O.field(Ze.state,!1);return e?e.tree:he.empty}class Kv{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,v){let g=this.cursorPos-this.string.length;return e<g||v>=this.cursorPos?this.doc.sliceString(e,v):this.string.slice(e-g,v-g)}}let Bs=null;class Gn{constructor(e,v,g=[],S,E,R,D,I){this.parser=e,this.state=v,this.fragments=g,this.tree=S,this.treeLen=E,this.viewport=R,this.skipped=D,this.scheduleOn=I,this.parse=null,this.tempSkipped=[]}static create(e,v,g){return new Gn(e,v,[],he.empty,0,g,[],null)}startParse(){return this.parser.startParse(new Kv(this.state.doc),this.fragments)}work(e,v){return v!=null&&v>=this.state.doc.length&&(v=void 0),this.tree!=he.empty&&this.isDone(v??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var g;if(typeof e=="number"){let S=Date.now()+e;e=()=>Date.now()>S}for(this.parse||(this.parse=this.startParse()),v!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>v)&&v<this.state.doc.length&&this.parse.stopAt(v);;){let S=this.parse.advance();if(S)if(this.fragments=this.withoutTempSkipped(Ii.addTree(S,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(g=this.parse.stoppedAt)!==null&&g!==void 0?g:this.state.doc.length,this.tree=S,this.parse=null,this.treeLen<(v??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,v;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(v=this.parse.advance()););}),this.treeLen=e,this.tree=v,this.fragments=this.withoutTempSkipped(Ii.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let v=Bs;Bs=this;try{return e()}finally{Bs=v}}withoutTempSkipped(e){for(let v;v=this.tempSkipped.pop();)e=Nl(e,v.from,v.to);return e}changes(e,v){let{fragments:g,tree:S,treeLen:E,viewport:R,skipped:D}=this;if(this.takeTree(),!e.empty){let I=[];if(e.iterChangedRanges((V,Y,j,_)=>I.push({fromA:V,toA:Y,fromB:j,toB:_})),g=Ii.applyChanges(g,I),S=he.empty,E=0,R={from:e.mapPos(R.from,-1),to:e.mapPos(R.to,1)},this.skipped.length){D=[];for(let V of this.skipped){let Y=e.mapPos(V.from,1),j=e.mapPos(V.to,-1);Y<j&&D.push({from:Y,to:j})}}}return new Gn(this.parser,v,g,S,E,R,D,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let v=this.skipped.length;for(let g=0;g<this.skipped.length;g++){let{from:S,to:E}=this.skipped[g];S<e.to&&E>e.from&&(this.fragments=Nl(this.fragments,S,E),this.skipped.splice(g--,1))}return this.skipped.length>=v?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,v){this.skipped.push({from:e,to:v})}static getSkippingParser(e){return new class extends wl{createParse(v,g,S){let E=S[0].from,R=S[S.length-1].to;return{parsedPos:E,advance(){let I=Bs;if(I){for(let V of S)I.tempSkipped.push(V);e&&(I.scheduleOn=I.scheduleOn?Promise.all([I.scheduleOn,e]):e)}return this.parsedPos=R,new he(Ae.none,[],[],R-E)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let v=this.fragments;return this.treeLen>=e&&v.length&&v[0].from==0&&v[0].to>=e}static get(){return Bs}}function Nl(O,e,v){return Ii.applyChanges(O,[{fromA:e,toA:v,fromB:e,toB:v}])}class qi{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let v=this.context.changes(e.changes,e.state),g=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),v.viewport.to);return v.work(20,g)||v.takeTree(),new qi(v)}static init(e){let v=Math.min(3e3,e.doc.length),g=Gn.create(e.facet(Ri).parser,e,{from:0,to:v});return g.work(20,v)||g.takeTree(),new qi(g)}}Ze.state=K.define({create:qi.init,update(O,e){for(let v of e.effects)if(v.is(Ze.setState))return v.value;return e.startState.facet(Ri)!=e.state.facet(Ri)?qi.init(e.state):O.apply(e)}});let Ql=O=>{let e=setTimeout(()=>O(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Ql=O=>{let e=-1,v=setTimeout(()=>{e=requestIdleCallback(O,{timeout:400})},100);return()=>e<0?clearTimeout(v):cancelIdleCallback(e)});const Aa=typeof navigator<"u"&&(!((Pa=navigator.scheduling)===null||Pa===void 0)&&Pa.isInputPending)?()=>navigator.scheduling.isInputPending():null,Jv=oe.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let v=this.view.state.field(Ze.state).context;(v.updateViewport(e.view.viewport)||this.view.viewport.to>v.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(v)}scheduleWork(){if(this.working)return;let{state:e}=this.view,v=e.field(Ze.state);(v.tree!=v.context.tree||!v.context.isDone(e.doc.length))&&(this.working=Ql(this.work))}work(e){this.working=null;let v=Date.now();if(this.chunkEnd<v&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=v+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:g,viewport:{to:S}}=this.view,E=g.field(Ze.state);if(E.tree==E.context.tree&&E.context.isDone(S+1e5))return;let R=Date.now()+Math.min(this.chunkBudget,100,e&&!Aa?Math.max(25,e.timeRemaining()-5):1e9),D=E.context.treeLen<S&&g.doc.length>S+1e3,I=E.context.work(()=>Aa&&Aa()||Date.now()>R,S+(D?0:1e5));this.chunkBudget-=Date.now()-v,(I||this.chunkBudget<=0)&&(E.context.takeTree(),this.view.dispatch({effects:Ze.setState.of(new qi(E.context))})),this.chunkBudget>0&&!(I&&!D)&&this.scheduleWork(),this.checkAsyncSchedule(E.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(v=>Ee(this.view.state,v)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ri=H.define({combine(O){return O.length?O[0]:null},enables:O=>[Ze.state,Jv,Et.contentAttributes.compute([O],e=>{let v=e.facet(O);return v&&v.name?{"data-language":v.name}:{}})]});class qv{constructor(e,v=[]){this.language=e,this.support=v,this.extension=[e,v]}}const _v=H.define(),Nn=H.define({combine:O=>{if(!O.length)return"  ";let e=O[0];if(!e||/\S/.test(e)||Array.from(e).some(v=>v!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(O[0]));return e}});function Qn(O){let e=O.facet(Nn);return e.charCodeAt(0)==9?O.tabSize*e.length:e.length}function Is(O,e){let v="",g=O.tabSize,S=O.facet(Nn)[0];if(S=="	"){for(;e>=g;)v+="	",e-=g;S=" "}for(let E=0;E<e;E++)v+=S;return v}function Ma(O,e){O instanceof Wt&&(O=new Xn(O));for(let g of O.state.facet(_v)){let S=g(O,e);if(S!==void 0)return S}let v=ue(O.state);return v.length>=e?tp(O,v,e):null}class Xn{constructor(e,v={}){this.state=e,this.options=v,this.unit=Qn(e)}lineAt(e,v=1){let g=this.state.doc.lineAt(e),{simulateBreak:S,simulateDoubleBreak:E}=this.options;return S!=null&&S>=g.from&&S<=g.to?E&&S==e?{text:"",from:e}:(v<0?S<e:S<=e)?{text:g.text.slice(S-g.from),from:S}:{text:g.text.slice(0,S-g.from),from:g.from}:g}textAfterPos(e,v=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:g,from:S}=this.lineAt(e,v);return g.slice(e-S,Math.min(g.length,e+100-S))}column(e,v=1){let{text:g,from:S}=this.lineAt(e,v),E=this.countColumn(g,e-S),R=this.options.overrideIndentation?this.options.overrideIndentation(S):-1;return R>-1&&(E+=R-this.countColumn(g,g.search(/\S|$/))),E}countColumn(e,v=e.length){return Ui(e,this.state.tabSize,v)}lineIndent(e,v=1){let{text:g,from:S}=this.lineAt(e,v),E=this.options.overrideIndentation;if(E){let R=E(S);if(R>-1)return R}return this.countColumn(g,g.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Xl=new Qt;function tp(O,e,v){let g=e.resolveStack(v),S=g.node.enterUnfinishedNodesBefore(v);if(S!=g.node){let E=[];for(let R=S;R!=g.node;R=R.parent)E.push(R);for(let R=E.length-1;R>=0;R--)g={node:E[R],next:g}}return zl(g,O,v)}function zl(O,e,v){for(let g=O;g;g=g.next){let S=ip(g.node);if(S)return S(Ra.create(e,v,g))}return 0}function ep(O){return O.pos==O.options.simulateBreak&&O.options.simulateDoubleBreak}function ip(O){let e=O.type.prop(Xl);if(e)return e;let v=O.firstChild,g;if(v&&(g=v.type.prop(Qt.closedBy))){let S=O.lastChild,E=S&&g.indexOf(S.name)>-1;return R=>Vl(R,!0,1,void 0,E&&!ep(R)?S.from:void 0)}return O.parent==null?sp:null}function sp(){return 0}class Ra extends Xn{constructor(e,v,g){super(e.state,e.options),this.base=e,this.pos=v,this.context=g}get node(){return this.context.node}static create(e,v,g){return new Ra(e,v,g)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let v=this.state.doc.lineAt(e.from);for(;;){let g=e.resolve(v.from);for(;g.parent&&g.parent.from==g.from;)g=g.parent;if(np(g,e))break;v=this.state.doc.lineAt(g.from)}return this.lineIndent(v.from)}continue(){return zl(this.context.next,this.base,this.pos)}}function np(O,e){for(let v=e;v;v=v.parent)if(O==v)return!0;return!1}function rp(O){let e=O.node,v=e.childAfter(e.from),g=e.lastChild;if(!v)return null;let S=O.options.simulateBreak,E=O.state.doc.lineAt(v.from),R=S==null||S<=E.from?E.to:Math.min(E.to,S);for(let D=v.to;;){let I=e.childAfter(D);if(!I||I==g)return null;if(!I.type.isSkipped){if(I.from>=R)return null;let V=/^ */.exec(E.text.slice(v.to-E.from))[0].length;return{from:v.from,to:v.to+V}}D=I.to}}function ap({closing:O,align:e=!0,units:v=1}){return g=>Vl(g,e,v,O)}function Vl(O,e,v,g,S){let E=O.textAfter,R=E.match(/^\s*/)[0].length,D=g&&E.slice(R,R+g.length)==g||S==O.pos+R,I=e?rp(O):null;return I?D?O.column(I.from):O.column(I.to):O.baseIndent+(D?0:O.unit*v)}const op=O=>O.baseIndent;function wa({except:O,units:e=1}={}){return v=>{let g=O&&O.test(v.textAfter);return v.baseIndent+(g?0:e*v.unit)}}const hp=200;function lp(){return Wt.transactionFilter.of(O=>{if(!O.docChanged||!O.isUserEvent("input.type")&&!O.isUserEvent("input.complete"))return O;let e=O.startState.languageDataAt("indentOnInput",O.startState.selection.main.head);if(!e.length)return O;let v=O.newDoc,{head:g}=O.newSelection.main,S=v.lineAt(g);if(g>S.from+hp)return O;let E=v.sliceString(S.from,g);if(!e.some(V=>V.test(E)))return O;let{state:R}=O,D=-1,I=[];for(let{head:V}of R.selection.ranges){let Y=R.doc.lineAt(V);if(Y.from==D)continue;D=Y.from;let j=Ma(R,Y.from);if(j==null)continue;let _=/^\s*/.exec(Y.text)[0],et=Is(R,j);_!=et&&I.push({from:Y.from,to:Y.from+_.length,insert:et})}return I.length?[O,{changes:I,sequential:!0}]:O})}const up=H.define(),Yl=new Qt;function fp(O){let e=O.firstChild,v=O.lastChild;return e&&e.to<v.from?{from:e.to,to:v.type.isError?O.to:v.from}:null}function dp(O,e,v){let g=ue(O);if(g.length<v)return null;let S=g.resolveStack(v,1),E=null;for(let R=S;R;R=R.next){let D=R.node;if(D.to<=v||D.from>v)continue;if(E&&D.from<e)break;let I=D.type.prop(Yl);if(I&&(D.to<g.length-50||g.length==O.doc.length||!cp(D))){let V=I(D,O);V&&V.from<=v&&V.from>=e&&V.to>v&&(E=V)}}return E}function cp(O){let e=O.lastChild;return e&&e.to==O.to&&e.type.isError}function zn(O,e,v){for(let g of O.facet(up)){let S=g(O,e,v);if(S)return S}return dp(O,e,v)}function Ul(O,e){let v=e.mapPos(O.from,1),g=e.mapPos(O.to,-1);return v>=g?void 0:{from:v,to:g}}const Vn=Ot.define({map:Ul}),Gs=Ot.define({map:Ul});function Wl(O){let e=[];for(let{head:v}of O.state.selection.ranges)e.some(g=>g.from<=v&&g.to>=v)||e.push(O.lineBlockAt(v));return e}const Ni=K.define({create(){return Lt.none},update(O,e){O=O.map(e.changes);for(let v of e.effects)if(v.is(Vn)&&!vp(O,v.value.from,v.value.to)){let{preparePlaceholder:g}=e.state.facet(Hl),S=g?Lt.replace({widget:new Op(g(e.state,v.value))}):Kl;O=O.update({add:[S.range(v.value.from,v.value.to)]})}else v.is(Gs)&&(O=O.update({filter:(g,S)=>v.value.from!=g||v.value.to!=S,filterFrom:v.value.from,filterTo:v.value.to}));if(e.selection){let v=!1,{head:g}=e.selection.main;O.between(g,g,(S,E)=>{S<g&&E>g&&(v=!0)}),v&&(O=O.update({filterFrom:g,filterTo:g,filter:(S,E)=>E<=g||S>=g}))}return O},provide:O=>Et.decorations.from(O),toJSON(O,e){let v=[];return O.between(0,e.doc.length,(g,S)=>{v.push(g,S)}),v},fromJSON(O){if(!Array.isArray(O)||O.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let v=0;v<O.length;){let g=O[v++],S=O[v++];if(typeof g!="number"||typeof S!="number")throw new RangeError("Invalid JSON for fold state");e.push(Kl.range(g,S))}return Lt.set(e,!0)}});function Yn(O,e,v){var g;let S=null;return(g=O.field(Ni,!1))===null||g===void 0||g.between(e,v,(E,R)=>{(!S||S.from>E)&&(S={from:E,to:R})}),S}function vp(O,e,v){let g=!1;return O.between(e,e,(S,E)=>{S==e&&E==v&&(g=!0)}),g}function $l(O,e){return O.field(Ni,!1)?e:e.concat(Ot.appendConfig.of(kl()))}const pp=O=>{for(let e of Wl(O)){let v=zn(O.state,e.from,e.to);if(v)return O.dispatch({effects:$l(O.state,[Vn.of(v),Zl(O,v)])}),!0}return!1},mp=O=>{if(!O.state.field(Ni,!1))return!1;let e=[];for(let v of Wl(O)){let g=Yn(O.state,v.from,v.to);g&&e.push(Gs.of(g),Zl(O,g,!1))}return e.length&&O.dispatch({effects:e}),e.length>0};function Zl(O,e,v=!0){let g=O.state.doc.lineAt(e.from).number,S=O.state.doc.lineAt(e.to).number;return Et.announce.of(`${O.state.phrase(v?"Folded lines":"Unfolded lines")} ${g} ${O.state.phrase("to")} ${S}.`)}const gp=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:pp},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:mp},{key:"Ctrl-Alt-[",run:O=>{let{state:e}=O,v=[];for(let g=0;g<e.doc.length;){let S=O.lineBlockAt(g),E=zn(e,S.from,S.to);E&&v.push(Vn.of(E)),g=(E?O.lineBlockAt(E.to):S).to+1}return v.length&&O.dispatch({effects:$l(O.state,v)}),!!v.length}},{key:"Ctrl-Alt-]",run:O=>{let e=O.state.field(Ni,!1);if(!e||!e.size)return!1;let v=[];return e.between(0,O.state.doc.length,(g,S)=>{v.push(Gs.of({from:g,to:S}))}),O.dispatch({effects:v}),!0}}],xp={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Hl=H.define({combine(O){return ke(O,xp)}});function kl(O){return[Ni,Tp]}function jl(O,e){let{state:v}=O,g=v.facet(Hl),S=R=>{let D=O.lineBlockAt(O.posAtDOM(R.target)),I=Yn(O.state,D.from,D.to);I&&O.dispatch({effects:Gs.of(I)}),R.preventDefault()};if(g.placeholderDOM)return g.placeholderDOM(O,S,e);let E=document.createElement("span");return E.textContent=g.placeholderText,E.setAttribute("aria-label",v.phrase("folded code")),E.title=v.phrase("unfold"),E.className="cm-foldPlaceholder",E.onclick=S,E}const Kl=Lt.replace({widget:new class extends di{toDOM(O){return jl(O,null)}}});class Op extends di{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return jl(e,this.value)}}const yp={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class La extends vi{constructor(e,v){super(),this.config=e,this.open=v}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let v=document.createElement("span");return v.textContent=this.open?this.config.openText:this.config.closedText,v.title=e.state.phrase(this.open?"Fold line":"Unfold line"),v}}function Sp(O={}){let e=Object.assign(Object.assign({},yp),O),v=new La(e,!0),g=new La(e,!1),S=oe.fromClass(class{constructor(R){this.from=R.viewport.from,this.markers=this.buildMarkers(R)}update(R){(R.docChanged||R.viewportChanged||R.startState.facet(Ri)!=R.state.facet(Ri)||R.startState.field(Ni,!1)!=R.state.field(Ni,!1)||ue(R.startState)!=ue(R.state)||e.foldingChanged(R))&&(this.markers=this.buildMarkers(R.view))}buildMarkers(R){let D=new gi;for(let I of R.viewportLineBlocks){let V=Yn(R.state,I.from,I.to)?g:zn(R.state,I.from,I.to)?v:null;V&&D.add(I.from,I.from,V)}return D.finish()}}),{domEventHandlers:E}=e;return[S,Cv({class:"cm-foldGutter",markers(R){var D;return((D=R.plugin(S))===null||D===void 0?void 0:D.markers)||Yt.empty},initialSpacer(){return new La(e,!1)},domEventHandlers:Object.assign(Object.assign({},E),{click:(R,D,I)=>{if(E.click&&E.click(R,D,I))return!0;let V=Yn(R.state,D.from,D.to);if(V)return R.dispatch({effects:Gs.of(V)}),!0;let Y=zn(R.state,D.from,D.to);return Y?(R.dispatch({effects:Vn.of(Y)}),!0):!1}})}),kl()]}const Tp=Et.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Un{constructor(e,v){this.specs=e;let g;function S(D){let I=xi.newName();return(g||(g=Object.create(null)))["."+I]=D,I}const E=typeof v.all=="string"?v.all:v.all?S(v.all):void 0,R=v.scope;this.scope=R instanceof Ze?D=>D.prop(Ji)==R.data:R?D=>D==R:void 0,this.style=Dl(e.map(D=>({tag:D.tag,class:D.class||S(Object.assign({},D,{tag:null}))})),{all:E}).style,this.module=g?new xi(g):null,this.themeType=v.themeType}static define(e,v){return new Un(e,v||{})}}const Fa=H.define(),Jl=H.define({combine(O){return O.length?[O[0]]:null}});function Da(O){let e=O.facet(Fa);return e.length?e:O.facet(Jl)}function Cp(O,e){let v=[Ep],g;return O instanceof Un&&(O.module&&v.push(Et.styleModule.of(O.module)),g=O.themeType),e!=null&&e.fallback?v.push(Jl.of(O)):g?v.push(Fa.computeN([Et.darkTheme],S=>S.facet(Et.darkTheme)==(g=="dark")?[O]:[])):v.push(Fa.of(O)),v}class Pp{constructor(e){this.markCache=Object.create(null),this.tree=ue(e.state),this.decorations=this.buildDeco(e,Da(e.state)),this.decoratedTo=e.viewport.to}update(e){let v=ue(e.state),g=Da(e.state),S=g!=Da(e.startState),{viewport:E}=e.view,R=e.changes.mapPos(this.decoratedTo,1);v.length<E.to&&!S&&v.type==this.tree.type&&R>=E.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=R):(v!=this.tree||e.viewportChanged||S)&&(this.tree=v,this.decorations=this.buildDeco(e.view,g),this.decoratedTo=E.to)}buildDeco(e,v){if(!v||!this.tree.length)return Lt.none;let g=new gi;for(let{from:S,to:E}of e.visibleRanges)Hv(this.tree,v,(R,D,I)=>{g.add(R,D,this.markCache[I]||(this.markCache[I]=Lt.mark({class:I})))},S,E);return g.finish()}}const Ep=tt.high(oe.fromClass(Pp,{decorations:O=>O.decorations})),Ap=Un.define([{tag:ft.meta,color:"#404740"},{tag:ft.link,textDecoration:"underline"},{tag:ft.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ft.emphasis,fontStyle:"italic"},{tag:ft.strong,fontWeight:"bold"},{tag:ft.strikethrough,textDecoration:"line-through"},{tag:ft.keyword,color:"#708"},{tag:[ft.atom,ft.bool,ft.url,ft.contentSeparator,ft.labelName],color:"#219"},{tag:[ft.literal,ft.inserted],color:"#164"},{tag:[ft.string,ft.deleted],color:"#a11"},{tag:[ft.regexp,ft.escape,ft.special(ft.string)],color:"#e40"},{tag:ft.definition(ft.variableName),color:"#00f"},{tag:ft.local(ft.variableName),color:"#30a"},{tag:[ft.typeName,ft.namespace],color:"#085"},{tag:ft.className,color:"#167"},{tag:[ft.special(ft.variableName),ft.macroName],color:"#256"},{tag:ft.definition(ft.propertyName),color:"#00c"},{tag:ft.comment,color:"#940"},{tag:ft.invalid,color:"#f00"}]),Mp=Et.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ql=1e4,_l="()[]{}",tu=H.define({combine(O){return ke(O,{afterCursor:!0,brackets:_l,maxScanDistance:ql,renderMatch:Lp})}}),Rp=Lt.mark({class:"cm-matchingBracket"}),wp=Lt.mark({class:"cm-nonmatchingBracket"});function Lp(O){let e=[],v=O.matched?Rp:wp;return e.push(v.range(O.start.from,O.start.to)),O.end&&e.push(v.range(O.end.from,O.end.to)),e}const Fp=[K.define({create(){return Lt.none},update(O,e){if(!e.docChanged&&!e.selection)return O;let v=[],g=e.state.facet(tu);for(let S of e.state.selection.ranges){if(!S.empty)continue;let E=ii(e.state,S.head,-1,g)||S.head>0&&ii(e.state,S.head-1,1,g)||g.afterCursor&&(ii(e.state,S.head,1,g)||S.head<e.state.doc.length&&ii(e.state,S.head+1,-1,g));E&&(v=v.concat(g.renderMatch(E,e.state)))}return Lt.set(v,!0)},provide:O=>Et.decorations.from(O)}),Mp];function Dp(O={}){return[tu.of(O),Fp]}const bp=new Qt;function ba(O,e,v){let g=O.prop(e<0?Qt.openedBy:Qt.closedBy);if(g)return g;if(O.name.length==1){let S=v.indexOf(O.name);if(S>-1&&S%2==(e<0?1:0))return[v[S+e]]}return null}function Ba(O){let e=O.type.prop(bp);return e?e(O.node):O}function ii(O,e,v,g={}){let S=g.maxScanDistance||ql,E=g.brackets||_l,R=ue(O),D=R.resolveInner(e,v);for(let I=D;I;I=I.parent){let V=ba(I.type,v,E);if(V&&I.from<I.to){let Y=Ba(I);if(Y&&(v>0?e>=Y.from&&e<Y.to:e>Y.from&&e<=Y.to))return Bp(O,e,v,I,Y,V,E)}}return Ip(O,e,v,R,D.type,S,E)}function Bp(O,e,v,g,S,E,R){let D=g.parent,I={from:S.from,to:S.to},V=0,Y=D==null?void 0:D.cursor();if(Y&&(v<0?Y.childBefore(g.from):Y.childAfter(g.to)))do if(v<0?Y.to<=g.from:Y.from>=g.to){if(V==0&&E.indexOf(Y.type.name)>-1&&Y.from<Y.to){let j=Ba(Y);return{start:I,end:j?{from:j.from,to:j.to}:void 0,matched:!0}}else if(ba(Y.type,v,R))V++;else if(ba(Y.type,-v,R)){if(V==0){let j=Ba(Y);return{start:I,end:j&&j.from<j.to?{from:j.from,to:j.to}:void 0,matched:!1}}V--}}while(v<0?Y.prevSibling():Y.nextSibling());return{start:I,matched:!1}}function Ip(O,e,v,g,S,E,R){let D=v<0?O.sliceDoc(e-1,e):O.sliceDoc(e,e+1),I=R.indexOf(D);if(I<0||I%2==0!=v>0)return null;let V={from:v<0?e-1:e,to:v>0?e+1:e},Y=O.doc.iterRange(e,v>0?O.doc.length:0),j=0;for(let _=0;!Y.next().done&&_<=E;){let et=Y.value;v<0&&(_+=et.length);let st=e+_*v;for(let at=v>0?0:et.length-1,ot=v>0?et.length:-1;at!=ot;at+=v){let ut=R.indexOf(et[at]);if(!(ut<0||g.resolveInner(st+at,1).type!=S))if(ut%2==0==v>0)j++;else{if(j==1)return{start:V,end:{from:st+at,to:st+at+1},matched:ut>>1==I>>1};j--}}v>0&&(_+=et.length)}return Y.done?{start:V,matched:!1}:null}const Gp=Object.create(null),eu=[Ae.none],iu=[],su=Object.create(null),Np=Object.create(null);for(let[O,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Np[O]=Qp(Gp,e);function Ia(O,e){iu.indexOf(O)>-1||(iu.push(O),console.warn(e))}function Qp(O,e){let v=[];for(let D of e.split(" ")){let I=[];for(let V of D.split(".")){let Y=O[V]||ft[V];Y?typeof Y=="function"?I.length?I=I.map(Y):Ia(V,`Modifier ${V} used at start of tag`):I.length?Ia(V,`Tag ${V} used as modifier`):I=Array.isArray(Y)?Y:[Y]:Ia(V,`Unknown highlighting tag ${V}`)}for(let V of I)v.push(V)}if(!v.length)return 0;let g=e.replace(/ /g,"_"),S=g+" "+v.map(D=>D.id),E=su[S];if(E)return E.id;let R=su[S]=Ae.define({id:eu.length,name:g,props:[Ll({[g]:v})]});return eu.push(R),R.id}se.RTL,se.LTR;const Xp=O=>{let{state:e}=O,v=e.doc.lineAt(e.selection.main.from),g=Na(O.state,v.from);return g.line?zp(O):g.block?Yp(O):!1};function Ga(O,e){return({state:v,dispatch:g})=>{if(v.readOnly)return!1;let S=O(e,v);return S?(g(v.update(S)),!0):!1}}const zp=Ga($p,0),Vp=Ga(nu,0),Yp=Ga((O,e)=>nu(O,e,Wp(e)),0);function Na(O,e){let v=O.languageDataAt("commentTokens",e);return v.length?v[0]:{}}const Ns=50;function Up(O,{open:e,close:v},g,S){let E=O.sliceDoc(g-Ns,g),R=O.sliceDoc(S,S+Ns),D=/\s*$/.exec(E)[0].length,I=/^\s*/.exec(R)[0].length,V=E.length-D;if(E.slice(V-e.length,V)==e&&R.slice(I,I+v.length)==v)return{open:{pos:g-D,margin:D&&1},close:{pos:S+I,margin:I&&1}};let Y,j;S-g<=2*Ns?Y=j=O.sliceDoc(g,S):(Y=O.sliceDoc(g,g+Ns),j=O.sliceDoc(S-Ns,S));let _=/^\s*/.exec(Y)[0].length,et=/\s*$/.exec(j)[0].length,st=j.length-et-v.length;return Y.slice(_,_+e.length)==e&&j.slice(st,st+v.length)==v?{open:{pos:g+_+e.length,margin:/\s/.test(Y.charAt(_+e.length))?1:0},close:{pos:S-et-v.length,margin:/\s/.test(j.charAt(st-1))?1:0}}:null}function Wp(O){let e=[];for(let v of O.selection.ranges){let g=O.doc.lineAt(v.from),S=v.to<=g.to?g:O.doc.lineAt(v.to);S.from>g.from&&S.from==v.to&&(S=v.to==g.to+1?g:O.doc.lineAt(v.to-1));let E=e.length-1;E>=0&&e[E].to>g.from?e[E].to=S.to:e.push({from:g.from+/^\s*/.exec(g.text)[0].length,to:S.to})}return e}function nu(O,e,v=e.selection.ranges){let g=v.map(E=>Na(e,E.from).block);if(!g.every(E=>E))return null;let S=v.map((E,R)=>Up(e,g[R],E.from,E.to));if(O!=2&&!S.every(E=>E))return{changes:e.changes(v.map((E,R)=>S[R]?[]:[{from:E.from,insert:g[R].open+" "},{from:E.to,insert:" "+g[R].close}]))};if(O!=1&&S.some(E=>E)){let E=[];for(let R=0,D;R<S.length;R++)if(D=S[R]){let I=g[R],{open:V,close:Y}=D;E.push({from:V.pos-I.open.length,to:V.pos+V.margin},{from:Y.pos-Y.margin,to:Y.pos+I.close.length})}return{changes:E}}return null}function $p(O,e,v=e.selection.ranges){let g=[],S=-1;for(let{from:E,to:R}of v){let D=g.length,I=1e9,V=Na(e,E).line;if(V){for(let Y=E;Y<=R;){let j=e.doc.lineAt(Y);if(j.from>S&&(E==R||R>j.from)){S=j.from;let _=/^\s*/.exec(j.text)[0].length,et=_==j.length,st=j.text.slice(_,_+V.length)==V?_:-1;_<j.text.length&&_<I&&(I=_),g.push({line:j,comment:st,token:V,indent:_,empty:et,single:!1})}Y=j.to+1}if(I<1e9)for(let Y=D;Y<g.length;Y++)g[Y].indent<g[Y].line.text.length&&(g[Y].indent=I);g.length==D+1&&(g[D].single=!0)}}if(O!=2&&g.some(E=>E.comment<0&&(!E.empty||E.single))){let E=[];for(let{line:D,token:I,indent:V,empty:Y,single:j}of g)(j||!Y)&&E.push({from:D.from+V,insert:I+" "});let R=e.changes(E);return{changes:R,selection:e.selection.map(R,1)}}else if(O!=1&&g.some(E=>E.comment>=0)){let E=[];for(let{line:R,comment:D,token:I}of g)if(D>=0){let V=R.from+D,Y=V+I.length;R.text[Y-R.from]==" "&&Y++,E.push({from:V,to:Y})}return{changes:E}}return null}const Qa=bt.define(),Zp=bt.define(),Hp=H.define(),ru=H.define({combine(O){return ke(O,{minDepth:100,newGroupDelay:500,joinToEvent:(e,v)=>v},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,v)=>(g,S)=>e(g,S)||v(g,S)})}}),au=K.define({create(){return si.empty},update(O,e){let v=e.state.facet(ru),g=e.annotation(Qa);if(g){let I=Re.fromTransaction(e,g.selection),V=g.side,Y=V==0?O.undone:O.done;return I?Y=$n(Y,Y.length,v.minDepth,I):Y=lu(Y,e.startState.selection),new si(V==0?g.rest:Y,V==0?Y:g.rest)}let S=e.annotation(Zp);if((S=="full"||S=="before")&&(O=O.isolate()),e.annotation(Bt.addToHistory)===!1)return e.changes.empty?O:O.addMapping(e.changes.desc);let E=Re.fromTransaction(e),R=e.annotation(Bt.time),D=e.annotation(Bt.userEvent);return E?O=O.addChanges(E,R,D,v,e):e.selection&&(O=O.addSelection(e.startState.selection,R,D,v.newGroupDelay)),(S=="full"||S=="after")&&(O=O.isolate()),O},toJSON(O){return{done:O.done.map(e=>e.toJSON()),undone:O.undone.map(e=>e.toJSON())}},fromJSON(O){return new si(O.done.map(Re.fromJSON),O.undone.map(Re.fromJSON))}});function kp(O={}){return[au,ru.of(O),Et.domEventHandlers({beforeinput(e,v){let g=e.inputType=="historyUndo"?ou:e.inputType=="historyRedo"?Xa:null;return g?(e.preventDefault(),g(v)):!1}})]}function Wn(O,e){return function({state:v,dispatch:g}){if(!e&&v.readOnly)return!1;let S=v.field(au,!1);if(!S)return!1;let E=S.pop(O,v,e);return E?(g(E),!0):!1}}const ou=Wn(0,!1),Xa=Wn(1,!1),jp=Wn(0,!0),Kp=Wn(1,!0);class Re{constructor(e,v,g,S,E){this.changes=e,this.effects=v,this.mapped=g,this.startSelection=S,this.selectionsAfter=E}setSelAfter(e){return new Re(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,v,g;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(v=this.mapped)===null||v===void 0?void 0:v.toJSON(),startSelection:(g=this.startSelection)===null||g===void 0?void 0:g.toJSON(),selectionsAfter:this.selectionsAfter.map(S=>S.toJSON())}}static fromJSON(e){return new Re(e.changes&&P.fromJSON(e.changes),[],e.mapped&&C.fromJSON(e.mapped),e.startSelection&&N.fromJSON(e.startSelection),e.selectionsAfter.map(N.fromJSON))}static fromTransaction(e,v){let g=Xe;for(let S of e.startState.facet(Hp)){let E=S(e);E.length&&(g=g.concat(E))}return!g.length&&e.changes.empty?null:new Re(e.changes.invert(e.startState.doc),g,void 0,v||e.startState.selection,Xe)}static selection(e){return new Re(void 0,Xe,void 0,void 0,e)}}function $n(O,e,v,g){let S=e+1>v+20?e-v-1:0,E=O.slice(S,e);return E.push(g),E}function Jp(O,e){let v=[],g=!1;return O.iterChangedRanges((S,E)=>v.push(S,E)),e.iterChangedRanges((S,E,R,D)=>{for(let I=0;I<v.length;){let V=v[I++],Y=v[I++];D>=V&&R<=Y&&(g=!0)}}),g}function qp(O,e){return O.ranges.length==e.ranges.length&&O.ranges.filter((v,g)=>v.empty!=e.ranges[g].empty).length===0}function hu(O,e){return O.length?e.length?O.concat(e):O:e}const Xe=[],_p=200;function lu(O,e){if(O.length){let v=O[O.length-1],g=v.selectionsAfter.slice(Math.max(0,v.selectionsAfter.length-_p));return g.length&&g[g.length-1].eq(e)?O:(g.push(e),$n(O,O.length-1,1e9,v.setSelAfter(g)))}else return[Re.selection([e])]}function tm(O){let e=O[O.length-1],v=O.slice();return v[O.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),v}function za(O,e){if(!O.length)return O;let v=O.length,g=Xe;for(;v;){let S=em(O[v-1],e,g);if(S.changes&&!S.changes.empty||S.effects.length){let E=O.slice(0,v);return E[v-1]=S,E}else e=S.mapped,v--,g=S.selectionsAfter}return g.length?[Re.selection(g)]:Xe}function em(O,e,v){let g=hu(O.selectionsAfter.length?O.selectionsAfter.map(D=>D.map(e)):Xe,v);if(!O.changes)return Re.selection(g);let S=O.changes.map(e),E=e.mapDesc(O.changes,!0),R=O.mapped?O.mapped.composeDesc(E):E;return new Re(S,Ot.mapEffects(O.effects,e),R,O.startSelection.map(E),g)}const im=/^(input\.type|delete)($|\.)/;class si{constructor(e,v,g=0,S=void 0){this.done=e,this.undone=v,this.prevTime=g,this.prevUserEvent=S}isolate(){return this.prevTime?new si(this.done,this.undone):this}addChanges(e,v,g,S,E){let R=this.done,D=R[R.length-1];return D&&D.changes&&!D.changes.empty&&e.changes&&(!g||im.test(g))&&(!D.selectionsAfter.length&&v-this.prevTime<S.newGroupDelay&&S.joinToEvent(E,Jp(D.changes,e.changes))||g=="input.type.compose")?R=$n(R,R.length-1,S.minDepth,new Re(e.changes.compose(D.changes),hu(Ot.mapEffects(e.effects,D.changes),D.effects),D.mapped,D.startSelection,Xe)):R=$n(R,R.length,S.minDepth,e),new si(R,Xe,v,g)}addSelection(e,v,g,S){let E=this.done.length?this.done[this.done.length-1].selectionsAfter:Xe;return E.length>0&&v-this.prevTime<S&&g==this.prevUserEvent&&g&&/^select($|\.)/.test(g)&&qp(E[E.length-1],e)?this:new si(lu(this.done,e),this.undone,v,g)}addMapping(e){return new si(za(this.done,e),za(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,v,g){let S=e==0?this.done:this.undone;if(S.length==0)return null;let E=S[S.length-1],R=E.selectionsAfter[0]||v.selection;if(g&&E.selectionsAfter.length)return v.update({selection:E.selectionsAfter[E.selectionsAfter.length-1],annotations:Qa.of({side:e,rest:tm(S),selection:R}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(E.changes){let D=S.length==1?Xe:S.slice(0,S.length-1);return E.mapped&&(D=za(D,E.mapped)),v.update({changes:E.changes,selection:E.startSelection,effects:E.effects,annotations:Qa.of({side:e,rest:D,selection:R}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}si.empty=new si(Xe,Xe);const sm=[{key:"Mod-z",run:ou,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Xa,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Xa,preventDefault:!0},{key:"Mod-u",run:jp,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Kp,preventDefault:!0}];function _i(O,e){return N.create(O.ranges.map(e),O.mainIndex)}function ni(O,e){return O.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function He({state:O,dispatch:e},v){let g=_i(O.selection,v);return g.eq(O.selection,!0)?!1:(e(ni(O,g)),!0)}function Zn(O,e){return N.cursor(e?O.to:O.from)}function uu(O,e){return He(O,v=>v.empty?O.moveByChar(v,e):Zn(v,e))}function Oe(O){return O.textDirectionAt(O.state.selection.main.head)==se.LTR}const fu=O=>uu(O,!Oe(O)),du=O=>uu(O,Oe(O));function cu(O,e){return He(O,v=>v.empty?O.moveByGroup(v,e):Zn(v,e))}const nm=O=>cu(O,!Oe(O)),rm=O=>cu(O,Oe(O));function am(O,e,v){if(e.type.prop(v))return!0;let g=e.to-e.from;return g&&(g>2||/[^\s,.;:]/.test(O.sliceDoc(e.from,e.to)))||e.firstChild}function Hn(O,e,v){let g=ue(O).resolveInner(e.head),S=v?Qt.closedBy:Qt.openedBy;for(let I=e.head;;){let V=v?g.childAfter(I):g.childBefore(I);if(!V)break;am(O,V,S)?g=V:I=v?V.to:V.from}let E=g.type.prop(S),R,D;return E&&(R=v?ii(O,g.from,1):ii(O,g.to,-1))&&R.matched?D=v?R.end.to:R.end.from:D=v?g.to:g.from,N.cursor(D,v?-1:1)}const om=O=>He(O,e=>Hn(O.state,e,!Oe(O))),hm=O=>He(O,e=>Hn(O.state,e,Oe(O)));function vu(O,e){return He(O,v=>{if(!v.empty)return Zn(v,e);let g=O.moveVertically(v,e);return g.head!=v.head?g:O.moveToLineBoundary(v,e)})}const pu=O=>vu(O,!1),mu=O=>vu(O,!0);function gu(O){let e=O.scrollDOM.clientHeight<O.scrollDOM.scrollHeight-2,v=0,g=0,S;if(e){for(let E of O.state.facet(Et.scrollMargins)){let R=E(O);R!=null&&R.top&&(v=Math.max(R==null?void 0:R.top,v)),R!=null&&R.bottom&&(g=Math.max(R==null?void 0:R.bottom,g))}S=O.scrollDOM.clientHeight-v-g}else S=(O.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:v,marginBottom:g,selfScroll:e,height:Math.max(O.defaultLineHeight,S-5)}}function xu(O,e){let v=gu(O),{state:g}=O,S=_i(g.selection,R=>R.empty?O.moveVertically(R,e,v.height):Zn(R,e));if(S.eq(g.selection))return!1;let E;if(v.selfScroll){let R=O.coordsAtPos(g.selection.main.head),D=O.scrollDOM.getBoundingClientRect(),I=D.top+v.marginTop,V=D.bottom-v.marginBottom;R&&R.top>I&&R.bottom<V&&(E=Et.scrollIntoView(S.main.head,{y:"start",yMargin:R.top-I}))}return O.dispatch(ni(g,S),{effects:E}),!0}const Ou=O=>xu(O,!1),Va=O=>xu(O,!0);function wi(O,e,v){let g=O.lineBlockAt(e.head),S=O.moveToLineBoundary(e,v);if(S.head==e.head&&S.head!=(v?g.to:g.from)&&(S=O.moveToLineBoundary(e,v,!1)),!v&&S.head==g.from&&g.length){let E=/^\s*/.exec(O.state.sliceDoc(g.from,Math.min(g.from+100,g.to)))[0].length;E&&e.head!=g.from+E&&(S=N.cursor(g.from+E))}return S}const lm=O=>He(O,e=>wi(O,e,!0)),um=O=>He(O,e=>wi(O,e,!1)),fm=O=>He(O,e=>wi(O,e,!Oe(O))),dm=O=>He(O,e=>wi(O,e,Oe(O))),cm=O=>He(O,e=>N.cursor(O.lineBlockAt(e.head).from,1)),vm=O=>He(O,e=>N.cursor(O.lineBlockAt(e.head).to,-1));function pm(O,e,v){let g=!1,S=_i(O.selection,E=>{let R=ii(O,E.head,-1)||ii(O,E.head,1)||E.head>0&&ii(O,E.head-1,1)||E.head<O.doc.length&&ii(O,E.head+1,-1);if(!R||!R.end)return E;g=!0;let D=R.start.from==E.head?R.end.to:R.end.from;return N.cursor(D)});return g?(e(ni(O,S)),!0):!1}const mm=({state:O,dispatch:e})=>pm(O,e);function ze(O,e){let v=_i(O.state.selection,g=>{let S=e(g);return N.range(g.anchor,S.head,S.goalColumn,S.bidiLevel||void 0)});return v.eq(O.state.selection)?!1:(O.dispatch(ni(O.state,v)),!0)}function yu(O,e){return ze(O,v=>O.moveByChar(v,e))}const Su=O=>yu(O,!Oe(O)),Tu=O=>yu(O,Oe(O));function Cu(O,e){return ze(O,v=>O.moveByGroup(v,e))}const gm=O=>Cu(O,!Oe(O)),xm=O=>Cu(O,Oe(O)),Om=O=>ze(O,e=>Hn(O.state,e,!Oe(O))),ym=O=>ze(O,e=>Hn(O.state,e,Oe(O)));function Pu(O,e){return ze(O,v=>O.moveVertically(v,e))}const Eu=O=>Pu(O,!1),Au=O=>Pu(O,!0);function Mu(O,e){return ze(O,v=>O.moveVertically(v,e,gu(O).height))}const Ru=O=>Mu(O,!1),wu=O=>Mu(O,!0),Sm=O=>ze(O,e=>wi(O,e,!0)),Tm=O=>ze(O,e=>wi(O,e,!1)),Cm=O=>ze(O,e=>wi(O,e,!Oe(O))),Pm=O=>ze(O,e=>wi(O,e,Oe(O))),Em=O=>ze(O,e=>N.cursor(O.lineBlockAt(e.head).from)),Am=O=>ze(O,e=>N.cursor(O.lineBlockAt(e.head).to)),Lu=({state:O,dispatch:e})=>(e(ni(O,{anchor:0})),!0),Fu=({state:O,dispatch:e})=>(e(ni(O,{anchor:O.doc.length})),!0),Du=({state:O,dispatch:e})=>(e(ni(O,{anchor:O.selection.main.anchor,head:0})),!0),bu=({state:O,dispatch:e})=>(e(ni(O,{anchor:O.selection.main.anchor,head:O.doc.length})),!0),Mm=({state:O,dispatch:e})=>(e(O.update({selection:{anchor:0,head:O.doc.length},userEvent:"select"})),!0),Rm=({state:O,dispatch:e})=>{let v=jn(O).map(({from:g,to:S})=>N.range(g,Math.min(S+1,O.doc.length)));return e(O.update({selection:N.create(v),userEvent:"select"})),!0},wm=({state:O,dispatch:e})=>{let v=_i(O.selection,g=>{let S=ue(O),E=S.resolveStack(g.from,1);if(g.empty){let R=S.resolveStack(g.from,-1);R.node.from>=E.node.from&&R.node.to<=E.node.to&&(E=R)}for(let R=E;R;R=R.next){let{node:D}=R;if((D.from<g.from&&D.to>=g.to||D.to>g.to&&D.from<=g.from)&&R.next)return N.range(D.to,D.from)}return g});return v.eq(O.selection)?!1:(e(ni(O,v)),!0)},Lm=({state:O,dispatch:e})=>{let v=O.selection,g=null;return v.ranges.length>1?g=N.create([v.main]):v.main.empty||(g=N.create([N.cursor(v.main.head)])),g?(e(ni(O,g)),!0):!1};function Qs(O,e){if(O.state.readOnly)return!1;let v="delete.selection",{state:g}=O,S=g.changeByRange(E=>{let{from:R,to:D}=E;if(R==D){let I=e(E);I<R?(v="delete.backward",I=kn(O,I,!1)):I>R&&(v="delete.forward",I=kn(O,I,!0)),R=Math.min(R,I),D=Math.max(D,I)}else R=kn(O,R,!1),D=kn(O,D,!0);return R==D?{range:E}:{changes:{from:R,to:D},range:N.cursor(R,R<E.head?-1:1)}});return S.changes.empty?!1:(O.dispatch(g.update(S,{scrollIntoView:!0,userEvent:v,effects:v=="delete.selection"?Et.announce.of(g.phrase("Selection deleted")):void 0})),!0)}function kn(O,e,v){if(O instanceof Et)for(let g of O.state.facet(Et.atomicRanges).map(S=>S(O)))g.between(e,e,(S,E)=>{S<e&&E>e&&(e=v?E:S)});return e}const Bu=(O,e,v)=>Qs(O,g=>{let S=g.from,{state:E}=O,R=E.doc.lineAt(S),D,I;if(v&&!e&&S>R.from&&S<R.from+200&&!/[^ \t]/.test(D=R.text.slice(0,S-R.from))){if(D[D.length-1]=="	")return S-1;let V=Ui(D,E.tabSize),Y=V%Qn(E)||Qn(E);for(let j=0;j<Y&&D[D.length-1-j]==" ";j++)S--;I=S}else I=n(R.text,S-R.from,e,e)+R.from,I==S&&R.number!=(e?E.doc.lines:1)?I+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(R.text.slice(I-R.from,S-R.from))&&(I=n(R.text,I-R.from,!1,!1)+R.from);return I}),Ya=O=>Bu(O,!1,!0),Iu=O=>Bu(O,!0,!1),Gu=(O,e)=>Qs(O,v=>{let g=v.head,{state:S}=O,E=S.doc.lineAt(g),R=S.charCategorizer(g);for(let D=null;;){if(g==(e?E.to:E.from)){g==v.head&&E.number!=(e?S.doc.lines:1)&&(g+=e?1:-1);break}let I=n(E.text,g-E.from,e)+E.from,V=E.text.slice(Math.min(g,I)-E.from,Math.max(g,I)-E.from),Y=R(V);if(D!=null&&Y!=D)break;(V!=" "||g!=v.head)&&(D=Y),g=I}return g}),Nu=O=>Gu(O,!1),Fm=O=>Gu(O,!0),Dm=O=>Qs(O,e=>{let v=O.lineBlockAt(e.head).to;return e.head<v?v:Math.min(O.state.doc.length,e.head+1)}),bm=O=>Qs(O,e=>{let v=O.moveToLineBoundary(e,!1).head;return e.head>v?v:Math.max(0,e.head-1)}),Bm=O=>Qs(O,e=>{let v=O.moveToLineBoundary(e,!0).head;return e.head<v?v:Math.min(O.state.doc.length,e.head+1)}),Im=({state:O,dispatch:e})=>{if(O.readOnly)return!1;let v=O.changeByRange(g=>({changes:{from:g.from,to:g.to,insert:It.of(["",""])},range:N.cursor(g.from)}));return e(O.update(v,{scrollIntoView:!0,userEvent:"input"})),!0},Gm=({state:O,dispatch:e})=>{if(O.readOnly)return!1;let v=O.changeByRange(g=>{if(!g.empty||g.from==0||g.from==O.doc.length)return{range:g};let S=g.from,E=O.doc.lineAt(S),R=S==E.from?S-1:n(E.text,S-E.from,!1)+E.from,D=S==E.to?S+1:n(E.text,S-E.from,!0)+E.from;return{changes:{from:R,to:D,insert:O.doc.slice(S,D).append(O.doc.slice(R,S))},range:N.cursor(D)}});return v.changes.empty?!1:(e(O.update(v,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function jn(O){let e=[],v=-1;for(let g of O.selection.ranges){let S=O.doc.lineAt(g.from),E=O.doc.lineAt(g.to);if(!g.empty&&g.to==E.from&&(E=O.doc.lineAt(g.to-1)),v>=S.number){let R=e[e.length-1];R.to=E.to,R.ranges.push(g)}else e.push({from:S.from,to:E.to,ranges:[g]});v=E.number+1}return e}function Qu(O,e,v){if(O.readOnly)return!1;let g=[],S=[];for(let E of jn(O)){if(v?E.to==O.doc.length:E.from==0)continue;let R=O.doc.lineAt(v?E.to+1:E.from-1),D=R.length+1;if(v){g.push({from:E.to,to:R.to},{from:E.from,insert:R.text+O.lineBreak});for(let I of E.ranges)S.push(N.range(Math.min(O.doc.length,I.anchor+D),Math.min(O.doc.length,I.head+D)))}else{g.push({from:R.from,to:E.from},{from:E.to,insert:O.lineBreak+R.text});for(let I of E.ranges)S.push(N.range(I.anchor-D,I.head-D))}}return g.length?(e(O.update({changes:g,scrollIntoView:!0,selection:N.create(S,O.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Nm=({state:O,dispatch:e})=>Qu(O,e,!1),Qm=({state:O,dispatch:e})=>Qu(O,e,!0);function Xu(O,e,v){if(O.readOnly)return!1;let g=[];for(let S of jn(O))v?g.push({from:S.from,insert:O.doc.slice(S.from,S.to)+O.lineBreak}):g.push({from:S.to,insert:O.lineBreak+O.doc.slice(S.from,S.to)});return e(O.update({changes:g,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Xm=({state:O,dispatch:e})=>Xu(O,e,!1),zm=({state:O,dispatch:e})=>Xu(O,e,!0),Vm=O=>{if(O.state.readOnly)return!1;let{state:e}=O,v=e.changes(jn(e).map(({from:S,to:E})=>(S>0?S--:E<e.doc.length&&E++,{from:S,to:E}))),g=_i(e.selection,S=>{let E;if(O.lineWrapping){let R=O.lineBlockAt(S.head),D=O.coordsAtPos(S.head,S.assoc||1);D&&(E=R.bottom+O.documentTop-D.bottom+O.defaultLineHeight/2)}return O.moveVertically(S,!0,E)}).map(v);return O.dispatch({changes:v,selection:g,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Ym(O,e){if(/\(\)|\[\]|\{\}/.test(O.sliceDoc(e-1,e+1)))return{from:e,to:e};let v=ue(O).resolveInner(e),g=v.childBefore(e),S=v.childAfter(e),E;return g&&S&&g.to<=e&&S.from>=e&&(E=g.type.prop(Qt.closedBy))&&E.indexOf(S.name)>-1&&O.doc.lineAt(g.to).from==O.doc.lineAt(S.from).from&&!/\S/.test(O.sliceDoc(g.to,S.from))?{from:g.to,to:S.from}:null}const zu=Vu(!1),Um=Vu(!0);function Vu(O){return({state:e,dispatch:v})=>{if(e.readOnly)return!1;let g=e.changeByRange(S=>{let{from:E,to:R}=S,D=e.doc.lineAt(E),I=!O&&E==R&&Ym(e,E);O&&(E=R=(R<=D.to?D:e.doc.lineAt(R)).to);let V=new Xn(e,{simulateBreak:E,simulateDoubleBreak:!!I}),Y=Ma(V,E);for(Y==null&&(Y=Ui(/^\s*/.exec(e.doc.lineAt(E).text)[0],e.tabSize));R<D.to&&/\s/.test(D.text[R-D.from]);)R++;I?{from:E,to:R}=I:E>D.from&&E<D.from+100&&!/\S/.test(D.text.slice(0,E))&&(E=D.from);let j=["",Is(e,Y)];return I&&j.push(Is(e,V.lineIndent(D.from,-1))),{changes:{from:E,to:R,insert:It.of(j)},range:N.cursor(E+1+j[1].length)}});return v(e.update(g,{scrollIntoView:!0,userEvent:"input"})),!0}}function Ua(O,e){let v=-1;return O.changeByRange(g=>{let S=[];for(let R=g.from;R<=g.to;){let D=O.doc.lineAt(R);D.number>v&&(g.empty||g.to>D.from)&&(e(D,S,g),v=D.number),R=D.to+1}let E=O.changes(S);return{changes:S,range:N.range(E.mapPos(g.anchor,1),E.mapPos(g.head,1))}})}const Wm=({state:O,dispatch:e})=>{if(O.readOnly)return!1;let v=Object.create(null),g=new Xn(O,{overrideIndentation:E=>{let R=v[E];return R??-1}}),S=Ua(O,(E,R,D)=>{let I=Ma(g,E.from);if(I==null)return;/\S/.test(E.text)||(I=0);let V=/^\s*/.exec(E.text)[0],Y=Is(O,I);(V!=Y||D.from<E.from+V.length)&&(v[E.from]=I,R.push({from:E.from,to:E.from+V.length,insert:Y}))});return S.changes.empty||e(O.update(S,{userEvent:"indent"})),!0},$m=({state:O,dispatch:e})=>O.readOnly?!1:(e(O.update(Ua(O,(v,g)=>{g.push({from:v.from,insert:O.facet(Nn)})}),{userEvent:"input.indent"})),!0),Zm=({state:O,dispatch:e})=>O.readOnly?!1:(e(O.update(Ua(O,(v,g)=>{let S=/^\s*/.exec(v.text)[0];if(!S)return;let E=Ui(S,O.tabSize),R=0,D=Is(O,Math.max(0,E-Qn(O)));for(;R<S.length&&R<D.length&&S.charCodeAt(R)==D.charCodeAt(R);)R++;g.push({from:v.from+R,to:v.from+S.length,insert:D.slice(R)})}),{userEvent:"delete.dedent"})),!0),Hm=O=>(O.setTabFocusMode(),!0),km=[{key:"Ctrl-b",run:fu,shift:Su,preventDefault:!0},{key:"Ctrl-f",run:du,shift:Tu},{key:"Ctrl-p",run:pu,shift:Eu},{key:"Ctrl-n",run:mu,shift:Au},{key:"Ctrl-a",run:cm,shift:Em},{key:"Ctrl-e",run:vm,shift:Am},{key:"Ctrl-d",run:Iu},{key:"Ctrl-h",run:Ya},{key:"Ctrl-k",run:Dm},{key:"Ctrl-Alt-h",run:Nu},{key:"Ctrl-o",run:Im},{key:"Ctrl-t",run:Gm},{key:"Ctrl-v",run:Va}],jm=[{key:"ArrowLeft",run:fu,shift:Su,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:nm,shift:gm,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:fm,shift:Cm,preventDefault:!0},{key:"ArrowRight",run:du,shift:Tu,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:rm,shift:xm,preventDefault:!0},{mac:"Cmd-ArrowRight",run:dm,shift:Pm,preventDefault:!0},{key:"ArrowUp",run:pu,shift:Eu,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Lu,shift:Du},{mac:"Ctrl-ArrowUp",run:Ou,shift:Ru},{key:"ArrowDown",run:mu,shift:Au,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Fu,shift:bu},{mac:"Ctrl-ArrowDown",run:Va,shift:wu},{key:"PageUp",run:Ou,shift:Ru},{key:"PageDown",run:Va,shift:wu},{key:"Home",run:um,shift:Tm,preventDefault:!0},{key:"Mod-Home",run:Lu,shift:Du},{key:"End",run:lm,shift:Sm,preventDefault:!0},{key:"Mod-End",run:Fu,shift:bu},{key:"Enter",run:zu,shift:zu},{key:"Mod-a",run:Mm},{key:"Backspace",run:Ya,shift:Ya},{key:"Delete",run:Iu},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Nu},{key:"Mod-Delete",mac:"Alt-Delete",run:Fm},{mac:"Mod-Backspace",run:bm},{mac:"Mod-Delete",run:Bm}].concat(km.map(O=>({mac:O.key,run:O.run,shift:O.shift}))),Km=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:om,shift:Om},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:hm,shift:ym},{key:"Alt-ArrowUp",run:Nm},{key:"Shift-Alt-ArrowUp",run:Xm},{key:"Alt-ArrowDown",run:Qm},{key:"Shift-Alt-ArrowDown",run:zm},{key:"Escape",run:Lm},{key:"Mod-Enter",run:Um},{key:"Alt-l",mac:"Ctrl-l",run:Rm},{key:"Mod-i",run:wm,preventDefault:!0},{key:"Mod-[",run:Zm},{key:"Mod-]",run:$m},{key:"Mod-Alt-\\",run:Wm},{key:"Shift-Mod-k",run:Vm},{key:"Shift-Mod-\\",run:mm},{key:"Mod-/",run:Xp},{key:"Alt-A",run:Vp},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Hm}].concat(jm);function te(){var O=arguments[0];typeof O=="string"&&(O=document.createElement(O));var e=1,v=arguments[1];if(v&&typeof v=="object"&&v.nodeType==null&&!Array.isArray(v)){for(var g in v)if(Object.prototype.hasOwnProperty.call(v,g)){var S=v[g];typeof S=="string"?O.setAttribute(g,S):S!=null&&(O[g]=S)}e++}for(;e<arguments.length;e++)Yu(O,arguments[e]);return O}function Yu(O,e){if(typeof e=="string")O.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)O.appendChild(e);else if(Array.isArray(e))for(var v=0;v<e.length;v++)Yu(O,e[v]);else throw new RangeError("Unsupported child node: "+e)}const Uu=typeof String.prototype.normalize=="function"?O=>O.normalize("NFKD"):O=>O;class ts{constructor(e,v,g=0,S=e.length,E,R){this.test=R,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(g,S),this.bufferStart=g,this.normalize=E?D=>E(Uu(D)):Uu,this.query=this.normalize(v)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return f(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let v=d(e),g=this.bufferStart+this.bufferPos;this.bufferPos+=p(e);let S=this.normalize(v);if(S.length)for(let E=0,R=g;;E++){let D=S.charCodeAt(E),I=this.match(D,R,this.bufferPos+this.bufferStart);if(E==S.length-1){if(I)return this.value=I,this;break}R==g&&E<v.length&&v.charCodeAt(E)==D&&R++}}}match(e,v,g){let S=null;for(let E=0;E<this.matches.length;E+=2){let R=this.matches[E],D=!1;this.query.charCodeAt(R)==e&&(R==this.query.length-1?S={from:this.matches[E+1],to:g}:(this.matches[E]++,D=!0)),D||(this.matches.splice(E,2),E-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?S={from:v,to:g}:this.matches.push(1,v)),S&&this.test&&!this.test(S.from,S.to,this.buffer,this.bufferStart)&&(S=null),S}}typeof Symbol<"u"&&(ts.prototype[Symbol.iterator]=function(){return this});const Wu={from:-1,to:-1,match:/.*/.exec("")},Wa="gm"+(/x/.unicode==null?"":"u");class $u{constructor(e,v,g,S=0,E=e.length){if(this.text=e,this.to=E,this.curLine="",this.done=!1,this.value=Wu,/\\[sWDnr]|\n|\r|\[\^/.test(v))return new Zu(e,v,g,S,E);this.re=new RegExp(v,Wa+(g!=null&&g.ignoreCase?"i":"")),this.test=g==null?void 0:g.test,this.iter=e.iter();let R=e.lineAt(S);this.curLineStart=R.from,this.matchPos=Kn(e,S),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let v=this.matchPos<=this.to&&this.re.exec(this.curLine);if(v){let g=this.curLineStart+v.index,S=g+v[0].length;if(this.matchPos=Kn(this.text,S+(g==S?1:0)),g==this.curLineStart+this.curLine.length&&this.nextLine(),(g<S||g>this.value.to)&&(!this.test||this.test(g,S,v)))return this.value={from:g,to:S,match:v},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const $a=new WeakMap;class es{constructor(e,v){this.from=e,this.text=v}get to(){return this.from+this.text.length}static get(e,v,g){let S=$a.get(e);if(!S||S.from>=g||S.to<=v){let D=new es(v,e.sliceString(v,g));return $a.set(e,D),D}if(S.from==v&&S.to==g)return S;let{text:E,from:R}=S;return R>v&&(E=e.sliceString(v,R)+E,R=v),S.to<g&&(E+=e.sliceString(S.to,g)),$a.set(e,new es(R,E)),new es(v,E.slice(v-R,g-R))}}class Zu{constructor(e,v,g,S,E){this.text=e,this.to=E,this.done=!1,this.value=Wu,this.matchPos=Kn(e,S),this.re=new RegExp(v,Wa+(g!=null&&g.ignoreCase?"i":"")),this.test=g==null?void 0:g.test,this.flat=es.get(e,S,this.chunkEnd(S+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,v=this.re.exec(this.flat.text);if(v&&!v[0]&&v.index==e&&(this.re.lastIndex=e+1,v=this.re.exec(this.flat.text)),v){let g=this.flat.from+v.index,S=g+v[0].length;if((this.flat.to>=this.to||v.index+v[0].length<=this.flat.text.length-10)&&(!this.test||this.test(g,S,v)))return this.value={from:g,to:S,match:v},this.matchPos=Kn(this.text,S+(g==S?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=es.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&($u.prototype[Symbol.iterator]=Zu.prototype[Symbol.iterator]=function(){return this});function Jm(O){try{return new RegExp(O,Wa),!0}catch{return!1}}function Kn(O,e){if(e>=O.length)return e;let v=O.lineAt(e),g;for(;e<v.to&&(g=v.text.charCodeAt(e-v.from))>=56320&&g<57344;)e++;return e}function Za(O){let e=String(O.state.doc.lineAt(O.state.selection.main.head).number),v=te("input",{class:"cm-textfield",name:"line",value:e}),g=te("form",{class:"cm-gotoLine",onkeydown:E=>{E.keyCode==27?(E.preventDefault(),O.dispatch({effects:Jn.of(!1)}),O.focus()):E.keyCode==13&&(E.preventDefault(),S())},onsubmit:E=>{E.preventDefault(),S()}},te("label",O.state.phrase("Go to line"),": ",v)," ",te("button",{class:"cm-button",type:"submit"},O.state.phrase("go")));function S(){let E=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(v.value);if(!E)return;let{state:R}=O,D=R.doc.lineAt(R.selection.main.head),[,I,V,Y,j]=E,_=Y?+Y.slice(1):0,et=V?+V:D.number;if(V&&j){let ot=et/100;I&&(ot=ot*(I=="-"?-1:1)+D.number/R.doc.lines),et=Math.round(R.doc.lines*ot)}else V&&I&&(et=et*(I=="-"?-1:1)+D.number);let st=R.doc.line(Math.max(1,Math.min(R.doc.lines,et))),at=N.cursor(st.from+Math.max(0,Math.min(_,st.length)));O.dispatch({effects:[Jn.of(!1),Et.scrollIntoView(at.from,{y:"center"})],selection:at}),O.focus()}return{dom:g}}const Jn=Ot.define(),Hu=K.define({create(){return!0},update(O,e){for(let v of e.effects)v.is(Jn)&&(O=v.value);return O},provide:O=>Ls.from(O,e=>e?Za:null)}),qm=O=>{let e=ws(O,Za);if(!e){let v=[Jn.of(!0)];O.state.field(Hu,!1)==null&&v.push(Ot.appendConfig.of([Hu,_m])),O.dispatch({effects:v}),e=ws(O,Za)}return e&&e.dom.querySelector("input").select(),!0},_m=Et.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),tg={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},eg=H.define({combine(O){return ke(O,tg,{highlightWordAroundCursor:(e,v)=>e||v,minSelectionLength:Math.min,maxMatches:Math.min})}});function ig(O){return[og,ag]}const sg=Lt.mark({class:"cm-selectionMatch"}),ng=Lt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ku(O,e,v,g){return(v==0||O(e.sliceDoc(v-1,v))!=Ut.Word)&&(g==e.doc.length||O(e.sliceDoc(g,g+1))!=Ut.Word)}function rg(O,e,v,g){return O(e.sliceDoc(v,v+1))==Ut.Word&&O(e.sliceDoc(g-1,g))==Ut.Word}const ag=oe.fromClass(class{constructor(O){this.decorations=this.getDeco(O)}update(O){(O.selectionSet||O.docChanged||O.viewportChanged)&&(this.decorations=this.getDeco(O.view))}getDeco(O){let e=O.state.facet(eg),{state:v}=O,g=v.selection;if(g.ranges.length>1)return Lt.none;let S=g.main,E,R=null;if(S.empty){if(!e.highlightWordAroundCursor)return Lt.none;let I=v.wordAt(S.head);if(!I)return Lt.none;R=v.charCategorizer(S.head),E=v.sliceDoc(I.from,I.to)}else{let I=S.to-S.from;if(I<e.minSelectionLength||I>200)return Lt.none;if(e.wholeWords){if(E=v.sliceDoc(S.from,S.to),R=v.charCategorizer(S.head),!(ku(R,v,S.from,S.to)&&rg(R,v,S.from,S.to)))return Lt.none}else if(E=v.sliceDoc(S.from,S.to),!E)return Lt.none}let D=[];for(let I of O.visibleRanges){let V=new ts(v.doc,E,I.from,I.to);for(;!V.next().done;){let{from:Y,to:j}=V.value;if((!R||ku(R,v,Y,j))&&(S.empty&&Y<=S.from&&j>=S.to?D.push(ng.range(Y,j)):(Y>=S.to||j<=S.from)&&D.push(sg.range(Y,j)),D.length>e.maxMatches))return Lt.none}}return Lt.set(D)}},{decorations:O=>O.decorations}),og=Et.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),hg=({state:O,dispatch:e})=>{let{selection:v}=O,g=N.create(v.ranges.map(S=>O.wordAt(S.head)||N.cursor(S.head)),v.mainIndex);return g.eq(v)?!1:(e(O.update({selection:g})),!0)};function lg(O,e){let{main:v,ranges:g}=O.selection,S=O.wordAt(v.head),E=S&&S.from==v.from&&S.to==v.to;for(let R=!1,D=new ts(O.doc,e,g[g.length-1].to);;)if(D.next(),D.done){if(R)return null;D=new ts(O.doc,e,0,Math.max(0,g[g.length-1].from-1)),R=!0}else{if(R&&g.some(I=>I.from==D.value.from))continue;if(E){let I=O.wordAt(D.value.from);if(!I||I.from!=D.value.from||I.to!=D.value.to)continue}return D.value}}const ug=({state:O,dispatch:e})=>{let{ranges:v}=O.selection;if(v.some(E=>E.from===E.to))return hg({state:O,dispatch:e});let g=O.sliceDoc(v[0].from,v[0].to);if(O.selection.ranges.some(E=>O.sliceDoc(E.from,E.to)!=g))return!1;let S=lg(O,g);return S?(e(O.update({selection:O.selection.addRange(N.range(S.from,S.to),!1),effects:Et.scrollIntoView(S.to)})),!0):!1},is=H.define({combine(O){return ke(O,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Tg(e),scrollToMatch:e=>Et.scrollIntoView(e)})}});class ju{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Jm(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(v,g)=>g=="n"?`
`:g=="r"?"\r":g=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new vg(this):new dg(this)}getCursor(e,v=0,g){let S=e.doc?e:Wt.create({doc:e});return g==null&&(g=S.doc.length),this.regexp?ns(this,S,v,g):ss(this,S,v,g)}}class Ku{constructor(e){this.spec=e}}function ss(O,e,v,g){return new ts(e.doc,O.unquoted,v,g,O.caseSensitive?void 0:S=>S.toLowerCase(),O.wholeWord?fg(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function fg(O,e){return(v,g,S,E)=>((E>v||E+S.length<g)&&(E=Math.max(0,v-2),S=O.sliceString(E,Math.min(O.length,g+2))),(e(qn(S,v-E))!=Ut.Word||e(_n(S,v-E))!=Ut.Word)&&(e(_n(S,g-E))!=Ut.Word||e(qn(S,g-E))!=Ut.Word))}class dg extends Ku{constructor(e){super(e)}nextMatch(e,v,g){let S=ss(this.spec,e,g,e.doc.length).nextOverlapping();if(S.done){let E=Math.min(e.doc.length,v+this.spec.unquoted.length);S=ss(this.spec,e,0,E).nextOverlapping()}return S.done||S.value.from==v&&S.value.to==g?null:S.value}prevMatchInRange(e,v,g){for(let S=g;;){let E=Math.max(v,S-1e4-this.spec.unquoted.length),R=ss(this.spec,e,E,S),D=null;for(;!R.nextOverlapping().done;)D=R.value;if(D)return D;if(E==v)return null;S-=1e4}}prevMatch(e,v,g){let S=this.prevMatchInRange(e,0,v);return S||(S=this.prevMatchInRange(e,Math.max(0,g-this.spec.unquoted.length),e.doc.length)),S&&(S.from!=v||S.to!=g)?S:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,v){let g=ss(this.spec,e,0,e.doc.length),S=[];for(;!g.next().done;){if(S.length>=v)return null;S.push(g.value)}return S}highlight(e,v,g,S){let E=ss(this.spec,e,Math.max(0,v-this.spec.unquoted.length),Math.min(g+this.spec.unquoted.length,e.doc.length));for(;!E.next().done;)S(E.value.from,E.value.to)}}function ns(O,e,v,g){return new $u(e.doc,O.search,{ignoreCase:!O.caseSensitive,test:O.wholeWord?cg(e.charCategorizer(e.selection.main.head)):void 0},v,g)}function qn(O,e){return O.slice(n(O,e,!1),e)}function _n(O,e){return O.slice(e,n(O,e))}function cg(O){return(e,v,g)=>!g[0].length||(O(qn(g.input,g.index))!=Ut.Word||O(_n(g.input,g.index))!=Ut.Word)&&(O(_n(g.input,g.index+g[0].length))!=Ut.Word||O(qn(g.input,g.index+g[0].length))!=Ut.Word)}class vg extends Ku{nextMatch(e,v,g){let S=ns(this.spec,e,g,e.doc.length).next();return S.done&&(S=ns(this.spec,e,0,v).next()),S.done?null:S.value}prevMatchInRange(e,v,g){for(let S=1;;S++){let E=Math.max(v,g-S*1e4),R=ns(this.spec,e,E,g),D=null;for(;!R.next().done;)D=R.value;if(D&&(E==v||D.from>E+10))return D;if(E==v)return null}}prevMatch(e,v,g){return this.prevMatchInRange(e,0,v)||this.prevMatchInRange(e,g,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(v,g)=>g=="$"?"$":g=="&"?e.match[0]:g!="0"&&+g<e.match.length?e.match[g]:v)}matchAll(e,v){let g=ns(this.spec,e,0,e.doc.length),S=[];for(;!g.next().done;){if(S.length>=v)return null;S.push(g.value)}return S}highlight(e,v,g,S){let E=ns(this.spec,e,Math.max(0,v-250),Math.min(g+250,e.doc.length));for(;!E.next().done;)S(E.value.from,E.value.to)}}const Xs=Ot.define(),Ha=Ot.define(),Li=K.define({create(O){return new ka(Ka(O).create(),null)},update(O,e){for(let v of e.effects)v.is(Xs)?O=new ka(v.value.create(),O.panel):v.is(Ha)&&(O=new ka(O.query,v.value?ja:null));return O},provide:O=>Ls.from(O,e=>e.panel)});class ka{constructor(e,v){this.query=e,this.panel=v}}const pg=Lt.mark({class:"cm-searchMatch"}),mg=Lt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),gg=oe.fromClass(class{constructor(O){this.view=O,this.decorations=this.highlight(O.state.field(Li))}update(O){let e=O.state.field(Li);(e!=O.startState.field(Li)||O.docChanged||O.selectionSet||O.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:O,panel:e}){if(!e||!O.spec.valid)return Lt.none;let{view:v}=this,g=new gi;for(let S=0,E=v.visibleRanges,R=E.length;S<R;S++){let{from:D,to:I}=E[S];for(;S<R-1&&I>E[S+1].from-2*250;)I=E[++S].to;O.highlight(v.state,D,I,(V,Y)=>{let j=v.state.selection.ranges.some(_=>_.from==V&&_.to==Y);g.add(V,Y,j?mg:pg)})}return g.finish()}},{decorations:O=>O.decorations});function zs(O){return e=>{let v=e.state.field(Li,!1);return v&&v.query.spec.valid?O(e,v):tf(e)}}const tr=zs((O,{query:e})=>{let{to:v}=O.state.selection.main,g=e.nextMatch(O.state,v,v);if(!g)return!1;let S=N.single(g.from,g.to),E=O.state.facet(is);return O.dispatch({selection:S,effects:[Ja(O,g),E.scrollToMatch(S.main,O)],userEvent:"select.search"}),_u(O),!0}),er=zs((O,{query:e})=>{let{state:v}=O,{from:g}=v.selection.main,S=e.prevMatch(v,g,g);if(!S)return!1;let E=N.single(S.from,S.to),R=O.state.facet(is);return O.dispatch({selection:E,effects:[Ja(O,S),R.scrollToMatch(E.main,O)],userEvent:"select.search"}),_u(O),!0}),xg=zs((O,{query:e})=>{let v=e.matchAll(O.state,1e3);return!v||!v.length?!1:(O.dispatch({selection:N.create(v.map(g=>N.range(g.from,g.to))),userEvent:"select.search.matches"}),!0)}),Og=({state:O,dispatch:e})=>{let v=O.selection;if(v.ranges.length>1||v.main.empty)return!1;let{from:g,to:S}=v.main,E=[],R=0;for(let D=new ts(O.doc,O.sliceDoc(g,S));!D.next().done;){if(E.length>1e3)return!1;D.value.from==g&&(R=E.length),E.push(N.range(D.value.from,D.value.to))}return e(O.update({selection:N.create(E,R),userEvent:"select.search.matches"})),!0},Ju=zs((O,{query:e})=>{let{state:v}=O,{from:g,to:S}=v.selection.main;if(v.readOnly)return!1;let E=e.nextMatch(v,g,g);if(!E)return!1;let R=[],D,I,V=[];if(E.from==g&&E.to==S&&(I=v.toText(e.getReplacement(E)),R.push({from:E.from,to:E.to,insert:I}),E=e.nextMatch(v,E.from,E.to),V.push(Et.announce.of(v.phrase("replaced match on line $",v.doc.lineAt(g).number)+"."))),E){let Y=R.length==0||R[0].from>=E.to?0:E.to-E.from-I.length;D=N.single(E.from-Y,E.to-Y),V.push(Ja(O,E)),V.push(v.facet(is).scrollToMatch(D.main,O))}return O.dispatch({changes:R,selection:D,effects:V,userEvent:"input.replace"}),!0}),yg=zs((O,{query:e})=>{if(O.state.readOnly)return!1;let v=e.matchAll(O.state,1e9).map(S=>{let{from:E,to:R}=S;return{from:E,to:R,insert:e.getReplacement(S)}});if(!v.length)return!1;let g=O.state.phrase("replaced $ matches",v.length)+".";return O.dispatch({changes:v,effects:Et.announce.of(g),userEvent:"input.replace.all"}),!0});function ja(O){return O.state.facet(is).createPanel(O)}function Ka(O,e){var v,g,S,E,R;let D=O.selection.main,I=D.empty||D.to>D.from+100?"":O.sliceDoc(D.from,D.to);if(e&&!I)return e;let V=O.facet(is);return new ju({search:((v=e==null?void 0:e.literal)!==null&&v!==void 0?v:V.literal)?I:I.replace(/\n/g,"\\n"),caseSensitive:(g=e==null?void 0:e.caseSensitive)!==null&&g!==void 0?g:V.caseSensitive,literal:(S=e==null?void 0:e.literal)!==null&&S!==void 0?S:V.literal,regexp:(E=e==null?void 0:e.regexp)!==null&&E!==void 0?E:V.regexp,wholeWord:(R=e==null?void 0:e.wholeWord)!==null&&R!==void 0?R:V.wholeWord})}function qu(O){let e=ws(O,ja);return e&&e.dom.querySelector("[main-field]")}function _u(O){let e=qu(O);e&&e==O.root.activeElement&&e.select()}const tf=O=>{let e=O.state.field(Li,!1);if(e&&e.panel){let v=qu(O);if(v&&v!=O.root.activeElement){let g=Ka(O.state,e.query.spec);g.valid&&O.dispatch({effects:Xs.of(g)}),v.focus(),v.select()}}else O.dispatch({effects:[Ha.of(!0),e?Xs.of(Ka(O.state,e.query.spec)):Ot.appendConfig.of(Pg)]});return!0},ef=O=>{let e=O.state.field(Li,!1);if(!e||!e.panel)return!1;let v=ws(O,ja);return v&&v.dom.contains(O.root.activeElement)&&O.focus(),O.dispatch({effects:Ha.of(!1)}),!0},Sg=[{key:"Mod-f",run:tf,scope:"editor search-panel"},{key:"F3",run:tr,shift:er,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:tr,shift:er,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:ef,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Og},{key:"Mod-Alt-g",run:qm},{key:"Mod-d",run:ug,preventDefault:!0}];class Tg{constructor(e){this.view=e;let v=this.query=e.state.field(Li).query.spec;this.commit=this.commit.bind(this),this.searchField=te("input",{value:v.search,placeholder:De(e,"Find"),"aria-label":De(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=te("input",{value:v.replace,placeholder:De(e,"Replace"),"aria-label":De(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=te("input",{type:"checkbox",name:"case",form:"",checked:v.caseSensitive,onchange:this.commit}),this.reField=te("input",{type:"checkbox",name:"re",form:"",checked:v.regexp,onchange:this.commit}),this.wordField=te("input",{type:"checkbox",name:"word",form:"",checked:v.wholeWord,onchange:this.commit});function g(S,E,R){return te("button",{class:"cm-button",name:S,onclick:E,type:"button"},R)}this.dom=te("div",{onkeydown:S=>this.keydown(S),class:"cm-search"},[this.searchField,g("next",()=>tr(e),[De(e,"next")]),g("prev",()=>er(e),[De(e,"previous")]),g("select",()=>xg(e),[De(e,"all")]),te("label",null,[this.caseField,De(e,"match case")]),te("label",null,[this.reField,De(e,"regexp")]),te("label",null,[this.wordField,De(e,"by word")]),...e.state.readOnly?[]:[te("br"),this.replaceField,g("replace",()=>Ju(e),[De(e,"replace")]),g("replaceAll",()=>yg(e),[De(e,"replace all")])],te("button",{name:"close",onclick:()=>ef(e),"aria-label":De(e,"close"),type:"button"},["×"])])}commit(){let e=new ju({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Xs.of(e)}))}keydown(e){bc(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?er:tr)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Ju(this.view))}update(e){for(let v of e.transactions)for(let g of v.effects)g.is(Xs)&&!g.value.eq(this.query)&&this.setQuery(g.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(is).top}}function De(O,e){return O.state.phrase(e)}const ir=30,sr=/[\s\.,:;?!]/;function Ja(O,{from:e,to:v}){let g=O.state.doc.lineAt(e),S=O.state.doc.lineAt(v).to,E=Math.max(g.from,e-ir),R=Math.min(S,v+ir),D=O.state.sliceDoc(E,R);if(E!=g.from){for(let I=0;I<ir;I++)if(!sr.test(D[I+1])&&sr.test(D[I])){D=D.slice(I);break}}if(R!=S){for(let I=D.length-1;I>D.length-ir;I--)if(!sr.test(D[I-1])&&sr.test(D[I])){D=D.slice(0,I);break}}return Et.announce.of(`${O.state.phrase("current match")}. ${D} ${O.state.phrase("on line")} ${g.number}.`)}const Cg=Et.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Pg=[Li,tt.low(gg),Cg];class sf{constructor(e,v,g,S){this.state=e,this.pos=v,this.explicit=g,this.view=S,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let v=ue(this.state).resolveInner(this.pos,-1);for(;v&&e.indexOf(v.name)<0;)v=v.parent;return v?{from:v.from,to:this.pos,text:this.state.sliceDoc(v.from,this.pos),type:v.type}:null}matchBefore(e){let v=this.state.doc.lineAt(this.pos),g=Math.max(v.from,this.pos-250),S=v.text.slice(g-v.from,this.pos-v.from),E=S.search(of(e,!1));return E<0?null:{from:g+E,to:this.pos,text:S.slice(E)}}get aborted(){return this.abortListeners==null}addEventListener(e,v,g){e=="abort"&&this.abortListeners&&(this.abortListeners.push(v),g&&g.onDocChange&&(this.abortOnDocChange=!0))}}function nf(O){let e=Object.keys(O).join(""),v=/\w/.test(e);return v&&(e=e.replace(/\w/g,"")),`[${v?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Eg(O){let e=Object.create(null),v=Object.create(null);for(let{label:S}of O){e[S[0]]=!0;for(let E=1;E<S.length;E++)v[S[E]]=!0}let g=nf(e)+nf(v)+"*$";return[new RegExp("^"+g),new RegExp(g)]}function rf(O){let e=O.map(S=>typeof S=="string"?{label:S}:S),[v,g]=e.every(S=>/^\w+$/.test(S.label))?[/\w*$/,/\w+$/]:Eg(e);return S=>{let E=S.matchBefore(g);return E||S.explicit?{from:E?E.from:S.pos,options:e,validFor:v}:null}}function Ag(O,e){return v=>{for(let g=ue(v.state).resolveInner(v.pos,-1);g;g=g.parent){if(O.indexOf(g.name)>-1)return null;if(g.type.isTop)break}return e(v)}}class af{constructor(e,v,g,S){this.completion=e,this.source=v,this.match=g,this.score=S}}function Qi(O){return O.selection.main.from}function of(O,e){var v;let{source:g}=O,S=e&&g[0]!="^",E=g[g.length-1]!="$";return!S&&!E?O:new RegExp(`${S?"^":""}(?:${g})${E?"$":""}`,(v=O.flags)!==null&&v!==void 0?v:O.ignoreCase?"i":"")}const qa=bt.define();function Mg(O,e,v,g){let{main:S}=O.selection,E=v-S.from,R=g-S.from;return Object.assign(Object.assign({},O.changeByRange(D=>{if(D!=S&&v!=g&&O.sliceDoc(D.from+E,D.from+R)!=O.sliceDoc(v,g))return{range:D};let I=O.toText(e);return{changes:{from:D.from+E,to:g==S.from?D.to:D.from+R,insert:I},range:N.cursor(D.from+E+I.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const hf=new WeakMap;function Rg(O){if(!Array.isArray(O))return O;let e=hf.get(O);return e||hf.set(O,e=rf(O)),e}const nr=Ot.define(),Vs=Ot.define();class wg{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let v=0;v<e.length;){let g=f(e,v),S=p(g);this.chars.push(g);let E=e.slice(v,v+S),R=E.toUpperCase();this.folded.push(f(R==E?E.toLowerCase():R,0)),v+=S}this.astral=e.length!=this.chars.length}ret(e,v){return this.score=e,this.matched=v,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:v,folded:g,any:S,precise:E,byWord:R}=this;if(v.length==1){let pt=f(e,0),yt=p(pt),St=yt==e.length?0:-100;if(pt!=v[0])if(pt==g[0])St+=-200;else return null;return this.ret(St,[0,yt])}let D=e.indexOf(this.pattern);if(D==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let I=v.length,V=0;if(D<0){for(let pt=0,yt=Math.min(e.length,200);pt<yt&&V<I;){let St=f(e,pt);(St==v[V]||St==g[V])&&(S[V++]=pt),pt+=p(St)}if(V<I)return null}let Y=0,j=0,_=!1,et=0,st=-1,at=-1,ot=/[a-z]/.test(e),ut=!0;for(let pt=0,yt=Math.min(e.length,200),St=0;pt<yt&&j<I;){let mt=f(e,pt);D<0&&(Y<I&&mt==v[Y]&&(E[Y++]=pt),et<I&&(mt==v[et]||mt==g[et]?(et==0&&(st=pt),at=pt+1,et++):et=0));let Tt,Pt=mt<255?mt>=48&&mt<=57||mt>=97&&mt<=122?2:mt>=65&&mt<=90?1:0:(Tt=d(mt))!=Tt.toLowerCase()?1:Tt!=Tt.toUpperCase()?2:0;(!pt||Pt==1&&ot||St==0&&Pt!=0)&&(v[j]==mt||g[j]==mt&&(_=!0)?R[j++]=pt:R.length&&(ut=!1)),St=Pt,pt+=p(mt)}return j==I&&R[0]==0&&ut?this.result(-100+(_?-200:0),R,e):et==I&&st==0?this.ret(-200-e.length+(at==e.length?0:-100),[0,at]):D>-1?this.ret(-700-e.length,[D,D+this.pattern.length]):et==I?this.ret(-900-e.length,[st,at]):j==I?this.result(-100+(_?-200:0)+-700+(ut?0:-1100),R,e):v.length==2?null:this.result((S[0]?-700:0)+-200+-1100,S,e)}result(e,v,g){let S=[],E=0;for(let R of v){let D=R+(this.astral?p(f(g,R)):1);E&&S[E-1]==R?S[E-1]=D:(S[E++]=R,S[E++]=D)}return this.ret(e-g.length,S)}}class Lg{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let v=e.slice(0,this.pattern.length),g=v==this.pattern?0:v.toLowerCase()==this.folded?-200:null;return g==null?null:(this.matched=[0,v.length],this.score=g+(e.length==this.pattern.length?0:-100),this)}}const de=H.define({combine(O){return ke(O,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Fg,filterStrict:!1,compareCompletions:(e,v)=>e.label.localeCompare(v.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,v)=>e&&v,closeOnBlur:(e,v)=>e&&v,icons:(e,v)=>e&&v,tooltipClass:(e,v)=>g=>lf(e(g),v(g)),optionClass:(e,v)=>g=>lf(e(g),v(g)),addToOptions:(e,v)=>e.concat(v),filterStrict:(e,v)=>e||v})}});function lf(O,e){return O?e?O+" "+e:O:e}function Fg(O,e,v,g,S,E){let R=O.textDirection==se.RTL,D=R,I=!1,V="top",Y,j,_=e.left-S.left,et=S.right-e.right,st=g.right-g.left,at=g.bottom-g.top;if(D&&_<Math.min(st,et)?D=!1:!D&&et<Math.min(st,_)&&(D=!0),st<=(D?_:et))Y=Math.max(S.top,Math.min(v.top,S.bottom-at))-e.top,j=Math.min(400,D?_:et);else{I=!0,j=Math.min(400,(R?e.right:S.right-e.left)-30);let pt=S.bottom-e.bottom;pt>=at||pt>e.top?Y=v.bottom-e.top:(V="bottom",Y=e.bottom-v.top)}let ot=(e.bottom-e.top)/E.offsetHeight,ut=(e.right-e.left)/E.offsetWidth;return{style:`${V}: ${Y/ot}px; max-width: ${j/ut}px`,class:"cm-completionInfo-"+(I?R?"left-narrow":"right-narrow":D?"left":"right")}}function Dg(O){let e=O.addToOptions.slice();return O.icons&&e.push({render(v){let g=document.createElement("div");return g.classList.add("cm-completionIcon"),v.type&&g.classList.add(...v.type.split(/\s+/g).map(S=>"cm-completionIcon-"+S)),g.setAttribute("aria-hidden","true"),g},position:20}),e.push({render(v,g,S,E){let R=document.createElement("span");R.className="cm-completionLabel";let D=v.displayLabel||v.label,I=0;for(let V=0;V<E.length;){let Y=E[V++],j=E[V++];Y>I&&R.appendChild(document.createTextNode(D.slice(I,Y)));let _=R.appendChild(document.createElement("span"));_.appendChild(document.createTextNode(D.slice(Y,j))),_.className="cm-completionMatchedText",I=j}return I<D.length&&R.appendChild(document.createTextNode(D.slice(I))),R},position:50},{render(v){if(!v.detail)return null;let g=document.createElement("span");return g.className="cm-completionDetail",g.textContent=v.detail,g},position:80}),e.sort((v,g)=>v.position-g.position).map(v=>v.render)}function _a(O,e,v){if(O<=v)return{from:0,to:O};if(e<0&&(e=0),e<=O>>1){let S=Math.floor(e/v);return{from:S*v,to:(S+1)*v}}let g=Math.floor((O-e)/v);return{from:O-(g+1)*v,to:O-g*v}}class bg{constructor(e,v,g){this.view=e,this.stateField=v,this.applyCompletion=g,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:I=>this.placeInfo(I),key:this},this.space=null,this.currentClass="";let S=e.state.field(v),{options:E,selected:R}=S.open,D=e.state.facet(de);this.optionContent=Dg(D),this.optionClass=D.optionClass,this.tooltipClass=D.tooltipClass,this.range=_a(E.length,R,D.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",I=>{let{options:V}=e.state.field(v).open;for(let Y=I.target,j;Y&&Y!=this.dom;Y=Y.parentNode)if(Y.nodeName=="LI"&&(j=/-(\d+)$/.exec(Y.id))&&+j[1]<V.length){this.applyCompletion(e,V[+j[1]]),I.preventDefault();return}}),this.dom.addEventListener("focusout",I=>{let V=e.state.field(this.stateField,!1);V&&V.tooltip&&e.state.facet(de).closeOnBlur&&I.relatedTarget!=e.contentDOM&&e.dispatch({effects:Vs.of(null)})}),this.showOptions(E,S.id)}mount(){this.updateSel()}showOptions(e,v){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,v,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var v;let g=e.state.field(this.stateField),S=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),g!=S){let{options:E,selected:R,disabled:D}=g.open;(!S.open||S.open.options!=E)&&(this.range=_a(E.length,R,e.state.facet(de).maxRenderedOptions),this.showOptions(E,g.id)),this.updateSel(),D!=((v=S.open)===null||v===void 0?void 0:v.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!D)}}updateTooltipClass(e){let v=this.tooltipClass(e);if(v!=this.currentClass){for(let g of this.currentClass.split(" "))g&&this.dom.classList.remove(g);for(let g of v.split(" "))g&&this.dom.classList.add(g);this.currentClass=v}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),v=e.open;if((v.selected>-1&&v.selected<this.range.from||v.selected>=this.range.to)&&(this.range=_a(v.options.length,v.selected,this.view.state.facet(de).maxRenderedOptions),this.showOptions(v.options,e.id)),this.updateSelectedOption(v.selected)){this.destroyInfo();let{completion:g}=v.options[v.selected],{info:S}=g;if(!S)return;let E=typeof S=="string"?document.createTextNode(S):S(g);if(!E)return;"then"in E?E.then(R=>{R&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(R,g)}).catch(R=>Ee(this.view.state,R,"completion info")):this.addInfoPane(E,g)}}addInfoPane(e,v){this.destroyInfo();let g=this.info=document.createElement("div");if(g.className="cm-tooltip cm-completionInfo",e.nodeType!=null)g.appendChild(e),this.infoDestroy=null;else{let{dom:S,destroy:E}=e;g.appendChild(S),this.infoDestroy=E||null}this.dom.appendChild(g),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let v=null;for(let g=this.list.firstChild,S=this.range.from;g;g=g.nextSibling,S++)g.nodeName!="LI"||!g.id?S--:S==e?g.hasAttribute("aria-selected")||(g.setAttribute("aria-selected","true"),v=g):g.hasAttribute("aria-selected")&&g.removeAttribute("aria-selected");return v&&Ig(this.list,v),v}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let v=this.dom.getBoundingClientRect(),g=this.info.getBoundingClientRect(),S=e.getBoundingClientRect(),E=this.space;if(!E){let R=this.dom.ownerDocument.defaultView||window;E={left:0,top:0,right:R.innerWidth,bottom:R.innerHeight}}return S.top>Math.min(E.bottom,v.bottom)-10||S.bottom<Math.max(E.top,v.top)+10?null:this.view.state.facet(de).positionInfo(this.view,v,S,g,E,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,v,g){const S=document.createElement("ul");S.id=v,S.setAttribute("role","listbox"),S.setAttribute("aria-expanded","true"),S.setAttribute("aria-label",this.view.state.phrase("Completions"));let E=null;for(let R=g.from;R<g.to;R++){let{completion:D,match:I}=e[R],{section:V}=D;if(V){let _=typeof V=="string"?V:V.name;if(_!=E&&(R>g.from||g.from==0))if(E=_,typeof V!="string"&&V.header)S.appendChild(V.header(V));else{let et=S.appendChild(document.createElement("completion-section"));et.textContent=_}}const Y=S.appendChild(document.createElement("li"));Y.id=v+"-"+R,Y.setAttribute("role","option");let j=this.optionClass(D);j&&(Y.className=j);for(let _ of this.optionContent){let et=_(D,this.view.state,this.view,I);et&&Y.appendChild(et)}}return g.from&&S.classList.add("cm-completionListIncompleteTop"),g.to<e.length&&S.classList.add("cm-completionListIncompleteBottom"),S}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Bg(O,e){return v=>new bg(v,O,e)}function Ig(O,e){let v=O.getBoundingClientRect(),g=e.getBoundingClientRect(),S=v.height/O.offsetHeight;g.top<v.top?O.scrollTop-=(v.top-g.top)/S:g.bottom>v.bottom&&(O.scrollTop+=(g.bottom-v.bottom)/S)}function uf(O){return(O.boost||0)*100+(O.apply?10:0)+(O.info?5:0)+(O.type?1:0)}function Gg(O,e){let v=[],g=null,S=V=>{v.push(V);let{section:Y}=V.completion;if(Y){g||(g=[]);let j=typeof Y=="string"?Y:Y.name;g.some(_=>_.name==j)||g.push(typeof Y=="string"?{name:j}:Y)}},E=e.facet(de);for(let V of O)if(V.hasResult()){let Y=V.result.getMatch;if(V.result.filter===!1)for(let j of V.result.options)S(new af(j,V.source,Y?Y(j):[],1e9-v.length));else{let j=e.sliceDoc(V.from,V.to),_,et=E.filterStrict?new Lg(j):new wg(j);for(let st of V.result.options)if(_=et.match(st.label)){let at=st.displayLabel?Y?Y(st,_.matched):[]:_.matched;S(new af(st,V.source,at,_.score+(st.boost||0)))}}}if(g){let V=Object.create(null),Y=0,j=(_,et)=>{var st,at;return((st=_.rank)!==null&&st!==void 0?st:1e9)-((at=et.rank)!==null&&at!==void 0?at:1e9)||(_.name<et.name?-1:1)};for(let _ of g.sort(j))Y-=1e5,V[_.name]=Y;for(let _ of v){let{section:et}=_.completion;et&&(_.score+=V[typeof et=="string"?et:et.name])}}let R=[],D=null,I=E.compareCompletions;for(let V of v.sort((Y,j)=>j.score-Y.score||I(Y.completion,j.completion))){let Y=V.completion;!D||D.label!=Y.label||D.detail!=Y.detail||D.type!=null&&Y.type!=null&&D.type!=Y.type||D.apply!=Y.apply||D.boost!=Y.boost?R.push(V):uf(V.completion)>uf(D)&&(R[R.length-1]=V),D=V.completion}return R}class rs{constructor(e,v,g,S,E,R){this.options=e,this.attrs=v,this.tooltip=g,this.timestamp=S,this.selected=E,this.disabled=R}setSelected(e,v){return e==this.selected||e>=this.options.length?this:new rs(this.options,ff(v,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,v,g,S,E,R){if(S&&!R&&e.some(V=>V.isPending))return S.setDisabled();let D=Gg(e,v);if(!D.length)return S&&e.some(V=>V.isPending)?S.setDisabled():null;let I=v.facet(de).selectOnOpen?0:-1;if(S&&S.selected!=I&&S.selected!=-1){let V=S.options[S.selected].completion;for(let Y=0;Y<D.length;Y++)if(D[Y].completion==V){I=Y;break}}return new rs(D,ff(g,I),{pos:e.reduce((V,Y)=>Y.hasResult()?Math.min(V,Y.from):V,1e8),create:Yg,above:E.aboveCursor},S?S.timestamp:Date.now(),I,!1)}map(e){return new rs(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new rs(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class rr{constructor(e,v,g){this.active=e,this.id=v,this.open=g}static start(){return new rr(zg,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:v}=e,g=v.facet(de),E=(g.override||v.languageDataAt("autocomplete",Qi(v)).map(Rg)).map(I=>(this.active.find(Y=>Y.source==I)||new Ve(I,this.active.some(Y=>Y.state!=0)?1:0)).update(e,g));E.length==this.active.length&&E.every((I,V)=>I==this.active[V])&&(E=this.active);let R=this.open,D=e.effects.some(I=>I.is(to));R&&e.docChanged&&(R=R.map(e.changes)),e.selection||E.some(I=>I.hasResult()&&e.changes.touchesRange(I.from,I.to))||!Ng(E,this.active)||D?R=rs.build(E,v,this.id,R,g,D):R&&R.disabled&&!E.some(I=>I.isPending)&&(R=null),!R&&E.every(I=>!I.isPending)&&E.some(I=>I.hasResult())&&(E=E.map(I=>I.hasResult()?new Ve(I.source,0):I));for(let I of e.effects)I.is(cf)&&(R=R&&R.setSelected(I.value,this.id));return E==this.active&&R==this.open?this:new rr(E,this.id,R)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Qg:Xg}}function Ng(O,e){if(O==e)return!0;for(let v=0,g=0;;){for(;v<O.length&&!O[v].hasResult();)v++;for(;g<e.length&&!e[g].hasResult();)g++;let S=v==O.length,E=g==e.length;if(S||E)return S==E;if(O[v++].result!=e[g++].result)return!1}}const Qg={"aria-autocomplete":"list"},Xg={};function ff(O,e){let v={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":O};return e>-1&&(v["aria-activedescendant"]=O+"-"+e),v}const zg=[];function df(O,e){if(O.isUserEvent("input.complete")){let g=O.annotation(qa);if(g&&e.activateOnCompletion(g))return 12}let v=O.isUserEvent("input.type");return v&&e.activateOnTyping?5:v?1:O.isUserEvent("delete.backward")?2:O.selection?8:O.docChanged?16:0}class Ve{constructor(e,v,g=!1){this.source=e,this.state=v,this.explicit=g}hasResult(){return!1}get isPending(){return this.state==1}update(e,v){let g=df(e,v),S=this;(g&8||g&16&&this.touches(e))&&(S=new Ve(S.source,0)),g&4&&S.state==0&&(S=new Ve(this.source,1)),S=S.updateFor(e,g);for(let E of e.effects)if(E.is(nr))S=new Ve(S.source,1,E.value);else if(E.is(Vs))S=new Ve(S.source,0);else if(E.is(to))for(let R of E.value)R.source==S.source&&(S=R);return S}updateFor(e,v){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Qi(e.state))}}class as extends Ve{constructor(e,v,g,S,E,R){super(e,3,v),this.limit=g,this.result=S,this.from=E,this.to=R}hasResult(){return!0}updateFor(e,v){var g;if(!(v&3))return this.map(e.changes);let S=this.result;S.map&&!e.changes.empty&&(S=S.map(S,e.changes));let E=e.changes.mapPos(this.from),R=e.changes.mapPos(this.to,1),D=Qi(e.state);if(D>R||!S||v&2&&(Qi(e.startState)==this.from||D<this.limit))return new Ve(this.source,v&4?1:0);let I=e.changes.mapPos(this.limit);return Vg(S.validFor,e.state,E,R)?new as(this.source,this.explicit,I,S,E,R):S.update&&(S=S.update(S,E,R,new sf(e.state,D,!1)))?new as(this.source,this.explicit,I,S,S.from,(g=S.to)!==null&&g!==void 0?g:Qi(e.state)):new Ve(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new as(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ve(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Vg(O,e,v,g){if(!O)return!1;let S=e.sliceDoc(v,g);return typeof O=="function"?O(S,v,g,e):of(O,!0).test(S)}const to=Ot.define({map(O,e){return O.map(v=>v.map(e))}}),cf=Ot.define(),we=K.define({create(){return rr.start()},update(O,e){return O.update(e)},provide:O=>[fa.from(O,e=>e.tooltip),Et.contentAttributes.from(O,e=>e.attrs)]});function eo(O,e){const v=e.completion.apply||e.completion.label;let g=O.state.field(we).active.find(S=>S.source==e.source);return g instanceof as?(typeof v=="string"?O.dispatch(Object.assign(Object.assign({},Mg(O.state,v,g.from,g.to)),{annotations:qa.of(e.completion)})):v(O,e.completion,g.from,g.to),!0):!1}const Yg=Bg(we,eo);function ar(O,e="option"){return v=>{let g=v.state.field(we,!1);if(!g||!g.open||g.open.disabled||Date.now()-g.open.timestamp<v.state.facet(de).interactionDelay)return!1;let S=1,E;e=="page"&&(E=dl(v,g.open.tooltip))&&(S=Math.max(2,Math.floor(E.dom.offsetHeight/E.dom.querySelector("li").offsetHeight)-1));let{length:R}=g.open.options,D=g.open.selected>-1?g.open.selected+S*(O?1:-1):O?0:R-1;return D<0?D=e=="page"?0:R-1:D>=R&&(D=e=="page"?R-1:0),v.dispatch({effects:cf.of(D)}),!0}}const Ug=O=>{let e=O.state.field(we,!1);return O.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<O.state.facet(de).interactionDelay?!1:eo(O,e.open.options[e.open.selected])},vf=O=>O.state.field(we,!1)?(O.dispatch({effects:nr.of(!0)}),!0):!1,Wg=O=>{let e=O.state.field(we,!1);return!e||!e.active.some(v=>v.state!=0)?!1:(O.dispatch({effects:Vs.of(null)}),!0)};class $g{constructor(e,v){this.active=e,this.context=v,this.time=Date.now(),this.updates=[],this.done=void 0}}const Zg=50,Hg=1e3,kg=oe.fromClass(class{constructor(O){this.view=O,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of O.state.field(we).active)e.isPending&&this.startQuery(e)}update(O){let e=O.state.field(we),v=O.state.facet(de);if(!O.selectionSet&&!O.docChanged&&O.startState.field(we)==e)return;let g=O.transactions.some(E=>{let R=df(E,v);return R&8||(E.selection||E.docChanged)&&!(R&3)});for(let E=0;E<this.running.length;E++){let R=this.running[E];if(g||R.context.abortOnDocChange&&O.docChanged||R.updates.length+O.transactions.length>Zg&&Date.now()-R.time>Hg){for(let D of R.context.abortListeners)try{D()}catch(I){Ee(this.view.state,I)}R.context.abortListeners=null,this.running.splice(E--,1)}else R.updates.push(...O.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),O.transactions.some(E=>E.effects.some(R=>R.is(nr)))&&(this.pendingStart=!0);let S=this.pendingStart?50:v.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(E=>E.isPending&&!this.running.some(R=>R.active.source==E.source))?setTimeout(()=>this.startUpdate(),S):-1,this.composing!=0)for(let E of O.transactions)E.isUserEvent("input.type")?this.composing=2:this.composing==2&&E.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:O}=this.view,e=O.field(we);for(let v of e.active)v.isPending&&!this.running.some(g=>g.active.source==v.source)&&this.startQuery(v);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(de).updateSyncTime))}startQuery(O){let{state:e}=this.view,v=Qi(e),g=new sf(e,v,O.explicit,this.view),S=new $g(O,g);this.running.push(S),Promise.resolve(O.source(g)).then(E=>{S.context.aborted||(S.done=E||null,this.scheduleAccept())},E=>{this.view.dispatch({effects:Vs.of(null)}),Ee(this.view.state,E)})}scheduleAccept(){this.running.every(O=>O.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(de).updateSyncTime))}accept(){var O;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],v=this.view.state.facet(de),g=this.view.state.field(we);for(let S=0;S<this.running.length;S++){let E=this.running[S];if(E.done===void 0)continue;if(this.running.splice(S--,1),E.done){let D=Qi(E.updates.length?E.updates[0].startState:this.view.state),I=Math.min(D,E.done.from+(E.active.explicit?0:1)),V=new as(E.active.source,E.active.explicit,I,E.done,E.done.from,(O=E.done.to)!==null&&O!==void 0?O:D);for(let Y of E.updates)V=V.update(Y,v);if(V.hasResult()){e.push(V);continue}}let R=g.active.find(D=>D.source==E.active.source);if(R&&R.isPending)if(E.done==null){let D=new Ve(E.active.source,0);for(let I of E.updates)D=D.update(I,v);D.isPending||e.push(D)}else this.startQuery(R)}(e.length||g.open&&g.open.disabled)&&this.view.dispatch({effects:to.of(e)})}},{eventHandlers:{blur(O){let e=this.view.state.field(we,!1);if(e&&e.tooltip&&this.view.state.facet(de).closeOnBlur){let v=e.open&&dl(this.view,e.open.tooltip);(!v||!v.dom.contains(O.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Vs.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:nr.of(!1)}),20),this.composing=0}}}),jg=typeof navigator=="object"&&/Win/.test(navigator.platform),Kg=tt.highest(Et.domEventHandlers({keydown(O,e){let v=e.state.field(we,!1);if(!v||!v.open||v.open.disabled||v.open.selected<0||O.key.length>1||O.ctrlKey&&!(jg&&O.altKey)||O.metaKey)return!1;let g=v.open.options[v.open.selected],S=v.active.find(R=>R.source==g.source),E=g.completion.commitCharacters||S.result.commitCharacters;return E&&E.indexOf(O.key)>-1&&eo(e,g),!1}})),pf=Et.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Jg{constructor(e,v,g,S){this.field=e,this.line=v,this.from=g,this.to=S}}class io{constructor(e,v,g){this.field=e,this.from=v,this.to=g}map(e){let v=e.mapPos(this.from,-1,T.TrackDel),g=e.mapPos(this.to,1,T.TrackDel);return v==null||g==null?null:new io(this.field,v,g)}}class so{constructor(e,v){this.lines=e,this.fieldPositions=v}instantiate(e,v){let g=[],S=[v],E=e.doc.lineAt(v),R=/^\s*/.exec(E.text)[0];for(let I of this.lines){if(g.length){let V=R,Y=/^\t*/.exec(I)[0].length;for(let j=0;j<Y;j++)V+=e.facet(Nn);S.push(v+V.length-Y),I=V+I.slice(Y)}g.push(I),v+=I.length+1}let D=this.fieldPositions.map(I=>new io(I.field,S[I.line]+I.from,S[I.line]+I.to));return{text:g,ranges:D}}static parse(e){let v=[],g=[],S=[],E;for(let R of e.split(/\r\n?|\n/)){for(;E=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(R);){let D=E[1]?+E[1]:null,I=E[2]||E[3]||"",V=-1,Y=I.replace(/\\[{}]/g,j=>j[1]);for(let j=0;j<v.length;j++)(D!=null?v[j].seq==D:Y&&v[j].name==Y)&&(V=j);if(V<0){let j=0;for(;j<v.length&&(D==null||v[j].seq!=null&&v[j].seq<D);)j++;v.splice(j,0,{seq:D,name:Y}),V=j;for(let _ of S)_.field>=V&&_.field++}S.push(new Jg(V,g.length,E.index,E.index+Y.length)),R=R.slice(0,E.index)+I+R.slice(E.index+E[0].length)}R=R.replace(/\\([{}])/g,(D,I,V)=>{for(let Y of S)Y.line==g.length&&Y.from>V&&(Y.from--,Y.to--);return I}),g.push(R)}return new so(g,S)}}let qg=Lt.widget({widget:new class extends di{toDOM(){let O=document.createElement("span");return O.className="cm-snippetFieldPosition",O}ignoreEvent(){return!1}}}),_g=Lt.mark({class:"cm-snippetField"});class os{constructor(e,v){this.ranges=e,this.active=v,this.deco=Lt.set(e.map(g=>(g.from==g.to?qg:_g).range(g.from,g.to)))}map(e){let v=[];for(let g of this.ranges){let S=g.map(e);if(!S)return null;v.push(S)}return new os(v,this.active)}selectionInsideField(e){return e.ranges.every(v=>this.ranges.some(g=>g.field==this.active&&g.from<=v.from&&g.to>=v.to))}}const Ys=Ot.define({map(O,e){return O&&O.map(e)}}),t0=Ot.define(),Us=K.define({create(){return null},update(O,e){for(let v of e.effects){if(v.is(Ys))return v.value;if(v.is(t0)&&O)return new os(O.ranges,v.value)}return O&&e.docChanged&&(O=O.map(e.changes)),O&&e.selection&&!O.selectionInsideField(e.selection)&&(O=null),O},provide:O=>Et.decorations.from(O,e=>e?e.deco:Lt.none)});function no(O,e){return N.create(O.filter(v=>v.field==e).map(v=>N.range(v.from,v.to)))}function e0(O){let e=so.parse(O);return(v,g,S,E)=>{let{text:R,ranges:D}=e.instantiate(v.state,S),I={changes:{from:S,to:E,insert:It.of(R)},scrollIntoView:!0,annotations:g?[qa.of(g),Bt.userEvent.of("input.complete")]:void 0};if(D.length&&(I.selection=no(D,0)),D.some(V=>V.field>0)){let V=new os(D,0),Y=I.effects=[Ys.of(V)];v.state.field(Us,!1)===void 0&&Y.push(Ot.appendConfig.of([Us,s0,n0,pf]))}v.dispatch(v.state.update(I))}}function mf(O){return({state:e,dispatch:v})=>{let g=e.field(Us,!1);if(!g||O<0&&g.active==0)return!1;let S=g.active+O,E=O>0&&!g.ranges.some(R=>R.field==S+O);return v(e.update({selection:no(g.ranges,S),effects:Ys.of(E?null:new os(g.ranges,S)),scrollIntoView:!0})),!0}}const i0=[{key:"Tab",run:mf(1),shift:mf(-1)},{key:"Escape",run:({state:O,dispatch:e})=>O.field(Us,!1)?(e(O.update({effects:Ys.of(null)})),!0):!1}],gf=H.define({combine(O){return O.length?O[0]:i0}}),s0=tt.highest(On.compute([gf],O=>O.facet(gf)));function Le(O,e){return Object.assign(Object.assign({},e),{apply:e0(O)})}const n0=Et.domEventHandlers({mousedown(O,e){let v=e.state.field(Us,!1),g;if(!v||(g=e.posAtCoords({x:O.clientX,y:O.clientY}))==null)return!1;let S=v.ranges.find(E=>E.from<=g&&E.to>=g);return!S||S.field==v.active?!1:(e.dispatch({selection:no(v.ranges,S.field),effects:Ys.of(v.ranges.some(E=>E.field>S.field)?new os(v.ranges,S.field):null),scrollIntoView:!0}),!0)}}),Ws={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Xi=Ot.define({map(O,e){let v=e.mapPos(O,-1,T.TrackAfter);return v??void 0}}),ro=new class extends Fi{};ro.startSide=1,ro.endSide=-1;const xf=K.define({create(){return Yt.empty},update(O,e){if(O=O.map(e.changes),e.selection){let v=e.state.doc.lineAt(e.selection.main.head);O=O.update({filter:g=>g>=v.from&&g<=v.to})}for(let v of e.effects)v.is(Xi)&&(O=O.update({add:[ro.range(v.value,v.value+1)]}));return O}});function r0(){return[o0,xf]}const ao="()[]{}<>";function Of(O){for(let e=0;e<ao.length;e+=2)if(ao.charCodeAt(e)==O)return ao.charAt(e+1);return d(O<128?O:O+1)}function yf(O,e){return O.languageDataAt("closeBrackets",e)[0]||Ws}const a0=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),o0=Et.inputHandler.of((O,e,v,g)=>{if((a0?O.composing:O.compositionStarted)||O.state.readOnly)return!1;let S=O.state.selection.main;if(g.length>2||g.length==2&&p(f(g,0))==1||e!=S.from||v!=S.to)return!1;let E=l0(O.state,g);return E?(O.dispatch(E),!0):!1}),h0=[{key:"Backspace",run:({state:O,dispatch:e})=>{if(O.readOnly)return!1;let g=yf(O,O.selection.main.head).brackets||Ws.brackets,S=null,E=O.changeByRange(R=>{if(R.empty){let D=u0(O.doc,R.head);for(let I of g)if(I==D&&or(O.doc,R.head)==Of(f(I,0)))return{changes:{from:R.head-I.length,to:R.head+I.length},range:N.cursor(R.head-I.length)}}return{range:S=R}});return S||e(O.update(E,{scrollIntoView:!0,userEvent:"delete.backward"})),!S}}];function l0(O,e){let v=yf(O,O.selection.main.head),g=v.brackets||Ws.brackets;for(let S of g){let E=Of(f(S,0));if(e==S)return E==S?c0(O,S,g.indexOf(S+S+S)>-1,v):f0(O,S,E,v.before||Ws.before);if(e==E&&Sf(O,O.selection.main.from))return d0(O,S,E)}return null}function Sf(O,e){let v=!1;return O.field(xf).between(0,O.doc.length,g=>{g==e&&(v=!0)}),v}function or(O,e){let v=O.sliceString(e,e+2);return v.slice(0,p(f(v,0)))}function u0(O,e){let v=O.sliceString(e-2,e);return p(f(v,0))==v.length?v:v.slice(1)}function f0(O,e,v,g){let S=null,E=O.changeByRange(R=>{if(!R.empty)return{changes:[{insert:e,from:R.from},{insert:v,from:R.to}],effects:Xi.of(R.to+e.length),range:N.range(R.anchor+e.length,R.head+e.length)};let D=or(O.doc,R.head);return!D||/\s/.test(D)||g.indexOf(D)>-1?{changes:{insert:e+v,from:R.head},effects:Xi.of(R.head+e.length),range:N.cursor(R.head+e.length)}:{range:S=R}});return S?null:O.update(E,{scrollIntoView:!0,userEvent:"input.type"})}function d0(O,e,v){let g=null,S=O.changeByRange(E=>E.empty&&or(O.doc,E.head)==v?{changes:{from:E.head,to:E.head+v.length,insert:v},range:N.cursor(E.head+v.length)}:g={range:E});return g?null:O.update(S,{scrollIntoView:!0,userEvent:"input.type"})}function c0(O,e,v,g){let S=g.stringPrefixes||Ws.stringPrefixes,E=null,R=O.changeByRange(D=>{if(!D.empty)return{changes:[{insert:e,from:D.from},{insert:e,from:D.to}],effects:Xi.of(D.to+e.length),range:N.range(D.anchor+e.length,D.head+e.length)};let I=D.head,V=or(O.doc,I),Y;if(V==e){if(Tf(O,I))return{changes:{insert:e+e,from:I},effects:Xi.of(I+e.length),range:N.cursor(I+e.length)};if(Sf(O,I)){let _=v&&O.sliceDoc(I,I+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:I,to:I+_.length,insert:_},range:N.cursor(I+_.length)}}}else{if(v&&O.sliceDoc(I-2*e.length,I)==e+e&&(Y=Cf(O,I-2*e.length,S))>-1&&Tf(O,Y))return{changes:{insert:e+e+e+e,from:I},effects:Xi.of(I+e.length),range:N.cursor(I+e.length)};if(O.charCategorizer(I)(V)!=Ut.Word&&Cf(O,I,S)>-1&&!v0(O,I,e,S))return{changes:{insert:e+e,from:I},effects:Xi.of(I+e.length),range:N.cursor(I+e.length)}}return{range:E=D}});return E?null:O.update(R,{scrollIntoView:!0,userEvent:"input.type"})}function Tf(O,e){let v=ue(O).resolveInner(e+1);return v.parent&&v.from==e}function v0(O,e,v,g){let S=ue(O).resolveInner(e,-1),E=g.reduce((R,D)=>Math.max(R,D.length),0);for(let R=0;R<5;R++){let D=O.sliceDoc(S.from,Math.min(S.to,S.from+v.length+E)),I=D.indexOf(v);if(!I||I>-1&&g.indexOf(D.slice(0,I))>-1){let Y=S.firstChild;for(;Y&&Y.from==S.from&&Y.to-Y.from>v.length+I;){if(O.sliceDoc(Y.to-v.length,Y.to)==v)return!1;Y=Y.firstChild}return!0}let V=S.to==e&&S.parent;if(!V)break;S=V}return!1}function Cf(O,e,v){let g=O.charCategorizer(e);if(g(O.sliceDoc(e-1,e))!=Ut.Word)return e;for(let S of v){let E=e-S.length;if(O.sliceDoc(E,e)==S&&g(O.sliceDoc(E-1,E))!=Ut.Word)return E}return-1}function p0(O={}){return[Kg,we,de.of(O),kg,m0,pf]}const Pf=[{key:"Ctrl-Space",run:vf},{mac:"Alt-`",run:vf},{key:"Escape",run:Wg},{key:"ArrowDown",run:ar(!0)},{key:"ArrowUp",run:ar(!1)},{key:"PageDown",run:ar(!0,"page")},{key:"PageUp",run:ar(!1,"page")},{key:"Enter",run:Ug}],m0=tt.highest(On.computeN([de],O=>O.facet(de).defaultKeymap?[Pf]:[]));class g0{constructor(e,v,g){this.from=e,this.to=v,this.diagnostic=g}}class zi{constructor(e,v,g){this.diagnostics=e,this.panel=v,this.selected=g}static init(e,v,g){let S=e,E=g.facet($s).markerFilter;E&&(S=E(S,g));let R=Lt.set(S.map(D=>D.from==D.to||D.from==D.to-1&&g.doc.lineAt(D.from).to==D.from?Lt.widget({widget:new E0(D),diagnostic:D}).range(D.from):Lt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+D.severity+(D.markClass?" "+D.markClass:"")},diagnostic:D}).range(D.from,D.to)),!0);return new zi(R,v,hs(R))}}function hs(O,e=null,v=0){let g=null;return O.between(v,1e9,(S,E,{spec:R})=>{if(!(e&&R.diagnostic!=e))return g=new g0(S,E,R.diagnostic),!1}),g}function x0(O,e){let v=e.pos,g=e.end||v,S=O.state.facet($s).hideOn(O,v,g);if(S!=null)return S;let E=O.startState.doc.lineAt(e.pos);return!!(O.effects.some(R=>R.is(Ef))||O.changes.touchesRange(E.from,Math.max(E.to,g)))}function O0(O,e){return O.field(be,!1)?e:e.concat(Ot.appendConfig.of(R0))}const Ef=Ot.define(),oo=Ot.define(),Af=Ot.define(),be=K.define({create(){return new zi(Lt.none,null,null)},update(O,e){if(e.docChanged&&O.diagnostics.size){let v=O.diagnostics.map(e.changes),g=null,S=O.panel;if(O.selected){let E=e.changes.mapPos(O.selected.from,1);g=hs(v,O.selected.diagnostic,E)||hs(v,null,E)}!v.size&&S&&e.state.facet($s).autoPanel&&(S=null),O=new zi(v,S,g)}for(let v of e.effects)if(v.is(Ef)){let g=e.state.facet($s).autoPanel?v.value.length?Zs.open:null:O.panel;O=zi.init(v.value,g,e.state)}else v.is(oo)?O=new zi(O.diagnostics,v.value?Zs.open:null,O.selected):v.is(Af)&&(O=new zi(O.diagnostics,O.panel,v.value));return O},provide:O=>[Ls.from(O,e=>e.panel),Et.decorations.from(O,e=>e.diagnostics)]}),y0=Lt.mark({class:"cm-lintRange cm-lintRange-active"});function S0(O,e,v){let{diagnostics:g}=O.state.field(be),S=[],E=2e8,R=0;g.between(e-(v<0?1:0),e+(v>0?1:0),(I,V,{spec:Y})=>{e>=I&&e<=V&&(I==V||(e>I||v>0)&&(e<V||v<0))&&(S.push(Y.diagnostic),E=Math.min(I,E),R=Math.max(V,R))});let D=O.state.facet($s).tooltipFilter;return D&&(S=D(S,O.state)),S.length?{pos:E,end:R,above:O.state.doc.lineAt(E).to<R,create(){return{dom:T0(O,S)}}}:null}function T0(O,e){return te("ul",{class:"cm-tooltip-lint"},e.map(v=>wf(O,v,!1)))}const C0=O=>{let e=O.state.field(be,!1);(!e||!e.panel)&&O.dispatch({effects:O0(O.state,[oo.of(!0)])});let v=ws(O,Zs.open);return v&&v.dom.querySelector(".cm-panel-lint ul").focus(),!0},Mf=O=>{let e=O.state.field(be,!1);return!e||!e.panel?!1:(O.dispatch({effects:oo.of(!1)}),!0)},P0=[{key:"Mod-Shift-m",run:C0,preventDefault:!0},{key:"F8",run:O=>{let e=O.state.field(be,!1);if(!e)return!1;let v=O.state.selection.main,g=e.diagnostics.iter(v.to+1);return!g.value&&(g=e.diagnostics.iter(0),!g.value||g.from==v.from&&g.to==v.to)?!1:(O.dispatch({selection:{anchor:g.from,head:g.to},scrollIntoView:!0}),!0)}}],$s=H.define({combine(O){return Object.assign({sources:O.map(e=>e.source).filter(e=>e!=null)},ke(O.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,v)=>e?v?g=>e(g)||v(g):e:v}))}});function Rf(O){let e=[];if(O)t:for(let{name:v}of O){for(let g=0;g<v.length;g++){let S=v[g];if(/[a-zA-Z]/.test(S)&&!e.some(E=>E.toLowerCase()==S.toLowerCase())){e.push(S);continue t}}e.push("")}return e}function wf(O,e,v){var g;let S=v?Rf(e.actions):[];return te("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},te("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(O):e.message),(g=e.actions)===null||g===void 0?void 0:g.map((E,R)=>{let D=!1,I=_=>{if(_.preventDefault(),D)return;D=!0;let et=hs(O.state.field(be).diagnostics,e);et&&E.apply(O,et.from,et.to)},{name:V}=E,Y=S[R]?V.indexOf(S[R]):-1,j=Y<0?V:[V.slice(0,Y),te("u",V.slice(Y,Y+1)),V.slice(Y+1)];return te("button",{type:"button",class:"cm-diagnosticAction",onclick:I,onmousedown:I,"aria-label":` Action: ${V}${Y<0?"":` (access key "${S[R]})"`}.`},j)}),e.source&&te("div",{class:"cm-diagnosticSource"},e.source))}class E0 extends di{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return te("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Lf{constructor(e,v){this.diagnostic=v,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=wf(e,v,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Zs{constructor(e){this.view=e,this.items=[];let v=S=>{if(S.keyCode==27)Mf(this.view),this.view.focus();else if(S.keyCode==38||S.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(S.keyCode==40||S.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(S.keyCode==36)this.moveSelection(0);else if(S.keyCode==35)this.moveSelection(this.items.length-1);else if(S.keyCode==13)this.view.focus();else if(S.keyCode>=65&&S.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:E}=this.items[this.selectedIndex],R=Rf(E.actions);for(let D=0;D<R.length;D++)if(R[D].toUpperCase().charCodeAt(0)==S.keyCode){let I=hs(this.view.state.field(be).diagnostics,E);I&&E.actions[D].apply(e,I.from,I.to)}}else return;S.preventDefault()},g=S=>{for(let E=0;E<this.items.length;E++)this.items[E].dom.contains(S.target)&&this.moveSelection(E)};this.list=te("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:v,onclick:g}),this.dom=te("div",{class:"cm-panel-lint"},this.list,te("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Mf(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(be).selected;if(!e)return-1;for(let v=0;v<this.items.length;v++)if(this.items[v].diagnostic==e.diagnostic)return v;return-1}update(){let{diagnostics:e,selected:v}=this.view.state.field(be),g=0,S=!1,E=null;for(e.between(0,this.view.state.doc.length,(R,D,{spec:I})=>{let V=-1,Y;for(let j=g;j<this.items.length;j++)if(this.items[j].diagnostic==I.diagnostic){V=j;break}V<0?(Y=new Lf(this.view,I.diagnostic),this.items.splice(g,0,Y),S=!0):(Y=this.items[V],V>g&&(this.items.splice(g,V-g),S=!0)),v&&Y.diagnostic==v.diagnostic?Y.dom.hasAttribute("aria-selected")||(Y.dom.setAttribute("aria-selected","true"),E=Y):Y.dom.hasAttribute("aria-selected")&&Y.dom.removeAttribute("aria-selected"),g++});g<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)S=!0,this.items.pop();this.items.length==0&&(this.items.push(new Lf(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),S=!0),E?(this.list.setAttribute("aria-activedescendant",E.id),this.view.requestMeasure({key:this,read:()=>({sel:E.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:R,panel:D})=>{let I=D.height/this.list.offsetHeight;R.top<D.top?this.list.scrollTop-=(D.top-R.top)/I:R.bottom>D.bottom&&(this.list.scrollTop+=(R.bottom-D.bottom)/I)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),S&&this.sync()}sync(){let e=this.list.firstChild;function v(){let g=e;e=g.nextSibling,g.remove()}for(let g of this.items)if(g.dom.parentNode==this.list){for(;e!=g.dom;)v();e=g.dom.nextSibling}else this.list.insertBefore(g.dom,e);for(;e;)v()}moveSelection(e){if(this.selectedIndex<0)return;let v=this.view.state.field(be),g=hs(v.diagnostics,this.items[e].diagnostic);g&&this.view.dispatch({selection:{anchor:g.from,head:g.to},scrollIntoView:!0,effects:Af.of(g)})}static open(e){return new Zs(e)}}function A0(O,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(O)}</svg>')`}function hr(O){return A0(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${O}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const M0=Et.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:hr("#d11")},".cm-lintRange-warning":{backgroundImage:hr("orange")},".cm-lintRange-info":{backgroundImage:hr("#999")},".cm-lintRange-hint":{backgroundImage:hr("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),R0=[be,Et.decorations.compute([be],O=>{let{selected:e,panel:v}=O.field(be);return!e||!v||e.from==e.to?Lt.none:Lt.set([y0.range(e.from,e.to)])}),Ov(S0,{hideOn:x0}),M0],w0=[Lv(),bv(),Kc(),kp(),Sp(),Xc(),Wc(),Wt.allowMultipleSelections.of(!0),lp(),Cp(Ap,{fallback:!0}),Dp(),r0(),p0(),hv(),fv(),iv(),ig(),On.of([...h0,...Km,...Sg,...sm,...gp,...Pf,...P0])];class lr{constructor(e,v,g,S,E,R,D,I,V,Y=0,j){this.p=e,this.stack=v,this.state=g,this.reducePos=S,this.pos=E,this.score=R,this.buffer=D,this.bufferBase=I,this.curContext=V,this.lookAhead=Y,this.parent=j}toString(){return`[${this.stack.filter((e,v)=>v%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,v,g=0){let S=e.parser.context;return new lr(e,[],v,g,g,0,[],0,S?new Ff(S,S.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,v){this.stack.push(this.state,v,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var v;let g=e>>19,S=e&65535,{parser:E}=this.p,R=this.reducePos<this.pos-25;R&&this.setLookAhead(this.pos);let D=E.dynamicPrecedence(S);if(D&&(this.score+=D),g==0){this.pushState(E.getGoto(this.state,S,!0),this.reducePos),S<E.minRepeatTerm&&this.storeNode(S,this.reducePos,this.reducePos,R?8:4,!0),this.reduceContext(S,this.reducePos);return}let I=this.stack.length-(g-1)*3-(e&262144?6:0),V=I?this.stack[I-2]:this.p.ranges[0].from,Y=this.reducePos-V;Y>=2e3&&!(!((v=this.p.parser.nodeSet.types[S])===null||v===void 0)&&v.isAnonymous)&&(V==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=Y):this.p.lastBigReductionSize<Y&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=V,this.p.lastBigReductionSize=Y));let j=I?this.stack[I-1]:0,_=this.bufferBase+this.buffer.length-j;if(S<E.minRepeatTerm||e&131072){let et=E.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(S,V,et,_+4,!0)}if(e&262144)this.state=this.stack[I];else{let et=this.stack[I-3];this.state=E.getGoto(et,S,!0)}for(;this.stack.length>I;)this.stack.pop();this.reduceContext(S,V)}storeNode(e,v,g,S=4,E=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let R=this,D=this.buffer.length;if(D==0&&R.parent&&(D=R.bufferBase-R.parent.bufferBase,R=R.parent),D>0&&R.buffer[D-4]==0&&R.buffer[D-1]>-1){if(v==g)return;if(R.buffer[D-2]>=v){R.buffer[D-2]=g;return}}}if(!E||this.pos==g)this.buffer.push(e,v,g,S);else{let R=this.buffer.length;if(R>0&&this.buffer[R-4]!=0){let D=!1;for(let I=R;I>0&&this.buffer[I-2]>g;I-=4)if(this.buffer[I-1]>=0){D=!0;break}if(D)for(;R>0&&this.buffer[R-2]>g;)this.buffer[R]=this.buffer[R-4],this.buffer[R+1]=this.buffer[R-3],this.buffer[R+2]=this.buffer[R-2],this.buffer[R+3]=this.buffer[R-1],R-=4,S>4&&(S-=4)}this.buffer[R]=e,this.buffer[R+1]=v,this.buffer[R+2]=g,this.buffer[R+3]=S}}shift(e,v,g,S){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=S,this.shiftContext(v,g),v<=this.p.parser.maxNode&&this.buffer.push(v,g,S,4);else{let E=e,{parser:R}=this.p;(S>this.pos||v<=R.maxNode)&&(this.pos=S,R.stateFlag(E,1)||(this.reducePos=S)),this.pushState(E,g),this.shiftContext(v,g),v<=R.maxNode&&this.buffer.push(v,g,S,4)}}apply(e,v,g,S){e&65536?this.reduce(e):this.shift(e,v,g,S)}useNode(e,v){let g=this.p.reused.length-1;(g<0||this.p.reused[g]!=e)&&(this.p.reused.push(e),g++);let S=this.pos;this.reducePos=this.pos=S+e.length,this.pushState(v,S),this.buffer.push(g,S,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,v=e.buffer.length;for(;v>0&&e.buffer[v-2]>e.reducePos;)v-=4;let g=e.buffer.slice(v),S=e.bufferBase+v;for(;e&&S==e.bufferBase;)e=e.parent;return new lr(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,g,S,this.curContext,this.lookAhead,e)}recoverByDelete(e,v){let g=e<=this.p.parser.maxNode;g&&this.storeNode(e,this.pos,v,4),this.storeNode(0,this.pos,v,g?8:4),this.pos=this.reducePos=v,this.score-=190}canShift(e){for(let v=new L0(this);;){let g=this.p.parser.stateSlot(v.state,4)||this.p.parser.hasAction(v.state,e);if(g==0)return!1;if(!(g&65536))return!0;v.reduce(g)}}recoverByInsert(e){if(this.stack.length>=300)return[];let v=this.p.parser.nextStates(this.state);if(v.length>8||this.stack.length>=120){let S=[];for(let E=0,R;E<v.length;E+=2)(R=v[E+1])!=this.state&&this.p.parser.hasAction(R,e)&&S.push(v[E],R);if(this.stack.length<120)for(let E=0;S.length<8&&E<v.length;E+=2){let R=v[E+1];S.some((D,I)=>I&1&&D==R)||S.push(v[E],R)}v=S}let g=[];for(let S=0;S<v.length&&g.length<4;S+=2){let E=v[S+1];if(E==this.state)continue;let R=this.split();R.pushState(E,this.pos),R.storeNode(0,R.pos,R.pos,4,!0),R.shiftContext(v[S],this.pos),R.reducePos=this.pos,R.score-=200,g.push(R)}return g}forceReduce(){let{parser:e}=this.p,v=e.stateSlot(this.state,5);if(!(v&65536))return!1;if(!e.validAction(this.state,v)){let g=v>>19,S=v&65535,E=this.stack.length-g*3;if(E<0||e.getGoto(this.stack[E],S,!1)<0){let R=this.findForcedReduction();if(R==null)return!1;v=R}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(v),!0}findForcedReduction(){let{parser:e}=this.p,v=[],g=(S,E)=>{if(!v.includes(S))return v.push(S),e.allActions(S,R=>{if(!(R&393216))if(R&65536){let D=(R>>19)-E;if(D>1){let I=R&65535,V=this.stack.length-D*3;if(V>=0&&e.getGoto(this.stack[V],I,!1)>=0)return D<<19|65536|I}}else{let D=g(R,E+1);if(D!=null)return D}})};return g(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let v=0;v<this.stack.length;v+=3)if(this.stack[v]!=e.stack[v])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,v){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(v)))}reduceContext(e,v){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(v)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let v=new Ff(this.curContext.tracker,e);v.hash!=this.curContext.hash&&this.emitContext(),this.curContext=v}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Ff{constructor(e,v){this.tracker=e,this.context=v,this.hash=e.strict?e.hash(v):0}}class L0{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let v=e&65535,g=e>>19;g==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(g-1)*3;let S=this.start.p.parser.getGoto(this.stack[this.base-3],v,!0);this.state=S}}class ur{constructor(e,v,g){this.stack=e,this.pos=v,this.index=g,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,v=e.bufferBase+e.buffer.length){return new ur(e,v,v-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ur(this.stack,this.pos,this.index)}}function Hs(O,e=Uint16Array){if(typeof O!="string")return O;let v=null;for(let g=0,S=0;g<O.length;){let E=0;for(;;){let R=O.charCodeAt(g++),D=!1;if(R==126){E=65535;break}R>=92&&R--,R>=34&&R--;let I=R-32;if(I>=46&&(I-=46,D=!0),E+=I,D)break;E*=46}v?v[S++]=E:v=new e(E)}return v}class fr{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Df=new fr;class F0{constructor(e,v){this.input=e,this.ranges=v,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Df,this.rangeIndex=0,this.pos=this.chunkPos=v[0].from,this.range=v[0],this.end=v[v.length-1].to,this.readNext()}resolveOffset(e,v){let g=this.range,S=this.rangeIndex,E=this.pos+e;for(;E<g.from;){if(!S)return null;let R=this.ranges[--S];E-=g.from-R.to,g=R}for(;v<0?E>g.to:E>=g.to;){if(S==this.ranges.length-1)return null;let R=this.ranges[++S];E+=R.from-g.to,g=R}return E}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let v of this.ranges)if(v.to>e)return Math.max(e,v.from);return this.end}peek(e){let v=this.chunkOff+e,g,S;if(v>=0&&v<this.chunk.length)g=this.pos+e,S=this.chunk.charCodeAt(v);else{let E=this.resolveOffset(e,1);if(E==null)return-1;if(g=E,g>=this.chunk2Pos&&g<this.chunk2Pos+this.chunk2.length)S=this.chunk2.charCodeAt(g-this.chunk2Pos);else{let R=this.rangeIndex,D=this.range;for(;D.to<=g;)D=this.ranges[++R];this.chunk2=this.input.chunk(this.chunk2Pos=g),g+this.chunk2.length>D.to&&(this.chunk2=this.chunk2.slice(0,D.to-g)),S=this.chunk2.charCodeAt(0)}}return g>=this.token.lookAhead&&(this.token.lookAhead=g+1),S}acceptToken(e,v=0){let g=v?this.resolveOffset(v,-1):this.pos;if(g==null||g<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=g}acceptTokenTo(e,v){this.token.value=e,this.token.end=v}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:v}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=v,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),v=this.pos+e.length;this.chunk=v>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,v){if(v?(this.token=v,v.start=e,v.lookAhead=e+1,v.value=v.extended=-1):this.token=Df,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,v){if(e>=this.chunkPos&&v<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,v-this.chunkPos);if(e>=this.chunk2Pos&&v<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,v-this.chunk2Pos);if(e>=this.range.from&&v<=this.range.to)return this.input.read(e,v);let g="";for(let S of this.ranges){if(S.from>=v)break;S.to>e&&(g+=this.input.read(Math.max(S.from,e),Math.min(S.to,v)))}return g}}class ls{constructor(e,v){this.data=e,this.id=v}token(e,v){let{parser:g}=v.p;bf(this.data,e,v,this.id,g.data,g.tokenPrecTable)}}ls.prototype.contextual=ls.prototype.fallback=ls.prototype.extend=!1;class ho{constructor(e,v,g){this.precTable=v,this.elseToken=g,this.data=typeof e=="string"?Hs(e):e}token(e,v){let g=e.pos,S=0;for(;;){let E=e.next<0,R=e.resolveOffset(1,1);if(bf(this.data,e,v,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(E||S++,R==null)break;e.reset(R,e.token)}S&&(e.reset(g,e.token),e.acceptToken(this.elseToken,S))}}ho.prototype.contextual=ls.prototype.fallback=ls.prototype.extend=!1;class ks{constructor(e,v={}){this.token=e,this.contextual=!!v.contextual,this.fallback=!!v.fallback,this.extend=!!v.extend}}function bf(O,e,v,g,S,E){let R=0,D=1<<g,{dialect:I}=v.p.parser;t:for(;D&O[R];){let V=O[R+1];for(let et=R+3;et<V;et+=2)if((O[et+1]&D)>0){let st=O[et];if(I.allows(st)&&(e.token.value==-1||e.token.value==st||D0(st,e.token.value,S,E))){e.acceptToken(st);break}}let Y=e.next,j=0,_=O[R+2];if(e.next<0&&_>j&&O[V+_*3-3]==65535){R=O[V+_*3-1];continue t}for(;j<_;){let et=j+_>>1,st=V+et+(et<<1),at=O[st],ot=O[st+1]||65536;if(Y<at)_=et;else if(Y>=ot)j=et+1;else{R=O[st+2],e.advance();continue t}}break}}function Bf(O,e,v){for(let g=e,S;(S=O[g])!=65535;g++)if(S==v)return g-e;return-1}function D0(O,e,v,g){let S=Bf(v,g,e);return S<0||Bf(v,g,O)<S}const Be=typeof process<"u"&&Jf&&/\bparse\b/.test(Jf.LOG);let lo=null;function If(O,e,v){let g=O.cursor(le.IncludeAnonymous);for(g.moveTo(e);;)if(!(v<0?g.childBefore(e):g.childAfter(e)))for(;;){if((v<0?g.to<e:g.from>e)&&!g.type.isError)return v<0?Math.max(0,Math.min(g.to-1,e-25)):Math.min(O.length,Math.max(g.from+1,e+25));if(v<0?g.prevSibling():g.nextSibling())break;if(!g.parent())return v<0?0:O.length}}class b0{constructor(e,v){this.fragments=e,this.nodeSet=v,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?If(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?If(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let v=this.trees.length-1;if(v<0)return this.nextFragment(),null;let g=this.trees[v],S=this.index[v];if(S==g.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let E=g.children[S],R=this.start[v]+g.positions[S];if(R>e)return this.nextStart=R,null;if(E instanceof he){if(R==e){if(R<this.safeFrom)return null;let D=R+E.length;if(D<=this.safeTo){let I=E.prop(Qt.lookAhead);if(!I||D+I<this.fragment.to)return E}}this.index[v]++,R+E.length>=Math.max(this.safeFrom,e)&&(this.trees.push(E),this.start.push(R),this.index.push(0))}else this.index[v]++,this.nextStart=R+E.length}}}class B0{constructor(e,v){this.stream=v,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(g=>new fr)}getActions(e){let v=0,g=null,{parser:S}=e.p,{tokenizers:E}=S,R=S.stateSlot(e.state,3),D=e.curContext?e.curContext.hash:0,I=0;for(let V=0;V<E.length;V++){if(!(1<<V&R))continue;let Y=E[V],j=this.tokens[V];if(!(g&&!Y.fallback)&&((Y.contextual||j.start!=e.pos||j.mask!=R||j.context!=D)&&(this.updateCachedToken(j,Y,e),j.mask=R,j.context=D),j.lookAhead>j.end+25&&(I=Math.max(j.lookAhead,I)),j.value!=0)){let _=v;if(j.extended>-1&&(v=this.addActions(e,j.extended,j.end,v)),v=this.addActions(e,j.value,j.end,v),!Y.extend&&(g=j,v>_))break}}for(;this.actions.length>v;)this.actions.pop();return I&&e.setLookAhead(I),!g&&e.pos==this.stream.end&&(g=new fr,g.value=e.p.parser.eofTerm,g.start=g.end=e.pos,v=this.addActions(e,g.value,g.end,v)),this.mainToken=g,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let v=new fr,{pos:g,p:S}=e;return v.start=g,v.end=Math.min(g+1,S.stream.end),v.value=g==S.stream.end?S.parser.eofTerm:0,v}updateCachedToken(e,v,g){let S=this.stream.clipPos(g.pos);if(v.token(this.stream.reset(S,e),g),e.value>-1){let{parser:E}=g.p;for(let R=0;R<E.specialized.length;R++)if(E.specialized[R]==e.value){let D=E.specializers[R](this.stream.read(e.start,e.end),g);if(D>=0&&g.p.parser.dialect.allows(D>>1)){D&1?e.extended=D>>1:e.value=D>>1;break}}}else e.value=0,e.end=this.stream.clipPos(S+1)}putAction(e,v,g,S){for(let E=0;E<S;E+=3)if(this.actions[E]==e)return S;return this.actions[S++]=e,this.actions[S++]=v,this.actions[S++]=g,S}addActions(e,v,g,S){let{state:E}=e,{parser:R}=e.p,{data:D}=R;for(let I=0;I<2;I++)for(let V=R.stateSlot(E,I?2:1);;V+=3){if(D[V]==65535)if(D[V+1]==1)V=pi(D,V+2);else{S==0&&D[V+1]==2&&(S=this.putAction(pi(D,V+2),v,g,S));break}D[V]==v&&(S=this.putAction(pi(D,V+1),v,g,S))}return S}}class I0{constructor(e,v,g,S){this.parser=e,this.input=v,this.ranges=S,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new F0(v,S),this.tokens=new B0(e,this.stream),this.topTerm=e.top[1];let{from:E}=S[0];this.stacks=[lr.start(this,e.top[0],E)],this.fragments=g.length&&this.stream.end-E>e.bufferLength*4?new b0(g,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,v=this.minStackPos,g=this.stacks=[],S,E;if(this.bigReductionCount>300&&e.length==1){let[R]=e;for(;R.forceReduce()&&R.stack.length&&R.stack[R.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let R=0;R<e.length;R++){let D=e[R];for(;;){if(this.tokens.mainToken=null,D.pos>v)g.push(D);else{if(this.advanceStack(D,g,e))continue;{S||(S=[],E=[]),S.push(D);let I=this.tokens.getMainToken(D);E.push(I.value,I.end)}}break}}if(!g.length){let R=S&&Q0(S);if(R)return Be&&console.log("Finish with "+this.stackID(R)),this.stackToTree(R);if(this.parser.strict)throw Be&&S&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+v);this.recovering||(this.recovering=5)}if(this.recovering&&S){let R=this.stoppedAt!=null&&S[0].pos>this.stoppedAt?S[0]:this.runRecovery(S,E,g);if(R)return Be&&console.log("Force-finish "+this.stackID(R)),this.stackToTree(R.forceAll())}if(this.recovering){let R=this.recovering==1?1:this.recovering*3;if(g.length>R)for(g.sort((D,I)=>I.score-D.score);g.length>R;)g.pop();g.some(D=>D.reducePos>v)&&this.recovering--}else if(g.length>1){t:for(let R=0;R<g.length-1;R++){let D=g[R];for(let I=R+1;I<g.length;I++){let V=g[I];if(D.sameState(V)||D.buffer.length>500&&V.buffer.length>500)if((D.score-V.score||D.buffer.length-V.buffer.length)>0)g.splice(I--,1);else{g.splice(R--,1);continue t}}}g.length>12&&g.splice(12,g.length-12)}this.minStackPos=g[0].pos;for(let R=1;R<g.length;R++)g[R].pos<this.minStackPos&&(this.minStackPos=g[R].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,v,g){let S=e.pos,{parser:E}=this,R=Be?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&S>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let V=e.curContext&&e.curContext.tracker.strict,Y=V?e.curContext.hash:0;for(let j=this.fragments.nodeAt(S);j;){let _=this.parser.nodeSet.types[j.type.id]==j.type?E.getGoto(e.state,j.type.id):-1;if(_>-1&&j.length&&(!V||(j.prop(Qt.contextHash)||0)==Y))return e.useNode(j,_),Be&&console.log(R+this.stackID(e)+` (via reuse of ${E.getName(j.type.id)})`),!0;if(!(j instanceof he)||j.children.length==0||j.positions[0]>0)break;let et=j.children[0];if(et instanceof he&&j.positions[0]==0)j=et;else break}}let D=E.stateSlot(e.state,4);if(D>0)return e.reduce(D),Be&&console.log(R+this.stackID(e)+` (via always-reduce ${E.getName(D&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let I=this.tokens.getActions(e);for(let V=0;V<I.length;){let Y=I[V++],j=I[V++],_=I[V++],et=V==I.length||!g,st=et?e:e.split(),at=this.tokens.mainToken;if(st.apply(Y,j,at?at.start:st.pos,_),Be&&console.log(R+this.stackID(st)+` (via ${Y&65536?`reduce of ${E.getName(Y&65535)}`:"shift"} for ${E.getName(j)} @ ${S}${st==e?"":", split"})`),et)return!0;st.pos>S?v.push(st):g.push(st)}return!1}advanceFully(e,v){let g=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>g)return Gf(e,v),!0}}runRecovery(e,v,g){let S=null,E=!1;for(let R=0;R<e.length;R++){let D=e[R],I=v[R<<1],V=v[(R<<1)+1],Y=Be?this.stackID(D)+" -> ":"";if(D.deadEnd&&(E||(E=!0,D.restart(),Be&&console.log(Y+this.stackID(D)+" (restarted)"),this.advanceFully(D,g))))continue;let j=D.split(),_=Y;for(let et=0;j.forceReduce()&&et<10&&(Be&&console.log(_+this.stackID(j)+" (via force-reduce)"),!this.advanceFully(j,g));et++)Be&&(_=this.stackID(j)+" -> ");for(let et of D.recoverByInsert(I))Be&&console.log(Y+this.stackID(et)+" (via recover-insert)"),this.advanceFully(et,g);this.stream.end>D.pos?(V==D.pos&&(V++,I=0),D.recoverByDelete(I,V),Be&&console.log(Y+this.stackID(D)+` (via recover-delete ${this.parser.getName(I)})`),Gf(D,g)):(!S||S.score<D.score)&&(S=D)}return S}stackToTree(e){return e.close(),he.build({buffer:ur.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let v=(lo||(lo=new WeakMap)).get(e);return v||lo.set(e,v=String.fromCodePoint(this.nextStackID++)),v+e}}function Gf(O,e){for(let v=0;v<e.length;v++){let g=e[v];if(g.pos==O.pos&&g.sameState(O)){e[v].score<O.score&&(e[v]=O);return}}e.push(O)}class G0{constructor(e,v,g){this.source=e,this.flags=v,this.disabled=g}allows(e){return!this.disabled||this.disabled[e]==0}}const uo=O=>O;class N0{constructor(e){this.start=e.start,this.shift=e.shift||uo,this.reduce=e.reduce||uo,this.reuse=e.reuse||uo,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class dr extends wl{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let v=e.nodeNames.split(" ");this.minRepeatTerm=v.length;for(let D=0;D<e.repeatNodeCount;D++)v.push("");let g=Object.keys(e.topRules).map(D=>e.topRules[D][1]),S=[];for(let D=0;D<v.length;D++)S.push([]);function E(D,I,V){S[D].push([I,I.deserialize(String(V))])}if(e.nodeProps)for(let D of e.nodeProps){let I=D[0];typeof I=="string"&&(I=Qt[I]);for(let V=1;V<D.length;){let Y=D[V++];if(Y>=0)E(Y,I,D[V++]);else{let j=D[V+-Y];for(let _=-Y;_>0;_--)E(D[V++],I,j);V++}}}this.nodeSet=new ma(v.map((D,I)=>Ae.define({name:I>=this.minRepeatTerm?void 0:D,id:I,props:S[I],top:g.indexOf(I)>-1,error:I==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(I)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Tl;let R=Hs(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let D=0;D<this.specializerSpecs.length;D++)this.specialized[D]=this.specializerSpecs[D].term;this.specializers=this.specializerSpecs.map(Nf),this.states=Hs(e.states,Uint32Array),this.data=Hs(e.stateData),this.goto=Hs(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(D=>typeof D=="number"?new ls(R,D):D),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,v,g){let S=new I0(this,e,v,g);for(let E of this.wrappers)S=E(S,e,v,g);return S}getGoto(e,v,g=!1){let S=this.goto;if(v>=S[0])return-1;for(let E=S[v+1];;){let R=S[E++],D=R&1,I=S[E++];if(D&&g)return I;for(let V=E+(R>>1);E<V;E++)if(S[E]==e)return I;if(D)return-1}}hasAction(e,v){let g=this.data;for(let S=0;S<2;S++)for(let E=this.stateSlot(e,S?2:1),R;;E+=3){if((R=g[E])==65535)if(g[E+1]==1)R=g[E=pi(g,E+2)];else{if(g[E+1]==2)return pi(g,E+2);break}if(R==v||R==0)return pi(g,E+1)}return 0}stateSlot(e,v){return this.states[e*6+v]}stateFlag(e,v){return(this.stateSlot(e,0)&v)>0}validAction(e,v){return!!this.allActions(e,g=>g==v?!0:null)}allActions(e,v){let g=this.stateSlot(e,4),S=g?v(g):void 0;for(let E=this.stateSlot(e,1);S==null;E+=3){if(this.data[E]==65535)if(this.data[E+1]==1)E=pi(this.data,E+2);else break;S=v(pi(this.data,E+1))}return S}nextStates(e){let v=[];for(let g=this.stateSlot(e,1);;g+=3){if(this.data[g]==65535)if(this.data[g+1]==1)g=pi(this.data,g+2);else break;if(!(this.data[g+2]&1)){let S=this.data[g+1];v.some((E,R)=>R&1&&E==S)||v.push(this.data[g],S)}}return v}configure(e){let v=Object.assign(Object.create(dr.prototype),this);if(e.props&&(v.nodeSet=this.nodeSet.extend(...e.props)),e.top){let g=this.topRules[e.top];if(!g)throw new RangeError(`Invalid top rule name ${e.top}`);v.top=g}return e.tokenizers&&(v.tokenizers=this.tokenizers.map(g=>{let S=e.tokenizers.find(E=>E.from==g);return S?S.to:g})),e.specializers&&(v.specializers=this.specializers.slice(),v.specializerSpecs=this.specializerSpecs.map((g,S)=>{let E=e.specializers.find(D=>D.from==g.external);if(!E)return g;let R=Object.assign(Object.assign({},g),{external:E.to});return v.specializers[S]=Nf(R),R})),e.contextTracker&&(v.context=e.contextTracker),e.dialect&&(v.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(v.strict=e.strict),e.wrap&&(v.wrappers=v.wrappers.concat(e.wrap)),e.bufferLength!=null&&(v.bufferLength=e.bufferLength),v}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let v=this.dynamicPrecedences;return v==null?0:v[e]||0}parseDialect(e){let v=Object.keys(this.dialects),g=v.map(()=>!1);if(e)for(let E of e.split(" ")){let R=v.indexOf(E);R>=0&&(g[R]=!0)}let S=null;for(let E=0;E<v.length;E++)if(!g[E])for(let R=this.dialects[v[E]],D;(D=this.data[R++])!=65535;)(S||(S=new Uint8Array(this.maxTerm+1)))[D]=1;return new G0(e,g,S)}static deserialize(e){return new dr(e)}}function pi(O,e){return O[e]|O[e+1]<<16}function Q0(O){let e=null;for(let v of O){let g=v.p.stoppedAt;(v.pos==v.p.stream.end||g!=null&&v.pos>g)&&v.p.parser.stateFlag(v.state,2)&&(!e||e.score<v.score)&&(e=v)}return e}function Nf(O){if(O.external){let e=O.extend?1:0;return(v,g)=>O.external(v,g)<<1|e}return O.get}const X0=312,z0=313,Qf=1,V0=2,Y0=3,U0=4,W0=314,$0=316,Z0=317,H0=5,k0=6,j0=0,fo=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Xf=125,K0=59,co=47,J0=42,q0=43,_0=45,tx=60,ex=44,ix=63,sx=46,nx=91,rx=new N0({start:!1,shift(O,e){return e==H0||e==k0||e==$0?O:e==Z0},strict:!1}),ax=new ks((O,e)=>{let{next:v}=O;(v==Xf||v==-1||e.context)&&O.acceptToken(W0)},{contextual:!0,fallback:!0}),ox=new ks((O,e)=>{let{next:v}=O,g;fo.indexOf(v)>-1||v==co&&((g=O.peek(1))==co||g==J0)||v!=Xf&&v!=K0&&v!=-1&&!e.context&&O.acceptToken(X0)},{contextual:!0}),hx=new ks((O,e)=>{O.next==nx&&!e.context&&O.acceptToken(z0)},{contextual:!0}),lx=new ks((O,e)=>{let{next:v}=O;if(v==q0||v==_0){if(O.advance(),v==O.next){O.advance();let g=!e.context&&e.canShift(Qf);O.acceptToken(g?Qf:V0)}}else v==ix&&O.peek(1)==sx&&(O.advance(),O.advance(),(O.next<48||O.next>57)&&O.acceptToken(Y0))},{contextual:!0});function vo(O,e){return O>=65&&O<=90||O>=97&&O<=122||O==95||O>=192||!e&&O>=48&&O<=57}const ux=new ks((O,e)=>{if(O.next!=tx||!e.dialectEnabled(j0)||(O.advance(),O.next==co))return;let v=0;for(;fo.indexOf(O.next)>-1;)O.advance(),v++;if(vo(O.next,!0)){for(O.advance(),v++;vo(O.next,!1);)O.advance(),v++;for(;fo.indexOf(O.next)>-1;)O.advance(),v++;if(O.next==ex)return;for(let g=0;;g++){if(g==7){if(!vo(O.next,!0))return;break}if(O.next!="extends".charCodeAt(g))break;O.advance(),v++}}O.acceptToken(U0,-v)}),fx=Ll({"get set async static":ft.modifier,"for while do if else switch try catch finally return throw break continue default case":ft.controlKeyword,"in of await yield void typeof delete instanceof":ft.operatorKeyword,"let var const using function class extends":ft.definitionKeyword,"import export from":ft.moduleKeyword,"with debugger as new":ft.keyword,TemplateString:ft.special(ft.string),super:ft.atom,BooleanLiteral:ft.bool,this:ft.self,null:ft.null,Star:ft.modifier,VariableName:ft.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":ft.function(ft.variableName),VariableDefinition:ft.definition(ft.variableName),Label:ft.labelName,PropertyName:ft.propertyName,PrivatePropertyName:ft.special(ft.propertyName),"CallExpression/MemberExpression/PropertyName":ft.function(ft.propertyName),"FunctionDeclaration/VariableDefinition":ft.function(ft.definition(ft.variableName)),"ClassDeclaration/VariableDefinition":ft.definition(ft.className),PropertyDefinition:ft.definition(ft.propertyName),PrivatePropertyDefinition:ft.definition(ft.special(ft.propertyName)),UpdateOp:ft.updateOperator,"LineComment Hashbang":ft.lineComment,BlockComment:ft.blockComment,Number:ft.number,String:ft.string,Escape:ft.escape,ArithOp:ft.arithmeticOperator,LogicOp:ft.logicOperator,BitOp:ft.bitwiseOperator,CompareOp:ft.compareOperator,RegExp:ft.regexp,Equals:ft.definitionOperator,Arrow:ft.function(ft.punctuation),": Spread":ft.punctuation,"( )":ft.paren,"[ ]":ft.squareBracket,"{ }":ft.brace,"InterpolationStart InterpolationEnd":ft.special(ft.brace),".":ft.derefOperator,", ;":ft.separator,"@":ft.meta,TypeName:ft.typeName,TypeDefinition:ft.definition(ft.typeName),"type enum interface implements namespace module declare":ft.definitionKeyword,"abstract global Privacy readonly override":ft.modifier,"is keyof unique infer":ft.operatorKeyword,JSXAttributeValue:ft.attributeValue,JSXText:ft.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":ft.angleBracket,"JSXIdentifier JSXNameSpacedName":ft.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":ft.attributeName,"JSXBuiltin/JSXIdentifier":ft.standard(ft.tagName)}),dx={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},cx={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},vx={__proto__:null,"<":187},px=dr.deserialize({version:14,states:"$CdQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D^O.QQlO'#DdO.bQlO'#DoO%[QlO'#DwO0fQlO'#EPOOQ!0Lf'#EX'#EXO1PQ`O'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQ`O'#GpO1dQ`O'#ElO1iQ`O'#ElO3hQ!0MxO'#JnO6[Q!0MxO'#JoO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#FzO9RQ`O'#FyOOQ!0Lf'#Jo'#JoOOQ!0Lb'#Jn'#JnO9WQ`O'#GtOOQ['#K['#K[O9cQ`O'#IUO9hQ!0LrO'#IVOOQ['#J['#J[OOQ['#IZ'#IZQ`QlOOQ`QlOOO9pQ!L^O'#DsO9wQlO'#D{O:OQlO'#D}O9^Q`O'#GpO:VQMhO'#CoO:eQ`O'#EkO:pQ`O'#EvO:uQMhO'#FdO;dQ`O'#GpOOQO'#K]'#K]O;iQ`O'#K]O;wQ`O'#GxO;wQ`O'#GyO;wQ`O'#G{O9^Q`O'#HOO<nQ`O'#HRO>VQ`O'#CeO>gQ`O'#H_O>oQ`O'#HeO>oQ`O'#HgO`QlO'#HiO>oQ`O'#HkO>oQ`O'#HnO>tQ`O'#HtO>yQ!0LsO'#HzO%[QlO'#H|O?UQ!0LsO'#IOO?aQ!0LsO'#IQO9hQ!0LrO'#ISO?lQ!0MxO'#CiO@nQpO'#DiQOQ`OOO%[QlO'#D}OAUQ`O'#EQO:VQMhO'#EkOAaQ`O'#EkOAlQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Dn'#DnOOQ!0Lb'#Jr'#JrO%[QlO'#JrOOQO'#Ju'#JuOOQO'#Id'#IdOBlQpO'#EdOOQ!0Lb'#Ec'#EcOOQ!0Lb'#Jy'#JyOChQ!0MSO'#EdOCrQpO'#ETOOQO'#Jt'#JtODWQpO'#JuOEeQpO'#ETOCrQpO'#EdPErO&2DjO'#CbPOOO)CDy)CDyOOOO'#I['#I[OE}O#tO,59UOOQ!0Lh,59U,59UOOOO'#I]'#I]OF]O&jO,59UOFkQ!L^O'#D`OOOO'#I_'#I_OFrO#@ItO,59xOOQ!0Lf,59x,59xOGQQlO'#I`OGeQ`O'#JpOIdQ!fO'#JpO+}QlO'#JpOIkQ`O,5:OOJRQ`O'#EmOJ`Q`O'#KPOJkQ`O'#KOOJkQ`O'#KOOJsQ`O,5;ZOJxQ`O'#J}OOQ!0Ln,5:Z,5:ZOKPQlO,5:ZOL}Q!0MxO,5:cOMnQ`O,5:kONXQ!0LrO'#J|ON`Q`O'#J{O9WQ`O'#J{ONtQ`O'#J{ON|Q`O,5;YO! RQ`O'#J{O!#WQ!fO'#JoOOQ!0Lh'#Ci'#CiO%[QlO'#EPO!#vQ!fO,5:pOOQS'#Jv'#JvOOQO-E<f-E<fO9^Q`O,5=[O!$^Q`O,5=[O!$cQlO,5;WO!&fQMhO'#EhO!(PQ`O,5;WO!(UQlO'#DvO!(`QpO,5;aO!(hQpO,5;aO%[QlO,5;aOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bO%[QlO,5;bOOQ['#FY'#FYO!(vQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#IlO!*yQ!0LrO,5<gO%[QlO,5;bO!&fQMhO,5;bO!+hQMhO,5;bO!-YQMhO'#EZO%[QlO,5;vOOQ!0Lf,5;z,5;zO!-aQ,UO'#FiO!.^Q,UO'#KTO!-xQ,UO'#KTO!.eQ,UO'#KTOOQO'#KT'#KTO!.yQ,UO,5<ROOOW,5<_,5<_O!/[QlO'#FuOOOW'#Ik'#IkO7VO7dO,5<PO!/cQ,UO'#FwOOQ!0Lf,5<P,5<PO!0SQ$IUO'#CvOOQ!0Lh'#Cz'#CzO!0gO#@ItO'#DOO!1TQMjO,5<dO!1[Q`O,5<fO!2wQ(CWO'#GVO!3UQ`O'#GWO!3ZQ`O'#GWO!4yQ(CWO'#G[O!6OQpO'#G`OOQO'#Gk'#GkO!+oQMhO'#GjOOQO'#Gm'#GmO!+oQMhO'#GlO!6qQ$IUO'#JhOOQ!0Lh'#Jh'#JhO!6{Q`O'#JgO!7ZQ`O'#JfO!7cQ`O'#CuOOQ!0Lh'#Cx'#CxO!7kQ`O'#CzOOQ!0Lh'#DS'#DSOOQ!0Lh'#DU'#DUO1SQ`O'#DWO!+oQMhO'#F}O!+oQMhO'#GPO!7pQ`O'#GRO!7uQ`O'#GSO!3ZQ`O'#GYO!+oQMhO'#G_O!7zQ`O'#EnO!8iQ`O,5<eOOQ!0Lb'#Cr'#CrO!8qQ`O'#EoO!9kQpO'#EpOOQ!0Lb'#J}'#J}O!9rQ!0LrO'#K^O9hQ!0LrO,5=`O`QlO,5>pOOQ['#Jd'#JdOOQ[,5>q,5>qOOQ[-E<X-E<XO!;qQ!0MxO,5:_O!9fQpO,5:]O!>[Q!0MxO,5:gO%[QlO,5:gO!@rQ!0MxO,5:iOOQO,5@w,5@wO!AcQMhO,5=[O!AqQ!0LrO'#JeO9RQ`O'#JeO!BSQ!0LrO,59ZO!B_QpO,59ZO!BgQMhO,59ZO:VQMhO,59ZO!BrQ`O,5;WO!BzQ`O'#H^O!C`Q`O'#KaO%[QlO,5;|O!9fQpO,5<OO!ChQ`O,5=wO!CmQ`O,5=wO!CrQ`O,5=wO9hQ!0LrO,5=wO;wQ`O,5=gOOQO'#Cv'#CvO!DQQpO,5=dO!DYQMhO,5=eO!DeQ`O,5=gO!DjQ!bO,5=jO!DrQ`O'#K]O>tQ`O'#HTO9^Q`O'#HVO!DwQ`O'#HVO:VQMhO'#HXO!D|Q`O'#HXOOQ[,5=m,5=mO!ERQ`O'#HYO!EdQ`O'#CoO!EiQ`O,59PO!EsQ`O,59PO!GxQlO,59POOQ[,59P,59PO!HYQ!0LrO,59PO%[QlO,59PO!JeQlO'#HaOOQ['#Hb'#HbOOQ['#Hc'#HcO`QlO,5=yO!J{Q`O,5=yO`QlO,5>PO`QlO,5>RO!KQQ`O,5>TO`QlO,5>VO!KVQ`O,5>YO!K[QlO,5>`OOQ[,5>f,5>fO%[QlO,5>fO9hQ!0LrO,5>hOOQ[,5>j,5>jO# fQ`O,5>jOOQ[,5>l,5>lO# fQ`O,5>lOOQ[,5>n,5>nO#!SQpO'#D[O%[QlO'#JrO#!uQpO'#JrO##PQpO'#DjO##bQpO'#DjO#%sQlO'#DjO#%zQ`O'#JqO#&SQ`O,5:TO#&XQ`O'#EqO#&gQ`O'#KQO#&oQ`O,5;[O#&tQpO'#DjO#'RQpO'#ESOOQ!0Lf,5:l,5:lO%[QlO,5:lO#'YQ`O,5:lO>tQ`O,5;VO!B_QpO,5;VO!BgQMhO,5;VO:VQMhO,5;VO#'bQ`O,5@^O#'gQ07dO,5:pOOQO-E<b-E<bO#(mQ!0MSO,5;OOCrQpO,5:oO#(wQpO,5:oOCrQpO,5;OO!BSQ!0LrO,5:oOOQ!0Lb'#Eg'#EgOOQO,5;O,5;OO%[QlO,5;OO#)UQ!0LrO,5;OO#)aQ!0LrO,5;OO!B_QpO,5:oOOQO,5;U,5;UO#)oQ!0LrO,5;OPOOO'#IY'#IYP#*TO&2DjO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ!0Lh1G.p1G.pOOOO-E<Z-E<ZOOOO,59z,59zO#*`Q!bO,59zOOOO-E<]-E<]OOQ!0Lf1G/d1G/dO#*eQ!fO,5>zO+}QlO,5>zOOQO,5?Q,5?QO#*oQlO'#I`OOQO-E<^-E<^O#*|Q`O,5@[O#+UQ!fO,5@[O#+]Q`O,5@jOOQ!0Lf1G/j1G/jO%[QlO,5@kO#+eQ`O'#IfOOQO-E<d-E<dO#+]Q`O,5@jOOQ!0Lb1G0u1G0uOOQ!0Ln1G/u1G/uOOQ!0Ln1G0V1G0VO%[QlO,5@hO#+yQ!0LrO,5@hO#,[Q!0LrO,5@hO#,cQ`O,5@gO9WQ`O,5@gO#,kQ`O,5@gO#,yQ`O'#IiO#,cQ`O,5@gOOQ!0Lb1G0t1G0tO!(`QpO,5:rO!(kQpO,5:rOOQS,5:t,5:tO#-kQdO,5:tO#-sQMhO1G2vO9^Q`O1G2vOOQ!0Lf1G0r1G0rO#.RQ!0MxO1G0rO#/WQ!0MvO,5;SOOQ!0Lh'#GU'#GUO#/tQ!0MzO'#JhO!$cQlO1G0rO#2PQ!fO'#JsO%[QlO'#JsO#2ZQ`O,5:bOOQ!0Lh'#D['#D[OOQ!0Lf1G0{1G0{O%[QlO1G0{OOQ!0Lf1G1e1G1eO#2`Q`O1G0{O#4tQ!0MxO1G0|O#4{Q!0MxO1G0|O#7cQ!0MxO1G0|O#7jQ!0MxO1G0|O#:QQ!0MxO1G0|O#<hQ!0MxO1G0|O#<oQ!0MxO1G0|O#<vQ!0MxO1G0|O#?^Q!0MxO1G0|O#?eQ!0MxO1G0|O#ArQ?MtO'#CiO#CmQ?MtO1G1_O#CtQ?MtO'#JoO#DXQ!0MxO,5?WOOQ!0Lb-E<j-E<jO#FfQ!0MxO1G0|O#GcQ!0MzO1G0|OOQ!0Lf1G0|1G0|O#HfQMjO'#JxO#HpQ`O,5:uO#HuQ!0MxO1G1bO#IiQ,UO,5<VO#IqQ,UO,5<WO#IyQ,UO'#FnO#JbQ`O'#FmOOQO'#KU'#KUOOQO'#Ij'#IjO#JgQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#JxQ?MtO'#JnO#KSQ`O,5<aO!(vQlO,5<aOOOW-E<i-E<iOOQ!0Lf1G1k1G1kO#KXQpO'#KTOOQ!0Lf,5<c,5<cO#KaQpO,5<cO#KfQMhO'#DQOOOO'#I^'#I^O#KmO#@ItO,59jOOQ!0Lh,59j,59jO%[QlO1G2OO!7uQ`O'#InO#KxQ`O,5<xOOQ!0Lh,5<u,5<uO!+oQMhO'#IqO#LfQMjO,5=UO!+oQMhO'#IsO#MXQMjO,5=WO!&fQMhO,5=YOOQO1G2Q1G2QO#McQ!dO'#CrO#MvQ(CWO'#EoO#N{QpO'#G`O$ cQ!dO,5<qO$ jQ`O'#KXO9WQ`O'#KXO$ xQ`O,5<sO!+oQMhO,5<rO$ }Q`O'#GXO$!`Q`O,5<rO$!eQ!dO'#GUO$!rQ!dO'#KYO$!|Q`O'#KYO!&fQMhO'#KYO$#RQ`O,5<vO$#WQlO'#JrO$#bQpO'#GaO##bQpO'#GaO$#sQ`O'#GeO!3ZQ`O'#GhO$#xQ!0LrO'#IpO$$TQpO,5<zOOQ!0Lp,5<z,5<zO$$[QpO'#GaO$$iQpO'#GbO$$zQpO'#GbO$%PQMjO,5=UO$%aQMjO,5=WOOQ!0Lh,5=Z,5=ZO!+oQMhO,5@RO!+oQMhO,5@RO$%qQ`O'#IuO$%|Q`O,5@QO$&UQ`O,59aOOQ!0Lh,59f,59fO$&{Q$IYO,59rOOQ!0Lh'#Jl'#JlO$'nQMjO,5<iO$(aQMjO,5<kO@fQ`O,5<mOOQ!0Lh,5<n,5<nO$(kQ`O,5<tO$(pQMjO,5<yO$)QQ`O'#J{O!$cQlO1G2PO$)VQ`O1G2PO9WQ`O'#KOO9WQ`O'#EqO%[QlO'#EqO9WQ`O'#IwO$)[Q!0LrO,5@xOOQ[1G2z1G2zOOQ[1G4[1G4[OOQ!0Lf1G/y1G/yOOQ!0Lf1G/w1G/wO$+^Q!0MxO1G0ROOQ[1G2v1G2vO!&fQMhO1G2vO%[QlO1G2vO#-vQ`O1G2vO$-bQMhO'#EhOOQ!0Lb,5@P,5@PO$-lQ!0LrO,5@POOQ[1G.u1G.uO!BSQ!0LrO1G.uO!B_QpO1G.uO!BgQMhO1G.uO$-}Q`O1G0rO$.SQ`O'#CiO$._Q`O'#KbO$.gQ`O,5=xO$.lQ`O'#KbO$.qQ`O'#KbO$/PQ`O'#I}O$/_Q`O,5@{O$/gQ!fO1G1hOOQ!0Lf1G1j1G1jO9^Q`O1G3cO@fQ`O1G3cO$/nQ`O1G3cO$/sQ`O1G3cOOQ[1G3c1G3cO!DeQ`O1G3RO!&fQMhO1G3OO$/xQ`O1G3OOOQ[1G3P1G3PO!&fQMhO1G3PO$/}Q`O1G3PO$0VQpO'#G}OOQ[1G3R1G3RO!5yQpO'#IyO!DjQ!bO1G3UOOQ[1G3U1G3UOOQ[,5=o,5=oO$0_QMhO,5=qO9^Q`O,5=qO$#sQ`O,5=sO9RQ`O,5=sO!B_QpO,5=sO!BgQMhO,5=sO:VQMhO,5=sO$0mQ`O'#K`O$0xQ`O,5=tOOQ[1G.k1G.kO$0}Q!0LrO1G.kO@fQ`O1G.kO$1YQ`O1G.kO9hQ!0LrO1G.kO$3bQ!fO,5@}O$3oQ`O,5@}O9WQ`O,5@}O$3zQlO,5={O$4RQ`O,5={OOQ[1G3e1G3eO`QlO1G3eOOQ[1G3k1G3kOOQ[1G3m1G3mO>oQ`O1G3oO$4WQlO1G3qO$8[QlO'#HpOOQ[1G3t1G3tO$8iQ`O'#HvO>tQ`O'#HxOOQ[1G3z1G3zO$8qQlO1G3zO9hQ!0LrO1G4QOOQ[1G4S1G4SOOQ!0Lb'#G]'#G]O9hQ!0LrO1G4UO9hQ!0LrO1G4WO$<xQ`O,5@^O!(vQlO,5;]O9WQ`O,5;]O>tQ`O,5:UO!(vQlO,5:UO!B_QpO,5:UO$<}Q?MtO,5:UOOQO,5;],5;]O$=XQpO'#IaO$=oQ`O,5@]OOQ!0Lf1G/o1G/oO$=wQpO'#IgO$>RQ`O,5@lOOQ!0Lb1G0v1G0vO##bQpO,5:UOOQO'#Ic'#IcO$>ZQpO,5:nOOQ!0Ln,5:n,5:nO#']Q`O1G0WOOQ!0Lf1G0W1G0WO%[QlO1G0WOOQ!0Lf1G0q1G0qO>tQ`O1G0qO!B_QpO1G0qO!BgQMhO1G0qOOQ!0Lb1G5x1G5xO!BSQ!0LrO1G0ZOOQO1G0j1G0jO%[QlO1G0jO$>bQ!0LrO1G0jO$>mQ!0LrO1G0jO!B_QpO1G0ZOCrQpO1G0ZO$>{Q!0LrO1G0jOOQO1G0Z1G0ZO$?aQ!0MxO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$?kQ!bO,5<gO$?sQ!fO1G4fOOQO1G4l1G4lO%[QlO,5>zO$?}Q`O1G5vO$@VQ`O1G6UO$@_Q!fO1G6VO9WQ`O,5?QO$@iQ!0MxO1G6SO%[QlO1G6SO$@yQ!0LrO1G6SO$A[Q`O1G6RO$A[Q`O1G6RO9WQ`O1G6RO$AdQ`O,5?TO9WQ`O,5?TOOQO,5?T,5?TO$AxQ`O,5?TO$)QQ`O,5?TOOQO-E<g-E<gOOQS1G0^1G0^OOQS1G0`1G0`O#-nQ`O1G0`OOQ[7+(b7+(bO!&fQMhO7+(bO%[QlO7+(bO$BWQ`O7+(bO$BcQMhO7+(bO$BqQ!0MzO,5=UO$D|Q!0MzO,5=WO$GXQ!0MzO,5=UO$IjQ!0MzO,5=WO$K{Q!0MzO,59rO$NQQ!0MzO,5<iO%!]Q!0MzO,5<kO%$hQ!0MzO,5<yOOQ!0Lf7+&^7+&^O%&yQ!0MxO7+&^O%'mQlO'#IbO%'zQ`O,5@_O%(SQ!fO,5@_OOQ!0Lf1G/|1G/|O%(^Q`O7+&gOOQ!0Lf7+&g7+&gO%(cQ?MtO,5:cO%[QlO7+&yO%(mQ?MtO,5:_O%(zQ?MtO,5:gO%)UQ?MtO,5:iO%)`QMhO'#IeO%)jQ`O,5@dOOQ!0Lh1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%)rQ!jO,5<YO!(vQlO,5<XOOQO-E<h-E<hOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%)}Q`O1G1{OOQ!0Lf1G1}1G1}OOOO,59l,59lO%*SQ!dO,59lOOOO-E<[-E<[OOQ!0Lh1G/U1G/UO%*ZQ!0MxO7+'jOOQ!0Lh,5?Y,5?YO%*}QMhO1G2dP%+UQ`O'#InPOQ!0Lh-E<l-E<lO%+rQMjO,5?]OOQ!0Lh-E<o-E<oO%,eQMjO,5?_OOQ!0Lh-E<q-E<qO%,oQ!dO1G2tO%,vQ!dO'#CrO%-^QMhO'#KOO$#WQlO'#JrOOQ!0Lh1G2]1G2]O%-eQ`O'#ImO%-yQ`O,5@sO%-yQ`O,5@sO%.RQ`O,5@sO%.^Q`O,5@sOOQO1G2_1G2_O%.lQMjO1G2^O!+oQMhO1G2^O%.|Q(CWO'#IoO%/ZQ`O,5@tO!&fQMhO,5@tO%/cQ!dO,5@tOOQ!0Lh1G2b1G2bO%1sQ!fO'#CiO%1}Q`O,5<}OOQ!0Lb,5<{,5<{O%2VQpO,5<{OOQ!0Lb,5<|,5<|OCcQ`O,5<{O%2bQpO,5<{OOQ!0Lb,5=P,5=PO$)QQ`O,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ!0Lp1G2f1G2fO##bQpO,5<{O$#WQlO,5<}O%2pQ`O,5<|O%2{QpO,5<|O!+oQMhO'#IqO%3uQMjO1G2pO!+oQMhO'#IsO%4hQMjO1G2rO%4rQMjO1G5mO%4|QMjO1G5mOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9fQpO,59tO%[QlO,59tOOQ!0Lh,5<h,5<hO%5ZQ`O1G2XO!+oQMhO1G2`O%5`Q!0MxO7+'kOOQ!0Lf7+'k7+'kO!$cQlO7+'kO%6SQ`O,5;]OOQ!0Lb,5?c,5?cOOQ!0Lb-E<u-E<uO%6XQ!dO'#KZO#']Q`O7+(bO4UQ!fO7+(bO$BZQ`O7+(bO%6cQ!0MvO'#CiO%6vQ!0MvO,5=QO%7hQ`O,5=QOOQ!0Lb1G5k1G5kOOQ[7+$a7+$aO!BSQ!0LrO7+$aO!B_QpO7+$aO!$cQlO7+&^O%7mQ`O'#I|O%8UQ`O,5@|OOQO1G3d1G3dO9^Q`O,5@|O%8UQ`O,5@|O%8^Q`O,5@|OOQO,5?i,5?iOOQO-E<{-E<{OOQ!0Lf7+'S7+'SO%8cQ`O7+(}O9hQ!0LrO7+(}O9^Q`O7+(}O@fQ`O7+(}OOQ[7+(m7+(mO%8hQ!0MvO7+(jO!&fQMhO7+(jO!D`Q`O7+(kOOQ[7+(k7+(kO!&fQMhO7+(kO%8rQ`O'#K_O%8}Q`O,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQ[7+(p7+(pO%:aQpO'#HWOOQ[1G3]1G3]O!&fQMhO1G3]O%[QlO1G3]O%:hQ`O1G3]O%:sQMhO1G3]O9hQ!0LrO1G3_O$#sQ`O1G3_O9RQ`O1G3_O!B_QpO1G3_O!BgQMhO1G3_O%;RQ`O'#I{O%;gQ`O,5@zO%;oQpO,5@zOOQ!0Lb1G3`1G3`OOQ[7+$V7+$VO@fQ`O7+$VO9hQ!0LrO7+$VO%;zQ`O7+$VO%[QlO1G6iO%[QlO1G6jO%<PQ!0LrO1G6iO%<ZQlO1G3gO%<bQ`O1G3gO%<gQlO1G3gOOQ[7+)P7+)PO9hQ!0LrO7+)ZO`QlO7+)]OOQ['#Ke'#KeOOQ['#JO'#JOO%<nQlO,5>[OOQ[,5>[,5>[O%[QlO'#HqO%<{Q`O'#HsOOQ[,5>b,5>bO9WQ`O,5>bOOQ[,5>d,5>dOOQ[7+)f7+)fOOQ[7+)l7+)lOOQ[7+)p7+)pOOQ[7+)r7+)rO%=QQpO1G5xO%=lQ?MtO1G0wO%=vQ`O1G0wOOQO1G/p1G/pO%>RQ?MtO1G/pO>tQ`O1G/pO!(vQlO'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!B_QpO1G/pOOQO-E<a-E<aOOQ!0Ln1G0Y1G0YOOQ!0Lf7+%r7+%rO#']Q`O7+%rOOQ!0Lf7+&]7+&]O>tQ`O7+&]O!B_QpO7+&]OOQO7+%u7+%uO$?aQ!0MxO7+&UOOQO7+&U7+&UO%[QlO7+&UO%>]Q!0LrO7+&UO!BSQ!0LrO7+%uO!B_QpO7+%uO%>hQ!0LrO7+&UO%>vQ!0MxO7++nO%[QlO7++nO%?WQ`O7++mO%?WQ`O7++mOOQO1G4o1G4oO9WQ`O1G4oO%?`Q`O1G4oOOQS7+%z7+%zO#']Q`O<<K|O4UQ!fO<<K|O%?nQ`O<<K|OOQ[<<K|<<K|O!&fQMhO<<K|O%[QlO<<K|O%?vQ`O<<K|O%@RQ!0MzO,5?]O%B^Q!0MzO,5?_O%DiQ!0MzO1G2^O%FzQ!0MzO1G2pO%IVQ!0MzO1G2rO%KbQ!fO,5>|O%[QlO,5>|OOQO-E<`-E<`O%KlQ`O1G5yOOQ!0Lf<<JR<<JRO%KtQ?MtO1G0rO%M{Q?MtO1G0|O%NSQ?MtO1G0|O&!TQ?MtO1G0|O&![Q?MtO1G0|O&$]Q?MtO1G0|O&&^Q?MtO1G0|O&&eQ?MtO1G0|O&&lQ?MtO1G0|O&(mQ?MtO1G0|O&(tQ?MtO1G0|O&({Q!0MxO<<JeO&*sQ?MtO1G0|O&+pQ?MvO1G0|O&,sQ?MvO'#JhO&.yQ?MtO1G1bO&/WQ?MtO1G0RO&/bQMjO,5?POOQO-E<c-E<cO!(vQlO'#FpOOQO'#KV'#KVOOQO1G1t1G1tO&/lQ`O1G1sO&/qQ?MtO,5?WOOOW7+'g7+'gOOOO1G/W1G/WO&/{Q!dO1G4tOOQ!0Lh7+(O7+(OP!&fQMhO,5?YO!+oQMhO7+(`O&0SQ`O,5?XO9WQ`O,5?XOOQO-E<k-E<kO&0bQ`O1G6_O&0bQ`O1G6_O&0jQ`O1G6_O&0uQMjO7+'xO&1VQ!dO,5?ZO&1aQ`O,5?ZO!&fQMhO,5?ZOOQO-E<m-E<mO&1fQ!dO1G6`O&1pQ`O1G6`O&1xQ`O1G2iO!&fQMhO1G2iOOQ!0Lb1G2g1G2gOOQ!0Lb1G2h1G2hO%2VQpO1G2gO!B_QpO1G2gOCcQ`O1G2gOOQ!0Lb1G2n1G2nO&1}QpO1G2gO&2]Q`O1G2iO$)QQ`O1G2hOCcQ`O1G2hO$#WQlO1G2iO&2eQ`O1G2hO&3XQMjO,5?]OOQ!0Lh-E<p-E<pO&3zQMjO,5?_OOQ!0Lh-E<r-E<rO!+oQMhO7++XOOQ!0Lh1G/`1G/`O&4UQ`O1G/`OOQ!0Lh7+'s7+'sO&4ZQMjO7+'zO&4kQ!0MxO<<KVOOQ!0Lf<<KV<<KVO&5_Q`O1G0wO!&fQMhO'#IvO&5dQ`O,5@uO&7fQ!fO<<K|O!&fQMhO1G2lOOQ[<<G{<<G{O!BSQ!0LrO<<G{O&7mQ!0MxO<<IxOOQ!0Lf<<Ix<<IxOOQO,5?h,5?hO&8aQ`O,5?hO&8fQ`O,5?hOOQO-E<z-E<zO&8tQ`O1G6hO&8tQ`O1G6hO9^Q`O1G6hO@fQ`O<<LiOOQ[<<Li<<LiO&8|Q`O<<LiO9hQ!0LrO<<LiOOQ[<<LU<<LUO%8hQ!0MvO<<LUOOQ[<<LV<<LVO!D`Q`O<<LVO&9RQpO'#IxO&9^Q`O,5@yO!(vQlO,5@yOOQ[1G3T1G3TOOQO'#Iz'#IzO9hQ!0LrO'#IzO&9fQpO,5=rOOQ[,5=r,5=rO&9mQpO'#EdO&9tQpO'#GcO&9yQ`O7+(wO&:OQ`O7+(wOOQ[7+(w7+(wO!&fQMhO7+(wO%[QlO7+(wO&:WQ`O7+(wOOQ[7+(y7+(yO9hQ!0LrO7+(yO$#sQ`O7+(yO9RQ`O7+(yO!B_QpO7+(yO&:cQ`O,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&:nQ`O1G6fO9hQ!0LrO<<GqOOQ[<<Gq<<GqO@fQ`O<<GqO&:vQ`O7+,TO&:{Q`O7+,UO%[QlO7+,TO%[QlO7+,UOOQ[7+)R7+)RO&;QQ`O7+)RO&;VQlO7+)RO&;^Q`O7+)ROOQ[<<Lu<<LuOOQ[<<Lw<<LwOOQ[-E<|-E<|OOQ[1G3v1G3vO&;cQ`O,5>]OOQ[,5>_,5>_O&;hQ`O1G3|O9WQ`O7+&cO!(vQlO7+&cOOQO7+%[7+%[O&;mQ?MtO1G6VO>tQ`O7+%[OOQ!0Lf<<I^<<I^OOQ!0Lf<<Iw<<IwO>tQ`O<<IwOOQO<<Ip<<IpO$?aQ!0MxO<<IpO%[QlO<<IpOOQO<<Ia<<IaO!BSQ!0LrO<<IaO&;wQ!0LrO<<IpO&<SQ!0MxO<= YO&<dQ`O<= XOOQO7+*Z7+*ZO9WQ`O7+*ZOOQ[ANAhANAhO&<lQ!fOANAhO!&fQMhOANAhO#']Q`OANAhO4UQ!fOANAhO&<sQ`OANAhO%[QlOANAhO&<{Q!0MzO7+'xO&?^Q!0MzO,5?]O&AiQ!0MzO,5?_O&CtQ!0MzO7+'zO&FVQ!fO1G4hO&FaQ?MtO7+&^O&HeQ?MvO,5=UO&JlQ?MvO,5=WO&J|Q?MvO,5=UO&K^Q?MvO,5=WO&KnQ?MvO,59rO&MtQ?MvO,5<iO' wQ?MvO,5<kO'$]Q?MvO,5<yO'&RQ?MtO7+'jO'&`Q?MtO7+'kO'&mQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*`7+*`O'&rQMjO<<KzOOQO1G4s1G4sO'&yQ`O1G4sO''UQ`O1G4sO''dQ`O7++yO''dQ`O7++yO!&fQMhO1G4uO''lQ!dO1G4uO''vQ`O7++zO'(OQ`O7+(TO'(ZQ!dO7+(TOOQ!0Lb7+(R7+(ROOQ!0Lb7+(S7+(SO!B_QpO7+(ROCcQ`O7+(RO'(eQ`O7+(TO!&fQMhO7+(TO$)QQ`O7+(SO'(jQ`O7+(TOCcQ`O7+(SO'(rQMjO<<NsOOQ!0Lh7+$z7+$zO'(|Q!dO,5?bOOQO-E<t-E<tO')WQ!0MvO7+(WOOQ[AN=gAN=gO9^Q`O1G5SOOQO1G5S1G5SO')hQ`O1G5SO')mQ`O7+,SO')mQ`O7+,SO9hQ!0LrOANBTO@fQ`OANBTOOQ[ANBTANBTOOQ[ANApANApOOQ[ANAqANAqO')uQ`O,5?dOOQO-E<v-E<vO'*QQ?MtO1G6eOOQO,5?f,5?fOOQO-E<x-E<xOOQ[1G3^1G3^O'*[Q`O,5<}OOQ[<<Lc<<LcO!&fQMhO<<LcO&9yQ`O<<LcO'*aQ`O<<LcO%[QlO<<LcOOQ[<<Le<<LeO9hQ!0LrO<<LeO$#sQ`O<<LeO9RQ`O<<LeO'*iQpO1G5RO'*tQ`O7+,QOOQ[AN=]AN=]O9hQ!0LrOAN=]OOQ[<= o<= oOOQ[<= p<= pO'*|Q`O<= oO'+RQ`O<= pOOQ[<<Lm<<LmO'+WQ`O<<LmO'+]QlO<<LmOOQ[1G3w1G3wO>tQ`O7+)hO'+dQ`O<<I}O'+oQ?MtO<<I}OOQO<<Hv<<HvOOQ!0LfAN?cAN?cOOQOAN?[AN?[O$?aQ!0MxOAN?[OOQOAN>{AN>{O%[QlOAN?[OOQO<<Mu<<MuOOQ[G27SG27SO!&fQMhOG27SO#']Q`OG27SO'+yQ!fOG27SO4UQ!fOG27SO',QQ`OG27SO',YQ?MtO<<JeO',gQ?MvO1G2^O'.]Q?MvO,5?]O'0`Q?MvO,5?_O'2cQ?MvO1G2pO'4fQ?MvO1G2rO'6iQ?MtO<<KVO'6vQ?MtO<<IxOOQO1G1v1G1vO!+oQMhOANAfOOQO7+*_7+*_O'7TQ`O7+*_O'7`Q`O<= eO'7hQ!dO7+*aOOQ!0Lb<<Ko<<KoO$)QQ`O<<KoOCcQ`O<<KoO'7rQ`O<<KoO!&fQMhO<<KoOOQ!0Lb<<Km<<KmO!B_QpO<<KmO'7}Q!dO<<KoOOQ!0Lb<<Kn<<KnO'8XQ`O<<KoO!&fQMhO<<KoO$)QQ`O<<KnOOQO7+*n7+*nO9^Q`O7+*nO'8^Q`O<= nOOQ[G27oG27oO9hQ!0LrOG27oO!(vQlO1G5OO'8fQ`O7+,PO'8nQ`O1G2iO&9yQ`OANA}OOQ[ANA}ANA}O!&fQMhOANA}O'8sQ`OANA}OOQ[ANBPANBPO9hQ!0LrOANBPO$#sQ`OANBPOOQO'#H['#H[OOQO7+*m7+*mOOQ[G22wG22wOOQ[ANEZANEZOOQ[ANE[ANE[OOQ[ANBXANBXO'8{Q`OANBXOOQ[<<MS<<MSO!(vQlOAN?iOOQOG24vG24vO$?aQ!0MxOG24vO#']Q`OLD,nOOQ[LD,nLD,nO!&fQMhOLD,nO'9QQ!fOLD,nO'9XQ?MvO7+'xO':}Q?MvO,5?]O'=QQ?MvO,5?_O'?TQ?MvO7+'zO'@yQMjOG27QOOQO<<My<<MyOOQ!0LbANAZANAZO$)QQ`OANAZOCcQ`OANAZO'AZQ!dOANAZOOQ!0LbANAXANAXO'AbQ`OANAZO!&fQMhOANAZO'AmQ!dOANAZOOQ!0LbANAYANAYOOQO<<NY<<NYOOQ[LD-ZLD-ZO'AwQ?MtO7+*jOOQO'#Gd'#GdOOQ[G27iG27iO&9yQ`OG27iO!&fQMhOG27iOOQ[G27kG27kO9hQ!0LrOG27kOOQ[G27sG27sO'BRQ?MtOG25TOOQOLD*bLD*bOOQ[!$(!Y!$(!YO#']Q`O!$(!YO!&fQMhO!$(!YO'B]Q!0MzOG27QOOQ!0LbG26uG26uO$)QQ`OG26uO'DnQ`OG26uOCcQ`OG26uO'DyQ!dOG26uO!&fQMhOG26uOOQ[LD-TLD-TO&9yQ`OLD-TOOQ[LD-VLD-VOOQ[!)9Et!)9EtO#']Q`O!)9EtOOQ!0LbLD,aLD,aO$)QQ`OLD,aOCcQ`OLD,aO'EQQ`OLD,aO'E]Q!dOLD,aOOQ[!$(!o!$(!oOOQ[!.K;`!.K;`O'EdQ?MvOG27QOOQ!0Lb!$( {!$( {O$)QQ`O!$( {OCcQ`O!$( {O'GYQ`O!$( {OOQ!0Lb!)9Eg!)9EgO$)QQ`O!)9EgOCcQ`O!)9EgOOQ!0Lb!.K;R!.K;RO$)QQ`O!.K;ROOQ!0Lb!4/0m!4/0mO!(vQlO'#DwO1PQ`O'#EUO'GeQ!fO'#JnO'GlQ!L^O'#DsO'GsQlO'#D{O'GzQ!fO'#CiO'JbQ!fO'#CiO!(vQlO'#D}O'JrQlO,5;WO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO,5;bO!(vQlO'#IlO'LuQ`O,5<gO!(vQlO,5;bO'L}QMhO,5;bO'NhQMhO,5;bO!(vQlO,5;vO!&fQMhO'#GjO'L}QMhO'#GjO!&fQMhO'#GlO'L}QMhO'#GlO1SQ`O'#DWO1SQ`O'#DWO!&fQMhO'#F}O'L}QMhO'#F}O!&fQMhO'#GPO'L}QMhO'#GPO!&fQMhO'#G_O'L}QMhO'#G_O!(vQlO,5:gO'NoQpO'#D[O'NyQpO'#JrO!(vQlO,5@kO'JrQlO1G0rO( TQ?MtO'#CiO!(vQlO1G2OO!&fQMhO'#IqO'L}QMhO'#IqO!&fQMhO'#IsO'L}QMhO'#IsO( _Q!dO'#CrO!&fQMhO,5<rO'L}QMhO,5<rO'JrQlO1G2PO!(vQlO7+&yO!&fQMhO1G2^O'L}QMhO1G2^O!&fQMhO'#IqO'L}QMhO'#IqO!&fQMhO'#IsO'L}QMhO'#IsO!&fQMhO1G2`O'L}QMhO1G2`O'JrQlO7+'kO'JrQlO7+&^O!&fQMhOANAfO'L}QMhOANAfO( rQ`O'#ElO( wQ`O'#ElO(!PQ`O'#F[O(!UQ`O'#EvO(!ZQ`O'#KPO(!fQ`O'#J}O(!qQ`O,5;WO(!vQMjO,5<dO(!}Q`O'#GWO(#SQ`O'#GWO(#XQ`O,5<eO(#aQ`O,5;WO(#iQ?MtO1G1_O(#pQ`O,5<rO(#uQ`O,5<rO(#zQ`O,5<tO($PQ`O,5<tO($UQ`O1G2PO($ZQ`O1G0rO($`QMjO<<KzO($gQMjO<<KzO7eQMhO'#FzO9RQ`O'#FyOAaQ`O'#EkO!(vQlO,5;sO!3ZQ`O'#GWO!3ZQ`O'#GWO!3ZQ`O'#GYO!3ZQ`O'#GYO!+oQMhO7+(`O!+oQMhO7+(`O%,oQ!dO1G2tO%,oQ!dO1G2tO!&fQMhO,5=YO!&fQMhO,5=Y",stateData:"(%k~O'xOS'yOSTOS'zRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(PSO(RTO(UUO(]VO(k[O(ziO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(P!dO(RTO(UUO(]VO(k[O(ziO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y;kO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(Q!lO(RTO(UUO(a!mO(k!sO~O'z!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'v]X(]]X(n]X(u]X(v]X~O!d%PX~P(qO_!}O(R#PO(S!}O(T#PO~O_#QO(T#PO(U#PO(V#QO~Ou#SO!R#TO(^#TO(_#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(P;oO(RTO(UUO(]VO(k[O(ziO~O!X#ZO!Y#WO!V(dP!V(rP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(RTO(UUO(]VO(k[O(ziO~Om#mO!X#iO!y]O#f#lO#g#iO(P;pO!h(oP~P.iO!i#oO(P#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y$_O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO(]VO(n$YO(u#|O(v#}O~Oa(bX'v(bX's(bX!h(bX!V(bX![(bX%f(bX!d(bX~P1qO#P$dO#]$eO$P$eOP(cXR(cX[(cXo(cX}(cX!P(cX!Y(cX!i(cX!m(cX#O(cX#k(cX#l(cX#m(cX#n(cX#o(cX#p(cX#q(cX#r(cX#s(cX#u(cX#w(cX#y(cX#z(cX(](cX(n(cX(u(cX(v(cX![(cX%f(cX~Oa(cX'v(cX's(cX!V(cX!h(cXs(cX!d(cX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(P$sO(RTO(UUO(]$uO(u$}O(v%POg(YP~O!i%cO~O!P%fO![%gO(P%eO~O!d%kO~Oa%lO'v%lO~O}%pO~P%[O(Q!lO~P%[O%k%tO~P%[Oh%VO!i%cO(P%eO(Q!lO~Oe%{O!i%cO(P%eO~O#s$RO~O}&QO![%}O!i&PO%g&TO(P%eO(Q!lO(RTO(UUO`)TP~O!u#sO~O%p&VO!P)PX![)PX(P)PX~O(P&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(Q!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'v%lO~Oa%lO't&{O'v%lO~Oa%lO't&}O'v%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(Q!lO(RTO(UUO~Op'RO!P'QO!X'UO(a'PO!Z(eP!Z(tP~P@YOk'_O![']O(P%eO~Oe'dO!i%cO(P%eO~O}&QO!i&PO~Op!nO!P!oO!y;kO#Q!pO#R!pO#T!pO#U!pO(Q!lO(RTO(UUO(a!mO(k!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%VO!d#vO!i%cO'v%lO(n'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(RTO(UUO(a!mO(k!sO~O![XOp(iX!P(iX!_(iX!`(iX!a(iX!y(iX#Q(iX#R(iX#S(iX#T(iX#U(iX#X(iX#Y(iX(Q(iX(R(iX(U(iX(a(iX(k(iX~O!`'iO!a'iO(Q!lO~PCrO'{'uO'|'uO'}'wO~O_!}O(R'yO(S!}O(T'yO~O_#QO(T'yO(U'yO(V#QO~Os'{O~P%[Ou#SO!R#TO(^#TO(_(OO~O!X(QO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(SO!V(dX~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y(SO!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO(]VO(n$YO(u#|O(v#}O~O!V(dX~PGmO!V(XO~O!V(qX!Y(qX!d(qX!h(qX(n(qX~O#](qX#h#aX!Z(qX~PIpO#](YO!V(sX!Y(sX~O!Y(ZO!V(rX~O!V(^O~O#]$eO~PIpO!Z(_O~P`OR#zO}#yO!P#{O!i#xO(]VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(n!ka(u!ka(v!ka~Oa!ka'v!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKWO!h(`O~O!d#vO#](aO(n'mO!Y(pXa(pX'v(pX~O!h(pX~PMsO!P%fO![%gO!y]O#f(fO#g(eO(P%eO~O!Y(gO!h(oX~O!h(iO~O!P%fO![%gO#g(eO(P%eO~OP(cXR(cX[(cXo(cX}(cX!P(cX!Y(cX!i(cX!m(cX#O(cX#k(cX#l(cX#m(cX#n(cX#o(cX#p(cX#q(cX#r(cX#s(cX#u(cX#w(cX#y(cX#z(cX(](cX(n(cX(u(cX(v(cX~O!d#vO!h(cX~P! aOR(kO}(jO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(P!xa~P!#bO!u(oO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(P!dO(RTO(UUO(]VO(k[O(ziO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<XO!P${O![$|O!f=jO!i$xO#g<_O$V%_O$r<ZO$t<]O$w%`O(P(sO(RTO(UUO(]$uO(u$}O(v%PO~O#h(uO~O!X(wO!h(gP~P%[O(a(yO(k[O~O!P({O!i#xO(a(yO(k[O~OP;jOQ;jOSfOd=fOe!iOmkOo;jOpkOqkOwkOy;jO{;jO!PWO!TkO!UkO![!eO!f;mO!iZO!l;jO!m;jO!n;jO!p;nO!r;qO!u!hO$V!kO(P)YO(RTO(UUO(]VO(k[O(z=dO~O!Y$_Oa$oa'v$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)aO~P!&fOh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(P(sO(RTO(UUO(]$uO(u$}O(v%PO~Og(lP~P!+oO})fO!d)eO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)eO![(wX$Y(wX$[(wX$^(wX$e(wX~O})fO~P!-xO})fO![(wX$Y(wX$[(wX$^(wX$e(wX~O![)hO$Y)lO$[)gO$^)gO$e)mO~O!X)pO~P!(vO$[$hO$^$gO$e)tO~Ok$xX}$xX#P$xX'u$xX(u$xX(v$xX~OgjXg$xXkjX!YjX#]jX~P!/nOu)vO(^)wO(_)yO~Ok*SO}){O'u)|O(u$}O(v%PO~Og)zO~P!0rOg*TO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<XO!P*VO![*WO!f=jO!i$xO#g<_O$V%_O$r<ZO$t<]O$w%`O(RTO(UUO(]$uO(u$}O(v%PO~O!X*ZO(P*UO!h({P~P!1aO#h*]O~O!i*^O~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<XO!P${O![$|O!f=jO!i$xO#g<_O$V%_O$r<ZO$t<]O$w%`O(P*`O(RTO(UUO(]$uO(u$}O(v%PO~O!X*cO!V(|P~P!3`Oo*oOp!nO!P*eO!_*mO!`*gO!a*gO!i*^O#X*nO%]*iO(Q!lO(RTO(UUO(a!mO~O!Z*lO~P!5TO#P$dOk([X}([X'u([X(u([X(v([X!Y([X#]([X~Og([X#}([X~P!6VOk*tO#]*sOg(ZX!Y(ZX~O!Y*uOg(YX~O(P&WOg(YP~Op*xO~O!i*}O~O(P(sO~Om+RO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(P%eO!h(oP~O!d#vO#h+SO~O!P%fO!X+UO!Y(ZO![%gO(P%eO!V(rP~Op'XO!P+WO!X+VO(RTO(UUO(a(yO~O!Z(tP~P!9VO!Y+XOa)QX'v)QX~OP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO(]VO(n$YO(u#|O(v#}O~Oa!ga!Y!ga'v!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9}OR#zO}#yO!P#{O!i#xO(]VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(n!oa(u!oa(v!oa~Oa!oa'v!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<eOR#zO}#yO!P#{O!i#xO(]VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(n!qa(u!qa(v!qa~Oa!qa'v!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>{Oh%VOk+bO![']O%f+aO~O!d+dOa(XX![(XX'v(XX!Y(XX~Oa%lO![XO'v%lO~Oh%VO!i%cO~Oh%VO!i%cO(P%eO~O!d#vO#h(uO~Ob+oO%g+pO(P+lO(RTO(UUO!Z)UP~O!Y+qO`)TX~O[+uO~O`+vO~O![%}O(P%eO(Q!lO`)TP~Oh%VO#]+{O~Oh%VOk,OO![$|O~O![,QO~O},SO![XO~O%k%tO~O!u,XO~Oe,^O~Ob,_O(P#nO(RTO(UUO!Z)SP~Oe%{O~O%g!QO(P&WO~P=RO[,dO`,cO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(RTO(UUO(]VO(k[O(ziO~O![!eO!r!gO$V!kO(P!dO~P!E{O`,cOa%lO'v%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(P!dO(RTO(UUO(]VO(k[O(ziO~Oa,iO!rwO#t!OO%i!OO%j!OO%k!OO~P!HeO!i&lO~O&Y,oO~O![,qO~O&k,sO&m,tOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(P&ha(R&ha(U&ha(]&ha(k&ha(z&ha!Z&ha&a&hab&ha&f&ha~O(P,yO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# kO!d-OO#],}Oh(fX!Y#eX!Z#eX!d(fX!i(fX~O!Y(fX!Z(fX~P#!^Oh%VO!d-QO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(RTO(UUO(a!mO~OP;jOQ;jOSfOd=fOe!iOmkOo;jOpkOqkOwkOy;jO{;jO!PWO!TkO!UkO![!eO!f;mO!iZO!l;jO!m;jO!n;jO!p;nO!r;qO!u!hO$V!kO(RTO(UUO(]VO(k[O(z=dO~O(P<fO~P##sO!Y-UO!Z(eX~O!Z-WO~O!d-OO#],}O!Y#eX!Z#eX~O!Y-XO!Z(tX~O!Z-ZO~O!`-[O!a-[O(Q!lO~P##bO!Z-_O~P'_Ok-bO![']O~O!V-gO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(Q!xa(R!xa(U!xa(a!xa(k!xa~P!#bO!m-lO#]-jO~PCSO!`-nO!a-nO(Q!lO~PCrOa%lO#]-jO'v%lO~Oa%lO!d#vO#]-jO'v%lO~Oa%lO!d#vO!m-lO#]-jO'v%lO(n'mO~O'{'uO'|'uO'}-sO~Os-tO~O!V'Sa!Y'Sa~P!9}O!X-xO!V'SX!Y'SX~P%[O!Y(SO!V(da~O!V(da~PGmO!Y(ZO!V(ra~O!P%fO!X-|O![%gO(P%eO!V'YX!Y'YX~O#].OO!Y(pa!h(paa(pa'v(pa~O!d#vO~P#+yO!Y(gO!h(oa~O!P%fO![%gO#g.SO(P%eO~Om.XO!P%fO!X.UO![%gO!y]O#f.WO#g.UO(P%eO!Y']X!h']X~OR.]O!i#xO~Oh%VOk.`O![']O%f._O~Oa#`i!Y#`i'v#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9}Ok=pO}){O'u)|O(u$}O(v%PO~O#h#[aa#[a#]#[a'v#[a!Y#[a!h#[a![#[a!V#[a~P#.uO#h([XP([XR([X[([Xa([Xo([X!P([X!i([X!m([X#O([X#k([X#l([X#m([X#n([X#o([X#p([X#q([X#r([X#s([X#u([X#w([X#y([X#z([X'v([X(]([X(n([X!h([X!V([X's([Xs([X![([X%f([X!d([X~P!6VO!Y.mO!h(gX~P!9}O!h.pO~O!V.rO~OP$[OR#zO}#yO!P#{O!i#xO!m$[O(]VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'v#ji(n#ji(u#ji(v#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#2eO#k$OO~P#2eOP$[OR#zOo$aO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO(]VO[#jia#ji!Y#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'v#ji(n#ji(u#ji(v#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#o#ji~P#5SO#o$QO~P#5SOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO(]VOa#ji!Y#ji#w#ji#y#ji#z#ji'v#ji(n#ji(u#ji(v#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#u#ji~P#7qOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO(]VO(v#}Oa#ji!Y#ji#y#ji#z#ji'v#ji(n#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$UO~P#:XO#w#ji~P#:XO#u$SO~P#7qOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO(]VO(u#|O(v#}Oa#ji!Y#ji#z#ji'v#ji(n#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#y#ji~P#<}O#y$WO~P#<}OP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X(]]X(n]X(u]X(v]X!Y]X!Z]X~O#}]X~P#?lOP$[OR#zO[<ROo<PO}#yO!P#{O!i#xO!m$[O#O;vO#k;sO#l;tO#m;tO#n;tO#o;uO#p;vO#q;vO#r<QO#s;vO#u;wO#w;yO#y;{O#z;|O(]VO(n$YO(u#|O(v#}O~O#}.tO~P#AyO#P$dO#]<SO$P<SO#}(cX!Z(cX~P! aOa'`a!Y'`a'v'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9}O[#jia#jio#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'v#ji(n#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO(]VO(u#ji(v#ji~P#D{Ok=pO}){O'u)|O(u$}O(v%POP#jiR#ji!P#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji(]#ji~P#D{O!Y.xOg(lX~P!0rOg.zO~Oa$Oi!Y$Oi'v$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9}O$[.{O$^.{O~O$[.|O$^.|O~O!d)eO#].}O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X/OO~O![)hO$Y/QO$[)gO$^)gO$e/RO~O!Y;}O!Z(bX~P#AyO!Z/SO~O!d)eO$e(wX~O$e/UO~Os/VO~P!&fOu)vO(^)wO(_/YO~O!P/]O~O(u$}Ok%^a}%^a'u%^a(v%^a!Y%^a#]%^a~Og%^a#}%^a~P#K}O(v%POk%`a}%`a'u%`a(u%`a!Y%`a#]%`a~Og%`a#}%`a~P#LpO!YfX!dfX!hfX!h$xX(nfX~P!/nO!X/fO!Y(ZO(P/eO!V(rP!V(|P~P!1aOo*oO!_*mO!`*gO!a*gO!i*^O#X*nO%]*iO(Q!lO(RTO(UUO~Op<cO!P/gO!X+VO!Z*lO(a<bO!Z(tP~P#NZO!h/hO~P#.uO!Y/iO!d#vO(n'mO!h({X~O!h/nO~O!P%fO!X*ZO![%gO(P%eO!h({P~O#h/pO~O!V$xX!Y$xX!d%PX~P!/nO!Y/qO!V(|X~P#.uO!d/sO~O!V/uO~OmkO(P/vO~P.iOh%VOo/{O!d#vO!i%cO(n'mO~O!d+dO~Oa%lO!Y0PO'v%lO~O!Z0RO~P!5TO!`0SO!a0SO(Q!lO~P##bOp!nO!P0TO(RTO(UUO(a!mO~O#X0VO~Og%^a!Y%^a#]%^a#}%^a~P!0rOg%`a!Y%`a#]%`a#}%`a~P!0rO(P&WOg'iX!Y'iX~O!Y*uOg(Ya~Og0`O~OR0aO}0aO!P0bO#P$dOkza'uza(uza(vza!Yza#]za~Ogza#}za~P$&ZO}){O'u)|Ok$qa(u$qa(v$qa!Y$qa#]$qa~Og$qa#}$qa~P$'VO}){O'u)|Ok$sa(u$sa(v$sa!Y$sa#]$sa~Og$sa#}$sa~P$'xO#h0eO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0rO!d#vO~O#h0hO~O!Y+XOa)Qa'v)Qa~OR#zO}#yO!P#{O!i#xO(]VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(n!oi(u!oi(v!oi~Oa!oi'v!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$)gOh%VOo%XOp$tOq$tOw%YOy%ZO{<XO!P${O![$|O!f=jO!i$xO#g<_O$V%_O$r<ZO$t<]O$w%`O(RTO(UUO(]$uO(u$}O(v%PO~Om0qO(P0pO~P$+}O!d+dOa(Xa![(Xa'v(Xa!Y(Xa~O#h0wO~O[]X!YfX!ZfX~O!Y0xO!Z)UX~O!Z0zO~O[0{O~Ob0}O(P+lO(RTO(UUO~O![%}O(P%eO`'qX!Y'qX~O!Y+qO`)Ta~O!h1QO~P!9}O[1TO~O`1UO~O#]1XO~Ok1[O![$|O~O(a(yO!Z)RP~Oh%VOk1eO![1bO%f1dO~O[1oO!Y1mO!Z)SX~O!Z1pO~O`1rOa%lO'v%lO~O(P#nO(RTO(UUO~O#P$dO#]$eO$P$eOP(cXR(cX[(cXo(cX}(cX!P(cX!Y(cX!i(cX!m(cX#O(cX#k(cX#l(cX#m(cX#n(cX#o(cX#p(cX#q(cX#r(cX#u(cX#w(cX#y(cX#z(cX(](cX(n(cX(u(cX(v(cX~O#s1uO&W1vOa(cX~P$1eO#]$eO#s1uO&W1vO~Oa1xO~P%[Oa1zO~O&a1}OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(P&_i(R&_i(U&_i(]&_i(k&_i(z&_i!Z&_ib&_i&f&_i~Ob2TO!Z2RO&f2SO~P`O![XO!i2VO~O&m,tOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(P&hi(R&hi(U&hi(]&hi(k&hi(z&hi!Z&hi&a&hib&hi&f&hi~O!V2]O~O!Y!^a!Z!^a~P#AyOp!nO!P!oO!X2cO(a!mO!Y'TX!Z'TX~P@YO!Y-UO!Z(ea~O!Y'ZX!Z'ZX~P!9VO!Y-XO!Z(ta~O!Z2jO~P'_Oa%lO#]2sO'v%lO~Oa%lO!d#vO#]2sO'v%lO~Oa%lO!d#vO!m2wO#]2sO'v%lO(n'mO~Oa%lO'v%lO~P!9}O!Y$_Os$oa~O!V'Si!Y'Si~P!9}O!Y(SO!V(di~O!Y(ZO!V(ri~O!V(si!Y(si~P!9}O!Y(pi!h(pia(pi'v(pi~P!9}O#]2yO!Y(pi!h(pia(pi'v(pi~O!Y(gO!h(oi~O!P%fO![%gO!y]O#f3OO#g2}O(P%eO~O!P%fO![%gO#g2}O(P%eO~Ok3VO![']O%f3UO~Oh%VOk3VO![']O%f3UO~O#h%^aP%^aR%^a[%^aa%^ao%^a!P%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'v%^a(]%^a(n%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#K}O#h%`aP%`aR%`a[%`aa%`ao%`a!P%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'v%`a(]%`a(n%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#LpO#h%^aP%^aR%^a[%^aa%^ao%^a!P%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'v%^a(]%^a(n%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.uO#h%`aP%`aR%`a[%`aa%`ao%`a!P%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'v%`a(]%`a(n%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.uO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'vza(]za(nza!hza!Vza'szasza![za%fza!dza~P$&ZO#h$qaP$qaR$qa[$qaa$qao$qa!P$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'v$qa(]$qa(n$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$'VO#h$saP$saR$sa[$saa$sao$sa!P$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'v$sa(]$sa(n$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$'xO#h%RaP%RaR%Ra[%Raa%Rao%Ra!P%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'v%Ra(]%Ra(n%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.uOa#`q!Y#`q'v#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9}O!X3_O!Y'UX!h'UX~P%[O!Y.mO!h(ga~O!Y.mO!h(ga~P!9}O!V3bO~O#}!ka!Z!ka~PKWO#}!ga!Y!ga!Z!ga~P#AyO#}!oa!Z!oa~P!<eO#}!qa!Z!qa~P!>{Og'XX!Y'XX~P!+oO!Y.xOg(la~OSfO![3vO$c3wO~O!Z3{O~Os3|O~P#.uOa$lq!Y$lq'v$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9}O!V4OO~P!&fO!P4PO~O}){O'u)|O(v%POk'ea(u'ea!Y'ea#]'ea~Og'ea#}'ea~P%+ZO}){O'u)|Ok'ga(u'ga(v'ga!Y'ga#]'ga~Og'ga#}'ga~P%+|O(n$YO~P#.uO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/nO(P<lO~P!1aO!P%fO!X4SO![%gO(P%eO!Y'aX!h'aX~O!Y/iO!h({a~O!Y/iO!d#vO!h({a~O!Y/iO!d#vO(n'mO!h({a~Og$zi!Y$zi#]$zi#}$zi~P!0rO!X4[O!V'cX!Y'cX~P!3`O!Y/qO!V(|a~O!Y/qO!V(|a~P#.uOP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X(]]X(n]X(u]X(v]X~O!d%WX#s%WX~P%/mO!d#vO#s4aO~Oh%VO!d#vO!i%cO~Oh%VOo4fO!i%cO(n'mO~Oo4kO!d#vO(n'mO~Op!nO!P4lO(RTO(UUO(a!mO~O(u$}Ok%^i}%^i'u%^i(v%^i!Y%^i#]%^i~Og%^i#}%^i~P%3^O(v%POk%`i}%`i'u%`i(u%`i!Y%`i#]%`i~Og%`i#}%`i~P%4POg(Zi!Y(Zi~P!0rO#]4rOg(Zi!Y(Zi~P!0rO!h4uO~Oa$mq!Y$mq'v$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9}O!V4yO~O!Y4zO![(}X~P#.uOa$xX![$xX%Z]X'v$xX!Y$xX~P!/nO%Z4}OalXklX}lX![lX'ulX'vlX(ulX(vlX!YlX~O%Z4}O~Ob5TO%g5UO(P+lO(RTO(UUO!Y'pX!Z'pX~O!Y0xO!Z)Ua~O[5YO~O`5ZO~Oa%lO'v%lO~P#.uO!Y5cO#]5eO!Z)RX~O!Z5fO~Oo5lOp!nO!P*eO!_!yO!`!vO!a!vO!y;kO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5kO#Y!zO(Q!lO(RTO(UUO(a!mO(k!sO~O!Z5jO~P%9SOk5qO![1bO%f5pO~Oh%VOk5qO![1bO%f5pO~Ob5xO(P#nO(RTO(UUO!Y'oX!Z'oX~O!Y1mO!Z)Sa~O(RTO(UUO(a5zO~O`6OO~O#s6RO&W6SO~PMsO!h6TO~P%[Oa6VO~Oa6VO~P%[Ob2TO!Z6[O&f2SO~P`O!d6^O~O!d6`Oh(fi!Y(fi!Z(fi!d(fi!i(fio(fi(n(fi~O!Y#ei!Z#ei~P#AyO#]6aO!Y#ei!Z#ei~O!Y!^i!Z!^i~P#AyOa%lO#]6jO'v%lO~Oa%lO!d#vO#]6jO'v%lO~O!Y(pq!h(pqa(pq'v(pq~P!9}O!Y(gO!h(oq~O!P%fO![%gO#g6qO(P%eO~O![']O%f6tO~Ok6xO![']O%f6tO~O#h'eaP'eaR'ea['eaa'eao'ea!P'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'v'ea(]'ea(n'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%+ZO#h'gaP'gaR'ga['gaa'gao'ga!P'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'v'ga(]'ga(n'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%+|O#h$ziP$ziR$zi[$zia$zio$zi!P$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'v$zi(]$zi(n$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.uO#h%^iP%^iR%^i[%^ia%^io%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'v%^i(]%^i(n%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%3^O#h%`iP%`iR%`i[%`ia%`io%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'v%`i(]%`i(n%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%4PO!Y'Ua!h'Ua~P!9}O!Y.mO!h(gi~O#}#`i!Y#`i!Z#`i~P#AyOP$[OR#zO}#yO!P#{O!i#xO!m$[O(]VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(n#ji(u#ji(v#ji!Y#ji!Z#ji~O#k#ji~P%LRO#k;sO~P%LROP$[OR#zOo<PO}#yO!P#{O!i#xO!m$[O#k;sO#l;tO#m;tO#n;tO(]VO[#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(n#ji(u#ji(v#ji!Y#ji!Z#ji~O#o#ji~P%NZO#o;uO~P%NZOP$[OR#zO[<ROo<PO}#yO!P#{O!i#xO!m$[O#O;vO#k;sO#l;tO#m;tO#n;tO#o;uO#p;vO#q;vO#r<QO#s;vO(]VO#w#ji#y#ji#z#ji#}#ji(n#ji(u#ji(v#ji!Y#ji!Z#ji~O#u#ji~P&!cOP$[OR#zO[<ROo<PO}#yO!P#{O!i#xO!m$[O#O;vO#k;sO#l;tO#m;tO#n;tO#o;uO#p;vO#q;vO#r<QO#s;vO#u;wO(]VO(v#}O#y#ji#z#ji#}#ji(n#ji(u#ji!Y#ji!Z#ji~O#w;yO~P&$dO#w#ji~P&$dO#u;wO~P&!cOP$[OR#zO[<ROo<PO}#yO!P#{O!i#xO!m$[O#O;vO#k;sO#l;tO#m;tO#n;tO#o;uO#p;vO#q;vO#r<QO#s;vO#u;wO#w;yO(]VO(u#|O(v#}O#z#ji#}#ji(n#ji!Y#ji!Z#ji~O#y#ji~P&&sO#y;{O~P&&sOa#{y!Y#{y'v#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9}O[#jio#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(n#ji!Y#ji!Z#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k;sO#l;tO#m;tO#n;tO(]VO(u#ji(v#ji~P&)oOk=qO}){O'u)|O(u$}O(v%POP#jiR#ji!P#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji(]#ji~P&)oO#P$dOP([XR([X[([Xk([Xo([X}([X!P([X!i([X!m([X#O([X#k([X#l([X#m([X#n([X#o([X#p([X#q([X#r([X#s([X#u([X#w([X#y([X#z([X#}([X'u([X(]([X(n([X(u([X(v([X!Y([X!Z([X~O#}$Oi!Y$Oi!Z$Oi~P#AyO#}!oi!Z!oi~P$)gOg'Xa!Y'Xa~P!0rO!Z7[O~O!Y'`a!Z'`a~P#AyO!V7]O~P#.uO!d#vO(n'mO!Y'aa!h'aa~O!Y/iO!h({i~O!Y/iO!d#vO!h({i~Og$zq!Y$zq#]$zq#}$zq~P!0rO!V'ca!Y'ca~P#.uO!d7dO~O!Y/qO!V(|i~P#.uO!Y/qO!V(|i~O!V7gO~Oh%VOo7lO!i%cO(n'mO~O!d#vO#s7nO~Oo7qO!d#vO(n'mO~O}){O'u)|O(v%POk'fa(u'fa!Y'fa#]'fa~Og'fa#}'fa~P&2pO}){O'u)|Ok'ha(u'ha(v'ha!Y'ha#]'ha~Og'ha#}'ha~P&3cO!V7sO~Og$|q!Y$|q#]$|q#}$|q~P!0rOa$my!Y$my'v$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9}O!d6`O~O!Y4zO![(}a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa(]$Sa(n$Sa(u$Sa(v$Sa~O%f6tO~P&5lOa#`y!Y#`y'v#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9}O[7xO~Ob7zO(P+lO(RTO(UUO~O!Y0xO!Z)Ui~O`8OO~O(a(yO!Y'lX!Z'lX~O!Y5cO!Z)Ra~O!Z8XO~P%9SO(k!sO~P$$iO#X8YO~O![1bO~O![1bO%f8[O~Ok8_O![1bO%f8[O~O[8dO!Y'oa!Z'oa~O!Y1mO!Z)Si~O!h8hO~O!h8iO~O!h8lO~O!h8lO~P%[Oa8nO~O!d8oO~O!h8pO~O!Y(si!Z(si~P#AyOa%lO#]8xO'v%lO~O!Y(py!h(pya(py'v(py~P!9}O!Y(gO!h(oy~O%f8{O~P&5lO![']O%f8{O~O#h$zqP$zqR$zq[$zqa$zqo$zq!P$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'v$zq(]$zq(n$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.uO#h'faP'faR'fa['faa'fao'fa!P'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'v'fa(]'fa(n'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&2pO#h'haP'haR'ha['haa'hao'ha!P'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'v'ha(]'ha(n'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&3cO#h$|qP$|qR$|q[$|qa$|qo$|q!P$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'v$|q(]$|q(n$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.uO!Y'Ui!h'Ui~P!9}O#}#`q!Y#`q!Z#`q~P#AyO(u$}OP%^aR%^a[%^ao%^a!P%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a(]%^a(n%^a!Y%^a!Z%^a~Ok%^a}%^a'u%^a(v%^a~P&FnO(v%POP%`aR%`a[%`ao%`a!P%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a(]%`a(n%`a!Y%`a!Z%`a~Ok%`a}%`a'u%`a(u%`a~P&HuOk=qO}){O'u)|O(v%PO~P&FnOk=qO}){O'u)|O(u$}O~P&HuOR0aO}0aO!P0bO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za'uza(]za(nza(uza(vza!Yza!Zza~O}){O'u)|OP$qaR$qa[$qak$qao$qa!P$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa(]$qa(n$qa(u$qa(v$qa!Y$qa!Z$qa~O}){O'u)|OP$saR$sa[$sak$sao$sa!P$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa(]$sa(n$sa(u$sa(v$sa!Y$sa!Z$sa~Ok=qO}){O'u)|O(u$}O(v%PO~OP%RaR%Ra[%Rao%Ra!P%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra(]%Ra(n%Ra!Y%Ra!Z%Ra~P'#zO#}$lq!Y$lq!Z$lq~P#AyO#}$mq!Y$mq!Z$mq~P#AyO!Z9YO~O#}9ZO~P!0rO!d#vO!Y'ai!h'ai~O!d#vO(n'mO!Y'ai!h'ai~O!Y/iO!h({q~O!V'ci!Y'ci~P#.uO!Y/qO!V(|q~Oo9bO!d#vO(n'mO~O[9dO!V9cO~P#.uO!V9cO~O!d#vO#s9jO~Og(Zy!Y(Zy~P!0rO!Y'ja!['ja~P#.uOa%Yq![%Yq'v%Yq!Y%Yq~P#.uO[9mO~O!Y0xO!Z)Uq~O#]9qO!Y'la!Z'la~O!Y5cO!Z)Ri~P#AyO!P9sO~O![1bO%f9vO~O(RTO(UUO(a9{O~O!Y1mO!Z)Sq~O!h:OO~O!h:PO~O!h:QO~O!h:QO~P%[O#]:TO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#AyO%f:YO~P&5lO![']O%f:YO~O#}#{y!Y#{y!Z#{y~P#AyOP$ziR$zi[$zio$zi!P$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi(]$zi(n$zi!Y$zi!Z$zi~P'#zO}){O'u)|O(v%POP'eaR'ea['eak'eao'ea!P'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(]'ea(n'ea(u'ea!Y'ea!Z'ea~O}){O'u)|OP'gaR'ga['gak'gao'ga!P'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(]'ga(n'ga(u'ga(v'ga!Y'ga!Z'ga~O(u$}OP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i'u%^i(]%^i(n%^i(v%^i!Y%^i!Z%^i~O(v%POP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i'u%`i(]%`i(n%`i(u%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#AyO#}#`y!Y#`y!Z#`y~P#AyO!d#vO!Y'aq!h'aq~O!Y/iO!h({y~O!V'cq!Y'cq~P#.uOo:dO!d#vO(n'mO~O[:hO!V:gO~P#.uO!V:gO~O!Y0xO!Z)Uy~O!Y5cO!Z)Rq~O(P:nO~O![1bO%f:qO~O!h:tO~O%f:yO~P&5lOP$zqR$zq[$zqo$zq!P$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq(]$zq(n$zq!Y$zq!Z$zq~P'#zO}){O'u)|O(v%POP'faR'fa['fak'fao'fa!P'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(]'fa(n'fa(u'fa!Y'fa!Z'fa~O}){O'u)|OP'haR'ha['hak'hao'ha!P'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(]'ha(n'ha(u'ha(v'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!P$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q(]$|q(n$|q!Y$|q!Z$|q~P'#zOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0rO!V:}O~P#.uOo;OO!d#vO(n'mO~O[;QO!V:}O~P#.uO!Y'lq!Z'lq~P#AyO!Y#e!Z!Z#e!Z~P#AyO#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!P%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'v%b!Z(]%b!Z(n%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.uOo;YO!d#vO(n'mO~O!V;ZO~P#.uOo;bO!d#vO(n'mO~O!V;cO~P#.uOP%b!ZR%b!Z[%b!Zo%b!Z!P%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z(]%b!Z(n%b!Z!Y%b!Z!Z%b!Z~P'#zOo;fO!d#vO(n'mO~Os(bX~P1qO}%pO~P!(vO(Q!lO~P!(vO!VfX!YfX#]fX~P%/mOP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X(]]X(n]X(u]X(v]X~O!dfX!h]X!hfX(nfX~P'HXOP;jOQ;jOSfOd=fOe!iOmkOo;jOpkOqkOwkOy;jO{;jO!PWO!TkO!UkO![XO!f;mO!iZO!l;jO!m;jO!n;jO!p;nO!r;qO!u!hO$V!kO(P)YO(RTO(UUO(]VO(k[O(z=dO~O!Y;}O!Z$oa~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{<YO!P${O![$|O!f=kO!i$xO#g<`O$V%_O$r<[O$t<^O$w%`O(P(sO(RTO(UUO(]$uO(u$}O(v%PO~O#t)aO~P'L}Oo!bX(n!bX~P# kOo(fX(n(fX~P#!^O!Z]X!ZfX~P'HXO!VfX!V$xX!YfX!Y$xX#]fX~P!/nO#h;rO~O!d#vO#h;rO~O#]<SO~O#s;vO~O#]<dO!Y(sX!Z(sX~O#]<SO!Y(qX!Z(qX~O#h<eO~Og<gO~P!0rO#h<mO~O#h<nO~O!d#vO#h<oO~O!d#vO#h<eO~O#}<pO~P#AyO#h<qO~O#h<rO~O#h<wO~O#h<xO~O#h<yO~O#h<zO~O#}<{O~P!0rO#}<|O~P!0rO#P#Q#R#T#U#X#f#g#r(z$r$t$w%Z%e%f%g%n%p%s%t%v%x~'zT#l!U'x(Q#mp#k#no}'y$['y(P$^(a~",goto:"$6w)YPPPPPP)ZPP)^P)oP+P/RPPPP6XPP6oPP<g@VP@jP@jPPP@jPBnP@jP@jP@jPBrPBwPCfPH`PPPHdPPPPHdKgPPPKmL_PHdPHdPPNmHdPPPHdPHdP!!tHdP!&[!'a!'jP!(^!(b!(^!+oPPPPPPP!,`!'aPP!,p!.bP!1nHdHd!1s!5P!9m!9m!=lPPP!=tHdPPPPPPPPPPP!ATP!BbPPHd!CsPHdPHdHdHdHdHdPHd!EVP!HaP!KgP!Kk!Ku!Ky!KyP!H^P!K}!K}P# TP# XHdHd# _#$dBr@jP@jP@j@jP#%q@j@j#(P@j#*s@j#,{@j@j#-k#/{#/{#0Q#0Z#/{#0fP#/{P@j#1O@j#4u@j@j6XPPP#8rPPP#9]#9]P#9]P#9s#9]PP#9yP#9pP#9p#:^#9p#:x#;O#;R)^#;U)^P#;]#;]#;]P)^P)^P)^P)^PP)^P#;c#;fP#;f)^P#;jP#;mP)^P)^P)^P)^P)^P)^)^PP#;s#;y#<U#<[#<b#<h#<n#<|#=S#=^#=d#=n#=t#>U#>[#>|#?`#?f#?l#?z#@a#BQ#B`#Bg#C}#D]#Ey#FX#F_#Fe#Fk#Fu#F{#GR#G]#Go#GuPPPPPPPPPPP#G{PPPPPPP#Hp#Kw#Ma#Mh#MpPPP$%OP$%X$(Q$.k$.n$.q$/p$/s$/z$0SP$0Y$0]P$0y$0}$1u$3T$3Y$3pPP$3u$3{$4PP$4S$4W$4[$5W$5o$6W$6[$6_$6b$6h$6k$6o$6sR!|RoqOXst!Z#d%k&o&q&r&t,l,q1}2QY!vQ']-^1b5iQ%rvQ%zyQ&R|Q&g!VS'T!e-UQ'c!iS'i!r!yU*g$|*W*kQ+j%{Q+w&TQ,]&aQ-['[Q-f'dQ-n'jQ0S*mQ1l,^R<a;n%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W,i,l,q-b-j-x.O.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3_4l5q6R6S6V6j8_8n8xS#q];k!r)[$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gU*z%[<X<YQ+o%}Q,_&dQ,f&lQ0n+bQ0r+dQ0}+pQ1t,dQ3R.`Q5T0xQ5x1mQ6v3VQ7z5UR9O6x'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=g!S!nQ!r!v!y!z$|'T'[']'i'j'k*g*k*m*n-U-[-^-n0S0V1b5i5k%S$ti#v$b$c$d$x${%O%Q%]%^%b)v*O*Q*S*V*]*c*s*t+a+d+{,O._.x/]/f/p/q/s0W0Y0e1X1[1d3U4P4Q4[4a4r4z4}5p6t7d7n8[8{9Z9d9j9v:Y:h:q:y;Q<Q<R<T<U<V<W<Z<[<]<^<_<`<h<i<j<k<m<n<q<r<s<t<u<v<w<x<{<|=d=l=m=p=qQ&U|Q'R!eS'X%g-XQ+o%}Q,_&dQ0d*}Q0}+pQ1S+vQ1s,cQ1t,dQ5T0xQ5^1UQ5x1mQ5{1oQ5|1rQ7z5UQ7}5ZQ8g6OQ9p8OQ9|8dR<c*WrnOXst!V!Z#d%k&f&o&q&r&t,l,q1}2QR,a&h&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=f=g[#]WZ#W#Z'U(Q!b%hm#h#i#l$x%c%f(Z(e(f(g*V*Z*^+U+V+X,h-O-|.S.T.U.W/f/i2V2}3O4S6`6qQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(n#sS+i%z%{Q+m%}Q,W&_Q,[&aS-e'c'dQ.b(oQ0v+jQ0|+pQ1O+qQ1R+uQ1g,XS1k,],^Q2o-fQ5S0xQ5W0{Q5]1TQ5w1lQ7y5UQ7|5YQ9l7xR:k9m!O$zi$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=m!^%wy!i!u%y%z%{'S'b'c'd'h'r*f+i+j-R-e-f-m/y/|0v2h2o2v4d4e4h7k9fQ+c%uQ+|&XQ,P&YQ,Z&aQ.a(nQ1f,WU1j,[,],^Q3W.bQ5r1gS5v1k1lQ8c5w#d=h#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qo=i<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|W%Ti%V*u=dS&X!Q&fQ&Y!RQ&Z!SR+z&V%T%Si#v$b$c$d$x${%O%Q%]%^%b)v*O*Q*S*V*]*c*s*t+a+d+{,O._.x/]/f/p/q/s0W0Y0e1X1[1d3U4P4Q4[4a4r4z4}5p6t7d7n8[8{9Z9d9j9v:Y:h:q:y;Q<Q<R<T<U<V<W<Z<[<]<^<_<`<h<i<j<k<m<n<q<r<s<t<u<v<w<x<{<|=d=l=m=p=qT)w$u)xV*z%[<X<YW'X!e%g*W-XS(z#y#zQ+^%pQ+t&QS.Z(j(kQ1],QQ4s0aR8S5c'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=g$i$^c#Y#e%o%q%s(P(V(q(v)O)P)Q)R)S)T)U)V)W)X)Z)])_)d)n+_+s-S-q-v-{-}.l.o.s.u.v.w/Z0f2^2a2q2x3^3c3d3e3f3g3h3i3j3k3l3m3n3o3r3s3z4w5Q6c6i6n6}7O7X7Y8U8r8v9Q9W9X:V:m:u;l=ZT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gQ'V!eR2d-U!W!nQ!e!r!v!y!z$|'T'[']'i'j'k*W*g*k*m*n-U-[-^-n0S0V1b5i5kR1_,SnqOXst!Z#d%k&o&q&r&t,l,q1}2QQ&v!^Q's!xS(p#u;rQ+g%xQ,U&[Q,V&^Q-c'aQ-p'lS.k(u<eS0g+S<oQ0t+hQ1a,TQ2U,sQ2W,tQ2`-PQ2m-dQ2p-hS4x0h<yQ5O0uS5R0w<zQ6b2bQ6f2nQ6k2uQ7w5PQ8s6dQ8t6gQ8w6lR:S8p$d$]c#Y#e%q%s(P(V(q(v)O)P)Q)R)S)T)U)V)W)X)Z)])_)d)n+_+s-S-q-v-{-}.l.o.s.v.w/Z0f2^2a2q2x3^3c3d3e3f3g3h3i3j3k3l3m3n3o3r3s3z4w5Q6c6i6n6}7O7X7Y8U8r8v9Q9W9X:V:m:u;l=ZS(l#p'fQ(|#zS+]%o.uS.[(k(mR3P.]'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gS#q];kQ&q!XQ&r!YQ&t![Q&u!]R1|,oQ'^!hQ+`%uQ-a'`S.^(n+cQ2k-`W3T.a.b0m0oQ6e2lW6r3Q3S3W4|U8z6s6u6wU:X8|8}9PS:w:W:ZQ;U:xR;^;VU!wQ']-^T5g1b5i!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(g,l,q.T1}2Q]!pQ!r']-^1b5iT#q];k%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8xS(z#y#zS.Z(j(k!s=Q$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gU$fd)[,fS(m#p'fU*r%R(t3qU0c*y.g7TQ4|0nQ6s3RQ8}6vR:Z9Om!tQ!r!v!y!z']'i'j'k-^-n1b5i5kQ'q!uS(c#g1wS-l'h'tQ/l*YQ/y*fQ2w-oQ4W/mQ4d/{Q4e/|Q4j0UQ7`4RS7k4f4hS7o4k4mQ9]7aQ9a7gQ9f7lQ9k7qS:c9b9cS:|:d:gS;X:};OS;a;Y;ZS;e;b;cR;h;fQ#wbQ'p!uS(b#g1wS(d#m+RQ+T%dQ+e%vQ+k%|U-k'h'q'tQ.P(cQ/k*YQ/z*fQ/}*hQ0s+fQ1h,YS2t-l-oQ2|.XS4V/l/mQ4`/wS4c/y0UQ4g0OQ5t1iQ6m2wQ7_4RQ7c4WU7j4d4j4mQ7m4iQ8a5uS9[7`7aQ9`7gQ9h7oQ9i7pQ9y8bQ:a9]S:b9a9cQ:j9kQ:s9zS:{:c:gS;W:|:}S;`;X;ZS;d;a;cQ;g;eQ;i;hQ=T=OQ=`=XR=a=YV!wQ']-^%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8xS#wz!j!r<}$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gR=T=f%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8xQ%dj!^%vy!i!u%y%z%{'S'b'c'd'h'r*f+i+j-R-e-f-m/y/|0v2h2o2v4d4e4h7k9fS%|z!jQ+f%wQ,Y&aW1i,Z,[,],^U5u1j1k1lS8b5v5wQ9z8c!r=O$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gQ=X=eR=Y=f%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8xY#bWZ#W#Z(Q!b%hm#h#i#l$x%c%f(Z(e(f(g*V*Z*^+U+V+X,h-O-|.S.T.U.W/f/i2V2}3O4S6`6qQ,g&l!p=P$Z$n)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gR=S'UU'Y!e%g*WR2f-X%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W,i,l,q-b-j-x.O.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3_4l5q6R6S6V6j8_8n8x!r)[$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gQ,f&lQ0n+bQ3R.`Q6v3VR9O6x!b$Tc#Y%o(P(V(q(v)W)X)])d+s-q-v-{-}.l.o/Z0f2q2x3^3n4w5Q6i6n6}8v:V;l!P;x)Z)n-S.u2^2a3c3l3m3r3z6c7O7X7Y8U8r9Q9W9X:m:u=Z!f$Vc#Y%o(P(V(q(v)T)U)W)X)])d+s-q-v-{-}.l.o/Z0f2q2x3^3n4w5Q6i6n6}8v:V;l!T;z)Z)n-S.u2^2a3c3i3j3l3m3r3z6c7O7X7Y8U8r9Q9W9X:m:u=Z!^$Zc#Y%o(P(V(q(v)])d+s-q-v-{-}.l.o/Z0f2q2x3^3n4w5Q6i6n6}8v:V;lQ4Q/dz=g)Z)n-S.u2^2a3c3r3z6c7O7X7Y8U8r9Q9W9X:m:u=ZQ=l=nR=m=o'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gS$oh$pR3w.}'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t.}/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gT$kf$qQ$ifS)g$l)kR)s$qT$jf$qT)i$l)k'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(Q(S(Y(a(u(w({)p)z*e+S+W+b,i,l,q,}-Q-b-j-x.O.`.m.t.}/O/g0T0b0h0w1e1u1v1x1z1}2Q2S2c2s2y3V3_3v4l5e5q6R6S6V6a6j6x8_8n8x9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=gT$oh$pQ$rhR)r$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(Q(S(Y(a(u(w({)z*e+S+W+b,i,l,q-b-j-x.O.`.m.t/g0T0b0h0w1e1u1v1x1z1}2Q2S2s2y3V3_4l5q6R6S6V6j6x8_8n8x!s=e$Z$n'U)p,}-Q/O2c3v5e6a9q:T;j;m;n;q;r;s;t;u;v;w;x;y;z;{;|;}<P<S<a<d<e<g<o<p<y<z=g#glOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_({)p*e+W+b,i,l,q-b.`/O/g0T0b1e1u1v1x1z1}2Q2S3V3v4l5q6R6S6V6x8_8n!O%Ri$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=m#d(t#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qQ+O%`Q/[){o3q<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|!O$yi$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=mQ*_$zU*h$|*W*kQ+P%aQ0O*i#d=V#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qn=W<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|Q=[=hQ=]=iQ=^=jR=_=k!O%Ri$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=m#d(t#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qo3q<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|noOXst!Z#d%k&o&q&r&t,l,q1}2QS*b${*VQ,z&{Q,{&}R4Z/q%S%Si#v$b$c$d$x${%O%Q%]%^%b)v*O*Q*S*V*]*c*s*t+a+d+{,O._.x/]/f/p/q/s0W0Y0e1X1[1d3U4P4Q4[4a4r4z4}5p6t7d7n8[8{9Z9d9j9v:Y:h:q:y;Q<Q<R<T<U<V<W<Z<[<]<^<_<`<h<i<j<k<m<n<q<r<s<t<u<v<w<x<{<|=d=l=m=p=qQ+}&YQ1Z,PQ5a1YR8R5bV*j$|*W*kU*j$|*W*kT5h1b5iS/w*e/gQ4i0TT7p4l9sQ+e%vQ/}*hQ0s+fQ1h,YQ5t1iQ8a5uQ9y8bR:s9z!O%Oi$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=mr*O$v)b*P*q+Q/o0[0]3t4X4v7^7r:`=U=b=cS0W*p0X#d<T#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qn<U<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|!b<h(r)`*X*a.c.f.j/W/d/t0l1W3Z3}4Y4^5`6y6|7e7h7t7v9_9g:e:i:z;P;[=n=o`<i3p7P7S7W9R:[:_;_S<s.e3[T<t7R9U!O%Qi$d%O%Q%]%^%b*O*Q*]*s*t.x/p0W0Y0e4Q4r9Z=d=l=mv*Q$v)b*R*p+Q/`/o0[0]3t4X4n4v7^7r:`=U=b=cS0Y*q0Z#d<V#v$b$c$x${)v*S*V*c+a+d+{,O._/]/f/q/s1X1[1d3U4P4[4a4z4}5p6t7d7n8[8{9d9j9v:Y:h:q:y;Q<T<V<Z<]<_<h<j<m<q<s<u<w<{=p=qn<W<Q<R<U<W<[<^<`<i<k<n<r<t<v<x<|!f<j(r)`*X*a.d.e.j/W/d/t0l1W3X3Z3}4Y4^5`6y6z6|7e7h7t7v9_9g:e:i:z;P;[=n=od<k3p7Q7R7W9R9S:[:]:_;_S<u.f3]T<v7S9VrnOXst!V!Z#d%k&f&o&q&r&t,l,q1}2QQ&c!UR,i&lrnOXst!V!Z#d%k&f&o&q&r&t,l,q1}2QR&c!UQ,R&ZR1V+zsnOXst!V!Z#d%k&f&o&q&r&t,l,q1}2QQ1c,WS5o1f1gU8Z5m5n5rS9u8]8^S:o9t9wQ;R:pR;];SQ&j!VR,b&fR5{1oR9|8dS&O|&TR1O+qQ&o!WR,l&pR,r&uT2O,q2QR,v&vQ,u&vR2X,vQ'v!{R-r'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$uR/X)xQ#UVR'}#UQ#XWU(T#X(U-yQ(U#YR-y(VQ-V'VR2e-VQ.n(vS3`.n3aR3a.oQ-^']R2i-^Y!rQ']-^1b5iR'g!rQ.y)bR3u.yU#_W%f*VU([#_(]-zQ(]#`R-z(WQ-Y'YR2g-Yt`OXst!V!Z#d%k&f&h&o&q&r&t,l,q1}2QS#hZ%cU#r`#h.TR.T(gQ(h#jQ.Q(dW.Y(h.Q2z6oQ2z.RR6o2{Q)k$lR/P)kQ$phR)q$pQ$`cU)^$`-u<OQ-u;lR<O)nQ/j*YW4T/j4U7b9^U4U/k/l/mS7b4V4WR9^7c$])}$v(r)`)b*X*a*p*q*{*|+Q.e.f.h.i.j/W/`/b/d/o/t0[0]0l1W3X3Y3Z3p3t3}4X4Y4^4n4p4v5`6y6z6{6|7R7S7U7V7W7^7e7h7r7t7v9R9S9T9_9g:[:]:^:_:`:e:i:z;P;[;_=U=b=c=n=oQ/r*aU4]/r4_7fQ4_/tR7f4^S*k$|*WR0Q*kr*P$v)b*p*q+Q/o0[0]3t4X4v7^7r:`=U=b=c!b.c(r)`*X*a.e.f.j/W/d/t0l1W3Z3}4Y4^5`6y6|7e7h7t7v9_9g:e:i:z;P;[=n=oU/a*P.c7Pa7P3p7R7S7W9R:[:_;_Q0X*pQ3[.eU4o0X3[9UR9U7Rv*R$v)b*p*q+Q/`/o0[0]3t4X4n4v7^7r:`=U=b=c!f.d(r)`*X*a.e.f.j/W/d/t0l1W3X3Z3}4Y4^5`6y6z6|7e7h7t7v9_9g:e:i:z;P;[=n=oU/c*R.d7Qe7Q3p7R7S7W9R9S:[:]:_;_Q0Z*qQ3].fU4q0Z3]9VR9V7SQ*v%UR0_*vQ4{0lR7u4{Q+Y%iR0k+YQ5d1]S8T5d9rR9r8UQ,T&[R1`,TQ5i1bR8W5iQ1n,_S5y1n8eR8e5{Q0y+mW5V0y5X7{9nQ5X0|Q7{5WR9n7|Q+r&OR1P+rQ2Q,qR6Z2QYrOXst#dQ&s!ZQ+[%kQ,k&oQ,m&qQ,n&rQ,p&tQ1{,lS2O,q2QR6Y1}Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Z%jQ+g%xQ+y&UQ,a&jQ,x&yW-i'h'p'q'tQ-p'lQ0P*jQ0t+hS1q,b,eQ2Y,wQ2Z,zQ2[,{Q2p-hW2r-k-l-o-qQ5O0uQ5[1SQ5_1WQ5s1hQ5}1sQ6X1|U6h2q2t2wQ6k2uQ7w5PQ8P5^Q8Q5`Q8V5hQ8`5tQ8f5|S8u6i6mQ8w6lQ9o7}Q9x8aQ9}8gQ:U8vQ:l9pQ:r9yQ:v:VR;T:sQ%xyQ'a!iQ'l!uU+h%y%z%{Q-P'SU-d'b'c'dS-h'h'rQ/x*fS0u+i+jQ2b-RS2n-e-fQ2u-mS4b/y/|Q5P0vQ6d2hQ6g2oQ6l2vU7i4d4e4hQ9e7kR:f9fS$wi=dR*w%VU%Ui%V=dR0^*uQ$viS(r#v+dS)`$b$cQ)b$dQ*X$xS*a${*VQ*p%OQ*q%QQ*{%]Q*|%^Q+Q%bQ.e<TQ.f<VQ.h<ZQ.i<]Q.j<_Q/W)vQ/`*OQ/b*QQ/d*SQ/o*]S/t*c/fQ0[*sQ0]*tl0l+a,O._1[1d3U5p6t8[8{9v:Y:q:yQ1W+{Q3X<hQ3Y<jQ3Z<mS3p<Q<RQ3t.xS3}/]4PQ4X/pQ4Y/qQ4^/sQ4n0WQ4p0YQ4v0eQ5`1XQ6y<qQ6z<sQ6{<uQ6|<wQ7R<UQ7S<WQ7U<[Q7V<^Q7W<`Q7^4QQ7e4[Q7h4aQ7r4rQ7t4zQ7v4}Q9R<nQ9S<iQ9T<kQ9_7dQ9g7nQ:[<rQ:]<tQ:^<vQ:_<xQ:`9ZQ:e9dQ:i9jQ:z<{Q;P:hQ;[;QQ;_<|Q=U=dQ=b=lQ=c=mQ=n=pR=o=qQ*y%[Q.g<XR7T<YnpOXst!Z#d%k&o&q&r&t,l,q1}2QQ!fPS#fZ#oQ&y!`W'e!o*e0T4lQ'|#SQ(}#{Q)o$nS,e&h&kQ,j&lQ,w&xS,|'Q/gQ-`'_Q.q({Q/T)pQ0i+WQ0o+bQ1y,iQ2l-bQ3S.`Q3y/OQ4t0bQ5n1eQ6P1uQ6Q1vQ6U1xQ6W1zQ6]2SQ6w3VQ7Z3vQ8^5qQ8j6RQ8k6SQ8m6VQ9P6xQ9w8_R:R8n#[cOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_({*e+W+b,i,l,q-b.`/g0T0b1e1u1v1x1z1}2Q2S3V4l5q6R6S6V6x8_8nQ#YWQ#eYQ%ouQ%qvS%sw!gS(P#W(SQ(V#ZQ(q#uQ(v#xQ)O$OQ)P$PQ)Q$QQ)R$RQ)S$SQ)T$TQ)U$UQ)V$VQ)W$WQ)X$XQ)Z$ZQ)]$_Q)_$aQ)d$eW)n$n)p/O3vQ+_%rQ+s&PS-S'U2cQ-q'oS-v(Q-xQ-{(YQ-}(aQ.l(uQ.o(wQ.s;jQ.u;mQ.v;nQ.w;qQ/Z)zQ0f+SQ2^,}Q2a-QQ2q-jQ2x.OQ3^.mQ3c;rQ3d;sQ3e;tQ3f;uQ3g;vQ3h;wQ3i;xQ3j;yQ3k;zQ3l;{Q3m;|Q3n.tQ3o<PQ3r<SQ3s<aQ3z;}Q4w0hQ5Q0wQ6c<dQ6i2sQ6n2yQ6}3_Q7O<eQ7X<gQ7Y<oQ8U5eQ8r6aQ8v6jQ9Q<pQ9W<yQ9X<zQ:V8xQ:m9qQ:u:TQ;l#SR=Z=gR#[WR'W!el!tQ!r!v!y!z']'i'j'k-^-n1b5i5kS'S!e-UU*f$|*W*kS-R'T'[S/|*g*mQ0U*nQ2h-[Q4h0SR4m0VR(x#xQ!fQT-]']-^]!qQ!r']-^1b5iQ#p]R'f;kR)c$dY!uQ']-^1b5iQ'h!rS'r!v!yS't!z5kS-m'i'jQ-o'kR2v-nT#kZ%cS#jZ%cS%im,hU(d#h#i#lS.R(e(fQ.V(gQ0j+XQ2{.SU2|.T.U.WS6p2}3OR8y6qd#^W#W#Z%f(Q(Z*V+U-|/fr#gZm#h#i#l%c(e(f(g+X.S.T.U.W2}3O6qS*Y$x*^Q/m*ZQ1w,hQ2_-OQ4R/iQ6_2VQ7a4SQ8q6`T=R'U+VV#aW%f*VU#`W%f*VS(R#W(ZU(W#Z+U/fS-T'U+VT-w(Q-|V'Z!e%g*WQ$lfR)u$qT)j$l)kR3x.}T*[$x*^T*d${*VQ0m+aQ1Y,OQ3Q._Q5b1[Q5m1dQ6u3UQ8]5pQ8|6tQ9t8[Q:W8{Q:p9vQ:x:YQ;S:qR;V:ynqOXst!Z#d%k&o&q&r&t,l,q1}2QQ&i!VR,a&ftmOXst!U!V!Z#d%k&f&o&q&r&t,l,q1}2QR,h&lT%jm,hR1^,QR,`&dQ&S|R+x&TR+n%}T&m!W&pT&n!W&pT2P,q2Q",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:377,context:rx,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[fx],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(V!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(V!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(SpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(SpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Sp(V!b'x0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(T#S$h&j'y0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Sp(V!b'y0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(R':f$h&j(V!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(V!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(V!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(V!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(V!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Sp(V!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Sp(V!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(V!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(V!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(SpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(SpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Sp(V!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(k%1l(Sp(V!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Sp(V!b$[#t(P,2j(a$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Sp(V!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Sp(V!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(v+JY$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(U';W$h&j(SpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(SpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(SpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(SpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(SpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Sp(V!b(Q%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Sp(V!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Sp(V!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Sp(V!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Sp(V!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Sp(V!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(V!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(V!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(V!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(V!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(V!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(V!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Sp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Sp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Sp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Sp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(SpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(SpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Sp(V!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Sp(V!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Sp(V!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Sp(V!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Sp(V!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Sp(V!b'z0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Sp(V!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(V!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(V!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(SpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(SpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Sp(V!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Sp(V!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Sp(V!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Sp(V!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Sp(V!b(z7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Sp(V!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(n(Ct$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Sp(V!b(]+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Sp(V!b(P,2j$^#t(a$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Sp(V!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Sp(V!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(u+JY$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!Z(CdsBr$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Sp(V!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Sp(V!b'x0/l$[#t(P,2j(a$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Sp(V!b'y0/l$[#t(P,2j(a$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[ox,hx,lx,ux,2,3,4,5,6,7,8,9,10,11,12,13,14,ax,new ho("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(_~~",141,336),new ho("j~RQYZXz{^~^O'|~~aP!P!Qd~iO'}~~",25,319)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14980},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:323,get:O=>dx[O]||-1},{term:339,get:O=>cx[O]||-1},{term:92,get:O=>vx[O]||-1}],tokenPrec:15004}),zf=[Le("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Le("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Le("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Le("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Le("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Le(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Le("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Le(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Le(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Le('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Le('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],mx=zf.concat([Le("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Le("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Le("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Vf=new zv,Yf=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function js(O){return(e,v)=>{let g=e.node.getChild("VariableDefinition");return g&&v(g,O),!0}}const gx=["FunctionDeclaration"],xx={FunctionDeclaration:js("function"),ClassDeclaration:js("class"),ClassExpression:()=>!0,EnumDeclaration:js("constant"),TypeAliasDeclaration:js("type"),NamespaceDeclaration:js("namespace"),VariableDefinition(O,e){O.matchContext(gx)||e(O,"variable")},TypeDefinition(O,e){e(O,"type")},__proto__:null};function Uf(O,e){let v=Vf.get(e);if(v)return v;let g=[],S=!0;function E(R,D){let I=O.sliceString(R.from,R.to);g.push({label:I,type:D})}return e.cursor(le.IncludeAnonymous).iterate(R=>{if(S)S=!1;else if(R.name){let D=xx[R.name];if(D&&D(R,E)||Yf.has(R.name))return!1}else if(R.to-R.from>8192){for(let D of Uf(O,R.node))g.push(D);return!1}}),Vf.set(e,g),g}const Wf=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,$f=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function Ox(O){let e=ue(O.state).resolveInner(O.pos,-1);if($f.indexOf(e.name)>-1)return null;let v=e.name=="VariableName"||e.to-e.from<20&&Wf.test(O.state.sliceDoc(e.from,e.to));if(!v&&!O.explicit)return null;let g=[];for(let S=e;S;S=S.parent)Yf.has(S.name)&&(g=g.concat(Uf(O.state.doc,S)));return{options:g,from:v?e.from:O.pos,validFor:Wf}}const Vi=In.define({name:"javascript",parser:px.configure({props:[Xl.add({IfStatement:wa({except:/^\s*({|else\b)/}),TryStatement:wa({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:op,SwitchBody:O=>{let e=O.textAfter,v=/^\s*\}/.test(e),g=/^\s*(case|default)\b/.test(e);return O.baseIndent+(v?0:g?1:2)*O.unit},Block:ap({closing:"}"}),ArrowFunction:O=>O.baseIndent+O.unit,"TemplateString BlockComment":()=>null,"Statement Property":wa({except:/^{/}),JSXElement(O){let e=/^\s*<\//.test(O.textAfter);return O.lineIndent(O.node.from)+(e?0:O.unit)},JSXEscape(O){let e=/\s*\}/.test(O.textAfter);return O.lineIndent(O.node.from)+(e?0:O.unit)},"JSXOpenTag JSXSelfClosingTag"(O){return O.column(O.node.from)+O.unit}}),Yl.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":fp,BlockComment(O){return{from:O.from+2,to:O.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Zf={test:O=>/^JSX/.test(O.name),facet:Il({commentTokens:{block:{open:"{/*",close:"*/}"}}})},yx=Vi.configure({dialect:"ts"},"typescript"),Sx=Vi.configure({dialect:"jsx",props:[Ea.add(O=>O.isTop?[Zf]:void 0)]}),Tx=Vi.configure({dialect:"jsx ts",props:[Ea.add(O=>O.isTop?[Zf]:void 0)]},"typescript");let Hf=O=>({label:O,type:"keyword"});const kf="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Hf),Cx=kf.concat(["declare","implements","private","protected","public"].map(Hf));function Px(O={}){let e=O.jsx?O.typescript?Tx:Sx:O.typescript?yx:Vi,v=O.typescript?mx.concat(Cx):zf.concat(kf);return new qv(e,[Vi.data.of({autocomplete:Ag($f,rf(v))}),Vi.data.of({autocomplete:Ox}),O.jsx?Mx:[]])}function Ex(O){for(;;){if(O.name=="JSXOpenTag"||O.name=="JSXSelfClosingTag"||O.name=="JSXFragmentTag")return O;if(O.name=="JSXEscape"||!O.parent)return null;O=O.parent}}function jf(O,e,v=O.length){for(let g=e==null?void 0:e.firstChild;g;g=g.nextSibling)if(g.name=="JSXIdentifier"||g.name=="JSXBuiltin"||g.name=="JSXNamespacedName"||g.name=="JSXMemberExpression")return O.sliceString(g.from,Math.min(g.to,v));return""}const Ax=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Mx=Et.inputHandler.of((O,e,v,g,S)=>{if((Ax?O.composing:O.compositionStarted)||O.state.readOnly||e!=v||g!=">"&&g!="/"||!Vi.isActiveAt(O.state,e,-1))return!1;let E=S(),{state:R}=E,D=R.changeByRange(I=>{var V;let{head:Y}=I,j=ue(R).resolveInner(Y-1,-1),_;if(j.name=="JSXStartTag"&&(j=j.parent),!(R.doc.sliceString(Y-1,Y)!=g||j.name=="JSXAttributeValue"&&j.to>Y)){if(g==">"&&j.name=="JSXFragmentTag")return{range:I,changes:{from:Y,insert:"</>"}};if(g=="/"&&j.name=="JSXStartCloseTag"){let et=j.parent,st=et.parent;if(st&&et.from==Y-2&&((_=jf(R.doc,st.firstChild,Y))||((V=st.firstChild)===null||V===void 0?void 0:V.name)=="JSXFragmentTag")){let at=`${_}>`;return{range:N.cursor(Y+at.length,-1),changes:{from:Y,insert:at}}}}else if(g==">"){let et=Ex(j);if(et&&et.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(R.doc.sliceString(Y,Y+2))&&(_=jf(R.doc,et,Y)))return{range:I,changes:{from:Y,insert:`</${_}>`}}}}return{range:I}});return D.changes.empty?!1:(O.dispatch([E,R.update(D,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});document.addEventListener("DOMContentLoaded",()=>{const O=document.getElementById("input");O?new Et({doc:`//Welcome To CodeMirror Everyone 

let MSG = "Hello World!"; 
console.log(MSG);`,extensions:[w0,Px()],parent:O}):console.error("Parent element #input not found")})})();var Rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wx(It){return It&&It.__esModule&&Object.prototype.hasOwnProperty.call(It,"default")?It.default:It}var _f={exports:{}};(function(It,Zt){(function(oi,_t){It.exports=_t()})(Rx,()=>(()=>{var ce={50792:x=>{var M=Object.prototype.hasOwnProperty,t="~";function c(){}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(t=!1));function m(i,n,h){this.fn=i,this.context=n,this.once=h||!1}function l(i,n,h,s,o){if(typeof h!="function")throw new TypeError("The listener must be a function");var u=new m(h,s||i,o),f=t?t+n:n;return i._events[f]?i._events[f].fn?i._events[f]=[i._events[f],u]:i._events[f].push(u):(i._events[f]=u,i._eventsCount++),i}function a(i,n){--i._eventsCount===0?i._events=new c:delete i._events[n]}function r(){this._events=new c,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],h,s;if(this._eventsCount===0)return n;for(s in h=this._events)M.call(h,s)&&n.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(h)):n},r.prototype.listeners=function(n){var h=t?t+n:n,s=this._events[h];if(!s)return[];if(s.fn)return[s.fn];for(var o=0,u=s.length,f=new Array(u);o<u;o++)f[o]=s[o].fn;return f},r.prototype.listenerCount=function(n){var h=t?t+n:n,s=this._events[h];return s?s.fn?1:s.length:0},r.prototype.emit=function(n,h,s,o,u,f){var d=t?t+n:n;if(!this._events[d])return!1;var p=this._events[d],y=arguments.length,T,C;if(p.fn){switch(p.once&&this.removeListener(n,p.fn,void 0,!0),y){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,h),!0;case 3:return p.fn.call(p.context,h,s),!0;case 4:return p.fn.call(p.context,h,s,o),!0;case 5:return p.fn.call(p.context,h,s,o,u),!0;case 6:return p.fn.call(p.context,h,s,o,u,f),!0}for(C=1,T=new Array(y-1);C<y;C++)T[C-1]=arguments[C];p.fn.apply(p.context,T)}else{var P=p.length,A;for(C=0;C<P;C++)switch(p[C].once&&this.removeListener(n,p[C].fn,void 0,!0),y){case 1:p[C].fn.call(p[C].context);break;case 2:p[C].fn.call(p[C].context,h);break;case 3:p[C].fn.call(p[C].context,h,s);break;case 4:p[C].fn.call(p[C].context,h,s,o);break;default:if(!T)for(A=1,T=new Array(y-1);A<y;A++)T[A-1]=arguments[A];p[C].fn.apply(p[C].context,T)}}return!0},r.prototype.on=function(n,h,s){return l(this,n,h,s,!1)},r.prototype.once=function(n,h,s){return l(this,n,h,s,!0)},r.prototype.removeListener=function(n,h,s,o){var u=t?t+n:n;if(!this._events[u])return this;if(!h)return a(this,u),this;var f=this._events[u];if(f.fn)f.fn===h&&(!o||f.once)&&(!s||f.context===s)&&a(this,u);else{for(var d=0,p=[],y=f.length;d<y;d++)(f[d].fn!==h||o&&!f[d].once||s&&f[d].context!==s)&&p.push(f[d]);p.length?this._events[u]=p.length===1?p[0]:p:a(this,u)}return this},r.prototype.removeAllListeners=function(n){var h;return n?(h=t?t+n:n,this._events[h]&&a(this,h)):(this._events=new c,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,x.exports=r},11517:(x,M,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(38829),m=function(l,a,r,i){for(var n=l[0],h=1;h<l.length;h++){var s=l[h];c(s,n,a,r,i),n=s}return l};x.exports=m},80318:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n){return c(l,"angle",a,r,i,n)};x.exports=m},60757:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){for(var l=0;l<t.length;l++){var a=t[l];c.call(m,a)}return t};x.exports=M},69927:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){m===void 0&&(m=0);for(var l=m;l<t.length;l++){var a=t[l],r=!0;for(var i in c)a[i]!==c[i]&&(r=!1);if(r)return a}return null};x.exports=M},32265:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){m===void 0&&(m=0);for(var l=t.length-1;l>=m;l--){var a=t[l],r=!0;for(var i in c)a[i]!==c[i]&&(r=!1);if(r)return a}return null};x.exports=M},94420:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(11879),m=t(60461),l=t(95540),a=t(29747),r=t(41481),i=new r({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),n=function(h,s){s===void 0&&(s={});var o=s.hasOwnProperty("width"),u=s.hasOwnProperty("height"),f=l(s,"width",-1),d=l(s,"height",-1),p=l(s,"cellWidth",1),y=l(s,"cellHeight",p),T=l(s,"position",m.TOP_LEFT),C=l(s,"x",0),P=l(s,"y",0),A=0,w=0,L=f*p,B=d*y;i.setPosition(C,P),i.setSize(p,y);for(var F=0;F<h.length;F++)if(c(h[F],i,T),o&&f===-1)i.x+=p;else if(u&&d===-1)i.y+=y;else if(u&&!o){if(w+=y,i.y+=y,w===B&&(w=0,A+=p,i.y=P,i.x+=p,A===L))break}else if(A+=p,i.x+=p,A===L&&(A=0,w+=y,i.x=C,i.y+=y,w===B))break;return h};x.exports=n},41721:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n){return c(l,"alpha",a,r,i,n)};x.exports=m},67285:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n){return c(l,"x",a,r,i,n)};x.exports=m},9074:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n,h,s){return r==null&&(r=a),c(l,"x",a,i,h,s),c(l,"y",r,n,h,s)};x.exports=m},75222:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n){return c(l,"y",a,r,i,n)};x.exports=m},22983:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m===void 0&&(m=0),l===void 0&&(l=6.28);for(var a=m,r=(l-m)/t.length,i=c.x,n=c.y,h=c.radius,s=0;s<t.length;s++)t[s].x=i+h*Math.cos(a),t[s].y=n+h*Math.sin(a),a+=r;return t};x.exports=M},95253:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m===void 0&&(m=0),l===void 0&&(l=6.28);for(var a=m,r=(l-m)/t.length,i=c.width/2,n=c.height/2,h=0;h<t.length;h++)t[h].x=c.x+i*Math.cos(a),t[h].y=c.y+n*Math.sin(a),a+=r;return t};x.exports=M},88505:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(15258),m=t(26708),l=function(a,r,i){var n;i?n=m(r,i,a.length):n=c(r,a.length);for(var h=0;h<a.length;h++){var s=a[h],o=n[h];s.x=o.x,s.y=o.y}return a};x.exports=l},41346:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(14649),m=t(86003),l=t(49498),a=function(r,i,n){n===void 0&&(n=0);var h=c(i,!1,r.length);n>0?m(h,n):n<0&&l(h,Math.abs(n));for(var s=0;s<r.length;s++)r[s].x=h[s].x,r[s].y=h[s].y;return r};x.exports=a},11575:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(84993),m=function(l,a,r){var i=c({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r),n=c({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},r),h=c({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},r);i.pop(),n.pop(),h.pop(),i=i.concat(n,h);for(var s=i.length/l.length,o=0,u=0;u<l.length;u++){var f=l[u],d=i[Math.floor(o)];f.x=d.x,f.y=d.y,o+=s}return l};x.exports=m},29953:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){for(var l=0;l<t.length;l++){var a=t[l];a.anims&&a.anims.play(c,m)}return t};x.exports=M},66979:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a,r){l===void 0&&(l=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,n=0,h=t.length;if(r===1)for(i=a;i<h;i++)t[i][c]+=m+n*l,n++;else for(i=a;i>=0;i--)t[i][c]+=m+n*l,n++;return t};x.exports=M},43967:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a,r){l===void 0&&(l=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,n=0,h=t.length;if(r===1)for(i=a;i<h;i++)t[i][c]=m+n*l,n++;else for(i=a;i>=0;i--)t[i][c]=m+n*l,n++;return t};x.exports=M},88926:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(28176),m=function(l,a){for(var r=0;r<l.length;r++)c(a,l[r]);return l};x.exports=m},33286:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(24820),m=function(l,a){for(var r=0;r<l.length;r++)c(a,l[r]);return l};x.exports=m},96e3:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65822),m=function(l,a){for(var r=0;r<l.length;r++)c(a,l[r]);return l};x.exports=m},28789:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26597),m=function(l,a){for(var r=0;r<l.length;r++)c(a,l[r]);return l};x.exports=m},97154:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(90260),m=function(l,a){for(var r=0;r<l.length;r++)c(a,l[r]);return l};x.exports=m},20510:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n){return c(l,"rotation",a,r,i,n)};x.exports=m},91051:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(1163),m=t(20339),l=function(a,r,i){for(var n=r.x,h=r.y,s=0;s<a.length;s++){var o=a[s];c(o,n,h,i,Math.max(1,m(o.x,o.y,n,h)))}return a};x.exports=l},76332:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(1163),m=function(l,a,r,i){var n=a.x,h=a.y;if(i===0)return l;for(var s=0;s<l.length;s++)c(l[s],n,h,r,i);return l};x.exports=m},61619:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n){return c(l,"scaleX",a,r,i,n)};x.exports=m},94868:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n,h,s){return r==null&&(r=a),c(l,"scaleX",a,i,h,s),c(l,"scaleY",r,n,h,s)};x.exports=m},95532:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66979),m=function(l,a,r,i,n){return c(l,"scaleY",a,r,i,n)};x.exports=m},8689:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"alpha",a,r,i,n)};x.exports=m},2645:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i){return c(l,"blendMode",a,0,r,i)};x.exports=m},32372:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"depth",a,r,i,n)};x.exports=m},85373:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){for(var l=0;l<t.length;l++)t[l].setInteractive(c,m);return t};x.exports=M},81583:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n,h,s){return r==null&&(r=a),c(l,"originX",a,i,h,s),c(l,"originY",r,n,h,s),l.forEach(function(o){o.updateDisplayOrigin()}),l};x.exports=m},79939:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"rotation",a,r,i,n)};x.exports=m},2699:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n,h,s){return r==null&&(r=a),c(l,"scaleX",a,i,h,s),c(l,"scaleY",r,n,h,s)};x.exports=m},98739:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"scaleX",a,r,i,n)};x.exports=m},98476:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"scaleY",a,r,i,n)};x.exports=m},6207:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n,h,s){return r==null&&(r=a),c(l,"scrollFactorX",a,i,h,s),c(l,"scrollFactorY",r,n,h,s)};x.exports=m},6607:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"scrollFactorX",a,r,i,n)};x.exports=m},72248:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"scrollFactorY",a,r,i,n)};x.exports=m},14036:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a){for(var r=0;r<t.length;r++)t[r].setTint(c,m,l,a);return t};x.exports=M},50159:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i){return c(l,"visible",a,0,r,i)};x.exports=m},77597:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"x",a,r,i,n)};x.exports=m},83194:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n,h,s){return r==null&&(r=a),c(l,"x",a,i,h,s),c(l,"y",r,n,h,s)};x.exports=m},67678:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43967),m=function(l,a,r,i,n){return c(l,"y",a,r,i,n)};x.exports=m},35850:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=new c);var h,s,o=l.length;if(o===1)h=l[0].x,s=l[0].y,l[0].x=a,l[0].y=r;else{var u=1,f=0;i===0&&(f=o-1,u=o-2),h=l[f].x,s=l[f].y,l[f].x=a,l[f].y=r;for(var d=0;d<o;d++)if(!(u>=o||u===-1)){var p=l[u],y=p.x,T=p.y;p.x=h,p.y=s,h=y,s=T,i===0?u--:u++}}return n.x=h,n.y=s,n};x.exports=m},8628:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(33680),m=function(l){return c(l)};x.exports=m},21837:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7602),m=function(l,a,r,i,n){n===void 0&&(n=!1);var h=Math.abs(i-r)/l.length,s;if(n)for(s=0;s<l.length;s++)l[s][a]+=c(s*h,r,i);else for(s=0;s<l.length;s++)l[s][a]=c(s*h,r,i);return l};x.exports=m},21910:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(54261),m=function(l,a,r,i,n){n===void 0&&(n=!1);var h=Math.abs(i-r)/l.length,s;if(n)for(s=0;s<l.length;s++)l[s][a]+=c(s*h,r,i);else for(s=0;s<l.length;s++)l[s][a]=c(s*h,r,i);return l};x.exports=m},62054:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a){if(a===void 0&&(a=!1),t.length===0)return t;if(t.length===1)return a?t[0][c]+=(l+m)/2:t[0][c]=(l+m)/2,t;var r=Math.abs(l-m)/(t.length-1),i;if(a)for(i=0;i<t.length;i++)t[i][c]+=i*r+m;else for(i=0;i<t.length;i++)t[i][c]=i*r+m;return t};x.exports=M},79815:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){for(var c=0;c<t.length;c++)t[c].visible=!t[c].visible;return t};x.exports=M},39665:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(15994),m=function(l,a,r){r===void 0&&(r=0);for(var i=0;i<l.length;i++){var n=l[i];n.x=c(n.x,a.left-r,a.right+r),n.y=c(n.y,a.top-r,a.bottom+r)}return l};x.exports=m},61061:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(74943),a=t(81957),r=t(41138),i=t(35154),n=t(90126),h=new m({initialize:function(o,u,f){this.manager=o,this.key=u,this.type="frame",this.frames=this.getFrames(o.textureManager,i(f,"frames",[]),i(f,"defaultTextureKey",null),i(f,"sortFrames",!0)),this.frameRate=i(f,"frameRate",null),this.duration=i(f,"duration",null),this.msPerFrame,this.skipMissedFrames=i(f,"skipMissedFrames",!0),this.delay=i(f,"delay",0),this.repeat=i(f,"repeat",0),this.repeatDelay=i(f,"repeatDelay",0),this.yoyo=i(f,"yoyo",!1),this.showBeforeDelay=i(f,"showBeforeDelay",!1),this.showOnStart=i(f,"showOnStart",!1),this.hideOnComplete=i(f,"hideOnComplete",!1),this.randomFrame=i(f,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(l.PAUSE_ALL,this.pause,this),this.manager.on(l.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(s,o,u,f){u===null&&f===null?(s.frameRate=24,s.duration=24/o*1e3):u&&f===null?(s.duration=u,s.frameRate=o/(u/1e3)):(s.frameRate=f,s.duration=o/f*1e3),s.msPerFrame=1e3/s.frameRate},addFrame:function(s){return this.addFrameAt(this.frames.length,s)},addFrameAt:function(s,o){var u=this.getFrames(this.manager.textureManager,o);if(u.length>0){if(s===0)this.frames=u.concat(this.frames);else if(s===this.frames.length)this.frames=this.frames.concat(u);else{var f=this.frames.slice(0,s),d=this.frames.slice(s);this.frames=f.concat(u,d)}this.updateFrameSequence()}return this},checkFrame:function(s){return s>=0&&s<this.frames.length},getFirstTick:function(s){s.accumulator=0,s.nextTick=s.currentFrame.duration?s.currentFrame.duration:s.msPerFrame},getFrameAt:function(s){return this.frames[s]},getFrames:function(s,o,u,f){f===void 0&&(f=!0);var d=[],p,y,T=1,C,P;if(typeof o=="string"){if(P=o,!s.exists(P))return console.warn('Texture "%s" not found',P),d;var A=s.get(P),w=A.getFrameNames();f&&n(w),o=[],w.forEach(function(N){o.push({key:P,frame:N})})}if(!Array.isArray(o)||o.length===0)return d;for(C=0;C<o.length;C++){var L=o[C],B=i(L,"key",u);if(B){var F=i(L,"frame",0),b=s.getFrame(B,F);if(!b){console.warn('Texture "%s" not found',B);continue}y=new r(B,F,T,b),y.duration=i(L,"duration",0),y.isFirst=!p,p&&(p.nextFrame=y,y.prevFrame=p),d.push(y),p=y,T++}}if(d.length>0){y.isLast=!0,y.nextFrame=d[0],d[0].prevFrame=y;var G=1/(d.length-1);for(C=0;C<d.length;C++)d[C].progress=C*G}return d},getNextTick:function(s){s.accumulator-=s.nextTick,s.nextTick=s.currentFrame.duration?s.currentFrame.duration:s.msPerFrame},getFrameByProgress:function(s){return s=c(s,0,1),a(s,this.frames,"progress")},nextFrame:function(s){var o=s.currentFrame;o.isLast?s.yoyo?this.handleYoyoFrame(s,!1):s.repeatCounter>0?s.inReverse&&s.forward?s.forward=!1:this.repeatAnimation(s):s.complete():this.updateAndGetNextTick(s,o.nextFrame)},handleYoyoFrame:function(s,o){if(o||(o=!1),s.inReverse===!o&&s.repeatCounter>0){(s.repeatDelay===0||s.pendingRepeat)&&(s.forward=o),this.repeatAnimation(s);return}if(s.inReverse!==o&&s.repeatCounter===0){s.complete();return}s.forward=o;var u=o?s.currentFrame.nextFrame:s.currentFrame.prevFrame;this.updateAndGetNextTick(s,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(s){var o=s.currentFrame;o.isFirst?s.yoyo?this.handleYoyoFrame(s,!0):s.repeatCounter>0?s.inReverse&&!s.forward?this.repeatAnimation(s):(s.forward=!0,this.repeatAnimation(s)):s.complete():this.updateAndGetNextTick(s,o.prevFrame)},updateAndGetNextTick:function(s,o){s.setCurrentFrame(o),this.getNextTick(s)},removeFrame:function(s){var o=this.frames.indexOf(s);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(s){return this.frames.splice(s,1),this.updateFrameSequence(),this},repeatAnimation:function(s){if(s._pendingStop===2){if(s._pendingStopValue===0)return s.stop();s._pendingStopValue--}s.repeatDelay>0&&!s.pendingRepeat?(s.pendingRepeat=!0,s.accumulator-=s.nextTick,s.nextTick+=s.repeatDelay):(s.repeatCounter--,s.forward?s.setCurrentFrame(s.currentFrame.nextFrame):s.setCurrentFrame(s.currentFrame.prevFrame),s.isPlaying&&(this.getNextTick(s),s.handleRepeat()))},toJSON:function(){var s={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){s.frames.push(o.toJSON())}),s},updateFrameSequence:function(){for(var s=this.frames.length,o=1/(s-1),u,f=0;f<s;f++)u=this.frames[f],u.index=f+1,u.isFirst=!1,u.isLast=!1,u.progress=f*o,f===0?(u.isFirst=!0,s===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[s-1],u.nextFrame=this.frames[f+1])):f===s-1&&s>1?(u.isLast=!0,u.prevFrame=this.frames[s-2],u.nextFrame=this.frames[0]):s>1&&(u.prevFrame=this.frames[f-1],u.nextFrame=this.frames[f+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(l.PAUSE_ALL,this.pause,this),this.manager.off(l.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var s=0;s<this.frames.length;s++)this.frames[s].destroy();this.frames=[],this.manager=null}});x.exports=h},41138:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i,n,h){h===void 0&&(h=!1),this.textureKey=a,this.textureFrame=r,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});x.exports=m},60848:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(42099),m=t(83419),l=t(90330),a=t(50792),r=t(74943),i=t(8443),n=t(95540),h=t(35154),s=t(36383),o=t(20283),u=t(41836),f=new m({Extends:a,initialize:function(p){a.call(this),this.game=p,this.textureManager=null,this.globalTimeScale=1,this.anims=new l,this.mixes=new l,this.paused=!1,this.name="AnimationManager",p.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(d,p,y){var T=this.anims,C=this.mixes,P=typeof d=="string"?d:d.key,A=typeof p=="string"?p:p.key;if(T.has(P)&&T.has(A)){var w=C.get(P);w||(w={}),w[A]=y,C.set(P,w)}return this},removeMix:function(d,p){var y=this.mixes,T=typeof d=="string"?d:d.key,C=y.get(T);if(C)if(p){var P=typeof p=="string"?p:p.key;C.hasOwnProperty(P)&&delete C[P]}else p||y.delete(T);return this},getMix:function(d,p){var y=this.mixes,T=typeof d=="string"?d:d.key,C=typeof p=="string"?p:p.key,P=y.get(T);return P&&P.hasOwnProperty(C)?P[C]:0},add:function(d,p){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(p.key=d,this.anims.set(d,p),this.emit(r.ADD_ANIMATION,d,p),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,p,y){var T=[],C=this.game.cache.json.get(d);if(!C)return console.warn("No Aseprite data found for: "+d),T;var P=this,A=h(C,"meta",null),w=h(C,"frames",null);if(A&&w){var L=h(A,"frameTags",[]);L.forEach(function(B){var F=[],b=n(B,"name",null),G=n(B,"from",0),N=n(B,"to",0),U=n(B,"direction","forward");if(b&&(!p||p&&p.indexOf(b)>-1)){for(var W=0,H=G;H<=N;H++){var k=H.toString(),z=w[k];if(z){var $=n(z,"duration",s.MAX_SAFE_INTEGER);F.push({key:d,frame:k,duration:$}),W+=$}}U==="reverse"&&(F=F.reverse());var X={key:b,frames:F,duration:W,yoyo:U==="pingpong"},Q;y?y.anims&&(Q=y.anims.create(X)):Q=P.create(X),Q&&T.push(Q)}})}return T},create:function(d){var p=d.key,y=!1;return p&&(y=this.get(p),y?console.warn("AnimationManager key already exists: "+p):(y=new c(this,p,d),this.anims.set(p,y),this.emit(r.ADD_ANIMATION,p,y))),y},fromJSON:function(d,p){p===void 0&&(p=!1),p&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var y=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var T=0;T<d.anims.length;T++)y.push(this.create(d.anims[T]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&y.push(this.create(d));return y},generateFrameNames:function(d,p){var y=h(p,"prefix",""),T=h(p,"start",0),C=h(p,"end",0),P=h(p,"suffix",""),A=h(p,"zeroPad",0),w=h(p,"outputArray",[]),L=h(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),w;var B=this.textureManager.get(d);if(!B)return w;var F;if(p)for(L||(L=o(T,C)),F=0;F<L.length;F++){var b=y+u(L[F],A,"0",1)+P;B.has(b)?w.push({key:d,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,d)}else for(L=B.getFrameNames(),F=0;F<L.length;F++)w.push({key:d,frame:L[F]});return w},generateFrameNumbers:function(d,p){var y=h(p,"start",0),T=h(p,"end",-1),C=h(p,"first",!1),P=h(p,"outputArray",[]),A=h(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),P;var w=this.textureManager.get(d);if(!w)return P;C&&w.has(C)&&P.push({key:d,frame:C}),A||(T===-1&&(T=w.frameTotal-2),A=o(y,T));for(var L=0;L<A.length;L++){var B=A[L];w.has(B)?P.push({key:d,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,d)}return P},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var p=this.textureManager.get(d),y=p.key,T=this.anims.getArray(),C=[],P=0;P<T.length;P++)for(var A=T[P],w=A.frames,L=0;L<w.length;L++)if(w[L].textureKey===y){C.push(A.key);break}return C},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(d,p){Array.isArray(p)||(p=[p]);for(var y=0;y<p.length;y++)p[y].anims.play(d);return this},staggerPlay:function(d,p,y,T){y===void 0&&(y=0),T===void 0&&(T=!0),Array.isArray(p)||(p=[p]);var C=p.length;T||C--;for(var P=0;P<p.length;P++){var A=y<0?Math.abs(y)*(C-P):y*P;p[P].anims.playAfterDelay(d,A)}return this},remove:function(d){var p=this.get(d);return p&&(this.emit(r.REMOVE_ANIMATION,d,p),this.anims.delete(d),this.removeMix(d)),p},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(d){var p={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?p.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(y,T){p.anims.push(T.toJSON())}),p},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});x.exports=f},9674:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(42099),m=t(30976),l=t(83419),a=t(90330),r=t(74943),i=t(95540),n=new l({initialize:function(s){this.parent=s,this.animationManager=s.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(h){var s=this.parent;if(h===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,s;Array.isArray(h)||(h=[h]);for(var o=0;o<h.length;o++){var u=h[o];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(h){this.isPlaying&&this.stop();var s=this.animationManager,o=typeof h=="string"?h:i(h,"key",null),u=this.exists(o)?this.get(o):s.get(o);if(!u)console.warn("Missing animation: "+o);else{this.currentAnim=u;var f=u.getTotalFrames(),d=i(h,"frameRate",u.frameRate),p=i(h,"duration",u.duration);u.calculateDuration(this,f,p,d),this.delay=i(h,"delay",u.delay),this.repeat=i(h,"repeat",u.repeat),this.repeatDelay=i(h,"repeatDelay",u.repeatDelay),this.yoyo=i(h,"yoyo",u.yoyo),this.showBeforeDelay=i(h,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=i(h,"showOnStart",u.showOnStart),this.hideOnComplete=i(h,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=i(h,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=i(h,"randomFrame",u.randomFrame),this.timeScale=i(h,"timeScale",this.timeScale);var y=i(h,"startFrame",0);y>f&&(y=0),this.randomFrame&&(y=m(0,f-1));var T=u.frames[y];y===0&&!this.forward&&(T=u.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(h){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),h!==void 0&&this.setCurrentFrame(h),this.parent},resume:function(h){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),h!==void 0&&this.setCurrentFrame(h),this.parent},playAfterDelay:function(h,s){if(!this.isPlaying)this.delayCounter=s,this.play(h,!0);else{var o=this.nextAnim,u=this.nextAnimsQueue;o&&u.unshift(o),this.nextAnim=h,this._pendingStop=1,this._pendingStopValue=s}return this.parent},playAfterRepeat:function(h,s){if(s===void 0&&(s=1),!this.isPlaying)this.play(h);else{var o=this.nextAnim,u=this.nextAnimsQueue;o&&u.unshift(o),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this.nextAnim=h,this._pendingStop=2,this._pendingStopValue=s}return this.parent},play:function(h,s){s===void 0&&(s=!1);var o=this.currentAnim,u=this.parent,f=typeof h=="string"?h:h.key;if(s&&this.isPlaying&&o.key===f)return u;if(o&&this.isPlaying){var d=this.animationManager.getMix(o.key,h);if(d>0)return this.playAfterDelay(h,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h)},playReverse:function(h,s){s===void 0&&(s=!1);var o=typeof h=="string"?h:h.key;return s&&this.isPlaying&&this.currentAnim.key===o?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h))},startAnimation:function(h){this.load(h);var s=this.currentAnim,o=this.parent;return s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,s.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),o},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(h,s){var o=this.currentAnim;if(o){var u=this.currentFrame,f=this.parent,d=u.textureFrame;f.emit(h,o,u,f,d),s&&f.emit(s+o.key,o,u,f,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var h=this.currentFrame;if(!h)return 0;var s=h.progress;return this.inReverse&&(s*=-1),s},setProgress:function(h){return this.forward||(h=1-h),this.setCurrentFrame(this.currentAnim.getFrameByProgress(h)),this.parent},setRepeat:function(h){return this.repeatCounter=h===-1?Number.MAX_VALUE:h,this.parent},globalRemove:function(h,s){s===void 0&&(s=this.currentAnim),this.isPlaying&&s.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(h,s){h===void 0&&(h=!1),s===void 0&&(s=!1);var o=this.currentAnim,u=this.parent;return o?(s&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),o.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!h,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(o.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(h)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(h)}return this.parent},stopAfterDelay:function(h){return this._pendingStop=1,this._pendingStopValue=h,this.parent},stopAfterRepeat:function(h){return h===void 0&&(h=1),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=h,this.parent},stopOnFrame:function(h){return this._pendingStop=3,this._pendingStopValue=h,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(h,s){var o=this.currentAnim;if(!(!this.isPlaying||!o||o.paused)){if(this.accumulator+=s*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=s,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?o.nextFrame(this):o.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?o.nextFrame(this):o.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(h){var s=this.parent;return this.currentFrame=h,s.texture=h.frame.texture,s.frame=h.frame,s.isCropped&&s.frame.updateCropUVs(s._crop,s.flipX,s.flipY),h.setAlpha&&(s.alpha=h.alpha),s.setSizeToFrame(),s._originComponent&&(h.frame.customPivot?s.setOrigin(h.frame.pivotX,h.frame.pivotY):s.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===h&&this.stop()),s},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(h){return this.anims?this.anims.get(h):null},exists:function(h){return this.anims?this.anims.has(h):!1},create:function(h){var s=h.key,o=!1;return s&&(o=this.get(s),o?console.warn("Animation key already exists: "+s):(o=new c(this,s,h),this.anims||(this.anims=new a),this.anims.set(s,o))),o},createFromAseprite:function(h,s){return this.animationManager.createFromAseprite(h,s,this.parent)},generateFrameNames:function(h,s){return this.animationManager.generateFrameNames(h,s)},generateFrameNumbers:function(h,s){return this.animationManager.generateFrameNumbers(h,s)},remove:function(h){var s=this.get(h);return s&&(this.currentAnim===s&&this.stop(),this.anims.delete(h)),s},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});x.exports=n},57090:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="add"},25312:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="animationcomplete"},89580:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="animationcomplete-"},52860:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="animationrepeat"},63850:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="animationrestart"},99085:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="animationstart"},28087:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="animationstop"},1794:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="animationupdate"},52562:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pauseall"},57953:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="remove"},68339:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resumeall"},74943:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(90330),l=t(50792),a=t(24736),r=new c({initialize:function(){this.entries=new m,this.events=new l},add:function(i,n){return this.entries.set(i,n),this.events.emit(a.ADD,this,i,n),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var n=this.get(i);return n&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});x.exports=r},24047:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2161),m=t(83419),l=t(8443),a=new m({initialize:function(i){this.game=i,this.binary=new c,this.bitmapFont=new c,this.json=new c,this.physics=new c,this.shader=new c,this.audio=new c,this.video=new c,this.text=new c,this.html=new c,this.obj=new c,this.tilemap=new c,this.xml=new c,this.custom={},this.game.events.once(l.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new c),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<r.length;i++)this[r[i]].destroy(),this[r[i]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});x.exports=a},51464:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="add"},59261:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="remove"},24736:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(39506),a=t(50792),r=t(19715),i=t(87841),n=t(61340),h=t(80333),s=t(26099),o=new c({Extends:a,Mixins:[m.AlphaSingle,m.Visible],initialize:function(f,d,p,y){f===void 0&&(f=0),d===void 0&&(d=0),p===void 0&&(p=0),y===void 0&&(y=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=f,this._y=d,this._width=p,this._height=y,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new s(p/2,y/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,f){return u===void 0&&(u=.5),f===void 0&&(f=u),this.originX=u,this.originY=f,this},getScroll:function(u,f,d){d===void 0&&(d=new s);var p=this.width*.5,y=this.height*.5;return d.x=u-p,d.y=f-y,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(u){var f=this.width*.5;return this.midPoint.x=u,this.scrollX=u-f,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var f=this.height*.5;return this.midPoint.y=u,this.scrollY=u-f,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,f){return this.centerOnX(u),this.centerOnY(f),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,f=this.width*.5,d=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-f,this.scrollY=u.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var f=this.matrix.matrix,d=f[0],p=f[1],y=f[2],T=f[3],C=d*T-p*y;if(!C)return u;var P=f[4],A=f[5],w=this.scrollX,L=this.scrollY,B=this.width,F=this.height,b=this.y,G=b+F,N=this.x,U=N+B,W=this.culledObjects,H=u.length;C=1/C,W.length=0;for(var k=0;k<H;++k){var z=u[k];if(!z.hasOwnProperty("width")||z.parentContainer){W.push(z);continue}var $=z.width,X=z.height,Q=z.x-w*z.scrollFactorX-$*z.originX,Z=z.y-L*z.scrollFactorY-X*z.originY,K=Q*d+Z*y+P,J=Q*p+Z*T+A,q=(Q+$)*d+(Z+X)*y+P,tt=(Q+$)*p+(Z+X)*T+A;q>N&&K<U&&tt>b&&J<G&&W.push(z)}return W},getWorldPoint:function(u,f,d){d===void 0&&(d=new s);var p=this.matrix.matrix,y=p[0],T=p[1],C=p[2],P=p[3],A=p[4],w=p[5],L=y*P-T*C;if(!L)return d.x=u,d.y=f,d;L=1/L;var B=P*L,F=-T*L,b=-C*L,G=y*L,N=(C*w-P*A)*L,U=(T*A-y*w)*L,W=Math.cos(this.rotation),H=Math.sin(this.rotation),k=this.zoomX,z=this.zoomY,$=this.scrollX,X=this.scrollY,Q=u+($*W-X*H)*k,Z=f+($*H+X*W)*z;return d.x=Q*B+Z*b+N,d.y=Q*F+Z*G+U,d},ignore:function(u){var f=this.id;Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var p=u[d];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=f}return this},clampX:function(u){var f=this._bounds,d=this.displayWidth,p=f.x+(d-this.width)/2,y=Math.max(p,p+f.width-d);return u<p?u=p:u>y&&(u=y),u},clampY:function(u){var f=this._bounds,d=this.displayHeight,p=f.y+(d-this.height)/2,y=Math.max(p,p+f.height-d);return u<p?u=p:u>y&&(u=y),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=l(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=h(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,f,d,p,y){return y===void 0&&(y=!1),this._bounds.setTo(u,f,d,p),this.dirty=!0,this.useBounds=!0,y?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new i);var f=this._bounds;return u.setTo(f.x,f.y,f.width,f.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,f){return f===void 0&&(f=u),this.x=u,this.y=f,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,f){f===void 0&&(f=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=f;var d=u.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(u,f){return f===void 0&&(f=u),this.scrollX=u,this.scrollY=f,this},setSize:function(u,f){return f===void 0&&(f=u),this.width=u,this.height=f,this},setViewport:function(u,f,d,p){return this.x=u,this.y=f,this.width=d,this.height=p,this},setZoom:function(u,f){return u===void 0&&(u=1),f===void 0&&(f=u),u===0&&(u=.001),f===0&&(f=.001),this.zoomX=u,this.zoomY=f,this},setMask:function(u,f){return f===void 0&&(f=!0),this.mask=u,this._maskCamera=f?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,f=this.sceneManager;u&&!this._customViewport?f.customViewports++:!u&&this._customViewport&&f.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});x.exports=o},38058:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(71911),m=t(67502),l=t(45319),a=t(83419),r=t(31401),i=t(20052),n=t(19715),h=t(28915),s=t(87841),o=t(26099),u=new a({Extends:c,Mixins:[r.PostPipeline],initialize:function(d,p,y,T){c.call(this,d,p,y,T),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(f,d){if(f===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=f,this.deadzone.height=d):this.deadzone=new s(0,0,f,d),this._follow){var p=this.width/2,y=this.height/2,T=this._follow.x-this.followOffset.x,C=this._follow.y-this.followOffset.y;this.midPoint.set(T,C),this.scrollX=T-p,this.scrollY=C-y}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(f,d,p,y,T,C){return this.fadeEffect.start(!1,f,d,p,y,!0,T,C)},fadeOut:function(f,d,p,y,T,C){return this.fadeEffect.start(!0,f,d,p,y,!0,T,C)},fadeFrom:function(f,d,p,y,T,C,P){return this.fadeEffect.start(!1,f,d,p,y,T,C,P)},fade:function(f,d,p,y,T,C,P){return this.fadeEffect.start(!0,f,d,p,y,T,C,P)},flash:function(f,d,p,y,T,C,P){return this.flashEffect.start(f,d,p,y,T,C,P)},shake:function(f,d,p,y,T){return this.shakeEffect.start(f,d,p,y,T)},pan:function(f,d,p,y,T,C,P){return this.panEffect.start(f,d,p,y,T,C,P)},rotateTo:function(f,d,p,y,T,C,P){return this.rotateToEffect.start(f,d,p,y,T,C,P)},zoomTo:function(f,d,p,y,T,C){return this.zoomEffect.start(f,d,p,y,T,C)},preRender:function(){this.renderList.length=0;var f=this.width,d=this.height,p=f*.5,y=d*.5,T=this.zoomX,C=this.zoomY,P=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(T)&&Number.isInteger(C);var A=f*this.originX,w=d*this.originY,L=this._follow,B=this.deadzone,F=this.scrollX,b=this.scrollY;B&&m(B,this.midPoint.x,this.midPoint.y);var G=!1;if(L&&!this.panEffect.isRunning){var N=this.lerp,U=L.x-this.followOffset.x,W=L.y-this.followOffset.y;B?(U<B.x?F=h(F,F-(B.x-U),N.x):U>B.right&&(F=h(F,F+(U-B.right),N.x)),W<B.y?b=h(b,b-(B.y-W),N.y):W>B.bottom&&(b=h(b,b+(W-B.bottom),N.y))):(F=h(F,U-A,N.x),b=h(b,W-w,N.y)),G=!0}this.roundPixels&&(F=Math.floor(F),b=Math.floor(b)),this.useBounds&&(F=this.clampX(F),b=this.clampY(b)),this.scrollX=F,this.scrollY=b;var H=F+p,k=b+y;this.midPoint.set(H,k);var z=Math.floor(f/T+.5),$=Math.floor(d/C+.5),X=Math.floor(H-z/2+.5),Q=Math.floor(k-$/2+.5);this.worldView.setTo(X,Q,z,$),P.applyITRS(Math.floor(this.x+A+.5),Math.floor(this.y+w+.5),this.rotation,T,C),P.translate(-A,-w),this.shakeEffect.preRender(),G&&this.emit(n.FOLLOW_UPDATE,this,L)},setLerp:function(f,d){return f===void 0&&(f=1),d===void 0&&(d=f),this.lerp.set(f,d),this},setFollowOffset:function(f,d){return f===void 0&&(f=0),d===void 0&&(d=0),this.followOffset.set(f,d),this},startFollow:function(f,d,p,y,T,C){d===void 0&&(d=!1),p===void 0&&(p=1),y===void 0&&(y=p),T===void 0&&(T=0),C===void 0&&(C=T),this._follow=f,this.roundPixels=d,p=l(p,0,1),y=l(y,0,1),this.lerp.set(p,y),this.followOffset.set(T,C);var P=this.width/2,A=this.height/2,w=f.x-T,L=f.y-C;return this.midPoint.set(w,L),this.scrollX=w-P,this.scrollY=L-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(f,d){this.visible&&(this.rotateToEffect.update(f,d),this.panEffect.update(f,d),this.zoomEffect.update(f,d),this.shakeEffect.update(f,d),this.flashEffect.update(f,d),this.fadeEffect.update(f,d))},destroy:function(){this.resetFX(),c.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});x.exports=u},32743:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(38058),m=t(83419),l=t(95540),a=t(37277),r=t(37303),i=t(97480),n=t(44594),h=new m({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(n.BOOT,this.boot,this),o.sys.events.on(n.START,this.start,this)},boot:function(){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new c(0,0,s.scale.width,s.scale.height).setScene(this.scene),s.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var s=this.systems;s.settings.cameras?this.fromJSON(s.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(n.UPDATE,this.update,this),o.once(n.SHUTDOWN,this.shutdown,this)},add:function(s,o,u,f,d,p){s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),d===void 0&&(d=!1),p===void 0&&(p="");var y=new c(s,o,u,f);return y.setName(p),y.setScene(this.scene),y.setRoundPixels(this.roundPixels),y.id=this.getNextID(),this.cameras.push(y),d&&(this.main=y),y},addExisting:function(s,o){o===void 0&&(o=!1);var u=this.cameras.indexOf(s);return u===-1?(s.id=this.getNextID(),s.setRoundPixels(this.roundPixels),this.cameras.push(s),o&&(this.main=s),s):null},getNextID:function(){for(var s=this.cameras,o=1,u=0;u<32;u++){for(var f=!1,d=0;d<s.length;d++){var p=s[d];if(p&&p.id===o){f=!0;continue}}if(f)o=o<<1;else return o}return 0},getTotal:function(s){s===void 0&&(s=!1);for(var o=0,u=this.cameras,f=0;f<u.length;f++){var d=u[f];(!s||s&&d.visible)&&o++}return o},fromJSON:function(s){Array.isArray(s)||(s=[s]);for(var o=this.scene.sys.scale.width,u=this.scene.sys.scale.height,f=0;f<s.length;f++){var d=s[f],p=l(d,"x",0),y=l(d,"y",0),T=l(d,"width",o),C=l(d,"height",u),P=this.add(p,y,T,C);P.name=l(d,"name",""),P.zoom=l(d,"zoom",1),P.rotation=l(d,"rotation",0),P.scrollX=l(d,"scrollX",0),P.scrollY=l(d,"scrollY",0),P.roundPixels=l(d,"roundPixels",!1),P.visible=l(d,"visible",!0);var A=l(d,"backgroundColor",!1);A&&P.setBackgroundColor(A);var w=l(d,"bounds",null);if(w){var L=l(w,"x",0),B=l(w,"y",0),F=l(w,"width",o),b=l(w,"height",u);P.setBounds(L,B,F,b)}}return this},getCamera:function(s){for(var o=this.cameras,u=0;u<o.length;u++)if(o[u].name===s)return o[u];return null},getCamerasBelowPointer:function(s){for(var o=this.cameras,u=s.x,f=s.y,d=[],p=0;p<o.length;p++){var y=o[p];y.visible&&y.inputEnabled&&r(y,u,f)&&d.unshift(y)}return d},remove:function(s,o){o===void 0&&(o=!0),Array.isArray(s)||(s=[s]);for(var u=0,f=this.cameras,d=0;d<s.length;d++){var p=f.indexOf(s[d]);p!==-1&&(o?f[p].destroy():f[p].renderList=[],f.splice(p,1),u++)}return!this.main&&f[0]&&(this.main=f[0]),u},render:function(s,o){for(var u=this.scene,f=this.cameras,d=0;d<f.length;d++){var p=f[d];if(p.visible&&p.alpha>0){p.preRender();var y=this.getVisibleChildren(o.getChildren(),p);s.render(u,y,p)}}},getVisibleChildren:function(s,o){return s.filter(function(u){return u.willRender(o)})},resetAll:function(){for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(s,o){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(s,o)},onResize:function(s,o,u,f,d){for(var p=0;p<this.cameras.length;p++){var y=this.cameras[p];y._x===0&&y._y===0&&y._width===f&&y._height===d&&y.setSize(o.width,o.height)}},resize:function(s,o){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(s,o)},shutdown:function(){this.main=void 0;for(var s=0;s<this.cameras.length;s++)this.cameras[s].destroy();this.cameras=[];var o=this.systems.events;o.off(n.UPDATE,this.update,this),o.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(i.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",h,"cameras"),x.exports=h},5020:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(19715),a=new m({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,i,n,h,s,o,u,f){if(r===void 0&&(r=!0),i===void 0&&(i=1e3),n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=r,this.progress=0,this.red=n,this.green=h,this.blue=s,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f;var d=r?l.FADE_OUT_START:l.FADE_IN_START;return this.camera.emit(d,this.camera,this,i,n,h,s),this.camera},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=c(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,h=this.red/255,s=this.green/255,o=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,i(o,s,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?l.FADE_OUT_COMPLETE:l.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});x.exports=a},10662:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(19715),a=new m({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,i,n,h,s,o,u){return r===void 0&&(r=250),i===void 0&&(i=255),n===void 0&&(n=255),h===void 0&&(h=255),s===void 0&&(s=!1),o===void 0&&(o=null),u===void 0&&(u=this.camera.scene),!s&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=i,this.green=n,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=u,this.camera.emit(l.FLASH_START,this.camera,this,r,i,n,h),this.camera)},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=c(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning)return!1;var n=this.camera,h=this.red/255,s=this.green/255,o=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,i(o,s,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});x.exports=a},20359:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(62640),a=t(19715),r=t(26099),i=new m({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,h,s,o,u,f,d){s===void 0&&(s=1e3),o===void 0&&(o=l.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene);var p=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(n,h),p.getScroll(n,h,this.current),typeof o=="string"&&l.hasOwnProperty(o)?this.ease=l[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d,this.camera.emit(a.PAN_START,this.camera,this,s,n,h)),p},update:function(n,h){if(this.isRunning){this._elapsed+=h;var s=c(this._elapsed/this.duration,0,1);this.progress=s;var o=this.camera;if(this._elapsed<this.duration){var u=this.ease(s);o.getScroll(this.destination.x,this.destination.y,this.current);var f=this.source.x+(this.current.x-this.source.x)*u,d=this.source.y+(this.current.y-this.source.y)*u;o.setScroll(f,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,s,f,d)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,s,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});x.exports=i},34208:(x,M,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var c=t(45319),m=t(83419),l=t(19715),a=t(62640),r=new m({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,n,h,s,o,u,f){h===void 0&&(h=1e3),s===void 0&&(s=a.Linear),o===void 0&&(o=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var d=i;i<0?(d=-1*i,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;d=d-Math.floor(d/p)*p;var y=this.camera;if(!o&&this.isRunning)return y;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=y.rotation,this.destination=d,typeof s=="string"&&a.hasOwnProperty(s)?this.ease=a[s]:typeof s=="function"&&(this.ease=s),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.shortestPath){var T=0,C=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+p)-this.source,this.source>this.destination?C=Math.abs(this.source-this.destination):C=Math.abs(this.source+p)-this.destination,T<C?this.clockwise=!0:T>C&&(this.clockwise=!1)}return this.camera.emit(l.ROTATE_START,this.camera,this,h,d),y},update:function(i,n){if(this.isRunning){this._elapsed+=n;var h=c(this._elapsed/this.duration,0,1);this.progress=h;var s=this.camera;if(this._elapsed<this.duration){var o=this.ease(h);this.current=s.rotation;var u=0,f=360*Math.PI/180,d=this.destination,p=this.current;this.clockwise===!1&&(d=this.current,p=this.destination),d>=p?u=Math.abs(d-p):u=Math.abs(d+f)-p;var y=0;this.clockwise?y=s.rotation+u*o:y=s.rotation-u*o,s.rotation=y,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,h,y)}else s.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,s,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});x.exports=r},30330:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(19715),a=t(26099),r=new m({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,n,h,s,o){return i===void 0&&(i=100),n===void 0&&(n=.05),h===void 0&&(h=!1),s===void 0&&(s=null),o===void 0&&(o=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=o,this.camera.emit(l.SHAKE_START,this.camera,this,i,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,n){if(this.isRunning)if(this._elapsed+=n,this.progress=c(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,s=this.camera.width,o=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*h.x*s*2-h.x*s)*u,this._offsetY=(Math.random()*h.y*o*2-h.y*o)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});x.exports=r},45641:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(62640),a=t(19715),r=new m({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,n,h,s,o,u){n===void 0&&(n=1e3),h===void 0&&(h=l.Linear),s===void 0&&(s=!1),o===void 0&&(o=null),u===void 0&&(u=this.camera.scene);var f=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=f.zoom,this.destination=i,typeof h=="string"&&l.hasOwnProperty(h)?this.ease=l[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=u,this.camera.emit(a.ZOOM_START,this.camera,this,n,i)),f},update:function(i,n){this.isRunning&&(this._elapsed+=n,this.progress=c(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});x.exports=r},20052:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="cameradestroy"},32726:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerafadeincomplete"},87807:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerafadeinstart"},45917:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerafadeoutcomplete"},95666:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerafadeoutstart"},47056:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="cameraflashcomplete"},91261:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="cameraflashstart"},45047:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="followupdate"},81927:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerapancomplete"},74264:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerapanstart"},54419:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="postrender"},79330:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="prerender"},93183:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerarotatecomplete"},80112:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerarotatestart"},62252:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerashakecomplete"},86017:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerashakestart"},539:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerazoomcomplete"},51892:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="camerazoomstart"},19715:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(35154),l=new c({initialize:function(r){this.camera=m(r,"camera",null),this.left=m(r,"left",null),this.right=m(r,"right",null),this.up=m(r,"up",null),this.down=m(r,"down",null),this.zoomIn=m(r,"zoomIn",null),this.zoomOut=m(r,"zoomOut",null),this.zoomSpeed=m(r,"zoomSpeed",.01),this.minZoom=m(r,"minZoom",.001),this.maxZoom=m(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=m(r,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=m(r,"speed.x",0),this.speedY=m(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});x.exports=l},58818:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(35154),l=new c({initialize:function(r){this.camera=m(r,"camera",null),this.left=m(r,"left",null),this.right=m(r,"right",null),this.up=m(r,"up",null),this.down=m(r,"down",null),this.zoomIn=m(r,"zoomIn",null),this.zoomOut=m(r,"zoomOut",null),this.zoomSpeed=m(r,"zoomSpeed",.01),this.minZoom=m(r,"minZoom",.001),this.maxZoom=m(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=m(r,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=m(r,"acceleration.x",0),this.accelY=m(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=m(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=m(r,"drag.x",0),this.dragY=m(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=m(r,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=m(r,"maxSpeed.x",0),this.maxSpeedY=m(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*a|0),this._speedY!==0&&(r.scrollY-=this._speedY*a|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});x.exports=l},38865:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};x.exports=c},69547:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(8054),l=t(42363),a=t(82264),r=t(95540),i=t(35154),n=t(41212),h=t(29747),s=t(75508),o=t(36060),u=t(80333),f=new c({initialize:function(p){p===void 0&&(p={});var y=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],T="#ffffff",C=i(p,"scale",null);this.width=i(C,"width",1024,p),this.height=i(C,"height",768,p),this.zoom=i(C,"zoom",1,p),this.parent=i(C,"parent",void 0,p),this.scaleMode=i(C,C?"mode":"scaleMode",0,p),this.expandParent=i(C,"expandParent",!0,p),this.autoRound=i(C,"autoRound",!1,p),this.autoCenter=i(C,"autoCenter",0,p),this.resizeInterval=i(C,"resizeInterval",500,p),this.fullscreenTarget=i(C,"fullscreenTarget",null,p),this.minWidth=i(C,"min.width",0,p),this.maxWidth=i(C,"max.width",0,p),this.minHeight=i(C,"min.height",0,p),this.maxHeight=i(C,"max.height",0,p),this.snapWidth=i(C,"snap.width",0,p),this.snapHeight=i(C,"snap.height",0,p),this.renderType=i(p,"type",m.AUTO),this.canvas=i(p,"canvas",null),this.context=i(p,"context",null),this.canvasStyle=i(p,"canvasStyle",null),this.customEnvironment=i(p,"customEnvironment",!1),this.sceneConfig=i(p,"scene",null),this.seed=i(p,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=i(p,"title",""),this.gameURL=i(p,"url","https://phaser.io/"+m.LOG_VERSION),this.gameVersion=i(p,"version",""),this.autoFocus=i(p,"autoFocus",!0),this.stableSort=i(p,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=i(p,"dom.createContainer",!1),this.domPointerEvents=i(p,"dom.pointerEvents","none"),this.inputKeyboard=i(p,"input.keyboard",!0),this.inputKeyboardEventTarget=i(p,"input.keyboard.target",window),this.inputKeyboardCapture=i(p,"input.keyboard.capture",[]),this.inputMouse=i(p,"input.mouse",!0),this.inputMouseEventTarget=i(p,"input.mouse.target",null),this.inputMousePreventDefaultDown=i(p,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=i(p,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=i(p,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=i(p,"input.mouse.preventDefaultWheel",!0),this.inputTouch=i(p,"input.touch",a.input.touch),this.inputTouchEventTarget=i(p,"input.touch.target",null),this.inputTouchCapture=i(p,"input.touch.capture",!0),this.inputActivePointers=i(p,"input.activePointers",1),this.inputSmoothFactor=i(p,"input.smoothFactor",0),this.inputWindowEvents=i(p,"input.windowEvents",!0),this.inputGamepad=i(p,"input.gamepad",!1),this.inputGamepadEventTarget=i(p,"input.gamepad.target",window),this.disableContextMenu=i(p,"disableContextMenu",!1),this.audio=i(p,"audio",{}),this.hideBanner=i(p,"banner",null)===!1,this.hidePhaser=i(p,"banner.hidePhaser",!1),this.bannerTextColor=i(p,"banner.text",T),this.bannerBackgroundColor=i(p,"banner.background",y),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=i(p,"fps",null),this.disablePreFX=i(p,"disablePreFX",!1),this.disablePostFX=i(p,"disablePostFX",!1);var P=i(p,"render",null);this.pipeline=i(P,"pipeline",null,p),this.autoMobilePipeline=i(P,"autoMobilePipeline",!0,p),this.defaultPipeline=i(P,"defaultPipeline",o.MULTI_PIPELINE,p),this.antialias=i(P,"antialias",!0,p),this.antialiasGL=i(P,"antialiasGL",!0,p),this.mipmapFilter=i(P,"mipmapFilter","",p),this.desynchronized=i(P,"desynchronized",!1,p),this.roundPixels=i(P,"roundPixels",!1,p),this.pixelArt=i(P,"pixelArt",this.zoom!==1,p),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=i(P,"transparent",!1,p),this.clearBeforeRender=i(P,"clearBeforeRender",!0,p),this.preserveDrawingBuffer=i(P,"preserveDrawingBuffer",!1,p),this.premultipliedAlpha=i(P,"premultipliedAlpha",!0,p),this.failIfMajorPerformanceCaveat=i(P,"failIfMajorPerformanceCaveat",!1,p),this.powerPreference=i(P,"powerPreference","default",p),this.batchSize=i(P,"batchSize",4096,p),this.maxTextures=i(P,"maxTextures",-1,p),this.maxLights=i(P,"maxLights",10,p);var A=i(p,"backgroundColor",0);this.backgroundColor=u(A),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=i(p,"callbacks.preBoot",h),this.postBoot=i(p,"callbacks.postBoot",h),this.physics=i(p,"physics",{}),this.defaultPhysicsSystem=i(this.physics,"default",!1),this.loaderBaseURL=i(p,"loader.baseURL",""),this.loaderPath=i(p,"loader.path",""),this.loaderMaxParallelDownloads=i(p,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=i(p,"loader.crossOrigin",void 0),this.loaderResponseType=i(p,"loader.responseType",""),this.loaderAsync=i(p,"loader.async",!0),this.loaderUser=i(p,"loader.user",""),this.loaderPassword=i(p,"loader.password",""),this.loaderTimeout=i(p,"loader.timeout",0),this.loaderMaxRetries=i(p,"loader.maxRetries",2),this.loaderWithCredentials=i(p,"loader.withCredentials",!1),this.loaderImageLoadType=i(p,"loader.imageLoadType","XHR"),this.loaderLocalScheme=i(p,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=i(p,"fx.glow.quality",.1),this.glowFXDistance=i(p,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=i(p,"plugins",null),L=l.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:n(w)&&(this.installGlobalPlugins=r(w,"global",[]),this.installScenePlugins=r(w,"scene",[]),Array.isArray(w.default)?L=w.default:Array.isArray(w.defaultMerge)&&(L=L.concat(w.defaultMerge)))),this.defaultPlugins=L;var B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=i(p,"images.default",B+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=i(p,"images.missing",B+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=i(p,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});x.exports=f},86054:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20623),m=t(27919),l=t(8054),a=t(89357),r=function(i){var n=i.config;if((n.customEnvironment||n.canvas)&&n.renderType===l.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==l.HEADLESS)if(n.renderType===l.AUTO&&(n.renderType=a.webGL?l.WEBGL:l.CANVAS),n.renderType===l.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===l.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||m.disableSmoothing();var h=i.scale.baseSize,s=h.width,o=h.height;if(n.canvas?(i.canvas=n.canvas,i.canvas.width=s,i.canvas.height=o):i.canvas=m.create(i,s,o,n.renderType),n.canvasStyle&&(i.canvas.style=n.canvasStyle),n.antialias||c.setCrisp(i.canvas),n.renderType!==l.HEADLESS){var u,f;u=t(68627),f=t(74797),n.renderType===l.WEBGL?i.renderer=new f(i):(i.renderer=new u(i),i.context=i.renderer.gameContext)}};x.exports=r},96391:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(8054),m=function(l){var a=l.config;if(!a.hideBanner){var r="WebGL";a.renderType===c.CANVAS?r="Canvas":a.renderType===c.HEADLESS&&(r="Headless");var i=a.audio,n=l.device.audio,h;if(n.webAudio&&!i.disableWebAudio?h="Web Audio":i.noAudio||!n.webAudio&&!n.audioData?h="No Audio":h="HTML5 Audio",l.device.browser.ie)window.console&&console.log("Phaser v"+c.VERSION+" / https://phaser.io");else{var s="",o=[s];if(Array.isArray(a.bannerBackgroundColor)){var u;a.bannerBackgroundColor.forEach(function(d){s=s.concat("%c "),o.push("background: "+d),u=d}),o[o.length-1]="color: "+a.bannerTextColor+"; background: "+u}else s=s.concat("%c "),o.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);o.push("background: transparent"),a.gameTitle&&(s=s.concat(a.gameTitle),a.gameVersion&&(s=s.concat(" v"+a.gameVersion)),a.hidePhaser||(s=s.concat(" / ")));var f="";a.hidePhaser||(s=s.concat("Phaser v"+c.VERSION+f+" ("+r+" | "+h+")")),s=s.concat(" %c "+a.gameURL),o[0]=s,console.log.apply(console,o)}}};x.exports=m},50127:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40366),m=t(60848),l=t(24047),a=t(27919),r=t(83419),i=t(69547),n=t(83719),h=t(86054),s=t(45893),o=t(96391),u=t(82264),f=t(57264),d=t(50792),p=t(8443),y=t(7003),T=t(37277),C=t(77332),P=t(76531),A=t(60903),w=t(69442),L=t(17130),B=t(65898),F=t(51085),b=t(14747),G=new r({initialize:function(U){this.config=new i(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new m(this),this.textures=new L(this),this.cache=new l(this),this.registry=new s(this,new d),this.input=new y(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=u,this.scale=new P(this,this.config),this.sound=null,this.sound=b.create(this),this.loop=new B(this,this.config.fps),this.plugins=new C(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,f(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),n(this),o(this),c(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var N=this.events;N.on(p.HIDDEN,this.onHidden,this),N.on(p.VISIBLE,this.onVisible,this),N.on(p.BLUR,this.onBlur,this),N.on(p.FOCUS,this.onFocus,this)},step:function(N,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(p.PRE_STEP,N,U),W.emit(p.STEP,N,U),this.scene.update(N,U),W.emit(p.POST_STEP,N,U);var H=this.renderer;H.preRender(),W.emit(p.PRE_RENDER,H,N,U),this.scene.render(H),H.postRender(),W.emit(p.POST_RENDER,H,N,U)}},headlessStep:function(N,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(p.PRE_STEP,N,U),W.emit(p.STEP,N,U),this.scene.update(N,U),W.emit(p.POST_STEP,N,U),this.scene.isProcessing=!1,W.emit(p.PRE_RENDER,null,N,U),W.emit(p.POST_RENDER,null,N,U)}},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},pause:function(){var N=this.isPaused;this.isPaused=!0,N||this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME,this.loop.pauseDuration)},resume:function(){var N=this.isPaused;this.isPaused=!1,N&&this.events.emit(p.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(N,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=N,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});x.exports=G},65898:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(35154),l=t(29747),a=t(43092),r=new c({initialize:function(n,h){this.game=n,this.raf=new a,this.started=!1,this.running=!1,this.minFps=m(h,"min",5),this.targetFps=m(h,"target",60),this.fpsLimit=m(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=l,this.forceSetTimeOut=m(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(h,"deltaHistory",10),this.panicMax=m(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(i){var n=this.deltaIndex,h=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,i=Math.min(i,this._target)),i>this._min&&(i=h[n],i=Math.min(i,this._min)),h[n]=i,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var o=0,u=0;u<s;u++)o+=h[u];return o/=s,o},updateFPS:function(i){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0},stepLimitFPS:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(i,this.delta),this.delta=0),this.lastTime=i,this.frame++},step:function(i){this.now=i;var n=Math.max(0,i-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.callback(i,n),this.lastTime=i,this.frame++},tick:function(){var i=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(i):this.step(i)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){i===void 0&&(i=!1);var n=window.performance.now();if(!this.running){i&&(this.startTime+=-this.lastTime+(this.lastTime+n));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});x.exports=r},51085:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(8443),m=function(l){var a,r=l.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},a=h+"visibilitychange")})}var n=function(h){document.hidden||h.type==="pause"?r.emit(c.HIDDEN):r.emit(c.VISIBLE)};a&&document.addEventListener(a,n,!1),window.onblur=function(){r.emit(c.BLUR)},window.onfocus=function(){r.emit(c.FOCUS)},window.focus&&l.config.autoFocus&&window.focus()};x.exports=m},97217:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="blur"},47548:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="boot"},19814:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="contextlost"},68446:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="destroy"},41700:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="focus"},25432:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="hidden"},65942:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pause"},59211:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="postrender"},47789:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="poststep"},39066:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="prerender"},460:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="prestep"},16175:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="ready"},42331:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resume"},11966:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="step"},32969:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="systemready"},94830:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="visible"},8443:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(5290),m=t(27919),l=t(35154),a=function(r){var i=l(r,"data",[]),n=l(r,"canvas",null),h=l(r,"palette",c),s=l(r,"pixelWidth",1),o=l(r,"pixelHeight",s),u=l(r,"resizeCanvas",!0),f=l(r,"clearCanvas",!0),d=l(r,"preRender",null),p=l(r,"postRender",null),y=Math.floor(Math.abs(i[0].length*s)),T=Math.floor(Math.abs(i.length*o));n||(n=m.create2D(this,y,T),u=!1,f=!1),u&&(n.width=y,n.height=T);var C=n.getContext("2d",{willReadFrequently:!0});f&&C.clearRect(0,0,y,T),d&&d(n,C);for(var P=0;P<i.length;P++)for(var A=i[P],w=0;w<A.length;w++){var L=A[w];L!=="."&&L!==" "&&(C.fillStyle=h[L],C.fillRect(w*s,P*o,s,o))}return p&&p(n,C),n};x.exports=a},15822:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(36316),l=t(80021),a=t(26099),r=new c({Extends:l,initialize:function(n,h,s,o){l.call(this,"CubicBezierCurve"),Array.isArray(n)&&(o=new a(n[6],n[7]),s=new a(n[4],n[5]),h=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=h,this.p2=s,this.p3=o},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var h=this.p0,s=this.p1,o=this.p2,u=this.p3;return n.set(m(i,h.x,s.x,o.x,u.x),m(i,h.y,s.y,o.y,u.y))},draw:function(i,n){n===void 0&&(n=32);var h=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<h.length;s++)i.lineTo(h[s].x,h[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(i){var n=i.points,h=new a(n[0],n[1]),s=new a(n[2],n[3]),o=new a(n[4],n[5]),u=new a(n[6],n[7]);return new r(h,s,o,u)},x.exports=r},80021:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(19217),l=t(87841),a=t(26099),r=new c({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,n){return n===void 0&&(n=32),i.strokePoints(this.getPoints(n))},getBounds:function(i,n){i||(i=new l),n===void 0&&(n=16);var h=this.getLength();n>h&&(n=h/2);var s=Math.max(1,Math.round(h/n));return m(this.getSpacedPoints(s),i)},getDistancePoints:function(i){var n=this.getLength(),h=Math.max(1,n/i);return this.getSpacedPoints(h)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],h,s=this.getPoint(0,this._tmpVec2A),o=0;n.push(0);for(var u=1;u<=i;u++)h=this.getPoint(u/i,this._tmpVec2B),o+=h.distance(s),n.push(o),s.copy(h);return this.cacheArcLengths=n,n},getPointAt:function(i,n){var h=this.getUtoTmapping(i);return this.getPoint(h,n)},getPoints:function(i,n,h){h===void 0&&(h=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++)h.push(this.getPoint(s/i));return h},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,n,h){h===void 0&&(h=[]),i||(n?i=this.getLength()/n:i=this.defaultDivisions);for(var s=0;s<=i;s++){var o=this.getUtoTmapping(s/i,null,i);h.push(this.getPoint(o))}return h},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,n){n===void 0&&(n=new a);var h=1e-4,s=i-h,o=i+h;return s<0&&(s=0),o>1&&(o=1),this.getPoint(s,this._tmpVec2A),this.getPoint(o,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,n){var h=this.getUtoTmapping(i);return this.getTangent(h,n)},getTFromDistance:function(i,n){return i<=0?0:this.getUtoTmapping(0,i,n)},getUtoTmapping:function(i,n,h){var s=this.getLengths(h),o=0,u=s.length,f;n?f=Math.min(n,s[u-1]):f=i*s[u-1];for(var d=0,p=u-1,y;d<=p;)if(o=Math.floor(d+(p-d)/2),y=s[o]-f,y<0)d=o+1;else if(y>0)p=o-1;else{p=o;break}if(o=p,s[o]===f)return o/(u-1);var T=s[o],C=s[o+1],P=C-T,A=(f-T)/P;return(o+A)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});x.exports=r},73825:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(80021),l=t(39506),a=t(35154),r=t(43396),i=t(26099),n=new c({Extends:m,initialize:function(s,o,u,f,d,p,y,T){if(typeof s=="object"){var C=s;s=a(C,"x",0),o=a(C,"y",0),u=a(C,"xRadius",0),f=a(C,"yRadius",u),d=a(C,"startAngle",0),p=a(C,"endAngle",360),y=a(C,"clockwise",!1),T=a(C,"rotation",0)}else f===void 0&&(f=u),d===void 0&&(d=0),p===void 0&&(p=360),y===void 0&&(y=!1),T===void 0&&(T=0);m.call(this,"EllipseCurve"),this.p0=new i(s,o),this._xRadius=u,this._yRadius=f,this._startAngle=l(d),this._endAngle=l(p),this._clockwise=y,this._rotation=l(T)},getStartPoint:function(h){return h===void 0&&(h=new i),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,s){s===void 0&&(s=new i);for(var o=Math.PI*2,u=this._endAngle-this._startAngle,f=Math.abs(u)<Number.EPSILON;u<0;)u+=o;for(;u>o;)u-=o;u<Number.EPSILON&&(f?u=0:u=o),this._clockwise&&!f&&(u===o?u=-o:u=u-o);var d=this._startAngle+h*u,p=this.p0.x+this._xRadius*Math.cos(d),y=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var T=Math.cos(this._rotation),C=Math.sin(this._rotation),P=p-this.p0.x,A=y-this.p0.y;p=P*T-A*C+this.p0.x,y=P*C+A*T+this.p0.y}return s.set(p,y)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return r(this._startAngle)},set:function(h){this._startAngle=l(h)}},endAngle:{get:function(){return r(this._endAngle)},set:function(h){this._endAngle=l(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return r(this._rotation)},set:function(h){this._rotation=l(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(h){return new n(h)},x.exports=n},33951:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(80021),l=t(19217),a=t(87841),r=t(26099),i=new c({Extends:m,initialize:function(h,s){m.call(this,"LineCurve"),Array.isArray(h)&&(s=new r(h[2],h[3]),h=new r(h[0],h[1])),this.p0=h,this.p1=s,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new a),l([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,h){return h===void 0&&(h=new r),n===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),h)},getPointAt:function(n,h){return this.getPoint(n,h)},getTangent:function(n,h){return h===void 0&&(h=new r),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(n,h,s){var o;if(h){var u=this.getLengths(s),f=u[u.length-1],d=Math.min(h,f);o=d/f}else o=n;return o},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(n){var h=n.points,s=new r(h[0],h[1]),o=new r(h[2],h[3]);return new i(s,o)},x.exports=i},14744:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(80021),l=t(32112),a=t(26099),r=new c({Extends:m,initialize:function(n,h,s){m.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(s=new a(n[4],n[5]),h=new a(n[2],n[3]),n=new a(n[0],n[1])),this.p0=n,this.p1=h,this.p2=s},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,n){n===void 0&&(n=new a);var h=this.p0,s=this.p1,o=this.p2;return n.set(l(i,h.x,s.x,o.x),l(i,h.y,s.y,o.y))},draw:function(i,n){n===void 0&&(n=32);var h=this.getPoints(n);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var s=1;s<h.length;s++)i.lineTo(h[s].x,h[s].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(i){var n=i.points,h=new a(n[0],n[1]),s=new a(n[2],n[3]),o=new a(n[4],n[5]);return new r(h,s,o)},x.exports=r},42534:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87842),m=t(83419),l=t(80021),a=t(26099),r=new m({Extends:l,initialize:function(n){n===void 0&&(n=[]),l.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(i){for(var n=0;n<i.length;n++){var h=new a;typeof i[n]=="number"?(h.x=i[n],h.y=i[n+1],n++):Array.isArray(i[n])?(h.x=i[n][0],h.y=i[n][1]):(h.x=i[n].x,h.y=i[n].y),this.points.push(h)}return this},addPoint:function(i,n){var h=new a(i,n);return this.points.push(h),h},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,n){n===void 0&&(n=new a);var h=this.points,s=(h.length-1)*i,o=Math.floor(s),u=s-o,f=h[o===0?o:o-1],d=h[o],p=h[o>h.length-2?h.length-1:o+1],y=h[o>h.length-3?h.length-1:o+2];return n.set(c(u,f.x,d.x,p.x,y.x),c(u,f.y,d.y,p.y,y.y))},toJSON:function(){for(var i=[],n=0;n<this.points.length;n++)i.push(this.points[n].x),i.push(this.points[n].y);return{type:this.type,points:i}}});r.fromJSON=function(i){return new r(i.points)},x.exports=r},25410:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(26099),l=new c({initialize:function(r,i){this.active=!1,this.p0=new m(r,i)},getPoint:function(a,r){return r===void 0&&(r=new m),r.copy(this.p0)},getPointAt:function(a,r){return this.getPoint(a,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});x.exports=l},46669:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(46728),l=t(73825),a=t(39429),r=t(33951),i=t(68618),n=t(14744),h=t(87841),s=t(42534),o=t(26099),u=t(36383),f=new c({initialize:function(p,y){p===void 0&&(p=0),y===void 0&&(y=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,y)},add:function(d){return this.curves.push(d),this},circleTo:function(d,p,y){return p===void 0&&(p=!1),this.ellipseTo(d,d,0,360,p,y)},closePath:function(){var d=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return d.equals(p)||this.curves.push(new r(p,d)),this},cubicBezierTo:function(d,p,y,T,C,P){var A=this.getEndPoint(),w,L,B;return d instanceof o?(w=d,L=p,B=y):(w=new o(y,T),L=new o(C,P),B=new o(d,p)),this.add(new m(A,w,L,B))},quadraticBezierTo:function(d,p,y,T){var C=this.getEndPoint(),P,A;return d instanceof o?(P=d,A=p):(P=new o(y,T),A=new o(d,p)),this.add(new n(C,P,A))},draw:function(d,p){for(var y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&T.draw(d,p)}return d},ellipseTo:function(d,p,y,T,C,P){var A=new l(0,0,d,p,y,T,C,P),w=this.getEndPoint(this._tmpVec2A),L=A.getStartPoint(this._tmpVec2B);return w.subtract(L),A.x=w.x,A.y=w.y,this.add(A)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var p=0;p<d.curves.length;p++){var y=d.curves[p];switch(y.type){case"LineCurve":this.add(r.fromJSON(y));break;case"EllipseCurve":this.add(l.fromJSON(y));break;case"SplineCurve":this.add(s.fromJSON(y));break;case"CubicBezierCurve":this.add(m.fromJSON(y));break;case"QuadraticBezierCurve":this.add(n.fromJSON(y));break}}return this},getBounds:function(d,p){d===void 0&&(d=new h),p===void 0&&(p=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var y=new h,T=u.MIN_SAFE_INTEGER,C=u.MIN_SAFE_INTEGER,P=0;P<this.curves.length;P++){var A=this.curves[P];A.active&&(A.getBounds(y,p),d.x=Math.min(d.x,y.x),d.y=Math.min(d.y,y.y),T=Math.max(T,y.right),C=Math.max(C,y.bottom))}return d.right=T,d.bottom=C,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],p=0,y=0;y<this.curves.length;y++)p+=this.curves[y].getLength(),d.push(p);return this.cacheLengths=d,d},getCurveAt:function(d){for(var p=d*this.getLength(),y=this.getCurveLengths(),T=0;T<y.length;){if(y[T]>=p)return this.curves[T];T++}return null},getEndPoint:function(d){return d===void 0&&(d=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,p){p===void 0&&(p=new o);for(var y=d*this.getLength(),T=this.getCurveLengths(),C=0;C<T.length;){if(T[C]>=y){var P=T[C]-y,A=this.curves[C],w=A.getLength(),L=w===0?0:1-P/w;return A.getPointAt(L,p)}C++}return null},getPoints:function(d,p){!d&&!p&&(d=this.defaultDivisions);for(var y=[],T,C=0;C<this.curves.length;C++){var P=this.curves[C];if(P.active)for(var A=P.getResolution(d),w=P.getPoints(A,p),L=0;L<w.length;L++){var B=w[L];T&&T.equals(B)||(y.push(B),T=B)}}return this.autoClose&&y.length>1&&!y[y.length-1].equals(y[0])&&y.push(y[0]),y},getRandomPoint:function(d){return d===void 0&&(d=new o),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var p=[],y=0;y<=d;y++)p.push(this.getPoint(y/d));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(d){return d===void 0&&(d=new o),d.copy(this.startPoint)},getTangent:function(d,p){p===void 0&&(p=new o);for(var y=d*this.getLength(),T=this.getCurveLengths(),C=0;C<T.length;){if(T[C]>=y){var P=T[C]-y,A=this.curves[C],w=A.getLength(),L=w===0?0:1-P/w;return A.getTangentAt(L,p)}C++}return null},lineTo:function(d,p){d instanceof o?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,p);var y=this.getEndPoint(this._tmpVec2A);return this.add(new r([y.x,y.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new s(d))},moveTo:function(d,p){return d instanceof o?this.add(new i(d.x,d.y)):this.add(new i(d,p))},toJSON:function(){for(var d=[],p=0;p<this.curves.length;p++)d.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(d,p){return new f(d,p)}),x.exports=f},45893:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(24882),l=new c({initialize:function(r,i){this.parent=r,this.events=i,i||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(a){var r=this.list;if(Array.isArray(a)){for(var i=[],n=0;n<a.length;n++)i.push(r[a[n]]);return i}else return r[a]},getAll:function(){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&(a[r]=this.list[r]);return a},query:function(a){var r={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(r[i]=this.list[i]);return r},set:function(a,r){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,r);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,r){if(this._frozen)return this;r===void 0&&(r=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+r),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,r){if(this._frozen)return this;if(this.has(a))this.values[a]=r;else{var i=this,n=this.list,h=this.events,s=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return n[a]},set:function(o){if(!i._frozen){var u=n[a];n[a]=o,h.emit(m.CHANGE_DATA,s,a,o,u),h.emit(m.CHANGE_DATA_KEY+a,s,o,u)}}}),n[a]=r,h.emit(m.SET_DATA,s,a,r)}return this},each:function(a,r){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var h in this.list)i[1]=h,i[2]=this.list[h],a.apply(r,i);return this},merge:function(a,r){r===void 0&&(r=!0);for(var i in a)a.hasOwnProperty(i)&&(r||!r&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var r=0;r<a.length;r++)this.removeValue(a[r]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var r=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(m.REMOVE_DATA,this.parent,a,r)}return this},pop:function(a){var r=void 0;return!this._frozen&&this.has(a)&&(r=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(m.REMOVE_DATA,this.parent,a,r)),r},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var r in this.list)this.list[r]!==void 0&&a++;return a}}});x.exports=l},63646:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(45893),l=t(37277),a=t(44594),r=new c({Extends:m,initialize:function(n){m.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});l.register("DataManagerPlugin",r,"data"),x.exports=r},10700:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="changedata"},93608:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="changedata-"},60883:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="destroy"},69780:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="removedata"},22166:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="setdata"},24882:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(84148),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function l(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),r=!!a.canPlayType;try{if(r){var i=function(s,o){var u=a.canPlayType("audio/"+s).replace(/^no$/,"");return o?!!(u||a.canPlayType("audio/"+o).replace(/^no$/,"")):!!u};if(m.ogg=i('ogg; codecs="vorbis"'),m.opus=i('ogg; codecs="opus"',"opus"),m.mp3=i("mpeg"),m.wav=i("wav"),m.m4a=i("x-m4a"),m.aac=i("aac"),m.flac=i("flac","x-flac"),m.webm=i('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(c.edge)m.dolby=!0;else if(c.safari&&c.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(n===10&&h>=11||n>10)&&(m.dolby=!0)}}}}catch{}return m}x.exports=l()},84148:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25892),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function l(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(m.edge=!0,m.es2019=!0):/OPR/.test(a)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(a)&&!c.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(a)&&c.iOS?(m.mobileSafari=!0,m.es2019=!0):/MSIE (\d+\.\d+);/.test(a)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(a)&&!c.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(m.silk=!0),m}x.exports=l()},89289:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(27919),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function l(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var s=new Image;s.onload=function(){var o=c.create2D(s,6),u=o.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(h,0,0),u.drawImage(s,2,0),!u.getImageData(2,0,1,1))return!1;var f=u.getImageData(2,0,1,1).data;c.remove(s),m.supportNewBlendModes=f[0]===255&&f[1]===0&&f[2]===0},s.src=i+"/wCKxvRF"+n},h.src=i+"AP804Oa6"+n,!1}function a(){var i=c.create2D(this,2),n=i.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var h=n.getImageData(0,0,1,1);if(h===null)return!1;n.putImageData(h,1,0);var s=n.getImageData(1,0,1,1),o=s.data[0]===h.data[0]&&s.data[1]===h.data[1]&&s.data[2]===h.data[2]&&s.data[3]===h.data[3];return c.remove(this),o}function r(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=l(),m.supportInverseAlpha=a()),m}x.exports=r()},89357:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25892),m=t(84148),l=t(27919),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),h=new Uint8Array(n),s=new Uint32Array(n);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,s[0]===3569595041?!0:s[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var n=!1,h=function(){if(window.WebGLRenderingContext)try{var s=l.createWebGL(this),o=s.getContext("webgl")||s.getContext("experimental-webgl"),u=l.create2D(this),f=u.getContext("2d",{willReadFrequently:!0}),d=f.createImageData(1,1);return n=d.data instanceof Uint8ClampedArray,l.remove(s),l.remove(u),!!o}catch{return!1}return!1};return a.webGL=h(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(a.getUserMedia=!1),!c.iOS&&(m.ie||m.firefox||m.chrome)&&(a.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=r()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&n,a}x.exports=i()},91639:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return M;var c,m="Fullscreen",l="FullScreen",a=["request"+m,"request"+l,"webkitRequest"+m,"webkitRequest"+l,"msRequest"+m,"msRequest"+l,"mozRequest"+l,"mozRequest"+m];for(c=0;c<a.length;c++)if(document.documentElement[a[c]]){M.available=!0,M.request=a[c];break}var r=["cancel"+l,"exit"+m,"webkitCancel"+l,"webkitExit"+m,"msCancel"+l,"msExit"+m,"mozCancel"+l,"mozExit"+m];if(M.available){for(c=0;c<r.length;c++)if(document[r[c]]){M.cancel=r[c];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(M.keyboard=!0),Object.defineProperty(M,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),M}x.exports=t()},31784:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(84148),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function l(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||c.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":c.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}x.exports=l()},25892:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return M;var c=navigator.userAgent;/Windows/.test(c)?M.windows=!0:/Mac OS/.test(c)&&!/like Mac OS/.test(c)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(M.iOS=!0,M.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),M.iOSVersion=parseInt(RegExp.$1,10)):M.macOS=!0:/Android/.test(c)?M.android=!0:/Linux/.test(c)?M.linux=!0:/iP[ao]d|iPhone/i.test(c)?(M.iOS=!0,navigator.appVersion.match(/OS (\d+)/),M.iOSVersion=parseInt(RegExp.$1,10),M.iPhone=c.toLowerCase().indexOf("iphone")!==-1,M.iPad=c.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(c)||/\bKF[A-Z][A-Z]+/.test(c)||/Silk.*Mobile Safari/.test(c)?M.kindle=!0:/CrOS/.test(c)&&(M.chromeOS=!0),(/Windows Phone/i.test(c)||/IEMobile/i.test(c))&&(M.android=!1,M.iOS=!1,M.macOS=!1,M.windows=!0,M.windowsPhone=!0);var m=/Silk/.test(c);return(M.windows||M.macOS||M.linux&&!m||M.chromeOS)&&(M.desktop=!0),(M.windowsPhone||/Windows NT/i.test(c)&&/Touch/i.test(c))&&(M.desktop=!1),navigator.standalone&&(M.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(M.cordova=!0),window.ejecta!==void 0&&(M.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(M.node=!0),M.node&&typeof process.versions=="object"&&(M.nodeWebkit=!!process.versions["node-webkit"],M.electron=!!process.versions.electron),/Crosswalk/.test(c)&&(M.crosswalk=!0),M.pixelRatio=window.devicePixelRatio||1,M}x.exports=t()},43267:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function l(){if(typeof importScripts=="function")return m;var a=document.createElement("video"),r=!!a.canPlayType,i=/^no$/;try{r&&(a.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(m.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(m.h264=!0,m.mp4=!0),a.canPlayType("video/x-m4v").replace(i,"")&&(m.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(m.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(m.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(m.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),m.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var s=c(n[h],"url",n[h]);if(s.indexOf("blob:")===0)return{url:s,type:""};var o;if(s.indexOf("data:")===0?o=s.split(",")[0].match(/\/(.*?);/):o=s.match(/\.([a-zA-Z0-9]+)($|\?)/),o=c(n[h],"type",o?o[1]:"").toLowerCase(),m[o])return{url:s,type:o}}return null},m}x.exports=l()},82264:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new Float32Array(20),l=new c({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],r)},saturate:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a*2/3+1,n=(i-1)*-.5;return this.multiply([i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0],r)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1),a=a/180*Math.PI;var i=Math.cos(a),n=Math.sin(a),h=.213,s=.715,o=.072;return this.multiply([h+i*(1-h)+n*-h,s+i*-s+n*-s,o+i*-o+n*(1-o),0,0,h+i*-h+n*.143,s+i*(1-s)+n*.14,o+i*-o+n*-.283,0,0,h+i*-h+n*-(1-h),s+i*-s+n*s,o+i*(1-o)+n*o,0,0,0,0,0,1,0],r)},grayscale:function(a,r){return a===void 0&&(a=1),r===void 0&&(r=!1),this.saturate(-a,r)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(l.BLACK_WHITE,a)},contrast:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a+1,n=-.5*(i-1);return this.multiply([i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0],r)},negative:function(a){return a===void 0&&(a=!1),this.multiply(l.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(l.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(l.SEPIA,a)},night:function(a,r){return a===void 0&&(a=.1),r===void 0&&(r=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],r)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(l.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(l.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(l.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(l.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(l.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(l.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(l.SHIFT_BGR,a)},multiply:function(a,r){r===void 0&&(r=!1),r||this.reset();var i=this._matrix,n=m;return n.set(i),i.set([n[0]*a[0]+n[1]*a[5]+n[2]*a[10]+n[3]*a[15],n[0]*a[1]+n[1]*a[6]+n[2]*a[11]+n[3]*a[16],n[0]*a[2]+n[1]*a[7]+n[2]*a[12]+n[3]*a[17],n[0]*a[3]+n[1]*a[8]+n[2]*a[13]+n[3]*a[18],n[0]*a[4]+n[1]*a[9]+n[2]*a[14]+n[3]*a[19]+n[4],n[5]*a[0]+n[6]*a[5]+n[7]*a[10]+n[8]*a[15],n[5]*a[1]+n[6]*a[6]+n[7]*a[11]+n[8]*a[16],n[5]*a[2]+n[6]*a[7]+n[7]*a[12]+n[8]*a[17],n[5]*a[3]+n[6]*a[8]+n[7]*a[13]+n[8]*a[18],n[5]*a[4]+n[6]*a[9]+n[7]*a[14]+n[8]*a[19]+n[9],n[10]*a[0]+n[11]*a[5]+n[12]*a[10]+n[13]*a[15],n[10]*a[1]+n[11]*a[6]+n[12]*a[11]+n[13]*a[16],n[10]*a[2]+n[11]*a[7]+n[12]*a[12]+n[13]*a[17],n[10]*a[3]+n[11]*a[8]+n[12]*a[13]+n[13]*a[18],n[10]*a[4]+n[11]*a[9]+n[12]*a[14]+n[13]*a[19]+n[14],n[15]*a[0]+n[16]*a[5]+n[17]*a[10]+n[18]*a[15],n[15]*a[1]+n[16]*a[6]+n[17]*a[11]+n[18]*a[16],n[15]*a[2]+n[16]*a[7]+n[17]*a[12]+n[18]*a[17],n[15]*a[3]+n[16]*a[8]+n[17]*a[13]+n[18]*a[18],n[15]*a[4]+n[16]*a[9]+n[17]*a[14]+n[18]*a[19]+n[19]]),this._dirty=!0,this}});l.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],l.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],l.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],l.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],l.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],l.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],l.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],l.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],l.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],l.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],l.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],x.exports=l},51767:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(29747),l=new c({initialize:function(r,i,n){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(r,i,n)},set:function(a,r,i){return a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=0),this._rgb=[a,r,i],this.onChange(),this},equals:function(a,r,i){var n=this._rgb;return n[0]===a&&n[1]===r&&n[2]===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});x.exports=l},60461:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};x.exports=M},54312:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(35893),l=t(86327),a=t(88417),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)+h),l(i,c(n)+s),i};x.exports=r},46768:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(26541),l=t(86327),a=t(385),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)-h),l(i,c(n)+s),i};x.exports=r},35827:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(54380),l=t(86327),a=t(40136),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)+h),l(i,c(n)+s),i};x.exports=r},46871:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66786),m=t(35893),l=t(7702),a=function(r,i,n,h){return n===void 0&&(n=0),h===void 0&&(h=0),c(r,m(i)+n,l(i)+h),r};x.exports=a},5198:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7702),m=t(26541),l=t(20786),a=t(385),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)-h),l(i,c(n)+s),i};x.exports=r},11879:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(60461),m=[];m[c.BOTTOM_CENTER]=t(54312),m[c.BOTTOM_LEFT]=t(46768),m[c.BOTTOM_RIGHT]=t(35827),m[c.CENTER]=t(46871),m[c.LEFT_CENTER]=t(5198),m[c.RIGHT_CENTER]=t(80503),m[c.TOP_CENTER]=t(89698),m[c.TOP_LEFT]=t(922),m[c.TOP_RIGHT]=t(21373),m[c.LEFT_BOTTOM]=m[c.BOTTOM_LEFT],m[c.LEFT_TOP]=m[c.TOP_LEFT],m[c.RIGHT_BOTTOM]=m[c.BOTTOM_RIGHT],m[c.RIGHT_TOP]=m[c.TOP_RIGHT];var l=function(a,r,i,n,h){return m[i](a,r,n,h)};x.exports=l},80503:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7702),m=t(54380),l=t(20786),a=t(40136),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)+h),l(i,c(n)+s),i};x.exports=r},89698:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35893),m=t(17717),l=t(88417),a=t(66737),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),l(i,c(n)+h),a(i,m(n)-s),i};x.exports=r},922:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26541),m=t(17717),l=t(385),a=t(66737),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),l(i,c(n)-h),a(i,m(n)-s),i};x.exports=r},21373:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(54380),m=t(17717),l=t(40136),a=t(66737),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),l(i,c(n)+h),a(i,m(n)-s),i};x.exports=r},91660:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(60461),m=t(79291),l={In:t(91660),To:t(16694)};l=m(!1,l,c),x.exports=l},21578:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(35893),l=t(88417),a=t(66737),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),l(i,m(n)+h),a(i,c(n)+s),i};x.exports=r},10210:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(26541),l=t(385),a=t(66737),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),l(i,m(n)-h),a(i,c(n)+s),i};x.exports=r},82341:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(54380),l=t(40136),a=t(66737),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),l(i,m(n)+h),a(i,c(n)+s),i};x.exports=r},87958:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(26541),l=t(86327),a=t(40136),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)-h),l(i,c(n)+s),i};x.exports=r},40080:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7702),m=t(26541),l=t(20786),a=t(40136),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)-h),l(i,c(n)+s),i};x.exports=r},88466:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26541),m=t(17717),l=t(40136),a=t(66737),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),l(i,c(n)-h),a(i,m(n)-s),i};x.exports=r},38829:(x,M,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(60461),m=[];m[c.BOTTOM_CENTER]=t(21578),m[c.BOTTOM_LEFT]=t(10210),m[c.BOTTOM_RIGHT]=t(82341),m[c.LEFT_BOTTOM]=t(87958),m[c.LEFT_CENTER]=t(40080),m[c.LEFT_TOP]=t(88466),m[c.RIGHT_BOTTOM]=t(19211),m[c.RIGHT_CENTER]=t(34609),m[c.RIGHT_TOP]=t(48741),m[c.TOP_CENTER]=t(49440),m[c.TOP_LEFT]=t(81288),m[c.TOP_RIGHT]=t(61323);var l=function(a,r,i,n,h){return m[i](a,r,n,h)};x.exports=l},19211:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(54380),l=t(86327),a=t(385),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)+h),l(i,c(n)+s),i};x.exports=r},34609:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7702),m=t(54380),l=t(20786),a=t(385),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,m(n)+h),l(i,c(n)+s),i};x.exports=r},48741:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(54380),m=t(17717),l=t(385),a=t(66737),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),l(i,c(n)+h),a(i,m(n)-s),i};x.exports=r},49440:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35893),m=t(17717),l=t(86327),a=t(88417),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,c(n)+h),l(i,m(n)-s),i};x.exports=r},81288:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26541),m=t(17717),l=t(86327),a=t(385),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,c(n)-h),l(i,m(n)-s),i};x.exports=r},61323:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(54380),m=t(17717),l=t(86327),a=t(40136),r=function(i,n,h,s){return h===void 0&&(h=0),s===void 0&&(s=0),a(i,c(n)+h),l(i,m(n)-s),i};x.exports=r},16694:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(88417),m=t(20786),l=function(a,r,i){return c(a,r),m(a,i)};x.exports=l},62235:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.y+t.height-t.height*t.originY};x.exports=M},72873:(x,M,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62235),m=t(26541),l=t(54380),a=t(17717),r=t(87841),i=function(n,h){h===void 0&&(h=new r);var s=m(n),o=a(n);return h.x=s,h.y=o,h.width=l(n)-s,h.height=c(n)-o,h};x.exports=i},35893:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.x-t.width*t.originX+t.width*.5};x.exports=M},7702:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.y-t.height*t.originY+t.height*.5};x.exports=M},26541:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.x-t.width*t.originX};x.exports=M},87431:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.width*t.originX};x.exports=M},46928:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.height*t.originY};x.exports=M},54380:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.x+t.width-t.width*t.originX};x.exports=M},17717:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.y-t.height*t.originY};x.exports=M},86327:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.y=c-t.height+t.height*t.originY,t};x.exports=M},88417:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.width*t.originX;return t.x=c+m-t.width*.5,t};x.exports=M},20786:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.height*t.originY;return t.y=c+m-t.height*.5,t};x.exports=M},385:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x=c+t.width*t.originX,t};x.exports=M},40136:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x=c-t.width+t.width*t.originX,t};x.exports=M},66737:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.y=c+t.height*t.originY,t};x.exports=M},58724:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setCrisp:function(t){var c=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return c.forEach(function(m){t.style["image-rendering"]=m}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};x.exports=M},27919:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(8054),m=t(68703),l=[],a=!1,r=function(){var i=function(y,T,C,P,A){T===void 0&&(T=1),C===void 0&&(C=1),P===void 0&&(P=c.CANVAS),A===void 0&&(A=!1);var w,L=s(P);return L===null?(L={parent:y,canvas:document.createElement("canvas"),type:P},P===c.CANVAS&&l.push(L),w=L.canvas):(L.parent=y,w=L.canvas),A&&(L.parent=w),w.width=T,w.height=C,a&&P===c.CANVAS&&m.disable(w.getContext("2d",{willReadFrequently:!1})),w},n=function(y,T,C){return i(y,T,C,c.CANVAS)},h=function(y,T,C){return i(y,T,C,c.WEBGL)},s=function(y){if(y===void 0&&(y=c.CANVAS),y===c.WEBGL)return null;for(var T=0;T<l.length;T++){var C=l[T];if(!C.parent&&C.type===y)return C}return null},o=function(y){var T=y instanceof HTMLCanvasElement;l.forEach(function(C){(T&&C.canvas===y||!T&&C.parent===y)&&(C.parent=null,C.canvas.width=1,C.canvas.height=1)})},u=function(){var y=0;return l.forEach(function(T){T.parent&&y++}),y},f=function(){return l.length-u()},d=function(){a=!0},p=function(){a=!1};return{create2D:n,create:i,createWebGL:h,disableSmoothing:d,enableSmoothing:p,first:s,free:f,pool:l,remove:o,total:u}};x.exports=r()},68703:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M="",t=function(){var c=function(r){for(var i=["i","webkitI","msI","mozI","oI"],n=0;n<i.length;n++){var h=i[n]+"mageSmoothingEnabled";if(h in r)return h}return null},m=function(r){return M===""&&(M=c(r)),M&&(r[M]=!0),r},l=function(r){return M===""&&(M=c(r)),M&&(r[M]=!1),r},a=function(r){return M!==null?r[M]:null};return{disable:l,enable:m,getPrefix:c,isEnabled:a}};x.exports=t()},65208:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c="none"),t.style.msTouchAction=c,t.style["ms-touch-action"]=c,t.style["touch-action"]=c,t};x.exports=M},91610:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(l){t.style[l+"user-select"]=c}),t.style["-webkit-touch-callout"]=c,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};x.exports=M},26253:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(37589),l=t(1e3),a=t(7537),r=t(87837),i=new c({initialize:function(h,s,o,u){h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,s,o,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,h,s,o,u){return o===void 0&&(o=255),u===void 0&&(u=!0),this._locked=!0,this.red=n,this.green=h,this.blue=s,this.alpha=o,this._locked=!1,this.update(u)},setGLTo:function(n,h,s,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=n,this.greenGL=h,this.blueGL=s,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,h,s){return a(n,h,s,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var h=this.r,s=this.g,o=this.b,u=this.a;return this._color=m(h,s,o),this._color32=l(h,s,o,u),this._rgba="rgba("+h+","+s+","+o+","+u/255+")",n&&r(h,s,o,this),this},updateHSV:function(){var n=this.r,h=this.g,s=this.b;return r(n,h,s,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,h){n===void 0&&(n=0),h===void 0&&(h=255);var s=Math.floor(n+Math.random()*(h-n)),o=Math.floor(n+Math.random()*(h-n)),u=Math.floor(n+Math.random()*(h-n));return this.setTo(s,o,u)},randomGray:function(n,h){n===void 0&&(n=0),h===void 0&&(h=255);var s=Math.floor(n+Math.random()*(h-n));return this.setTo(s,s,s)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var h=this.r,s=this.g,o=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),s=Math.max(0,Math.min(255,s-Math.round(255*-(n/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(n/100)))),this.setTo(h,s,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,a(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,a(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,a(this._h,this._s,n,this)}}});x.exports=i},92728:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37589),m=function(l){l===void 0&&(l=1024);var a=[],r=255,i,n=255,h=0,s=0;for(i=0;i<=r;i++)a.push({r:n,g:i,b:s,color:c(n,i,s)});for(h=255,i=r;i>=0;i--)a.push({r:i,g:h,b:s,color:c(i,h,s)});for(n=0,i=0;i<=r;i++,h--)a.push({r:n,g:h,b:i,color:c(n,h,i)});for(h=0,s=255,i=0;i<=r;i++,s--,n++)a.push({r:n,g:h,b:s,color:c(n,h,s)});if(l===1024)return a;var o=[],u=0,f=1024/l;for(i=0;i<l;i++)o.push(a[Math.floor(u)]),u+=f;return o};x.exports=m},91588:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(c.a=t>>>24),c};x.exports=M},62957:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=t.toString(16);return c.length===1?"0"+c:c};x.exports=M},37589:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t<<16|c<<8|m};x.exports=M},1e3:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){return l<<24|t<<16|c<<8|m};x.exports=M},62183:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40987),m=t(89528),l=function(a,r,i){var n=i,h=i,s=i;if(r!==0){var o=i<.5?i*(1+r):i+r-i*r,u=2*i-o;n=m(u,o,a+1/3),h=m(u,o,a),s=m(u,o,a-1/3)}var f=new c;return f.setGLTo(n,h,s,1)};x.exports=l},27939:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7537),m=function(l,a){l===void 0&&(l=1),a===void 0&&(a=1);for(var r=[],i=0;i<=359;i++)r.push(c(i/359,l,a));return r};x.exports=m},7537:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37589);function m(a,r,i,n){var h=(a+r*6)%6,s=Math.min(h,4-h,1);return Math.round(255*(n-n*i*Math.max(0,s)))}var l=function(a,r,i,n){r===void 0&&(r=1),i===void 0&&(i=1);var h=m(5,a,r,i),s=m(3,a,r,i),o=m(1,a,r,i);return n?n.setTo?n.setTo(h,s,o,n.alpha,!0):(n.r=h,n.g=s,n.b=o,n.color=c(h,s,o),n):{r:h,g:s,b:o,color:c(h,s,o)}};x.exports=l},70238:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40987),m=function(l){var a=new c;l=l.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(s,o,u,f){return o+o+u+u+f+f});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);if(r){var i=parseInt(r[1],16),n=parseInt(r[2],16),h=parseInt(r[3],16);a.setTo(i,n,h)}return a};x.exports=m},89528:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?t+(c-t)*6*m:m<.5?c:m<.6666666666666666?t+(c-t)*(.6666666666666666-m)*6:t};x.exports=M},30100:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40987),m=t(90664),l=function(a){var r=m(a);return new c(r.r,r.g,r.b,r.a)};x.exports=l},90664:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};x.exports=M},13699:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(28915),m=function(r,i,n,h,s,o,u,f){u===void 0&&(u=100),f===void 0&&(f=0);var d=f/u;return{r:c(r,h,d),g:c(i,s,d),b:c(n,o,d)}},l=function(r,i,n,h){return n===void 0&&(n=100),h===void 0&&(h=0),m(r.r,r.g,r.b,i.r,i.g,i.b,n,h)},a=function(r,i,n,h,s,o){return s===void 0&&(s=100),o===void 0&&(o=0),m(r.r,r.g,r.b,i,n,h,s,o)};x.exports={RGBWithRGB:m,ColorWithRGB:a,ColorWithColor:l}},68957:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40987),m=function(l){return new c(l.r,l.g,l.b,l.a)};x.exports=m},87388:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40987),m=function(l){var a=new c,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(l.toLowerCase());if(r){var i=parseInt(r[1],10),n=parseInt(r[2],10),h=parseInt(r[3],10),s=r[4]!==void 0?parseFloat(r[4]):1;a.setTo(i,n,h,s*255)}return a};x.exports=m},87837:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){l===void 0&&(l={h:0,s:0,v:0}),t/=255,c/=255,m/=255;var a=Math.min(t,c,m),r=Math.max(t,c,m),i=r-a,n=0,h=r===0?0:i/r,s=r;return r!==a&&(r===t?n=(c-m)/i+(c<m?6:0):r===c?n=(m-t)/i+2:r===m&&(n=(t-c)/i+4),n/=6),l.hasOwnProperty("_h")?(l._h=n,l._s=h,l._v=s):(l.h=n,l.s=h,l.v=s),l};x.exports=M},75723:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62957),m=function(l,a,r,i,n){return i===void 0&&(i=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(l<<16)+(a<<8)+r).toString(16).slice(1,7):"0x"+c(i)+c(l)+c(a)+c(r)};x.exports=m},85386:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(30976),m=t(40987),l=function(a,r){return a===void 0&&(a=0),r===void 0&&(r=255),new m(c(a,r),c(a,r),c(a,r))};x.exports=l},80333:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70238),m=t(30100),l=t(68957),a=t(87388),r=function(i){var n=typeof i;switch(n){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):c(i);case"number":return m(i);case"object":return l(i)}};x.exports=r},3956:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40987);c.ColorSpectrum=t(92728),c.ColorToRGBA=t(91588),c.ComponentToHex=t(62957),c.GetColor=t(37589),c.GetColor32=t(1e3),c.HexStringToColor=t(70238),c.HSLToColor=t(62183),c.HSVColorWheel=t(27939),c.HSVToRGB=t(7537),c.HueToComponent=t(89528),c.IntegerToColor=t(30100),c.IntegerToRGB=t(90664),c.Interpolate=t(13699),c.ObjectToColor=t(68957),c.RandomRGB=t(85386),c.RGBStringToColor=t(87388),c.RGBToHSV=t(87837),c.RGBToString=t(75723),c.ValueToColor=t(80333),x.exports=c},27460:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(39429),l=new c({initialize:function(r,i,n,h,s,o){i||(i=r.sys.make.image({x:n,y:h,key:s,frame:o,add:!1})),this.bitmapMask=i,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,i)},postRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});m.register("bitmapMask",function(a,r,i,n,h){return new l(this.scene,a,r,i,n,h)}),x.exports=l},80661:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(l){return this.geometryMask=l,this},setInvertAlpha:function(l){return l===void 0&&(l=!0),this.invertAlpha=l,this},preRenderWebGL:function(l,a,r){var i=l.gl;l.flush(),l.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),l.maskCount=0),l.currentCameraMask.mask!==this&&(l.currentMask.mask=this),l.maskStack.push({mask:this,camera:r}),this.applyStencil(l,r,!0),l.maskCount++},applyStencil:function(l,a,r){var i=l.gl,n=this.geometryMask,h=l.maskCount,s=255;i.colorMask(!1,!1,!1,!1),r?(i.stencilFunc(i.EQUAL,h,s),i.stencilOp(i.KEEP,i.KEEP,i.INCR),h++):(i.stencilFunc(i.EQUAL,h+1,s),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),this.level=h,n.renderWebGL(l,n,a),l.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.invertAlpha?i.stencilFunc(i.NOTEQUAL,h,s):i.stencilFunc(i.EQUAL,h,s)},postRenderWebGL:function(l){var a=l.gl;l.maskStack.pop(),l.maskCount--,l.flush();var r=l.currentMask;if(l.maskStack.length===0)r.mask=null,a.disable(a.STENCIL_TEST);else{var i=l.maskStack[l.maskStack.length-1];i.mask.applyStencil(l,i.camera,!1),l.currentCameraMask.mask!==i.mask?(r.mask=i.mask,r.camera=i.camera):r.mask=null}},preRenderCanvas:function(l,a,r){var i=this.geometryMask;l.currentContext.save(),i.renderCanvas(l,i,r,null,null,!0),l.currentContext.clip()},postRenderCanvas:function(l){l.currentContext.restore()},destroy:function(){this.geometryMask=null}});x.exports=m},69781:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=a,this.fragmentSrc=r,this.vertexSrc=i,this.uniforms=n}});x.exports=m},40366:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m;if(c)typeof c=="string"?m=document.getElementById(c):typeof c=="object"&&c.nodeType===1&&(m=c);else if(t.parentElement||c===null)return t;return m||(m=document.body),m.appendChild(t),t};x.exports=M},83719:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40366),m=function(l){var a=l.config;if(!(!a.parent||!a.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+l.scale.width+"px;","height: "+l.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),l.domContainer=r,c(r,a.parent)}};x.exports=m},57264:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25892),m=function(l){if(document.readyState==="complete"||document.readyState==="interactive"){l();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),l()};document.body?c.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};x.exports=m},57811:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){if(!t)return window.innerHeight;var c=Math.abs(window.orientation),m={w:0,h:0},l=document.createElement("div");return l.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(l),m.w=c===90?l.offsetHeight:window.innerWidth,m.h=c===90?window.innerWidth:l.offsetHeight,document.documentElement.removeChild(l),l=null,Math.abs(window.orientation)!==90?m.h:m.w};x.exports=M},45818:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(13560),m=function(l,a){var r=window.screen,i=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?c.ORIENTATION.PORTRAIT:c.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return c.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return c.ORIENTATION.LANDSCAPE}else return a>l?c.ORIENTATION.PORTRAIT:c.ORIENTATION.LANDSCAPE};x.exports=m},74403:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c;return t!==""&&(typeof t=="string"?c=document.getElementById(t):t&&t.nodeType===1&&(c=t)),c||(c=document.body),c};x.exports=M},56836:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c="";try{if(window.DOMParser){var m=new DOMParser;c=m.parseFromString(t,"text/xml")}else c=new ActiveXObject("Microsoft.XMLDOM"),c.loadXML(t)}catch{c=null}return!c||!c.documentElement||c.getElementsByTagName("parsererror").length?null:c};x.exports=M},35846:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){t.parentNode&&t.parentNode.removeChild(t)};x.exports=M},43092:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(29747),l=new c({initialize:function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function i(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(i))},this.stepTimeout=function i(){r.isRunning&&(r.timeOutID=window.setTimeout(i,r.delay)),r.callback(window.performance.now())}},start:function(a,r,i){this.isRunning||(this.callback=a,this.isSetTimeOut=r,this.delay=i,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});x.exports=l},84902:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};x.exports=c},47565:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50792),l=t(37277),a=new c({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});l.register("EventEmitter",a,"events"),x.exports=a},93055:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={EventEmitter:t(47565)}},20122:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n){n===void 0&&(n=1),m.call(this,l.BARREL,i),this.amount=n}});x.exports=a},32251:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o,u,f){h===void 0&&(h=1),s===void 0&&(s=1),o===void 0&&(o=1),u===void 0&&(u=1),f===void 0&&(f=4),m.call(this,l.BLOOM,i),this.steps=f,this.offsetX=h,this.offsetY=s,this.blurStrength=o,this.strength=u,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});x.exports=a},9047:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o,u,f){n===void 0&&(n=0),h===void 0&&(h=2),s===void 0&&(s=2),o===void 0&&(o=1),f===void 0&&(f=4),m.call(this,l.BLUR,i),this.quality=n,this.x=h,this.y=s,this.steps=f,this.strength=o,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});x.exports=a},27885:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o,u,f,d){n===void 0&&(n=.5),h===void 0&&(h=1),s===void 0&&(s=.2),o===void 0&&(o=!1),u===void 0&&(u=1),f===void 0&&(f=1),d===void 0&&(d=1),m.call(this,l.BOKEH,i),this.radius=n,this.amount=h,this.contrast=s,this.isTiltShift=o,this.strength=d,this.blurX=u,this.blurY=f}});x.exports=a},12578:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o,u){n===void 0&&(n=8),o===void 0&&(o=1),u===void 0&&(u=.005),m.call(this,l.CIRCLE,i),this.scale=o,this.feather=u,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),s!=null&&(this.backgroundColor=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor2;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});x.exports=a},15802:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(89422),l=t(14811),a=new c({Extends:m,initialize:function(i){m.call(this),this.type=l.COLOR_MATRIX,this.gameObject=i,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});x.exports=a},72898:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r){this.type=a,this.gameObject=r,this.active=!0},setActive:function(l){return this.active=l,this},destroy:function(){this.gameObject=null,this.active=!1}});x.exports=m},44553:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s){n===void 0&&(n="__WHITE"),h===void 0&&(h=.005),s===void 0&&(s=.005),m.call(this,l.DISPLACEMENT,i),this.x=h,this.y=s,this.glTexture,this.setTexture(n)},setTexture:function(r){var i=this.gameObject.scene.sys.textures.getFrame(r);return i&&(this.glTexture=i.glTexture),this}});x.exports=a},68531:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o){h===void 0&&(h=4),s===void 0&&(s=0),o===void 0&&(o=!1),m.call(this,l.GLOW,i),this.outerStrength=h,this.innerStrength=s,this.knockout=o,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});x.exports=a},37102:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o,u,f,d,p){s===void 0&&(s=.2),o===void 0&&(o=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=1),p===void 0&&(p=0),m.call(this,l.GRADIENT,i),this.alpha=s,this.size=p,this.fromX=o,this.fromY=u,this.toX=f,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),h!=null&&(this.color2=h)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor1;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor2;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}}});x.exports=a},86886:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n){n===void 0&&(n=1),m.call(this,l.PIXELATE,i),this.amount=n}});x.exports=a},92322:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o,u,f,d){n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s=.1),o===void 0&&(o=1),f===void 0&&(f=6),d===void 0&&(d=1),m.call(this,l.SHADOW,i),this.x=n,this.y=h,this.decay=s,this.power=o,this.glcolor=[0,0,0,1],this.samples=f,this.intensity=d,u!==void 0&&(this.color=u)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});x.exports=a},39563:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o){n===void 0&&(n=.5),h===void 0&&(h=.5),s===void 0&&(s=3),o===void 0&&(o=!1),m.call(this,l.SHINE,i),this.speed=n,this.lineWidth=h,this.gradient=s,this.reveal=o}});x.exports=a},56448:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o){n===void 0&&(n=.5),h===void 0&&(h=.5),s===void 0&&(s=.5),o===void 0&&(o=.5),m.call(this,l.VIGNETTE,i),this.x=n,this.y=h,this.radius=s,this.strength=o}});x.exports=a},38433:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72898),l=t(14811),a=new c({Extends:m,initialize:function(i,n,h,s,o){n===void 0&&(n=.1),h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=!1),m.call(this,l.WIPE,i),this.progress=0,this.wipeWidth=n,this.direction=h,this.axis=s,this.reveal=o}});x.exports=a},14811:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};x.exports=M},66064:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(79291),m=t(14811),l={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};l=c(!1,l,m),x.exports=l},25305:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10312),m=t(23568),l=function(a,r,i){r.x=m(i,"x",0),r.y=m(i,"y",0),r.depth=m(i,"depth",0),r.flipX=m(i,"flipX",!1),r.flipY=m(i,"flipY",!1);var n=m(i,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=m(n,"x",1),r.scaleY=m(n,"y",1));var h=m(i,"scrollFactor",null);typeof h=="number"?r.setScrollFactor(h):h!==null&&(r.scrollFactorX=m(h,"x",1),r.scrollFactorY=m(h,"y",1)),r.rotation=m(i,"rotation",0);var s=m(i,"angle",null);s!==null&&(r.angle=s),r.alpha=m(i,"alpha",1);var o=m(i,"origin",null);if(typeof o=="number")r.setOrigin(o);else if(o!==null){var u=m(o,"x",.5),f=m(o,"y",.5);r.setOrigin(u,f)}r.blendMode=m(i,"blendMode",c.NORMAL),r.visible=m(i,"visible",!0);var d=m(i,"add",!0);return d&&a.sys.displayList.add(r),r.preUpdate&&a.sys.updateList.add(r),r};x.exports=l},13059:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(23568),m=function(l,a){var r=c(a,"anims",null);if(r===null)return l;if(typeof r=="string")l.anims.play(r);else if(typeof r=="object"){var i=l.anims,n=c(r,"key",void 0);if(n){var h=c(r,"startFrame",void 0),s=c(r,"delay",0),o=c(r,"repeat",0),u=c(r,"repeatDelay",0),f=c(r,"yoyo",!1),d=c(r,"play",!1),p=c(r,"delayedPlay",0),y={key:n,delay:s,repeat:o,repeatDelay:u,yoyo:f,startFrame:h};d?i.play(y):p>0?i.playAfterDelay(y,p):i.load(y)}}return l};x.exports=m},8050:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(73162),l=t(37277),a=t(51708),r=t(44594),i=t(19186),n=new c({Extends:m,initialize:function(s){m.call(this,s),this.sortChildrenFlag=!1,this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(a.ADDED_TO_SCENE,h,this.scene),this.events.emit(r.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(a.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,s){return h._depth-s._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});l.register("DisplayList",n,"displayList"),x.exports=n},95643:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(53774),l=t(45893),a=t(50792),r=t(51708),i=t(44594),n=new c({Extends:a,initialize:function(s,o){a.call(this),this.scene=s,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),s.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(h,s){return this.data||(this.data=new l(this)),this.data.set(h,s),this},incData:function(h,s){return this.data||(this.data=new l(this)),this.data.inc(h,s),this},toggleData:function(h){return this.data||(this.data=new l(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new l(this)),this.data.get(h)},setInteractive:function(h,s,o){return this.scene.sys.input.enable(this,h,s,o),this},disableInteractive:function(h){return h===void 0&&(h=!1),this.scene.sys.input.disable(this,h),this},removeInteractive:function(h){return h===void 0&&(h=!1),this.scene.sys.input.clear(this),h&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(h){var s=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!s||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,s=this.parentContainer,o=[];s&&(o.unshift(s.getIndex(h)),h=s,s.parentContainer);)s=s.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(h)):o.unshift(this.scene.sys.displayList.getIndex(h)),o},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),h.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var h=null;return this.parentContainer?h=this.parentContainer.list:this.displayList&&(h=this.displayList.list),h},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,x.exports=n},44603:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(37277),l=t(44594),a=new c({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},m.register("GameObjectCreator",a,"make"),x.exports=a},39429:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(37277),l=t(44594),a=new c({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},m.register("GameObjectFactory",a,"add"),x.exports=a},91296:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(61340),m=new c,l=new c,a=new c,r={camera:m,sprite:l,calc:a},i=function(n,h,s){var o=m,u=l,f=a;return u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),o.copyFrom(h.matrix),s?(o.multiplyWithOffset(s,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=h.scrollX*n.scrollFactorX,u.f-=h.scrollY*n.scrollFactorY),o.multiply(u,f),r};x.exports=i},45027:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(25774),l=t(37277),a=t(44594),r=new c({Extends:m,initialize:function(n){m.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(a.BOOT,this.boot,this),n.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,n){for(var h=this._active,s=h.length,o=0;o<s;o++){var u=h[o];u.active&&u.preUpdate.call(u,i,n)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(a.PRE_UPDATE,this.update,this),n.off(a.UPDATE,this.sceneUpdate,this),n.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});l.register("UpdateList",r,"updateList"),x.exports=r},3217:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a,r,i,n,h,s,o,u,f,d,p){var y=m.x-c.displayOriginX+a,T=m.y-c.displayOriginY+r,C=y+m.w,P=T+m.h,A=i.a,w=i.b,L=i.c,B=i.d,F=i.e,b=i.f,G=y*A+T*L+F,N=y*w+T*B+b,U=y*A+P*L+F,W=y*w+P*B+b,H=C*A+P*L+F,k=C*w+P*B+b,z=C*A+T*L+F,$=C*w+T*B+b;n&&(G=Math.round(G),N=Math.round(N),U=Math.round(U),W=Math.round(W),H=Math.round(H),k=Math.round(k),z=Math.round(z),$=Math.round($)),t.batchQuad(c,G,N,U,W,H,k,z,$,l.u0,l.v0,l.u1,l.v1,h,s,o,u,f,d,p)};x.exports=M},53048:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){if(m===void 0&&(m=!1),l===void 0)return l={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},l;var a=t.text,r=a.length,i=t.maxWidth,n=t.wordWrapCharCode,h=Number.MAX_VALUE,s=Number.MAX_VALUE,o=0,u=0,f=t.fontData.chars,d=t.fontData.lineHeight,p=t.letterSpacing,y=t.lineSpacing,T=0,C=0,P=0,A=null,w=t._align,L=0,B=0,F=t.fontSize/t.fontData.size,b=F*t.scaleX,G=F*t.scaleY,N=null,U=0,W=[],H=Number.MAX_VALUE,k=0,z=0,$=0,X,Q,Z,K=[],J=[],q=null,tt=function(Bt,re){for(var Vt=0,jt=0;jt<Bt.length;jt++){var ie=Bt.charCodeAt(jt),fe=re.chars[ie];fe&&(Vt+=fe.xAdvance)}return Vt*b};if(i>0){Z=a.split(`
`);var it=[];for(X=0;X<Z.length;X++){var nt=Z[X],rt="",ht="",dt="",lt="";for(Q=0;Q<nt.length;Q++)if(P=nt.charCodeAt(Q),rt+=nt[Q],P===n||Q===nt.length-1){lt=dt+rt;var vt=tt(lt,t.fontData);vt<=i?dt=lt:(ht=ht.slice(0,-1),ht+=(ht?`
`:"")+dt,dt=rt),rt=""}ht=ht.slice(0,-1),ht+=(ht?`
`:"")+dt,it.push(ht)}a=it.join(`
`),l.wrappedText=a,r=a.length}var Mt=0;for(X=0;X<r;X++){if(P=a.charCodeAt(X),P===10){q!==null&&(K.push({word:q.word,i:q.i,x:q.x*b,y:q.y*G,w:q.w*b,h:q.h*G}),q=null),N=null,W[z]=$,$>k&&(k=$),$<H&&(H=$),z++,$=0,T=0,C=(d+y)*z;continue}if(A=f[P],!!A){if(L=T,B=C,N!==null){var At=A.kerning[U];L+=At!==void 0?At:0}h>L&&(h=L),s>B&&(s=B);var wt=L+A.xAdvance,ct=B+d;o<wt&&(o=wt),u<ct&&(u=ct);var gt=A.xOffset+A.xAdvance+(At!==void 0?At:0);P===n?q!==null&&(K.push({word:q.word,i:q.i,x:q.x*b,y:q.y*G,w:q.w*b,h:q.h*G}),q=null):(q===null&&(q={word:"",i:Mt,x:T,y:C,w:0,h:d}),q.word=q.word.concat(a[X]),q.w+=gt),J.push({i:Mt,idx:X,char:a[X],code:P,x:(A.xOffset+L)*F,y:(A.yOffset+C)*F,w:A.width*F,h:A.height*F,t:C*F,r:wt*F,b:d*F,line:z,glyph:A}),T+=A.xAdvance+p+(At!==void 0?At:0),N=A,U=P,$=wt*F,Mt++}}if(q!==null&&K.push({word:q.word,i:q.i,x:q.x*b,y:q.y*G,w:q.w*b,h:q.h*G}),W[z]=$,$>k&&(k=$),$<H&&(H=$),w>0)for(var xt=0;xt<J.length;xt++){var Ft=J[xt];if(w===1){var bt=(k-W[Ft.line])/2;Ft.x+=bt,Ft.r+=bt}else if(w===2){var kt=k-W[Ft.line];Ft.x+=kt,Ft.r+=kt}}var Gt=l.local,Ot=l.global;return Z=l.lines,Gt.x=h*F,Gt.y=s*F,Gt.width=o*F,Gt.height=u*F,Ot.x=t.x-t._displayOriginX+h*b,Ot.y=t.y-t._displayOriginY+s*G,Ot.width=o*b,Ot.height=u*G,Z.shortest=H,Z.longest=k,Z.lengths=W,c&&(Gt.x=Math.ceil(Gt.x),Gt.y=Math.ceil(Gt.y),Gt.width=Math.ceil(Gt.width),Gt.height=Math.ceil(Gt.height),Ot.x=Math.ceil(Ot.x),Ot.y=Math.ceil(Ot.y),Ot.width=Math.ceil(Ot.width),Ot.height=Math.ceil(Ot.height),Z.shortest=Math.ceil(H),Z.longest=Math.ceil(k)),m&&(t._displayOriginX=t.originX*Gt.width,t._displayOriginY=t.originY*Gt.height,Ot.x=t.x-t._displayOriginX*t.scaleX,Ot.y=t.y-t._displayOriginY*t.scaleY,c&&(Ot.x=Math.ceil(Ot.x),Ot.y=Math.ceil(Ot.y))),l.words=K,l.characters=J,l.lines.height=d,l.scale=F,l.scaleX=t.scaleX,l.scaleY=t.scaleY,l};x.exports=M},61327:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(21859),m=function(l,a,r,i,n,h,s){var o=l.sys.textures.get(r),u=o.get(i),f=l.sys.cache.xml.get(n);if(u&&f){var d=c(f,u,h,s,o);return l.sys.cache.bitmapFont.add(a,{data:d,texture:r,frame:i,fromAtlas:!0}),!0}else return!1};x.exports=m},6925:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35154),m=function(l,a){var r=a.width,i=a.height,n=Math.floor(r/2),h=Math.floor(i/2),s=c(a,"chars","");if(s!==""){var o=c(a,"image",""),u=l.sys.textures.getFrame(o),f=u.cutX,d=u.cutY,p=u.source.width,y=u.source.height,T=c(a,"offset.x",0),C=c(a,"offset.y",0),P=c(a,"spacing.x",0),A=c(a,"spacing.y",0),w=c(a,"lineSpacing",0),L=c(a,"charsPerRow",null);L===null&&(L=p/r,L>s.length&&(L=s.length));for(var B=T,F=C,b={retroFont:!0,font:o,size:r,lineHeight:i+w,chars:{}},G=0,N=0;N<s.length;N++){var U=s.charCodeAt(N),W=(f+B)/p,H=(d+F)/y,k=(f+B+r)/p,z=(d+F+i)/y;b.chars[U]={x:B,y:F,width:r,height:i,centerX:n,centerY:h,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:W,v0:H,u1:k,v1:z},G++,G===L?(G=0,B=T,F+=i+A):B+=r+P}var $={data:b,frame:null,texture:o};return $}};x.exports=m},21859:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(c,m){return parseInt(c.getAttribute(m),10)}var t=function(c,m,l,a,r){l===void 0&&(l=0),a===void 0&&(a=0);var i=m.cutX,n=m.cutY,h=m.source.width,s=m.source.height,o=m.sourceIndex,u={},f=c.getElementsByTagName("info")[0],d=c.getElementsByTagName("common")[0];u.font=f.getAttribute("face"),u.size=M(f,"size"),u.lineHeight=M(d,"lineHeight")+a,u.chars={};var p=c.getElementsByTagName("char"),y=m!==void 0&&m.trimmed;if(y)var T=m.height,C=m.width;for(var P=0;P<p.length;P++){var A=p[P],w=M(A,"id"),L=String.fromCharCode(w),B=M(A,"x"),F=M(A,"y"),b=M(A,"width"),G=M(A,"height");y&&(B<C&&(C=B),F<T&&(T=F)),y&&T!==0&&C!==0&&(B-=m.x,F-=m.y);var N=(i+B)/h,U=(n+F)/s,W=(i+B+b)/h,H=(n+F+G)/s;if(u.chars[w]={x:B,y:F,width:b,height:G,centerX:Math.floor(b/2),centerY:Math.floor(G/2),xOffset:M(A,"xoffset"),yOffset:M(A,"yoffset"),xAdvance:M(A,"xadvance")+l,data:{},kerning:{},u0:N,v0:U,u1:W,v1:H},r&&b!==0&&G!==0){var k=r.add(L,o,B,F,b,G);k&&k.setUVs(b,G,N,U,W,H)}}var z=c.getElementsByTagName("kerning");for(P=0;P<z.length;P++){var $=z[P],X=M($,"first"),Q=M($,"second"),Z=M($,"amount");u.chars[Q].kerning[X]=Z}return u};x.exports=t},196:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87662),m=t(79291),l={Parse:t(6925)};l=m(!1,l,c),x.exports=l},87662:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};x.exports=M},2638:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(22186),m=t(83419),l=t(12310),a=new m({Extends:c,Mixins:[l],initialize:function(i,n,h,s,o,u,f){c.call(this,i,n,h,s,o,u,f),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,i){return this.cropWidth=r,this.cropHeight=i,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});x.exports=a},86741:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20926),m=function(l,a,r,i){var n=a._text,h=n.length,s=l.currentContext;if(!(h===0||!c(l,s,a,r,i))){r.addToRenderList(a);var o=a.fromAtlas?a.frame:a.texture.frames.__BASE,u=a.displayCallback,f=a.callbackData,d=a.fontData.chars,p=a.fontData.lineHeight,y=a._letterSpacing,T=0,C=0,P=0,A=null,w=0,L=0,B=0,F=0,b=0,G=0,N=null,U=0,W=a.frame.source.image,H=o.cutX,k=o.cutY,z=0,$=0,X=a._fontSize/a.fontData.size,Q=a._align,Z=0,K=0;a.getTextBounds(!1);var J=a._bounds.lines;Q===1?K=(J.longest-J.lengths[0])/2:Q===2&&(K=J.longest-J.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);var q=r.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(s.beginPath(),s.rect(0,0,a.cropWidth,a.cropHeight),s.clip());for(var tt=0;tt<h;tt++){if($=X,z=0,P=n.charCodeAt(tt),P===10){Z++,Q===1?K=(J.longest-J.lengths[Z])/2:Q===2&&(K=J.longest-J.lengths[Z]),T=0,C+=p,N=null;continue}if(A=d[P],!!A){if(w=H+A.x,L=k+A.y,B=A.width,F=A.height,b=A.xOffset+T-a.scrollX,G=A.yOffset+C-a.scrollY,N!==null){var it=A.kerning[U];b+=it!==void 0?it:0}if(u){f.index=tt,f.charCode=P,f.x=b,f.y=G,f.scale=$,f.rotation=z,f.data=A.data;var nt=u(f);b=nt.x,G=nt.y,$=nt.scale,z=nt.rotation}b*=$,G*=$,b+=K,T+=A.xAdvance+y+(it!==void 0?it:0),N=A,U=P,!(B===0||F===0||P===32)&&(q&&(b=Math.round(b),G=Math.round(G)),s.save(),s.translate(b,G),s.rotate(z),s.scale($,$),s.drawImage(W,w,L,B,F,0,0,B,F),s.restore())}}s.restore()}};x.exports=m},11164:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2638),m=t(25305),l=t(44603),a=t(23568);l.register("dynamicBitmapText",function(r,i){r===void 0&&(r={});var n=a(r,"font",""),h=a(r,"text",""),s=a(r,"size",!1),o=new c(this.scene,0,0,n,h,s);return i!==void 0&&(r.add=i),m(this.scene,o,r),o})},72566:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2638),m=t(39429);m.register("dynamicBitmapText",function(l,a,r,i,n){return this.displayList.add(new c(this.scene,l,a,r,i,n))})},12310:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(73482),l=t(86741),x.exports={renderWebGL:m,renderCanvas:l}},73482:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(61340),l=t(70554),a=new m,r=function(i,n,h,s){var o=n.text,u=o.length;if(u!==0){h.addToRenderList(n);var f=i.pipelines.set(n.pipeline,n),d=c(n,h,s);i.pipelines.preBatch(n);var p=d.sprite,y=d.calc,T=a,C=n.cropWidth>0||n.cropHeight>0;C&&(f.flush(),i.pushScissor(y.tx,y.ty,n.cropWidth*y.scaleX,n.cropHeight*y.scaleY));var P=n.frame,A=P.glTexture,w=n.tintFill,L=l.getTintAppendFloatAlpha(n.tintTopLeft,h.alpha*n._alphaTL),B=l.getTintAppendFloatAlpha(n.tintTopRight,h.alpha*n._alphaTR),F=l.getTintAppendFloatAlpha(n.tintBottomLeft,h.alpha*n._alphaBL),b=l.getTintAppendFloatAlpha(n.tintBottomRight,h.alpha*n._alphaBR),G=f.setGameObject(n),N=0,U=0,W=0,H=0,k=n.letterSpacing,z,$=0,X=0,Q,Z=n.scrollX,K=n.scrollY,J=n.fontData,q=J.chars,tt=J.lineHeight,it=n.fontSize/J.size,nt=0,rt=n._align,ht=0,dt=0,lt=n.getTextBounds(!1);n.maxWidth>0&&(o=lt.wrappedText,u=o.length);var vt=n._bounds.lines;rt===1?dt=(vt.longest-vt.lengths[0])/2:rt===2&&(dt=vt.longest-vt.lengths[0]);for(var Mt=h.roundPixels,At=n.displayCallback,wt=n.callbackData,ct=0;ct<u;ct++){if(W=o.charCodeAt(ct),W===10){ht++,rt===1?dt=(vt.longest-vt.lengths[ht])/2:rt===2&&(dt=vt.longest-vt.lengths[ht]),N=0,U+=tt,Q=null;continue}if(z=q[W],!!z){$=z.width,X=z.height;var gt=z.xOffset+N-Z,xt=z.yOffset+U-K;if(Q!==null){var Ft=z.kerning[H]||0;gt+=Ft,N+=Ft}if(N+=z.xAdvance+k,Q=z,H=W,!($===0||X===0||W===32)){if(it=n.fontSize/n.fontData.size,nt=0,At){wt.color=0,wt.tint.topLeft=L,wt.tint.topRight=B,wt.tint.bottomLeft=F,wt.tint.bottomRight=b,wt.index=ct,wt.charCode=W,wt.x=gt,wt.y=xt,wt.scale=it,wt.rotation=nt,wt.data=z.data;var bt=At(wt);gt=bt.x,xt=bt.y,it=bt.scale,nt=bt.rotation,bt.color?(L=bt.color,B=bt.color,F=bt.color,b=bt.color):(L=bt.tint.topLeft,B=bt.tint.topRight,F=bt.tint.bottomLeft,b=bt.tint.bottomRight),L=l.getTintAppendFloatAlpha(L,h.alpha*n._alphaTL),B=l.getTintAppendFloatAlpha(B,h.alpha*n._alphaTR),F=l.getTintAppendFloatAlpha(F,h.alpha*n._alphaBL),b=l.getTintAppendFloatAlpha(b,h.alpha*n._alphaBR)}gt*=it,xt*=it,gt-=n.displayOriginX,xt-=n.displayOriginY,gt+=dt,T.applyITRS(gt,xt,nt,it,it),y.multiply(T,p);var kt=z.u0,Gt=z.v0,Ot=z.u1,Bt=z.v1,re=$,Vt=X,jt=p.e,ie=p.f,fe=Vt*p.c+p.e,hi=Vt*p.d+p.f,li=re*p.a+Vt*p.c+p.e,Ce=re*p.b+Vt*p.d+p.f,Ut=re*p.a+p.e,ui=re*p.b+p.f;Mt&&(jt=Math.round(jt),ie=Math.round(ie),fe=Math.round(fe),hi=Math.round(hi),li=Math.round(li),Ce=Math.round(Ce),Ut=Math.round(Ut),ui=Math.round(ui)),f.shouldFlush(6)&&(f.flush(),G=f.setGameObject(n)),f.batchQuad(n,jt,ie,fe,hi,li,Ce,Ut,ui,kt,Gt,Ot,Bt,L,B,F,b,w,A,G)}}}C&&(f.flush(),i.popScissor()),i.pipelines.postBatch(n)}};x.exports=r},22186:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(45319),l=t(31401),a=t(95643),r=t(53048),i=t(61327),n=t(21859),h=t(87841),s=t(18658),o=new c({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Texture,l.Tint,l.Transform,l.Visible,s],initialize:function(f,d,p,y,T,C,P){T===void 0&&(T=""),P===void 0&&(P=0),a.call(this,f,"BitmapText"),this.font=y;var A=this.scene.sys.cache.bitmapFont.get(y);if(!A)throw new Error("Invalid BitmapText key: "+y);this.fontData=A.data,this._text="",this._fontSize=C||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=P,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(d,p),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,f,d,p){return u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),p===void 0&&(p=.5),this.dropShadowX=u,this.dropShadowY=f,this.dropShadowColor=d,this.dropShadowAlpha=p,this},setCharacterTint:function(u,f,d,p,y,T,C){u===void 0&&(u=0),f===void 0&&(f=1),d===void 0&&(d=!1),p===void 0&&(p=-1),y===void 0&&(y=p,T=p,C=p);var P=this.text.length;f===-1&&(f=P),u<0&&(u=P+u),u=m(u,0,P-1);for(var A=m(u+f,u,P),w=this.charColors,L=u;L<A;L++){var B=w[L];if(p===-1)w[L]=null;else{var F=d?1:0;B?(B.tintEffect=F,B.tintTL=p,B.tintTR=y,B.tintBL=T,B.tintBR=C):w[L]={tintEffect:F,tintTL:p,tintTR:y,tintBL:T,tintBR:C}}}return this},setWordTint:function(u,f,d,p,y,T,C){f===void 0&&(f=1);for(var P=this.getTextBounds(),A=P.words,w=typeof u=="number",L=0,B=0;B<A.length;B++){var F=A[B];if((w&&B===u||!w&&F.word===u)&&(this.setCharacterTint(F.i,F.word.length,d,p,y,T,C),L++,L===f))return this}return this},getTextBounds:function(u){var f=this._bounds;return(this._dirty||u||this.scaleX!==f.scaleX||this.scaleY!==f.scaleY)&&(r(this,u,!0,f),this._dirty=!1),f},getCharacterAt:function(u,f,d){for(var p=this.getLocalPoint(u,f,null,d),y=this.getTextBounds(),T=y.characters,C=new h,P=0;P<T.length;P++){var A=T[P];if(C.setTo(A.x,A.t,A.r-A.x,A.b),C.contains(p.x,p.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,f,d){f===void 0&&(f=this._fontSize),d===void 0&&(d=this._align);var p=this.scene.sys.cache.bitmapFont.get(u);return p&&(this.font=u,this.fontData=p.data,this._fontSize=f,this._align=d,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,f){return this._maxWidth=u,this._dirty=!0,f!==void 0&&(this.wordWrapCharCode=f),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=l.ToJSON(this),f={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=f,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=i,o.ParseXMLBitmapFont=n,x.exports=o},37289:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20926),m=function(l,a,r,i){var n=a._text,h=n.length,s=l.currentContext;if(!(h===0||!c(l,s,a,r,i))){r.addToRenderList(a);var o=a.fromAtlas?a.frame:a.texture.frames.__BASE,u=a.fontData.chars,f=a.fontData.lineHeight,d=a._letterSpacing,p=a._lineSpacing,y=0,T=0,C=0,P=null,A=0,w=0,L=0,B=0,F=0,b=0,G=null,N=0,U=o.source.image,W=o.cutX,H=o.cutY,k=a._fontSize/a.fontData.size,z=a._align,$=0,X=0,Q=a.getTextBounds(!1);a.maxWidth>0&&(n=Q.wrappedText,h=n.length);var Z=a._bounds.lines;z===1?X=(Z.longest-Z.lengths[0])/2:z===2&&(X=Z.longest-Z.lengths[0]),s.translate(-a.displayOriginX,-a.displayOriginY);for(var K=r.roundPixels,J=0;J<h;J++){if(C=n.charCodeAt(J),C===10){$++,z===1?X=(Z.longest-Z.lengths[$])/2:z===2&&(X=Z.longest-Z.lengths[$]),y=0,T+=f+p,G=null;continue}if(P=u[C],!!P){if(A=W+P.x,w=H+P.y,L=P.width,B=P.height,F=P.xOffset+y,b=P.yOffset+T,G!==null){var q=P.kerning[N];F+=q!==void 0?q:0}F*=k,b*=k,F+=X,y+=P.xAdvance+d+(q!==void 0?q:0),G=P,N=C,!(L===0||B===0||C===32)&&(K&&(F=Math.round(F),b=Math.round(b)),s.save(),s.translate(F,b),s.scale(k,k),s.drawImage(U,A,w,L,B,0,0,L,B),s.restore())}}s.restore()}};x.exports=m},57336:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(22186),m=t(25305),l=t(44603),a=t(23568),r=t(35154);l.register("bitmapText",function(i,n){i===void 0&&(i={});var h=r(i,"font",""),s=a(i,"text",""),o=a(i,"size",!1),u=r(i,"align",0),f=new c(this.scene,0,0,h,s,o,u);return n!==void 0&&(i.add=n),m(this.scene,f,i),f})},34914:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(22186),m=t(39429);m.register("bitmapText",function(l,a,r,i,n,h){return this.displayList.add(new c(this.scene,l,a,r,i,n,h))})},18658:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(33590),l=t(37289),x.exports={renderWebGL:m,renderCanvas:l}},33590:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(3217),m=t(91296),l=t(70554),a=function(r,i,n,h){var s=i._text,o=s.length;if(o!==0){n.addToRenderList(i);var u=r.pipelines.set(i.pipeline,i),f=m(i,n,h).calc;r.pipelines.preBatch(i);var d=n.roundPixels,p=n.alpha,y=i.charColors,T=i.tintFill,C=l.getTintAppendFloatAlpha,P=C(i.tintTopLeft,p*i._alphaTL),A=C(i.tintTopRight,p*i._alphaTR),w=C(i.tintBottomLeft,p*i._alphaBL),L=C(i.tintBottomRight,p*i._alphaBR),B=i.frame.glTexture,F=u.setGameObject(i),b=i.getTextBounds(!1),G,N,U,W=b.characters,H=i.dropShadowX,k=i.dropShadowY,z=H!==0||k!==0;if(z){var $=i.dropShadowColor,X=i.dropShadowAlpha,Q=C($,p*X*i._alphaTL),Z=C($,p*X*i._alphaTR),K=C($,p*X*i._alphaBL),J=C($,p*X*i._alphaBR);for(G=0;G<W.length;G++)N=W[G],U=N.glyph,!(N.code===32||U.width===0||U.height===0)&&c(u,i,N,U,H,k,f,d,Q,Z,K,J,1,B,F)}for(G=0;G<W.length;G++)if(N=W[G],U=N.glyph,!(N.code===32||U.width===0||U.height===0))if(u.shouldFlush(6)&&(u.flush(),F=u.setGameObject(i)),y[N.i]){var q=y[N.i],tt=q.tintEffect,it=C(q.tintTL,p*i._alphaTL),nt=C(q.tintTR,p*i._alphaTR),rt=C(q.tintBL,p*i._alphaBL),ht=C(q.tintBR,p*i._alphaBR);c(u,i,N,U,0,0,f,d,it,nt,rt,ht,tt,B,F)}else c(u,i,N,U,0,0,f,d,P,A,w,L,T,B,F);r.pipelines.postBatch(i)}};x.exports=a},6107:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(48011),m=t(46590),l=t(83419),a=t(31401),r=t(4327),i=t(95643),n=t(73162),h=new l({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,c],initialize:function(o,u,f,d,p){i.call(this,o,"Blitter"),this.setTexture(d,p),this.setPosition(u,f),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(s,o,u,f,d){f===void 0&&(f=!0),d===void 0&&(d=this.children.length),u===void 0?u=this.frame:u instanceof r||(u=this.texture.get(u));var p=new m(this,s,o,u,f);return this.children.addAt(p,d,!1),this.dirty=!0,p},createFromCallback:function(s,o,u,f){for(var d=this.createMultiple(o,u,f),p=0;p<d.length;p++){var y=d[p];s.call(this,y,p)}return d},createMultiple:function(s,o,u){o===void 0&&(o=this.frame.name),u===void 0&&(u=!0),Array.isArray(o)||(o=[o]);var f=[],d=this;return o.forEach(function(p){for(var y=0;y<s;y++)f.push(d.create(0,0,p,u))}),f},childCanRender:function(s){return s.visible&&s.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});x.exports=h},72396:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=c.getRenderList();if(a.length!==0){var r=t.currentContext,i=m.alpha*c.alpha;if(i!==0){m.addToRenderList(c),r.globalCompositeOperation=t.blendModes[c.blendMode],r.imageSmoothingEnabled=!c.frame.source.scaleMode;var n=c.x-m.scrollX*c.scrollFactorX,h=c.y-m.scrollY*c.scrollFactorY;r.save(),l&&l.copyToContext(r);for(var s=m.roundPixels,o=0;o<a.length;o++){var u=a[o],f=u.flipX||u.flipY,d=u.frame,p=d.canvasData,y=d.x,T=d.y,C=1,P=1,A=u.alpha*i;A!==0&&(r.globalAlpha=A,f?(u.flipX&&(C=-1,y-=p.width),u.flipY&&(P=-1,T-=p.height),p.width>0&&p.height>0&&(r.save(),r.translate(u.x+n,u.y+h),r.scale(C,P),r.drawImage(d.source.image,p.x,p.y,p.width,p.height,y,T,p.width,p.height),r.restore())):(s&&(y=Math.round(y),T=Math.round(T)),p.width>0&&p.height>0&&r.drawImage(d.source.image,p.x,p.y,p.width,p.height,y+u.x+n,T+u.y+h,p.width,p.height)))}r.restore()}}};x.exports=M},9403:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(6107),m=t(25305),l=t(44603),a=t(23568);l.register("blitter",function(r,i){r===void 0&&(r={});var n=a(r,"key",null),h=a(r,"frame",null),s=new c(this.scene,0,0,n,h);return i!==void 0&&(r.add=i),m(this.scene,s,r),s})},12709:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(6107),m=t(39429);m.register("blitter",function(l,a,r,i){return this.displayList.add(new c(this.scene,l,a,r,i))})},48011:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(99485),l=t(72396),x.exports={renderWebGL:m,renderCanvas:l}},99485:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(61340),m=t(70554),l=new c,a=function(r,i,n,h){var s=i.getRenderList(),o=n.alpha*i.alpha;if(!(s.length===0||o===0)){n.addToRenderList(i);var u=r.pipelines.set(this.pipeline,i),f=n.scrollX*i.scrollFactorX,d=n.scrollY*i.scrollFactorY,p=l.copyFrom(n.matrix);h&&(p.multiplyWithOffset(h,-f,-d),f=0,d=0);var y=i.x-f,T=i.y-d,C=-1,P=!1,A=n.roundPixels;r.pipelines.preBatch(i);for(var w=0;w<s.length;w++){var L=s[w],B=L.frame,F=L.alpha*o;if(F!==0){var b=B.width,G=B.height,N=y+L.x+B.x,U=T+L.y+B.y;L.flipX&&(b*=-1,N+=B.width),L.flipY&&(G*=-1,U+=B.height);var W=p.setQuad(N,U,N+b,U+G,A),H=m.getTintAppendFloatAlpha(L.tint,F);if(B.sourceIndex!==C){var k=u.setGameObject(i,B);C=B.sourceIndex}u.batchQuad(i,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],B.u0,B.v0,B.u1,B.v1,H,H,H,H,P,B.glTexture,k)&&(C=-1)}}r.pipelines.postBatch(i)}};x.exports=a},46590:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(4327),l=new c({initialize:function(r,i,n,h,s){this.parent=r,this.x=i,this.y=n,this.frame=h,this.data={},this.tint=16777215,this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof m&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,r,i){return this.x=a,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,r){return this.x=a,this.y=r,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,r){return this.flipX=a,this.flipY=r,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});x.exports=l},16005:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=2,l={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,r,i,n){return a===void 0&&(a=1),r===void 0?this.alpha=a:(this._alphaTL=c(a,0,1),this._alphaTR=c(r,0,1),this._alphaBL=c(i,0,1),this._alphaBR=c(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var r=c(a,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~m:this.renderFlags|=m}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var r=c(a,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=m)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var r=c(a,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=m)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var r=c(a,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=m)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var r=c(a,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=m)}}};x.exports=l},88509:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=2,l={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var r=c(a,0,1);this._alpha=r,r===0?this.renderFlags&=~m:this.renderFlags|=m}}};x.exports=l},90065:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10312),m={_blendMode:c.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(l){typeof l=="string"&&(l=c[l]),l|=0,l>=-1&&(this._blendMode=l)}},setBlendMode:function(l){return this.blendMode=l,this}};x.exports=m},94215:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,c){return this.width=t,this.height=c,this},setDisplaySize:function(t,c){return this.displayWidth=t,this.displayHeight=c,this}};x.exports=M},61683:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={texture:null,frame:null,isCropped:!1,setCrop:function(t,c,m,l){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,c,m,l,this.flipX,this.flipY);else{var a=t;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};x.exports=M},89272:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37105),m={_depth:0,depth:{get:function(){return this._depth},set:function(l){this.displayList&&this.displayList.queueDepthSort(),this._depth=l}},setDepth:function(l){return l===void 0&&(l=0),this.depth=l,this},setToTop:function(){var l=this.getDisplayList();return l&&c.BringToTop(l,this),this},setToBack:function(){var l=this.getDisplayList();return l&&c.SendToBack(l,this),this},setAbove:function(l){var a=this.getDisplayList();return a&&l&&c.MoveAbove(a,this,l),this},setBelow:function(l){var a=this.getDisplayList();return a&&l&&c.MoveBelow(a,this,l),this}};x.exports=m},47059:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(66064),l=t(19133),a=new c({initialize:function(i,n){this.gameObject=i,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var i=this.gameObject.scene.sys.renderer;i&&i.pipelines?(this.gameObject.pipeline=i.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,i=0;i<r.length;i++)r[i].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var i;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),i=0;i<n.length;i++){var h=n[i];if(h.controller===r){this.gameObject.removePostPipeline(h),r.destroy();break}}}else{var s=this.list;for(i=0;i<s.length;i++)s[i]===r&&(l(s,i),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,i){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,i);var h=this.gameObject.getPostPipeline(n);if(h)return Array.isArray(h)&&(h=h.pop()),h&&(h.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,i,n,h,s,o){return this.add(new m.Glow(this.gameObject,r,i,n,h),{quality:s,distance:o})},addShadow:function(r,i,n,h,s,o,u){return this.add(new m.Shadow(this.gameObject,r,i,n,h,s,o,u))},addPixelate:function(r){return this.add(new m.Pixelate(this.gameObject,r))},addVignette:function(r,i,n,h){return this.add(new m.Vignette(this.gameObject,r,i,n,h))},addShine:function(r,i,n,h){return this.add(new m.Shine(this.gameObject,r,i,n,h))},addBlur:function(r,i,n,h,s,o){return this.add(new m.Blur(this.gameObject,r,i,n,h,s,o))},addGradient:function(r,i,n,h,s,o,u,f){return this.add(new m.Gradient(this.gameObject,r,i,n,h,s,o,u,f))},addBloom:function(r,i,n,h,s,o){return this.add(new m.Bloom(this.gameObject,r,i,n,h,s,o))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},addCircle:function(r,i,n,h,s){return this.add(new m.Circle(this.gameObject,r,i,n,h,s))},addBarrel:function(r){return this.add(new m.Barrel(this.gameObject,r))},addDisplacement:function(r,i,n){return this.add(new m.Displacement(this.gameObject,r,i,n))},addWipe:function(r,i,n){return this.add(new m.Wipe(this.gameObject,r,i,n))},addReveal:function(r,i,n){return this.add(new m.Wipe(this.gameObject,r,i,n,!0))},addBokeh:function(r,i,n){return this.add(new m.Bokeh(this.gameObject,r,i,n))},addTiltShift:function(r,i,n,h,s,o){return this.add(new m.Bokeh(this.gameObject,r,i,n,!0,h,s,o))},destroy:function(){this.clear(),this.gameObject=null}});x.exports=a},54434:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,c){return this.flipX=t,this.flipY=c,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};x.exports=M},8004:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=t(11520),l=t(26099),a={prepareBoundsOutput:function(r,i){if(i===void 0&&(i=!1),this.rotation!==0&&m(r,this.x,this.y,this.rotation),i&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,i){return r===void 0&&(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getTopLeft:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopCenter:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopRight:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getLeftCenter:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getRightCenter:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getBottomLeft:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomCenter:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomRight:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBounds:function(r){r===void 0&&(r=new c);var i,n,h,s,o,u,f,d;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),p.transformPoint(r.x,r.y,r),i=r.x,n=r.y,this.getTopRight(r),p.transformPoint(r.x,r.y,r),h=r.x,s=r.y,this.getBottomLeft(r),p.transformPoint(r.x,r.y,r),o=r.x,u=r.y,this.getBottomRight(r),p.transformPoint(r.x,r.y,r),f=r.x,d=r.y}else this.getTopLeft(r),i=r.x,n=r.y,this.getTopRight(r),h=r.x,s=r.y,this.getBottomLeft(r),o=r.x,u=r.y,this.getBottomRight(r),f=r.x,d=r.y;return r.x=Math.min(i,h,o,f),r.y=Math.min(n,s,u,d),r.width=Math.max(i,h,o,f)-r.x,r.height=Math.max(n,s,u,d)-r.y,r}};x.exports=a},8573:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(6858),m=t(80661),l={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,r,i,n,h){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new c(this.scene,a,r,i,n,h)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new m(this.scene,a)}};x.exports=l},27387:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,c){return t===void 0&&(t=.5),c===void 0&&(c=t),this.originX=t,this.originY=c,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,c){return t===void 0&&(t=0),c===void 0&&(c=t),this.displayOriginX=t,this.displayOriginY=c,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};x.exports=M},37640:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39506),m=t(57355),l=t(35154),a=t(86353),r=t(26099),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(n,h){h===void 0&&(h=this.pathConfig);var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this.path=n,h&&this.startFollow(h),this},setRotateToPath:function(n,h){return h===void 0&&(h=0),this.rotateToPath=n,this.pathRotationOffset=h,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,h){n===void 0&&(n={}),h===void 0&&(h=0);var s=this.pathTween;s&&s.isPlaying()&&s.stop(),typeof n=="number"&&(n={duration:n}),n.from=l(n,"from",0),n.to=l(n,"to",1);var o=m(n,"positionOnPath",!1);this.rotateToPath=m(n,"rotateToPath",!1),this.pathRotationOffset=l(n,"rotationOffset",0);var u=l(n,"startAt",h);if(u&&(n.onStart=function(d){var p=d.data[0];p.progress=u,p.elapsed=p.duration*u;var y=p.ease(p.progress);p.current=p.start+(p.end-p.start)*y,p.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var f=this.path.getPoint(.1);this.rotation=Math.atan2(f.y-this.y,f.x-this.x)+c(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var h=n.data[0],s=this.pathDelta,o=this.pathVector;if(s.copy(o).negate(),h.state===a.COMPLETE){this.path.getPoint(h.end,o),s.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(h.state!==a.PLAYING_FORWARD&&h.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),o),s.add(o),o.add(this.pathOffset);var u=this.x,f=this.y;this.setPosition(o.x,o.y);var d=this.x-u,p=this.y-f;if(d===0&&p===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,d)+c(this.pathRotationOffset))}}};x.exports=i},72699:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62644),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(l){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var r=a.pipelines;if(r){l===void 0&&(l=r.default);var i=r.get(l);if(i)return this.defaultPipeline=i,this.pipeline=i,!0}return!1},setPipeline:function(l,a,r){var i=this.scene.sys.renderer;if(!i)return this;var n=i.pipelines;if(n){var h=n.get(l);h&&(this.pipeline=h),a&&(this.pipelineData=r?c(a):a)}return this},setPipelineData:function(l,a){var r=this.pipelineData;return a===void 0?delete r[l]:r[l]=a,this},resetPipeline:function(l){return l===void 0&&(l=!1),this.pipeline=this.defaultPipeline,l&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};x.exports=m},17581:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62644),m=t(47059),l=t(19133),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),r&&(this.preFX=new m(this,!1))},setPostPipeline:function(r,i,n){var h=this.scene.sys.renderer;if(!h)return this;var s=h.pipelines;if(s){Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var u=s.getPostPipeline(r[o],this,i);u&&this.postPipelines.push(u)}i&&(this.postPipelineData=n?c(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,i){var n=this.postPipelineData;return i===void 0?delete n[r]:n[r]=i,this},getPostPipeline:function(r){for(var i=typeof r=="string",n=this.postPipelines,h=[],s=0;s<n.length;s++){var o=n[s];(i&&o.name===r||!i&&o instanceof r)&&h.push(o)}return h.length===1?h[0]:h},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var i=this.postPipelines,n=0;n<i.length;n++)i[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var i=typeof r=="string",n=this.postPipelines,h=n.length-1;h>=0;h--){var s=n[h];(i&&s.name===r||!i&&s===r)&&(s.destroy(),l(n,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};x.exports=a},80227:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,c){return c===void 0&&(c=t),this.scrollFactorX=t,this.scrollFactorY=c,this}};x.exports=M},16736:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this},setSize:function(t,c){return this.width=t,this.height=c,this},setDisplaySize:function(t,c){return this.displayWidth=t,this.displayHeight=c,this}};x.exports=M},37726:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(4327),m=8,l={texture:null,frame:null,isCropped:!1,setTexture:function(a,r,i,n){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r,i,n)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof c?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};x.exports=l},79812:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(4327),m=8,l={texture:null,frame:null,isCropped:!1,setCrop:function(a,r,i,n){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,r,i,n,this.flipX,this.flipY);else{var h=a;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof c?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};x.exports=l},27472:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,c,m,l){return t===void 0&&(t=16777215),c===void 0&&(c=t,m=t,l=t),this.tintTopLeft=t,this.tintTopRight=c,this.tintBottomLeft=m,this.tintBottomRight=l,this.tintFill=!1,this},setTintFill:function(t,c,m,l){return this.setTint(t,c,m,l),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};x.exports=M},53774:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(c.textureKey=t.texture.key,c.frameKey=t.frame.name),c};x.exports=M},16901:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=t(61340),l=t(85955),a=t(86554),r=t(30954),i=t(26099),n=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this._scaleX=s,this._scaleY=s,s===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(s){this._scaleX=s,s===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(s){this._scaleY=s,s===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*c.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*c.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(s){this._rotation=a(s)}},setPosition:function(s,o,u,f){return s===void 0&&(s=0),o===void 0&&(o=s),u===void 0&&(u=0),f===void 0&&(f=0),this.x=s,this.y=o,this.z=u,this.w=f,this},copyPosition:function(s){return s.x!==void 0&&(this.x=s.x),s.y!==void 0&&(this.y=s.y),s.z!==void 0&&(this.z=s.z),s.w!==void 0&&(this.w=s.w),this},setRandomPosition:function(s,o,u,f){return s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),this.x=s+Math.random()*u,this.y=o+Math.random()*f,this},setRotation:function(s){return s===void 0&&(s=0),this.rotation=s,this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,this},setScale:function(s,o){return s===void 0&&(s=1),o===void 0&&(o=s),this.scaleX=s,this.scaleY=o,this},setX:function(s){return s===void 0&&(s=0),this.x=s,this},setY:function(s){return s===void 0&&(s=0),this.y=s,this},setZ:function(s){return s===void 0&&(s=0),this.z=s,this},setW:function(s){return s===void 0&&(s=0),this.w=s,this},getLocalTransformMatrix:function(s){return s===void 0&&(s=new m),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(s,o){s===void 0&&(s=new m);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(s);for(o||(o=new m),s.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)o.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),o.multiply(s,s),u=u.parentContainer;return s},getLocalPoint:function(s,o,u,f){u||(u=new i),f||(f=this.scene.sys.cameras.main);var d=f.scrollX,p=f.scrollY,y=s+d*this.scrollFactorX-d,T=o+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(y,T,u):l(y,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var s=0,o=this.parentContainer;o;)s+=o.rotation,o=o.parentContainer;return s}};x.exports=h},61340:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(36383),l=t(26099),a=new c({initialize:function(i,n,h,s,o,u){i===void 0&&(i=1),n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s=1),o===void 0&&(o=0),u===void 0&&(u=0),this.matrix=new Float32Array([i,n,h,s,o,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,i=r[0],n=r[1],h=r[2],s=r[3];return i||n?n>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):h||s?m.TAU-(s>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,i){var n=this.matrix;return n[4]=n[0]*r+n[2]*i+n[4],n[5]=n[1]*r+n[3]*i+n[5],this},scale:function(r,i){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=i,n[3]*=i,this},rotate:function(r){var i=Math.sin(r),n=Math.cos(r),h=this.matrix,s=h[0],o=h[1],u=h[2],f=h[3];return h[0]=s*n+u*i,h[1]=o*n+f*i,h[2]=s*-i+u*n,h[3]=o*-i+f*n,this},multiply:function(r,i){var n=this.matrix,h=r.matrix,s=n[0],o=n[1],u=n[2],f=n[3],d=n[4],p=n[5],y=h[0],T=h[1],C=h[2],P=h[3],A=h[4],w=h[5],L=i===void 0?n:i.matrix;return L[0]=y*s+T*u,L[1]=y*o+T*f,L[2]=C*s+P*u,L[3]=C*o+P*f,L[4]=A*s+w*u+d,L[5]=A*o+w*f+p,L},multiplyWithOffset:function(r,i,n){var h=this.matrix,s=r.matrix,o=h[0],u=h[1],f=h[2],d=h[3],p=h[4],y=h[5],T=i*o+n*f+p,C=i*u+n*d+y,P=s[0],A=s[1],w=s[2],L=s[3],B=s[4],F=s[5];return h[0]=P*o+A*f,h[1]=P*u+A*d,h[2]=w*o+L*f,h[3]=w*u+L*d,h[4]=B*o+F*f+T,h[5]=B*u+F*d+C,this},transform:function(r,i,n,h,s,o){var u=this.matrix,f=u[0],d=u[1],p=u[2],y=u[3],T=u[4],C=u[5];return u[0]=r*f+i*p,u[1]=r*d+i*y,u[2]=n*f+h*p,u[3]=n*d+h*y,u[4]=s*f+o*p+T,u[5]=s*d+o*y+C,this},transformPoint:function(r,i,n){n===void 0&&(n={x:0,y:0});var h=this.matrix,s=h[0],o=h[1],u=h[2],f=h[3],d=h[4],p=h[5];return n.x=r*s+i*u+d,n.y=r*o+i*f+p,n},invert:function(){var r=this.matrix,i=r[0],n=r[1],h=r[2],s=r[3],o=r[4],u=r[5],f=i*s-n*h;return r[0]=s/f,r[1]=-n/f,r[2]=-h/f,r[3]=i/f,r[4]=(h*u-s*o)/f,r[5]=-(i*u-n*o)/f,this},copyFrom:function(r){var i=this.matrix;return i[0]=r.a,i[1]=r.b,i[2]=r.c,i[3]=r.d,i[4]=r.e,i[5]=r.f,this},copyFromArray:function(r){var i=this.matrix;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],this},copyToContext:function(r){var i=this.matrix;return r.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r},setToContext:function(r){return r.setTransform(this),r},copyToArray:function(r){var i=this.matrix;return r===void 0?r=[i[0],i[1],i[2],i[3],i[4],i[5]]:(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5]),r},setTransform:function(r,i,n,h,s,o){var u=this.matrix;return u[0]=r,u[1]=i,u[2]=n,u[3]=h,u[4]=s,u[5]=o,this},decomposeMatrix:function(){var r=this.decomposedMatrix,i=this.matrix,n=i[0],h=i[1],s=i[2],o=i[3],u=n*o-h*s;if(r.translateX=i[4],r.translateY=i[5],n||h){var f=Math.sqrt(n*n+h*h);r.rotation=h>0?Math.acos(n/f):-Math.acos(n/f),r.scaleX=f,r.scaleY=u/f}else if(s||o){var d=Math.sqrt(s*s+o*o);r.rotation=Math.PI*.5-(o>0?Math.acos(-s/d):-Math.acos(s/d)),r.scaleX=u/d,r.scaleY=d}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,i,n,h,s){var o=this.matrix,u=Math.sin(n),f=Math.cos(n);return o[4]=r,o[5]=i,o[0]=f*h,o[1]=u*h,o[2]=-u*s,o[3]=f*s,this},applyInverse:function(r,i,n){n===void 0&&(n=new l);var h=this.matrix,s=h[0],o=h[1],u=h[2],f=h[3],d=h[4],p=h[5],y=1/(s*f+u*-o);return n.x=f*y*r+-u*y*i+(p*u-d*f)*y,n.y=s*y*i+-o*y*r+(-p*s+d*o)*y,n},setQuad:function(r,i,n,h,s,o){s===void 0&&(s=!1),o===void 0&&(o=this.quad);var u=this.matrix,f=u[0],d=u[1],p=u[2],y=u[3],T=u[4],C=u[5],P=r*f+i*p+T,A=r*d+i*y+C,w=r*f+h*p+T,L=r*d+h*y+C,B=n*f+h*p+T,F=n*d+h*y+C,b=n*f+i*p+T,G=n*d+i*y+C;if(s){var N=Math.floor(P+.5),U=Math.floor(A+.5),W=N-P,H=U-A;o[0]=N,o[1]=U,o[2]=w+W,o[3]=L+H,o[4]=B+W,o[5]=F+H,o[6]=b+W,o[7]=G+H}else o[0]=P,o[1]=A,o[2]=w,o[3]=L,o[4]=B,o[5]=F,o[6]=b,o[7]=G;return o},getX:function(r,i){return r*this.a+i*this.c+this.e},getY:function(r,i){return r*this.b+i*this.d+this.f},getXRound:function(r,i,n){var h=this.getX(r,i);return n&&(h=Math.floor(h+.5)),h},getYRound:function(r,i,n){var h=this.getY(r,i);return n&&(h=Math.floor(h+.5)),h},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});x.exports=a},59715:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(c){c?(this._visible=!0,this.renderFlags|=M):(this._visible=!1,this.renderFlags&=~M)}},setVisible:function(c){return this.visible=c,this}};x.exports=t},31401:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37105),m=t(10312),l=t(83419),a=t(31401),r=t(51708),i=t(95643),n=t(87841),h=t(29959),s=t(36899),o=t(26099),u=new a.TransformMatrix,f=new l({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,h],initialize:function(p,y,T,C){i.call(this,p,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this._sortKey="",this._sysEvents=p.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,T),this.setBlendMode(m.SKIP_CHECK),C&&this.add(C)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new n),d.setTo(this.x,this.y,0,0),this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix(),y=p.transformPoint(this.x,this.y);d.setTo(y.x,y.y,0,0)}if(this.list.length>0){var T=this.list,C=new n,P=!1;d.setEmpty();for(var A=0;A<T.length;A++){var w=T[A];w.getBounds&&(w.getBounds(C),P?s(C,d,d):(d.setTo(C.x,C.y,C.width,C.height),P=!0))}}return d},addHandler:function(d){d.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(r.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,p){p===void 0&&(p=new o),this.parentContainer?this.parentContainer.pointToContainer(d,p):(p.x=d.x,p.y=d.y);var y=u;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(d.x,d.y,p),p},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(u,this.localTransform)},add:function(d){return c.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,p){return c.AddAt(this.list,d,p,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,p){return d?(p===void 0&&(p=function(y,T){return y[d]-T[d]}),c.StableSort(this.list,p),this):this},getByName:function(d){return c.GetFirst(this.list,"name",d)},getRandom:function(d,p){return c.GetRandom(this.list,d,p)},getFirst:function(d,p,y,T){return c.GetFirst(this.list,d,p,y,T)},getAll:function(d,p,y,T){return c.GetAll(this.list,d,p,y,T)},count:function(d,p,y,T){return c.CountAllMatching(this.list,d,p,y,T)},swap:function(d,p){return c.Swap(this.list,d,p),this},moveTo:function(d,p){return c.MoveTo(this.list,d,p),this},moveAbove:function(d,p){return c.MoveAbove(this.list,d,p),this},moveBelow:function(d,p){return c.MoveBelow(this.list,d,p),this},remove:function(d,p){var y=c.Remove(this.list,d,this.removeHandler,this);if(p&&y){Array.isArray(y)||(y=[y]);for(var T=0;T<y.length;T++)y[T].destroy()}return this},removeAt:function(d,p){var y=c.RemoveAt(this.list,d,this.removeHandler,this);return p&&y&&y.destroy(),this},removeBetween:function(d,p,y){var T=c.RemoveBetween(this.list,d,p,this.removeHandler,this);if(y)for(var C=0;C<T.length;C++)T[C].destroy();return this},removeAll:function(d){var p=this.list;if(d){for(var y=0;y<p.length;y++)p[y]&&p[y].scene&&(p[y].off(r.DESTROY,this.onChildDestroyed,this),p[y].destroy());this.list=[]}else c.RemoveBetween(p,0,p.length,this.removeHandler,this);return this},bringToTop:function(d){return c.BringToTop(this.list,d),this},sendToBack:function(d){return c.SendToBack(this.list,d),this},moveUp:function(d){return c.MoveUp(this.list,d),this},moveDown:function(d){return c.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return c.Shuffle(this.list),this},replace:function(d,p,y){var T=c.Replace(this.list,d,p);return T&&(this.addHandler(p),this.removeHandler(d),y&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,p,y,T){return c.SetAll(this.list,d,p,y,T),this},each:function(d,p){var y=[null],T,C=this.list.slice(),P=C.length;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<P;T++)y[0]=C[T],d.apply(p,y);return this},iterate:function(d,p){var y=[null],T;for(T=2;T<arguments.length;T++)y.push(arguments[T]);for(T=0;T<this.list.length;T++)y[0]=this.list[T],d.apply(p,y);return this},setScrollFactor:function(d,p,y){return p===void 0&&(p=d),y===void 0&&(y=!1),this.scrollFactorX=d,this.scrollFactorY=p,y&&(c.SetAll(this.list,"scrollFactorX",d),c.SetAll(this.list,"scrollFactorY",p)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(d){c.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});x.exports=f},53584:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m.addToRenderList(c);var a=c.list;if(a.length!==0){var r=c.localTransform;l?(r.loadIdentity(),r.multiply(l),r.translate(c.x,c.y),r.rotate(c.rotation),r.scale(c.scaleX,c.scaleY)):r.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var i=c.blendMode!==-1;i||t.setBlendMode(0);var n=c._alpha,h=c.scrollFactorX,s=c.scrollFactorY;c.mask&&c.mask.preRenderCanvas(t,null,m);for(var o=0;o<a.length;o++){var u=a[o];if(u.willRender(m)){var f=u.alpha,d=u.scrollFactorX,p=u.scrollFactorY;!i&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(d*h,p*s),u.setAlpha(f*n),u.renderCanvas(t,u,m,r),u.setAlpha(f),u.setScrollFactor(d,p)}}c.mask&&c.mask.postRenderCanvas(t)}};x.exports=M},77143:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(31559),l=t(44603),a=t(23568),r=t(95540);l.register("container",function(i,n){i===void 0&&(i={});var h=a(i,"x",0),s=a(i,"y",0),o=r(i,"children",null),u=new m(this.scene,h,s,o);return n!==void 0&&(i.add=n),c(this.scene,u,i),u})},24961:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(31559),m=t(39429);m.register("container",function(l,a,r){return this.displayList.add(new c(this.scene,l,a,r))})},29959:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(72249),l=t(53584),x.exports={renderWebGL:m,renderCanvas:l}},72249:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m.addToRenderList(c);var a=c.list,r=a.length;if(r!==0){var i=c.localTransform;l?(i.loadIdentity(),i.multiply(l),i.translate(c.x,c.y),i.rotate(c.rotation),i.scale(c.scaleX,c.scaleY)):i.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY),t.pipelines.preBatch(c);var n=c.blendMode!==-1;n||t.setBlendMode(0);for(var h=c.alpha,s=c.scrollFactorX,o=c.scrollFactorY,u=0;u<r;u++){var f=a[u];if(f.willRender(m)){var d,p,y,T;if(f.alphaTopLeft!==void 0)d=f.alphaTopLeft,p=f.alphaTopRight,y=f.alphaBottomLeft,T=f.alphaBottomRight;else{var C=f.alpha;d=C,p=C,y=C,T=C}var P=f.scrollFactorX,A=f.scrollFactorY;!n&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode);var w=f.mask;w&&w.preRenderWebGL(t,f,m);var L=f.type;L!==t.currentType&&(t.newType=!0,t.currentType=L),t.nextTypeMatch=u<r-1?a[u+1].type===t.currentType:!1,f.setScrollFactor(P*s,A*o),f.setAlpha(d*h,p*h,y*h,T*h),f.renderWebGL(t,f,m,i,c),f.setAlpha(d,p,y,T),f.setScrollFactor(P,A),w&&w.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(c)}};x.exports=M},47407:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(441),a=t(95643),r=t(41212),i=t(35846),n=t(44594),h=t(61369),s=new c({Extends:a,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,l],initialize:function(u,f,d,p,y,T){a.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(f,d),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),y,T):this.createElement(p,y,T):p&&this.setElement(p,y,T),u.sys.events.on(n.SLEEP,this.handleSceneEvent,this),u.sys.events.on(n.WAKE,this.handleSceneEvent,this),u.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var u=this.node,f=u.style;u&&(f.display=o.settings.visible?"block":"none")},setSkew:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this.skewX=o,this.skewY=u,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var u=0;u<o.length;u++)this.node.addEventListener(o[u],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var u=0;u<o.length;u++)this.node.removeEventListener(o[u],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,u,f){return this.setElement(document.createElement(o),u,f)},setElement:function(o,u,f){this.removeElement();var d;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),d=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(d=o),!d)return this;if(this.node=d,u&&r(u))for(var p in u)d.style[p]=u[p];else typeof u=="string"&&(d.style=u);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),f&&(d.innerText=f),this.updateSize()},createFromCache:function(o,u){var f=this.cache.get(o);return f&&this.createFromHTML(f,u),this},createFromHTML:function(o,u){u===void 0&&(u="div"),this.removeElement();var f=document.createElement(u);return this.node=f,f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),f.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var o=this.node,u=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=u.width||0,this.displayHeight=u.height||0,this},getChildByProperty:function(o,u){if(this.node){for(var f=this.node.querySelectorAll("*"),d=0;d<f.length;d++)if(f[d][o]===u)return f[d]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,u=this.node;u&&o&&!o.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});x.exports=s},49381:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(47407),m=t(95643),l=t(61340),a=new l,r=new l,i=new l,n=function(h,s,o,u){if(s.node){var f=s.node.style,d=s.scene.sys.settings;if(!f||!d.visible||m.RENDER_MASK!==s.renderFlags||s.cameraFilter!==0&&s.cameraFilter&o.id||s.parentContainer&&!s.parentContainer.willRender()){f.display="none";return}var p=s.parentContainer,y=o.alpha*s.alpha;p&&(y*=p.alpha);var T=a,C=r,P=i,A=0,w=0,L="0%",B="0%";u?(A=s.width*s.scaleX*s.originX,w=s.height*s.scaleY*s.originY,C.applyITRS(s.x-A,s.y-w,s.rotation,s.scaleX,s.scaleY),T.copyFrom(o.matrix),T.multiplyWithOffset(u,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),C.e=s.x-A,C.f=s.y-w,T.multiply(C,P)):(A=s.width*s.originX,w=s.height*s.originY,C.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),T.copyFrom(o.matrix),L=100*s.originX+"%",B=100*s.originY+"%",C.e-=o.scrollX*s.scrollFactorX,C.f-=o.scrollY*s.scrollFactorY,T.multiply(C,P),P.e-=A,P.f-=w),s.transformOnly||(f.display="block",f.opacity=y,f.zIndex=s._depth,f.pointerEvents=s.pointerEvents,f.mixBlendMode=c[s._blendMode]),f.transform=P.getCSSMatrix()+" skew("+s.skewX+"rad, "+s.skewY+"rad) rotate3d("+s.rotate3d.x+","+s.rotate3d.y+","+s.rotate3d.z+","+s.rotate3d.w+s.rotate3dAngle+")",f.transformOrigin=L+" "+B}};x.exports=n},2611:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(3069),m=t(39429);m.register("dom",function(l,a,r,i,n){var h=new c(this.scene,l,a,r,i,n);return this.displayList.add(h),h})},441:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(49381),l=t(49381),x.exports={renderWebGL:m,renderCanvas:l}},62980:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="addedtoscene"},41337:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="destroy"},44947:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="removedfromscene"},49358:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="complete"},35163:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="created"},97249:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="error"},19483:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="locked"},56059:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="loop"},26772:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="metadata"},64437:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="playing"},83411:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="play"},75780:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="seeked"},67799:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="seeking"},63500:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="stalled"},55541:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="stop"},53208:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="textureready"},4992:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="unlocked"},12:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="unsupported"},51708:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(95643),a=t(64993),r=new c({Extends:l,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,a],initialize:function(n){l.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});x.exports=r},70217:()=>{},56315:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(42421),m=t(39429);m.register("extern",function(){var l=new c(this.scene);return this.displayList.add(l),l})},64993:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(80287),l=t(70217),x.exports={renderWebGL:m,renderCanvas:l}},80287:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=function(l,a,r,i){l.pipelines.clear();var n=c(a,r,i).calc;a.render.call(a,l,r,n),l.pipelines.rebind()};x.exports=m},85592:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(71911),m=t(83419),l=t(85592),a=t(31401),r=t(8497),i=t(95643),n=t(95540),h=t(35154),s=t(36383),o=t(84503),u=new m({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,o],initialize:function(d,p){var y=h(p,"x",0),T=h(p,"y",0);i.call(this,d,"Graphics"),this.setPosition(y,T),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(p)},setDefaultStyles:function(f){return h(f,"lineStyle",null)&&(this.defaultStrokeWidth=h(f,"lineStyle.width",1),this.defaultStrokeColor=h(f,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(f,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(f,"fillStyle",null)&&(this.defaultFillColor=h(f,"fillStyle.color",16777215),this.defaultFillAlpha=h(f,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(f,d,p){return p===void 0&&(p=1),this.commandBuffer.push(l.LINE_STYLE,f,d,p),this._lineWidth=f,this},fillStyle:function(f,d){return d===void 0&&(d=1),this.commandBuffer.push(l.FILL_STYLE,f,d),this},fillGradientStyle:function(f,d,p,y,T,C,P,A){return T===void 0&&(T=1),C===void 0&&(C=T),P===void 0&&(P=T),A===void 0&&(A=T),this.commandBuffer.push(l.GRADIENT_FILL_STYLE,T,C,P,A,f,d,p,y),this},lineGradientStyle:function(f,d,p,y,T,C){return C===void 0&&(C=1),this.commandBuffer.push(l.GRADIENT_LINE_STYLE,f,C,d,p,y,T),this},beginPath:function(){return this.commandBuffer.push(l.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(l.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(l.FILL_PATH),this},fill:function(){return this.commandBuffer.push(l.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(l.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(l.STROKE_PATH),this},fillCircleShape:function(f){return this.fillCircle(f.x,f.y,f.radius)},strokeCircleShape:function(f){return this.strokeCircle(f.x,f.y,f.radius)},fillCircle:function(f,d,p){return this.beginPath(),this.arc(f,d,p,0,s.PI2),this.fillPath(),this},strokeCircle:function(f,d,p){return this.beginPath(),this.arc(f,d,p,0,s.PI2),this.strokePath(),this},fillRectShape:function(f){return this.fillRect(f.x,f.y,f.width,f.height)},strokeRectShape:function(f){return this.strokeRect(f.x,f.y,f.width,f.height)},fillRect:function(f,d,p,y){return this.commandBuffer.push(l.FILL_RECT,f,d,p,y),this},strokeRect:function(f,d,p,y){var T=this._lineWidth/2,C=f-T,P=f+T;return this.beginPath(),this.moveTo(f,d),this.lineTo(f,d+y),this.strokePath(),this.beginPath(),this.moveTo(f+p,d),this.lineTo(f+p,d+y),this.strokePath(),this.beginPath(),this.moveTo(C,d),this.lineTo(P+p,d),this.strokePath(),this.beginPath(),this.moveTo(C,d+y),this.lineTo(P+p,d+y),this.strokePath(),this},fillRoundedRect:function(f,d,p,y,T){T===void 0&&(T=20);var C=T,P=T,A=T,w=T;typeof T!="number"&&(C=n(T,"tl",20),P=n(T,"tr",20),A=n(T,"bl",20),w=n(T,"br",20));var L=C>=0,B=P>=0,F=A>=0,b=w>=0;return C=Math.abs(C),P=Math.abs(P),A=Math.abs(A),w=Math.abs(w),this.beginPath(),this.moveTo(f+C,d),this.lineTo(f+p-P,d),B?this.arc(f+p-P,d+P,P,-s.TAU,0):this.arc(f+p,d,P,Math.PI,s.TAU,!0),this.lineTo(f+p,d+y-w),b?this.arc(f+p-w,d+y-w,w,0,s.TAU):this.arc(f+p,d+y,w,-s.TAU,Math.PI,!0),this.lineTo(f+A,d+y),F?this.arc(f+A,d+y-A,A,s.TAU,Math.PI):this.arc(f,d+y,A,0,-s.TAU,!0),this.lineTo(f,d+C),L?this.arc(f+C,d+C,C,-Math.PI,-s.TAU):this.arc(f,d,C,s.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(f,d,p,y,T){T===void 0&&(T=20);var C=T,P=T,A=T,w=T,L=Math.min(p,y)/2;typeof T!="number"&&(C=n(T,"tl",20),P=n(T,"tr",20),A=n(T,"bl",20),w=n(T,"br",20));var B=C>=0,F=P>=0,b=A>=0,G=w>=0;return C=Math.min(Math.abs(C),L),P=Math.min(Math.abs(P),L),A=Math.min(Math.abs(A),L),w=Math.min(Math.abs(w),L),this.beginPath(),this.moveTo(f+C,d),this.lineTo(f+p-P,d),this.moveTo(f+p-P,d),F?this.arc(f+p-P,d+P,P,-s.TAU,0):this.arc(f+p,d,P,Math.PI,s.TAU,!0),this.lineTo(f+p,d+y-w),this.moveTo(f+p,d+y-w),G?this.arc(f+p-w,d+y-w,w,0,s.TAU):this.arc(f+p,d+y,w,-s.TAU,Math.PI,!0),this.lineTo(f+A,d+y),this.moveTo(f+A,d+y),b?this.arc(f+A,d+y-A,A,s.TAU,Math.PI):this.arc(f,d+y,A,0,-s.TAU,!0),this.lineTo(f,d+C),this.moveTo(f,d+C),B?this.arc(f+C,d+C,C,-Math.PI,-s.TAU):this.arc(f,d,C,s.TAU,0,!0),this.strokePath(),this},fillPointShape:function(f,d){return this.fillPoint(f.x,f.y,d)},fillPoint:function(f,d,p){return!p||p<1?p=1:(f-=p/2,d-=p/2),this.commandBuffer.push(l.FILL_RECT,f,d,p,p),this},fillTriangleShape:function(f){return this.fillTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},strokeTriangleShape:function(f){return this.strokeTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},fillTriangle:function(f,d,p,y,T,C){return this.commandBuffer.push(l.FILL_TRIANGLE,f,d,p,y,T,C),this},strokeTriangle:function(f,d,p,y,T,C){return this.commandBuffer.push(l.STROKE_TRIANGLE,f,d,p,y,T,C),this},strokeLineShape:function(f){return this.lineBetween(f.x1,f.y1,f.x2,f.y2)},lineBetween:function(f,d,p,y){return this.beginPath(),this.moveTo(f,d),this.lineTo(p,y),this.strokePath(),this},lineTo:function(f,d){return this.commandBuffer.push(l.LINE_TO,f,d),this},moveTo:function(f,d){return this.commandBuffer.push(l.MOVE_TO,f,d),this},strokePoints:function(f,d,p,y){d===void 0&&(d=!1),p===void 0&&(p=!1),y===void 0&&(y=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var T=1;T<y;T++)this.lineTo(f[T].x,f[T].y);return d&&this.lineTo(f[0].x,f[0].y),p&&this.closePath(),this.strokePath(),this},fillPoints:function(f,d,p,y){d===void 0&&(d=!1),p===void 0&&(p=!1),y===void 0&&(y=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var T=1;T<y;T++)this.lineTo(f[T].x,f[T].y);return d&&this.lineTo(f[0].x,f[0].y),p&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(f,d){d===void 0&&(d=32);var p=f.getPoints(d);return this.strokePoints(p,!0)},strokeEllipse:function(f,d,p,y,T){T===void 0&&(T=32);var C=new r(f,d,p,y),P=C.getPoints(T);return this.strokePoints(P,!0)},fillEllipseShape:function(f,d){d===void 0&&(d=32);var p=f.getPoints(d);return this.fillPoints(p,!0)},fillEllipse:function(f,d,p,y,T){T===void 0&&(T=32);var C=new r(f,d,p,y),P=C.getPoints(T);return this.fillPoints(P,!0)},arc:function(f,d,p,y,T,C,P){return C===void 0&&(C=!1),P===void 0&&(P=0),this.commandBuffer.push(l.ARC,f,d,p,y,T,C,P),this},slice:function(f,d,p,y,T,C,P){return C===void 0&&(C=!1),P===void 0&&(P=0),this.commandBuffer.push(l.BEGIN_PATH),this.commandBuffer.push(l.MOVE_TO,f,d),this.commandBuffer.push(l.ARC,f,d,p,y,T,C,P),this.commandBuffer.push(l.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(l.SAVE),this},restore:function(){return this.commandBuffer.push(l.RESTORE),this},translateCanvas:function(f,d){return this.commandBuffer.push(l.TRANSLATE,f,d),this},scaleCanvas:function(f,d){return this.commandBuffer.push(l.SCALE,f,d),this},rotateCanvas:function(f){return this.commandBuffer.push(l.ROTATE,f),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(f,d,p){var y=this.scene.sys,T=y.game.renderer;d===void 0&&(d=y.scale.width),p===void 0&&(p=y.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,d,p),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var C,P,A={willReadFrequently:!0};if(typeof f=="string")if(y.textures.exists(f)){C=y.textures.get(f);var w=C.getSourceImage();w instanceof HTMLCanvasElement&&(P=w.getContext("2d",A))}else C=y.textures.createCanvas(f,d,p),P=C.getSourceImage().getContext("2d",A);else f instanceof HTMLCanvasElement&&(P=f.getContext("2d",A));return P&&(this.renderCanvas(T,this,u.TargetCamera,null,P,!1),C&&C.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new c,x.exports=u},32768:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(85592),m=t(20926),l=function(a,r,i,n,h,s){var o=r.commandBuffer,u=o.length,f=h||a.currentContext;if(!(u===0||!m(a,f,r,i,n))){i.addToRenderList(r);var d=1,p=1,y=0,T=0,C=1,P=0,A=0,w=0;f.beginPath();for(var L=0;L<u;++L){var B=o[L];switch(B){case c.ARC:f.arc(o[L+1],o[L+2],o[L+3],o[L+4],o[L+5],o[L+6]),L+=7;break;case c.LINE_STYLE:C=o[L+1],y=o[L+2],d=o[L+3],P=(y&16711680)>>>16,A=(y&65280)>>>8,w=y&255,f.strokeStyle="rgba("+P+","+A+","+w+","+d+")",f.lineWidth=C,L+=3;break;case c.FILL_STYLE:T=o[L+1],p=o[L+2],P=(T&16711680)>>>16,A=(T&65280)>>>8,w=T&255,f.fillStyle="rgba("+P+","+A+","+w+","+p+")",L+=2;break;case c.BEGIN_PATH:f.beginPath();break;case c.CLOSE_PATH:f.closePath();break;case c.FILL_PATH:s||f.fill();break;case c.STROKE_PATH:s||f.stroke();break;case c.FILL_RECT:s?f.rect(o[L+1],o[L+2],o[L+3],o[L+4]):f.fillRect(o[L+1],o[L+2],o[L+3],o[L+4]),L+=4;break;case c.FILL_TRIANGLE:f.beginPath(),f.moveTo(o[L+1],o[L+2]),f.lineTo(o[L+3],o[L+4]),f.lineTo(o[L+5],o[L+6]),f.closePath(),s||f.fill(),L+=6;break;case c.STROKE_TRIANGLE:f.beginPath(),f.moveTo(o[L+1],o[L+2]),f.lineTo(o[L+3],o[L+4]),f.lineTo(o[L+5],o[L+6]),f.closePath(),s||f.stroke(),L+=6;break;case c.LINE_TO:f.lineTo(o[L+1],o[L+2]),L+=2;break;case c.MOVE_TO:f.moveTo(o[L+1],o[L+2]),L+=2;break;case c.LINE_FX_TO:f.lineTo(o[L+1],o[L+2]),L+=5;break;case c.MOVE_FX_TO:f.moveTo(o[L+1],o[L+2]),L+=5;break;case c.SAVE:f.save();break;case c.RESTORE:f.restore();break;case c.TRANSLATE:f.translate(o[L+1],o[L+2]),L+=2;break;case c.SCALE:f.scale(o[L+1],o[L+2]),L+=2;break;case c.ROTATE:f.rotate(o[L+1]),L+=1;break;case c.GRADIENT_FILL_STYLE:L+=5;break;case c.GRADIENT_LINE_STYLE:L+=6;break}}f.restore()}};x.exports=l},87079:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(44603),m=t(43831);c.register("graphics",function(l,a){l===void 0&&(l={}),a!==void 0&&(l.add=a);var r=new m(this.scene,l);return l.add&&this.scene.sys.displayList.add(r),r})},1201:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43831),m=t(39429);m.register("graphics",function(l){return this.displayList.add(new c(this.scene,l))})},84503:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(77545),l=t(32768),l=t(32768),x.exports={renderWebGL:m,renderCanvas:l}},77545:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(85592),m=t(91296),l=t(61340),a=t(70554),r=function(o,u,f){this.x=o,this.y=u,this.width=f},i=function(o,u,f){this.points=[],this.pointsLength=1,this.points[0]=new r(o,u,f)},n=[],h=new l,s=function(o,u,f,d){if(u.commandBuffer.length!==0){f.addToRenderList(u);var p=o.pipelines.set(u.pipeline,u);o.pipelines.preBatch(u);for(var y=m(u,f,d).calc,T=h.loadIdentity(),C=u.commandBuffer,P=f.alpha*u.alpha,A=1,w=p.fillTint,L=p.strokeTint,B=0,F=0,b=0,G=.01,N=Math.PI*2,U,W=[],H=0,k=!0,z=null,$=a.getTintAppendFloatAlpha,X=0;X<C.length;X++)switch(U=C[X],U){case c.BEGIN_PATH:{W.length=0,z=null,k=!0;break}case c.CLOSE_PATH:{k=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case c.FILL_PATH:{for(H=0;H<W.length;H++)p.batchFillPath(W[H].points,T,y);break}case c.STROKE_PATH:{for(H=0;H<W.length;H++)p.batchStrokePath(W[H].points,A,k,T,y);break}case c.LINE_STYLE:{A=C[++X];var Q=C[++X],Z=C[++X]*P,K=$(Q,Z);L.TL=K,L.TR=K,L.BL=K,L.BR=K;break}case c.FILL_STYLE:{var J=C[++X],q=C[++X]*P,tt=$(J,q);w.TL=tt,w.TR=tt,w.BL=tt,w.BR=tt;break}case c.GRADIENT_FILL_STYLE:{var it=C[++X]*P,nt=C[++X]*P,rt=C[++X]*P,ht=C[++X]*P;w.TL=$(C[++X],it),w.TR=$(C[++X],nt),w.BL=$(C[++X],rt),w.BR=$(C[++X],ht);break}case c.GRADIENT_LINE_STYLE:{A=C[++X];var dt=C[++X]*P;L.TL=$(C[++X],dt),L.TR=$(C[++X],dt),L.BL=$(C[++X],dt),L.BR=$(C[++X],dt);break}case c.ARC:{var lt=0,vt=C[++X],Mt=C[++X],At=C[++X],wt=C[++X],ct=C[++X],gt=C[++X],xt=C[++X];for(ct-=wt,gt?ct<-N?ct=-N:ct>0&&(ct=-N+ct%N):ct>N?ct=N:ct<0&&(ct=N+ct%N),z===null&&(z=new i(vt+Math.cos(wt)*At,Mt+Math.sin(wt)*At,A),W.push(z),lt+=G);lt<1+xt;)b=ct*lt+wt,B=vt+Math.cos(b)*At,F=Mt+Math.sin(b)*At,z.points.push(new r(B,F,A)),lt+=G;b=ct+wt,B=vt+Math.cos(b)*At,F=Mt+Math.sin(b)*At,z.points.push(new r(B,F,A));break}case c.FILL_RECT:{p.batchFillRect(C[++X],C[++X],C[++X],C[++X],T,y);break}case c.FILL_TRIANGLE:{p.batchFillTriangle(C[++X],C[++X],C[++X],C[++X],C[++X],C[++X],T,y);break}case c.STROKE_TRIANGLE:{p.batchStrokeTriangle(C[++X],C[++X],C[++X],C[++X],C[++X],C[++X],A,T,y);break}case c.LINE_TO:{z!==null?z.points.push(new r(C[++X],C[++X],A)):(z=new i(C[++X],C[++X],A),W.push(z));break}case c.MOVE_TO:{z=new i(C[++X],C[++X],A),W.push(z);break}case c.SAVE:{n.push(T.copyToArray());break}case c.RESTORE:{T.copyFromArray(n.pop());break}case c.TRANSLATE:{vt=C[++X],Mt=C[++X],T.translate(vt,Mt);break}case c.SCALE:{vt=C[++X],Mt=C[++X],T.scale(vt,Mt);break}case c.ROTATE:{T.rotate(C[++X]);break}}o.pipelines.postBatch(u)}};x.exports=s},26479:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(61061),m=t(83419),l=t(51708),a=t(50792),r=t(46710),i=t(95540),n=t(35154),h=t(97022),s=t(41212),o=t(88492),u=t(35072),f=t(68287),d=new m({Extends:a,initialize:function(y,T,C){a.call(this),C?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?s(T[0])&&(C=T,T=null):s(T)&&(C=T,T=null),this.scene=y,this.children=new u,this.isParent=!0,this.type="Group",this.classType=i(C,"classType",f),this.name=i(C,"name",""),this.active=i(C,"active",!0),this.maxSize=i(C,"maxSize",-1),this.defaultKey=i(C,"defaultKey",null),this.defaultFrame=i(C,"defaultFrame",null),this.runChildUpdate=i(C,"runChildUpdate",!1),this.createCallback=i(C,"createCallback",null),this.removeCallback=i(C,"removeCallback",null),this.createMultipleCallback=i(C,"createMultipleCallback",null),this.internalCreateCallback=i(C,"internalCreateCallback",null),this.internalRemoveCallback=i(C,"internalRemoveCallback",null),T&&this.addMultiple(T),C&&this.createMultiple(C),this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(p,y,T,C,P,A){if(p===void 0&&(p=0),y===void 0&&(y=0),T===void 0&&(T=this.defaultKey),C===void 0&&(C=this.defaultFrame),P===void 0&&(P=!0),A===void 0&&(A=!0),this.isFull())return null;var w=new this.classType(this.scene,p,y,T,C);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=P,w.setActive(A),this.add(w),w},createMultiple:function(p){if(this.isFull())return[];Array.isArray(p)||(p=[p]);var y=[];if(p[0].key)for(var T=0;T<p.length;T++){var C=this.createFromConfig(p[T]);y=y.concat(C)}return y},createFromConfig:function(p){if(this.isFull())return[];this.classType=i(p,"classType",this.classType);var y=i(p,"key",void 0),T=i(p,"frame",null),C=i(p,"visible",!0),P=i(p,"active",!0),A=[];if(y===void 0)return A;Array.isArray(y)||(y=[y]),Array.isArray(T)||(T=[T]);var w=i(p,"repeat",0),L=i(p,"randomKey",!1),B=i(p,"randomFrame",!1),F=i(p,"yoyo",!1),b=i(p,"quantity",!1),G=i(p,"frameQuantity",1),N=i(p,"max",0),U=o(y,T,{max:N,qty:b||G,random:L,randomB:B,repeat:w,yoyo:F});p.createCallback&&(this.createCallback=p.createCallback),p.removeCallback&&(this.removeCallback=p.removeCallback),p.internalCreateCallback&&(this.internalCreateCallback=p.internalCreateCallback),p.internalRemoveCallback&&(this.internalRemoveCallback=p.internalRemoveCallback);for(var W=0;W<U.length;W++){var H=this.create(0,0,U[W].a,U[W].b,C,P);if(!H)break;A.push(H)}if(h(p,"setXY")){var k=n(p,"setXY.x",0),z=n(p,"setXY.y",0),$=n(p,"setXY.stepX",0),X=n(p,"setXY.stepY",0);c.SetXY(A,k,z,$,X)}if(h(p,"setRotation")){var Q=n(p,"setRotation.value",0),Z=n(p,"setRotation.step",0);c.SetRotation(A,Q,Z)}if(h(p,"setScale")){var K=n(p,"setScale.x",1),J=n(p,"setScale.y",K),q=n(p,"setScale.stepX",0),tt=n(p,"setScale.stepY",0);c.SetScale(A,K,J,q,tt)}if(h(p,"setOrigin")){var it=n(p,"setOrigin.x",.5),nt=n(p,"setOrigin.y",it),rt=n(p,"setOrigin.stepX",0),ht=n(p,"setOrigin.stepY",0);c.SetOrigin(A,it,nt,rt,ht)}if(h(p,"setAlpha")){var dt=n(p,"setAlpha.value",1),lt=n(p,"setAlpha.step",0);c.SetAlpha(A,dt,lt)}if(h(p,"setDepth")){var vt=n(p,"setDepth.value",0),Mt=n(p,"setDepth.step",0);c.SetDepth(A,vt,Mt)}if(h(p,"setScrollFactor")){var At=n(p,"setScrollFactor.x",1),wt=n(p,"setScrollFactor.y",At),ct=n(p,"setScrollFactor.stepX",0),gt=n(p,"setScrollFactor.stepY",0);c.SetScrollFactor(A,At,wt,ct,gt)}var xt=i(p,"hitArea",null),Ft=i(p,"hitAreaCallback",null);xt&&c.SetHitArea(A,xt,Ft);var bt=i(p,"gridAlign",!1);return bt&&c.GridAlign(A,bt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(p,y){if(!(!this.runChildUpdate||this.children.size===0))for(var T=this.children.entries.slice(),C=0;C<T.length;C++){var P=T[C];P.active&&P.update(p,y)}},add:function(p,y){return y===void 0&&(y=!1),this.isFull()?this:(this.children.set(p),this.internalCreateCallback&&this.internalCreateCallback.call(this,p),this.createCallback&&this.createCallback.call(this,p),y&&(p.addToDisplayList(this.scene.sys.displayList),p.addToUpdateList()),p.on(l.DESTROY,this.remove,this),this)},addMultiple:function(p,y){if(y===void 0&&(y=!1),Array.isArray(p))for(var T=0;T<p.length;T++)this.add(p[T],y);return this},remove:function(p,y,T){return y===void 0&&(y=!1),T===void 0&&(T=!1),this.children.contains(p)?(this.children.delete(p),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,p),this.removeCallback&&this.removeCallback.call(this,p),p.off(l.DESTROY,this.remove,this),T?p.destroy():y&&(p.removeFromDisplayList(),p.removeFromUpdateList()),this):this},clear:function(p,y){p===void 0&&(p=!1),y===void 0&&(y=!1);for(var T=this.children,C=0;C<T.size;C++){var P=T.entries[C];P.off(l.DESTROY,this.remove,this),y?P.destroy():p&&(P.removeFromDisplayList(),P.removeFromUpdateList())}return this.children.clear(),this},contains:function(p){return this.children.contains(p)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(p,y,T,C){return r(this.children.entries,p,y,T,C)},getFirst:function(p,y,T,C,P,A,w){return this.getHandler(!0,1,p,y,T,C,P,A,w)},getFirstNth:function(p,y,T,C,P,A,w,L){return this.getHandler(!0,p,y,T,C,P,A,w,L)},getLast:function(p,y,T,C,P,A,w){return this.getHandler(!1,1,p,y,T,C,P,A,w)},getLastNth:function(p,y,T,C,P,A,w,L){return this.getHandler(!1,p,y,T,C,P,A,w,L)},getHandler:function(p,y,T,C,P,A,w,L,B){T===void 0&&(T=!1),C===void 0&&(C=!1);var F,b,G=0,N=this.children.entries;if(p)for(b=0;b<N.length;b++)if(F=N[b],F.active===T){if(G++,G===y)break}else F=null;else for(b=N.length-1;b>=0;b--)if(F=N[b],F.active===T){if(G++,G===y)break}else F=null;return F?(typeof P=="number"&&(F.x=P),typeof A=="number"&&(F.y=A),F):C?this.create(P,A,w,L,B):null},get:function(p,y,T,C,P){return this.getFirst(!1,!0,p,y,T,C,P)},getFirstAlive:function(p,y,T,C,P,A){return this.getFirst(!0,p,y,T,C,P,A)},getFirstDead:function(p,y,T,C,P,A){return this.getFirst(!1,p,y,T,C,P,A)},playAnimation:function(p,y){return c.PlayAnimation(this.children.entries,p,y),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(p){p===void 0&&(p=!0);for(var y=0,T=0;T<this.children.size;T++)this.children.entries[T].active===p&&y++;return y},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var p=this.getTotalUsed(),y=this.maxSize===-1?999999999999:this.maxSize;return y-p},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},propertyValueSet:function(p,y,T,C,P){return c.PropertyValueSet(this.children.entries,p,y,T,C,P),this},propertyValueInc:function(p,y,T,C,P){return c.PropertyValueInc(this.children.entries,p,y,T,C,P),this},setX:function(p,y){return c.SetX(this.children.entries,p,y),this},setY:function(p,y){return c.SetY(this.children.entries,p,y),this},setXY:function(p,y,T,C){return c.SetXY(this.children.entries,p,y,T,C),this},incX:function(p,y){return c.IncX(this.children.entries,p,y),this},incY:function(p,y){return c.IncY(this.children.entries,p,y),this},incXY:function(p,y,T,C){return c.IncXY(this.children.entries,p,y,T,C),this},shiftPosition:function(p,y,T){return c.ShiftPosition(this.children.entries,p,y,T),this},angle:function(p,y){return c.Angle(this.children.entries,p,y),this},rotate:function(p,y){return c.Rotate(this.children.entries,p,y),this},rotateAround:function(p,y){return c.RotateAround(this.children.entries,p,y),this},rotateAroundDistance:function(p,y,T){return c.RotateAroundDistance(this.children.entries,p,y,T),this},setAlpha:function(p,y){return c.SetAlpha(this.children.entries,p,y),this},setTint:function(p,y,T,C){return c.SetTint(this.children.entries,p,y,T,C),this},setOrigin:function(p,y,T,C){return c.SetOrigin(this.children.entries,p,y,T,C),this},scaleX:function(p,y){return c.ScaleX(this.children.entries,p,y),this},scaleY:function(p,y){return c.ScaleY(this.children.entries,p,y),this},scaleXY:function(p,y,T,C){return c.ScaleXY(this.children.entries,p,y,T,C),this},setDepth:function(p,y){return c.SetDepth(this.children.entries,p,y),this},setBlendMode:function(p){return c.SetBlendMode(this.children.entries,p),this},setHitArea:function(p,y){return c.SetHitArea(this.children.entries,p,y),this},shuffle:function(){return c.Shuffle(this.children.entries),this},kill:function(p){this.children.contains(p)&&p.setActive(!1)},killAndHide:function(p){this.children.contains(p)&&(p.setActive(!1),p.setVisible(!1))},setVisible:function(p,y,T){return c.SetVisible(this.children.entries,p,y,T),this},toggleVisible:function(){return c.ToggleVisible(this.children.entries),this},destroy:function(p,y){p===void 0&&(p=!1),y===void 0&&(y=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(l.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(y,p),this.scene=void 0,this.children=void 0)}});x.exports=d},94975:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(44603),m=t(26479);c.register("group",function(l){return new m(this.scene,null,l)})},3385:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26479),m=t(39429);m.register("group",function(l,a){return this.updateList.add(new c(this.scene,l,a))})},88571:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(95643),a=t(59819),r=new c({Extends:l,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,a],initialize:function(n,h,s,o,u){l.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,u),this.setPosition(h,s),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});x.exports=r},40652:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m.addToRenderList(c),t.batchSprite(c,c.frame,m,l)};x.exports=M},82459:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(88571);m.register("image",function(r,i){r===void 0&&(r={});var n=l(r,"key",null),h=l(r,"frame",null),s=new a(this.scene,0,0,n,h);return i!==void 0&&(r.add=i),c(this.scene,s,r),s})},2117:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(88571),m=t(39429);m.register("image",function(l,a,r,i){return this.displayList.add(new c(this.scene,l,a,r,i))})},59819:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(99517),l=t(40652),x.exports={renderWebGL:m,renderCanvas:l}},99517:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m.addToRenderList(c),this.pipeline.batchSprite(c,m,l)};x.exports=M},77856:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};c.Shader=t(20071),c.Mesh=t(4703),c.NineSlice=t(28103),c.PointLight=t(80321),c.Plane=t(33663),c.Factories.Shader=t(74177),c.Factories.Mesh=t(9225),c.Factories.NineSlice=t(47521),c.Factories.PointLight=t(71255),c.Factories.Plane=t(30985),c.Creators.Shader=t(54935),c.Creators.Mesh=t(20527),c.Creators.NineSlice=t(28279),c.Creators.PointLight=t(39829),c.Creators.Plane=t(56015),c.Light=t(41432),c.LightsManager=t(61356),c.LightsPlugin=t(88992),x.exports=c},93595:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10312),m=t(83419),l=t(31401),a=t(53774),r=t(45893),i=t(50792),n=t(51708),h=t(73162),s=t(33963),o=t(44594),u=t(19186),f=new m({Extends:h,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.PostPipeline,l.Visible,i,s],initialize:function(p,y){h.call(this,p),i.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(c.SKIP_CHECK),y&&this.add(y),p.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(d,p){return this.data||(this.data=new r(this)),this.data.set(d,p),this},incData:function(d,p){return this.data||(this.data=new r(this)),this.data.inc(d,p),this},toggleData:function(d){return this.data||(this.data=new r(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new r(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,p=this.parentContainer,y=[];p&&(y.unshift(p.getIndex(d)),d=p,p.parentContainer);)p=p.parentContainer;return y.unshift(this.displayList.getIndex(d)),y},addChildCallback:function(d){var p=d.displayList;p&&p!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(n.ADDED_TO_SCENE,d,this.scene),this.events.emit(o.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(n.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,p){return d._depth-p._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),d.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var p=this.list;p.length;)p[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});x.exports=f},2956:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=c.list;if(l.length!==0){c.depthSort();var a=c.blendMode!==-1;a||t.setBlendMode(0);var r=c._alpha;c.mask&&c.mask.preRenderCanvas(t,null,m);for(var i=0;i<l.length;i++){var n=l[i];if(n.willRender(m)){var h=n.alpha;!a&&n.blendMode!==t.currentBlendMode&&t.setBlendMode(n.blendMode),n.setAlpha(h*r),n.renderCanvas(t,n,m),n.setAlpha(h)}}c.mask&&c.mask.postRenderCanvas(t)}};x.exports=M},25179:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(93595),l=t(44603),a=t(23568);l.register("layer",function(r,i){r===void 0&&(r={});var n=a(r,"children",null),h=new m(this.scene,n);return i!==void 0&&(r.add=i),c(this.scene,h,r),h})},20005:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(93595),m=t(39429);m.register("layer",function(l){return this.displayList.add(new c(this.scene,l))})},33963:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(15869),l=t(2956),x.exports={renderWebGL:m,renderCanvas:l}},15869:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=c.list,a=l.length;if(a!==0){c.depthSort(),t.pipelines.preBatch(c);var r=c.blendMode!==-1;r||t.setBlendMode(0);for(var i=c.alpha,n=0;n<a;n++){var h=l[n];if(h.willRender(m)){var s,o,u,f;if(h.alphaTopLeft!==void 0)s=h.alphaTopLeft,o=h.alphaTopRight,u=h.alphaBottomLeft,f=h.alphaBottomRight;else{var d=h.alpha;s=d,o=d,u=d,f=d}!r&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var p=h.mask;p&&p.preRenderWebGL(t,h,m);var y=h.type;y!==t.currentType&&(t.newType=!0,t.currentType=y),t.nextTypeMatch=n<a-1?l[n+1].type===t.currentType:!1,h.setAlpha(s*i,o*i,u*i,f*i),h.renderWebGL(t,h,m),h.setAlpha(s,o,u,f),p&&p.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(c)}};x.exports=M},41432:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(96503),m=t(83419),l=t(31401),a=t(51767),r=t(70554),i=new m({Extends:c,Mixins:[l.Origin,l.ScrollFactor,l.Visible],initialize:function(h,s,o,u,f,d,p){c.call(this,h,s,o),this.color=new a(u,f,d),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var h=r.getFloatsFromUintRGB(n);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});i.RENDER_MASK=15,x.exports=i},61356:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(81491),m=t(83419),l=t(20339),a=t(41432),r=t(80321),i=t(51767),n=t(19133),h=t(19186),s=t(70554),o=new m({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,f,d,p,y,T){return this.systems.displayList.add(new r(this.scene,u,f,d,p,y,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var f=this.lights,d=u.worldView,p=[],y=0;y<f.length;y++){var T=f[y];T.willRender(u)&&c(T,d)&&p.push({light:T,distance:l(T.x,T.y,d.centerX,d.centerY)})}return p.length>this.maxLights&&(h(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(u,f){return u.distance>=f.distance},setAmbientColor:function(u){var f=s.getFloatsFromUintRGB(u);return this.ambientColor.set(f[0],f[1],f[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,f,d,p,y){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=128),p===void 0&&(p=16777215),y===void 0&&(y=1);var T=s.getFloatsFromUintRGB(p),C=new a(u,f,d,T[0],T[1],T[2],y);return this.lights.push(C),C},removeLight:function(u){var f=this.lights.indexOf(u);return f>=0&&n(this.lights,f),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});x.exports=o},88992:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(61356),l=t(37277),a=t(44594),r=new c({Extends:m,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(a.BOOT,this.boot,this),m.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});l.register("LightsPlugin",r,"lights"),x.exports=r},4703:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(39506),a=t(83997),r=t(95643),i=t(34684),n=t(92515),h=t(91296),s=t(37867),o=t(29807),u=t(43396),f=t(19186),d=t(25836),p=t(39318),y=new c({Extends:r,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,o],initialize:function(C,P,A,w,L,B,F,b,G,N,U,W){P===void 0&&(P=0),A===void 0&&(A=0),w===void 0&&(w="__WHITE"),r.call(this,C,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new s,this.viewPosition=new d,this.viewMatrix=new s,this.projectionMatrix=new s,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=C.sys.renderer;this.setPosition(P,A),this.setTexture(w,L),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),B&&this.addVertices(B,F,b,G,N,U,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(d.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=d.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,C,P,A,w){return P===void 0&&(P=45),A===void 0&&(A=.01),w===void 0&&(w=1e3),this.fov=P,this.projectionMatrix.perspective(l(P),T/C,A,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,C,P,A){return T===void 0&&(T=this.scene.sys.renderer.getAspectRatio()),C===void 0&&(C=1),P===void 0&&(P=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-T,T,-C,C,P,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,C,P,A,w,L,B,F,b){var G=this.scene.sys.cache.obj.get(T),N;return G&&(N=i(G,this,C,P,A,w,L,B,F,b)),(!N||N.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",T),this},sortByDepth:function(T,C){return T.depth-C.depth},depthSort:function(){return f(this.faces,this.sortByDepth),this},addVertex:function(T,C,P,A,w,L,B){var F=new p(T,C,P,A,w,L,B);return this.vertices.push(F),F},addFace:function(T,C,P){var A=new a(T,C,P);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(T,C,P,A,w,L,B){var F=n(T,C,P,A,w,L,B);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},hasFaceAt:function(T,C,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var A=h(this,P).calc,w=this.faces,L=0;L<w.length;L++){var B=w[L];if(B.contains(T,C,A))return!0}return!1},getFaceAt:function(T,C,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var A=h(this,P).calc,w=this.faces,L=[],B=0;B<w.length;B++){var F=w[B];F.contains(T,C,A)&&L.push(F)}return f(L,this.sortByDepth)},setDebug:function(T,C){return this.debugGraphic=T,!T&&!C?this.debugCallback=null:C?this.debugCallback=C:this.debugCallback=this.renderDebug,this},isDirty:function(){var T=this.modelPosition,C=this.modelRotation,P=this.modelScale,A=this.dirtyCache,w=T.x,L=T.y,B=T.z,F=C.x,b=C.y,G=C.z,N=P.x,U=P.y,W=P.z,H=this.getFaceCount(),k=A[0],z=A[1],$=A[2],X=A[3],Q=A[4],Z=A[5],K=A[6],J=A[7],q=A[8],tt=A[9];return A[0]=w,A[1]=L,A[2]=B,A[3]=F,A[4]=b,A[5]=G,A[6]=N,A[7]=U,A[8]=W,A[9]=H,k!==w||z!==L||$!==B||X!==F||Q!==b||Z!==G||K!==N||J!==U||q!==W||tt!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!T[10]&&!this.isDirty())){var C=this.width,P=this.height,A=this.viewMatrix,w=this.viewPosition;T[10]&&(A.identity(),A.translate(w),A.invert(),T[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var B=w.z,F=this.faces,b=0;b<F.length;b++)F[b].transformCoordinatesLocal(L,C,P,B);this.depthSort()}},renderDebug:function(T,C){for(var P=T.debugGraphic,A=0;A<C.length;A++){var w=C[A],L=w.vertex1.tx,B=w.vertex1.ty,F=w.vertex2.tx,b=w.vertex2.ty,G=w.vertex3.tx,N=w.vertex3.ty;P.strokeTriangle(L,B,F,b,G,N)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(T){T===void 0&&(T={});var C=(function(P,A,w){for(var L=this.faces,B=0;B<L.length;B++){var F=L[B];if(F.contains(A,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,T,C),this},setTint:function(T){T===void 0&&(T=16777215);for(var C=this.vertices,P=0;P<C.length;P++)C[P].color=T;return this},uvScroll:function(T,C){for(var P=this.faces,A=0;A<P.length;A++)P[A].scrollUV(T,C);return this},uvScale:function(T,C){for(var P=this.faces,A=0;A<P.length;A++)P[A].scaleUV(T,C);return this},tint:{set:function(T){this.setTint(T)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(T){this.modelRotation.x=l(T)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(T){this.modelRotation.y=l(T)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(T){this.modelRotation.z=l(T)}}});x.exports=y},36488:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(){};x.exports=M},20527:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(35154),r=t(4703);m.register("mesh",function(i,n){i===void 0&&(i={});var h=l(i,"key",null),s=l(i,"frame",null),o=a(i,"vertices",[]),u=a(i,"uvs",[]),f=a(i,"indicies",[]),d=a(i,"containsZ",!1),p=a(i,"normals",[]),y=a(i,"colors",16777215),T=a(i,"alphas",1),C=new r(this.scene,0,0,h,s,o,u,f,d,p,y,T);return n!==void 0&&(i.add=n),c(this.scene,C,i),C})},9225:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(4703),m=t(39429);m.register("mesh",function(l,a,r,i,n,h,s,o,u,f,d){return this.displayList.add(new c(this.scene,l,a,r,i,n,h,s,o,u,f,d))})},29807:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(48833),l=t(36488),x.exports={renderWebGL:m,renderCanvas:l}},48833:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=function(l,a,r,i){var n=a.faces,h=n.length;if(h!==0){r.addToRenderList(a);var s=l.pipelines.set(a.pipeline,a),o=c(a,r,i).calc;l.pipelines.preBatch(a);for(var u=s.setGameObject(a),f=s.vertexViewF32,d=s.vertexViewU32,p=s.vertexCount*s.currentShader.vertexComponentCount-1,y=a.tintFill,T=[],C=a.debugCallback,P=o.a,A=o.b,w=o.c,L=o.d,B=o.e,F=o.f,b=a.viewPosition.z,G=a.hideCCW,N=r.roundPixels,U=r.alpha*a.alpha,W=0,H=0;H<h;H++){var k=n[H];k.isInView(r,G,b,U,P,A,w,L,B,F,N)&&(s.shouldFlush(3)&&(s.flush(),u=s.setGameObject(a),p=s.vertexCount*s.currentShader.vertexComponentCount-1),p=k.load(f,d,p,u,y),W++,s.vertexCount+=3,s.currentBatch.count=s.vertexCount-s.currentBatch.start,C&&T.push(k))}a.totalFrame+=W,C&&C.call(a,a,T),l.pipelines.postBatch(a)}};x.exports=m},28103:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(95643),a=t(78023),r=t(39318),i=new c({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,a],initialize:function(h,s,o,u,f,d,p,y,T,C,P){l.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=h.textures.getFrame(u,f);this.is3Slice=!C&&!P,A&&A.scale9&&(this.is3Slice=A.is3Slice);for(var w=this.is3Slice?18:54,L=0;L<w;L++)this.vertices.push(new r);this.setPosition(s,o),this.setTexture(u,f),this.setSlices(d,p,y,T,C,P,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,h,s,o,u,f,d){s===void 0&&(s=10),o===void 0&&(o=10),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=!1);var p=this.frame,y=!1;if(this.is3Slice&&d&&u!==0&&f!==0&&(y=!0),y)console.warn("Cannot change 9 slice to 3 slice");else{if(p&&p.scale9&&!d){var T=p.data.scale9Borders,C=T.x,P=T.y;s=C,o=p.width-T.w-C,u=P,f=p.height-T.h-P,n===void 0&&(n=p.width),h===void 0&&(h=p.height)}else n===void 0&&(n=256),h===void 0&&(h=256);this._width=n,this._height=h,this.leftWidth=s,this.rightWidth=o,this.topHeight=u,this.bottomHeight=f,this.is3Slice&&(h=p.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,h=this.rightWidth,s=this.topHeight,o=this.bottomHeight,u=this.frame.width,f=this.frame.height;this.updateQuadUVs(0,0,0,n/u,s/f),this.updateQuadUVs(6,n/u,0,1-h/u,s/f),this.updateQuadUVs(12,1-h/u,0,1,s/f),this.is3Slice||(this.updateQuadUVs(18,0,s/f,n/u,1-o/f),this.updateQuadUVs(24,n/u,s/f,1-h/u,1-o/f),this.updateQuadUVs(30,1-h/u,s/f,1,1-o/f),this.updateQuadUVs(36,0,1-o/f,n/u,1),this.updateQuadUVs(42,n/u,1-o/f,1-h/u,1),this.updateQuadUVs(48,1-h/u,1-o/f,1,1))},updateVertices:function(){var n=this.leftWidth,h=this.rightWidth,s=this.topHeight,o=this.bottomHeight,u=this.width,f=this.height;this.updateQuad(0,-.5,.5,-.5+n/u,.5-s/f),this.updateQuad(6,-.5+n/u,.5,.5-h/u,.5-s/f),this.updateQuad(12,.5-h/u,.5,.5,.5-s/f),this.is3Slice||(this.updateQuad(18,-.5,.5-s/f,-.5+n/u,-.5+o/f),this.updateQuad(24,-.5+n/u,.5-s/f,.5-h/u,-.5+o/f),this.updateQuad(30,.5-h/u,.5-s/f,.5,-.5+o/f),this.updateQuad(36,-.5,-.5+o/f,-.5+n/u,-.5),this.updateQuad(42,-.5+n/u,-.5+o/f,.5-h/u,-.5),this.updateQuad(48,.5-h/u,-.5+o/f,.5,-.5))},updateQuad:function(n,h,s,o,u){var f=this.width,d=this.height,p=this.originX,y=this.originY,T=this.vertices;T[n+0].resize(h,s,f,d,p,y),T[n+1].resize(h,u,f,d,p,y),T[n+2].resize(o,s,f,d,p,y),T[n+3].resize(h,u,f,d,p,y),T[n+4].resize(o,u,f,d,p,y),T[n+5].resize(o,s,f,d,p,y)},updateQuadUVs:function(n,h,s,o,u){var f=this.vertices,d=this.frame,p=d.u0,y=d.v0,T=d.u1,C=d.v1;if(p!==0||T!==1){var P=T-p;h=p+h*P,o=p+o*P}if(y!==0||C!==1){var A=C-y;s=y+s*A,u=y+u*A}f[n+0].setUVs(h,s),f[n+1].setUVs(h,u),f[n+2].setUVs(o,s),f[n+3].setUVs(h,u),f[n+4].setUVs(o,u),f[n+5].setUVs(o,s)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,h){this.width=n,this.height=h,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},setDisplaySize:function(n,h){return this.displayWidth=n,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,h){return n===void 0&&(n=.5),h===void 0&&(h=n),this._originX=n,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});x.exports=i},28279:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(35154),r=t(28103);m.register("nineslice",function(i,n){i===void 0&&(i={});var h=l(i,"key",null),s=l(i,"frame",null),o=a(i,"width",256),u=a(i,"height",256),f=a(i,"leftWidth",10),d=a(i,"rightWidth",10),p=a(i,"topHeight",0),y=a(i,"bottomHeight",0),T=new r(this.scene,0,0,h,s,o,u,f,d,p,y);return n!==void 0&&(i.add=n),c(this.scene,T,i),T})},47521:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(28103),m=t(39429);m.register("nineslice",function(l,a,r,i,n,h,s,o,u,f){return this.displayList.add(new c(this.scene,l,a,r,i,n,h,s,o,u,f))})},78023:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(52230),x.exports={renderWebGL:m,renderCanvas:l}},52230:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(70554),l=function(a,r,i,n){var h=r.vertices,s=h.length;if(s!==0){i.addToRenderList(r);var o=a.pipelines.set(r.pipeline,r),u=c(r,i,n,!1).calc;a.pipelines.preBatch(r);var f=o.setGameObject(r),d=o.vertexViewF32,p=o.vertexViewU32,y=o.vertexCount*o.currentShader.vertexComponentCount-1,T=i.roundPixels,C=r.tintFill,P=i.alpha*r.alpha,A=m.getTintAppendFloatAlpha(r.tint,P),w=o.vertexAvailable(),L=-1;w<s&&(L=w);for(var B=0;B<s;B++){var F=h[B];B===L&&(o.flush(),f=o.setGameObject(r),y=0),d[++y]=u.getXRound(F.vx,F.vy,T),d[++y]=u.getYRound(F.vx,F.vy,T),d[++y]=F.u,d[++y]=F.v,d[++y]=f,d[++y]=C,p[++y]=A,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}a.pipelines.postBatch(r)}};x.exports=l},76472:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(44777),l=t(37589),a=t(6113),r=t(91389),i=t(90664),n=new c({Extends:m,initialize:function(s){m.call(this,s,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,s=h,o=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=a("Linear"),this.interpolation=r("linear"),o=this.easedValueEmit,u=this.easeValueUpdate,s=h[0],this.active=!0;for(var f=0;f<h.length;f++){var d=i(h[f]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=o,this.onUpdate=u,this.current=s,this},setEase:function(h){this.easeName=h,this.ease=a(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,s,o){var u=this.ease(o),f=this.interpolation(this.r,u),d=this.interpolation(this.g,u),p=this.interpolation(this.b,u),y=l(f,d,p);return this.current=y,y}});x.exports=n},44777:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(30976),m=t(45319),l=t(83419),a=t(99472),r=t(6113),i=t(95540),n=t(91389),h=t(77720),s=t(15994),o=new l({initialize:function(f,d,p){p===void 0&&(p=!1),this.propertyKey=f,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,f){u===void 0&&(u={}),f&&(this.propertyKey=f),this.propertyValue=i(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var f;switch(this.method){case 1:case 3:case 8:f=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(f=u);break;case 4:var d=(this.end-this.start)/this.steps;f=h(u,d),this.counter=f;break;case 5:case 6:case 7:f=m(u,this.start,this.end);break;case 9:f=this.start[0];break}return this.current=f,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var f=typeof u;if(f==="number")return 1;if(Array.isArray(u))return 2;if(f==="function")return 3;if(f==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,f=u,d=this.defaultEmit,p=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,f=u[0];break;case 3:this._onEmit=u,d=this.proxyEmit;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,d=this.steppedEmit,f=this.start;break;case 5:this.start=u.start,this.end=u.end;var y=this.has(u,"ease")?u.ease:"Linear";this.ease=r(y,u.easeParams),d=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,p=this.easeValueUpdate,f=this.start;break;case 6:this.start=u.min,this.end=u.max,d=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,f=this.start;break;case 7:var T=u.random;Array.isArray(T)&&(this.start=T[0],this.end=T[1]),d=this.randomRangedIntEmit,f=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,d=this.proxyEmit,p=this.proxyUpdate;break;case 9:this.start=u.values;var C=this.has(u,"ease")?u.ease:"Linear";this.ease=r(C,u.easeParams),this.interpolation=n(u.interpolation),d=this.easedValueEmit,p=this.easeValueUpdate,f=this.start[0];break}return this.onEmit=d,this.onUpdate=p,this.current=f,this},has:function(u,f){return u.hasOwnProperty(f)},hasBoth:function(u,f,d){return u.hasOwnProperty(f)&&u.hasOwnProperty(d)},hasEither:function(u,f,d){return u.hasOwnProperty(f)||u.hasOwnProperty(d)},defaultEmit:function(u,f,d){return d},defaultUpdate:function(u,f,d,p){return p},proxyEmit:function(u,f,d){var p=this._onEmit(u,f,d);return this.current=p,p},proxyUpdate:function(u,f,d,p){var y=this._onUpdate(u,f,d,p);return this.current=y,y},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,f){var d=a(this.start,this.end);return u&&u.data[f]&&(u.data[f].min=d,u.data[f].max=this.end),this.current=d,d},randomRangedIntEmit:function(u,f){var d=c(this.start,this.end);return u&&u.data[f]&&(u.data[f].min=d,u.data[f].max=this.end),this.current=d,d},steppedEmit:function(){var u=this.counter,f=u,d=(this.end-this.start)/this.steps;if(this.yoyo){var p;this.direction===0?(f+=d,f>=this.end&&(p=f-this.end,f=this.end-p,this.direction=1)):(f-=d,f<=this.start&&(p=this.start-f,f=this.start+p,this.direction=0)),this.counter=f}else this.counter=s(f+d,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,f){if(u&&u.data[f]){var d=u.data[f];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,f,d){var p=u.data[f],y,T=this.ease(d);return this.interpolation?y=this.interpolation(this.start,T):y=(p.max-p.min)*T+p.min,this.current=y,y},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});x.exports=o},24502:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=t(20286),a=new c({Extends:l,initialize:function(i,n,h,s,o){if(typeof i=="object"){var u=i;i=m(u,"x",0),n=m(u,"y",0),h=m(u,"power",0),s=m(u,"epsilon",100),o=m(u,"gravity",50)}else i===void 0&&(i=0),n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s=100),o===void 0&&(o=50);l.call(this,i,n,!0),this._gravity=o,this._power=h*o,this._epsilon=s*s},update:function(r,i){var n=this.x-r.x,h=this.y-r.y,s=n*n+h*h;if(s!==0){var o=Math.sqrt(s);s<this._epsilon&&(s=this._epsilon);var u=this._power*i/(s*o)*100;r.velocityX+=n*u,r.velocityY+=h*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var i=this.power;this._gravity=r,this.power=i}}});x.exports=a},56480:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(9674),m=t(45319),l=t(83419),a=t(39506),r=t(87841),i=t(11520),n=t(26099),h=new l({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new c(this)),this.bounds=new r},emit:function(s,o,u,f,d,p){return this.emitter.emit(s,o,u,f,d,p)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(s,o){s===void 0&&(s=0),o===void 0&&(o=0),this.x=s,this.y=o},fire:function(s,o){var u=this.emitter,f=u.ops,d=u.getAnim();if(d?this.anims.play(d):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),s===void 0?this.x+=f.x.onEmit(this,"x"):f.x.steps>0?this.x+=s+f.x.onEmit(this,"x"):this.x+=s,o===void 0?this.y+=f.y.onEmit(this,"y"):f.y.steps>0?this.y+=o+f.y.onEmit(this,"y"):this.y+=o,this.life=f.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=f.delay.onEmit(this,"delay"),this.holdCurrent=f.hold.onEmit(this,"hold"),this.scaleX=f.scaleX.onEmit(this,"scaleX"),this.scaleY=f.scaleY.active?f.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=f.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var p=f.speedX.onEmit(this,"speedX"),y=f.speedY.active?f.speedY.onEmit(this,"speedY"):p;if(u.radial){var T=a(f.angle.onEmit(this,"angle"));this.velocityX=Math.cos(T)*Math.abs(p),this.velocityY=Math.sin(T)*Math.abs(y)}else if(u.moveTo){var C=f.moveToX.onEmit(this,"moveToX"),P=f.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(C-this.x)/A,this.velocityY=(P-this.y)/A}else this.velocityX=p,this.velocityY=y;return u.acceleration&&(this.accelerationX=f.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=f.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=f.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=f.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=f.bounce.onEmit(this,"bounce"),this.alpha=f.alpha.onEmit(this,"alpha"),f.color.active?this.tint=f.color.onEmit(this,"tint"):this.tint=f.tint.onEmit(this,"tint"),!0},update:function(s,o,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=s,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=s,!1;this.anims&&this.anims.update(0,s);var f=this.emitter,d=f.ops,p=1-this.lifeCurrent/this.life;if(this.lifeT=p,this.x=d.x.onUpdate(this,"x",p,this.x),this.y=d.y.onUpdate(this,"y",p,this.y),f.moveTo){var y=d.moveToX.onUpdate(this,"moveToX",p,f.moveToX),T=d.moveToY.onUpdate(this,"moveToY",p,f.moveToY),C=this.lifeCurrent/1e3;this.velocityX=(y-this.x)/C,this.velocityY=(T-this.y)/C}return this.computeVelocity(f,s,o,u,p),this.scaleX=d.scaleX.onUpdate(this,"scaleX",p,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",p,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",p,this.angle),this.rotation=a(this.angle),f.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=m(d.alpha.onUpdate(this,"alpha",p,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",p,this.tint):this.tint=d.tint.onUpdate(this,"tint",p,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(s,o,u,f,d){var p=s.ops,y=this.velocityX,T=this.velocityY,C=p.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),P=p.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),A=p.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),w=p.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=p.bounce.onUpdate(this,"bounce",d,this.bounce),y+=s.gravityX*u+C*u,T+=s.gravityY*u+P*u,y=m(y,-A,A),T=m(T,-w,w),this.velocityX=y,this.velocityY=T,this.x+=y*u,this.y+=T*u,s.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<f.length;L++){var B=f[L];B.active&&B.update(this,o,u,d)}},setSizeToFrame:function(){},getBounds:function(s){s===void 0&&(s=this.emitter.getWorldTransformMatrix());var o=Math.abs(s.scaleX)*this.scaleX,u=Math.abs(s.scaleY)*this.scaleY,f=this.x,d=this.y,p=this.rotation,y=this.frame.width*o/2,T=this.frame.height*u/2,C=this.bounds,P=new n(f-y,d-T),A=new n(f+y,d-T),w=new n(f-y,d+T),L=new n(f+y,d+T);return p!==0&&(i(P,f,d,p),i(A,f,d,p),i(w,f,d,p),i(L,f,d,p)),s.transformPoint(P.x,P.y,P),s.transformPoint(A.x,A.y,A),s.transformPoint(w.x,w.y,w),s.transformPoint(L.x,L.y,L),C.x=Math.min(P.x,A.x,w.x,L.x),C.y=Math.min(P.y,A.y,w.y,L.y),C.width=Math.max(P.x,A.x,w.x,L.x)-C.x,C.height=Math.max(P.y,A.y,w.y,L.y)-C.y,C},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});x.exports=h},69601:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(20286),l=t(87841),a=new c({Extends:m,initialize:function(i,n,h,s,o,u,f,d){o===void 0&&(o=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),m.call(this,i,n,!0),this.bounds=new l(i,n,h,s),this.collideLeft=o,this.collideRight=u,this.collideTop=f,this.collideBottom=d},update:function(r){var i=this.bounds,n=-r.bounce,h=r.worldPosition;h.x<i.x&&this.collideLeft?(r.x+=i.x-h.x,r.velocityX*=n):h.x>i.right&&this.collideRight&&(r.x-=h.x-i.right,r.velocityX*=n),h.y<i.y&&this.collideTop?(r.y+=i.y-h.y,r.velocityY*=n):h.y>i.bottom&&this.collideBottom&&(r.y-=h.y-i.bottom,r.velocityY*=n)}});x.exports=a},31600:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(53774),a=t(43459),r=t(26388),i=t(19909),n=t(76472),h=t(44777),s=t(20696),o=t(95643),u=t(95540),f=t(26546),d=t(24502),p=t(1985),y=t(97022),T=t(86091),C=t(73162),P=t(20074),A=t(269),w=t(56480),L=t(69601),B=t(68875),F=t(87841),b=t(59996),G=t(72905),N=t(90668),U=t(19186),W=t(61340),H=t(26099),k=t(15994),z=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],$=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],X=new c({Extends:o,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,N],initialize:function(Z,K,J,q,tt){o.call(this,Z,"ParticleEmitter"),this.particleClass=w,this.config=null,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new n("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new H,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new C(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(K,J),this.setTexture(q),tt&&this.setConfig(tt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(Q){if(!Q)return this;this.config=Q;var Z=0,K="",J=this.ops;for(Z=0;Z<$.length;Z++)K=$[Z],J[K].loadConfig(Q);for(Z=0;Z<z.length;Z++)K=z[Z],y(Q,K)&&(this[K]=u(Q,K));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,y(Q,"speed")&&(J.speedX.loadConfig(Q,"speed"),J.speedY.active=!1),(p(Q,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(Q,"scale")&&(J.scaleX.loadConfig(Q,"scale"),J.scaleY.active=!1),y(Q,"callbackScope")){var q=u(Q,"callbackScope",null);this.emitCallbackScope=q,this.deathCallbackScope=q}if(y(Q,"emitZone")&&this.addEmitZone(Q.emitZone),y(Q,"deathZone")&&this.addDeathZone(Q.deathZone),y(Q,"bounds")){var tt=this.addParticleBounds(Q.bounds);tt.collideLeft=u(Q,"collideLeft",!0),tt.collideRight=u(Q,"collideRight",!0),tt.collideTop=u(Q,"collideTop",!0),tt.collideBottom=u(Q,"collideBottom",!0)}return y(Q,"followOffset")&&this.followOffset.setFromObject(u(Q,"followOffset",0)),y(Q,"texture")&&this.setTexture(Q.texture),y(Q,"frame")?this.setEmitterFrame(Q.frame):y(Q,"anim")&&this.setAnim(Q.anim),y(Q,"reserve")&&this.reserve(Q.reserve),y(Q,"advance")&&this.fastForward(Q.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(s.START,this),this},updateConfig:function(Q){return Q&&(this.config?this.setConfig(A(this.config,Q)):this.setConfig(Q)),this},toJSON:function(){var Q=l(this),Z=0,K="";for(Z=0;Z<z.length;Z++)K=z[Z],Q[K]=this[K];var J=this.ops;for(Z=0;Z<$.length;Z++)K=$[Z],J[K]&&(Q[K]=J[K].toJSON());return J.speedY.active||(delete Q.speedX,Q.speed=J.speedX.toJSON()),this.scaleX===this.scaleY&&(delete Q.scaleX,delete Q.scaleY,Q.scale=J.scaleX.toJSON()),Q},resetCounters:function(Q,Z){var K=this.counters;K.fill(0),K[0]=Q,Z&&(K[5]=1)},startFollow:function(Q,Z,K,J){return Z===void 0&&(Z=0),K===void 0&&(K=0),J===void 0&&(J=!1),this.follow=Q,this.followOffset.set(Z,K),this.trackVisible=J,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var Q=this.frames,Z=Q.length,K;return Z===1?K=Q[0]:this.randomFrame?K=f(Q):(K=Q[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===Z&&(this.currentFrame=0))),this.texture.get(K)},setEmitterFrame:function(Q,Z,K){Z===void 0&&(Z=!0),K===void 0&&(K=1),this.randomFrame=Z,this.frameQuantity=K,this.currentFrame=0;var J=typeof Q;if(this.frames.length=0,Array.isArray(Q))this.frames=this.frames.concat(Q);else if(J==="string"||J==="number")this.frames.push(Q);else if(J==="object"){var q=Q;Q=u(q,"frames",null),Q&&(this.frames=this.frames.concat(Q));var tt=u(q,"cycle",!1);this.randomFrame=!tt,this.frameQuantity=u(q,"quantity",K)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var Q=this.anims,Z=Q.length;if(Z===0)return null;if(Z===1)return Q[0];if(this.randomAnim)return f(Q);var K=Q[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=k(this.currentAnim+1,0,Z)),K},setAnim:function(Q,Z,K){Z===void 0&&(Z=!0),K===void 0&&(K=1),this.randomAnim=Z,this.animQuantity=K,this.currentAnim=0;var J=typeof Q;if(this.anims.length=0,Array.isArray(Q))this.anims=this.anims.concat(Q);else if(J==="string")this.anims.push(Q);else if(J==="object"){var q=Q;Q=u(q,"anims",null),Q&&(this.anims=this.anims.concat(Q));var tt=u(q,"cycle",!1);this.randomAnim=!tt,this.animQuantity=u(q,"quantity",K)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(Q){return Q===void 0&&(Q=!0),this.radial=Q,this},addParticleBounds:function(Q,Z,K,J,q,tt,it,nt){if(typeof Q=="object"){var rt=Q;Q=rt.x,Z=rt.y,K=y(rt,"w")?rt.w:rt.width,J=y(rt,"h")?rt.h:rt.height}return this.addParticleProcessor(new L(Q,Z,K,J,q,tt,it,nt))},setParticleSpeed:function(Q,Z){return Z===void 0&&(Z=Q),this.ops.speedX.onChange(Q),Q===Z?this.ops.speedY.active=!1:this.ops.speedY.onChange(Z),this.radial=!0,this},setParticleScale:function(Q,Z){return Q===void 0&&(Q=1),Z===void 0&&(Z=Q),this.ops.scaleX.onChange(Q),this.ops.scaleY.onChange(Z),this},setParticleGravity:function(Q,Z){return this.gravityX=Q,this.gravityY=Z,this},setParticleAlpha:function(Q){return this.ops.alpha.onChange(Q),this},setParticleTint:function(Q){return this.ops.tint.onChange(Q),this},setEmitterAngle:function(Q){return this.ops.angle.onChange(Q),this},setParticleLifespan:function(Q){return this.ops.lifespan.onChange(Q),this},setQuantity:function(Q){return this.quantity=Q,this},setFrequency:function(Q,Z){return this.frequency=Q,this.flowCounter=Q>0?Q:0,Z&&(this.quantity=Z),this},addDeathZone:function(Q){Array.isArray(Q)||(Q=[Q]);for(var Z,K=[],J=0;J<Q.length;J++)if(Z=Q[J],Z instanceof r)K.push(Z);else if(typeof Z.contains=="function")Z=new r(Z,!0),K.push(Z);else{var q=u(Z,"type","onEnter"),tt=u(Z,"source",null);if(tt&&typeof tt.contains=="function"){var it=q==="onEnter";Z=new r(tt,it),K.push(Z)}}return this.deathZones=this.deathZones.concat(K),K},removeDeathZone:function(Q){return G(this.deathZones,Q),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(Q){Array.isArray(Q)||(Q=[Q]);for(var Z,K=[],J=0;J<Q.length;J++)if(Z=Q[J],Z instanceof B||Z instanceof i)K.push(Z);else{var q=u(Z,"source",null);if(q){var tt=u(Z,"type","random");if(tt==="random"&&typeof q.getRandomPoint=="function")Z=new B(q),K.push(Z);else if(tt==="edge"&&typeof q.getPoints=="function"){var it=u(Z,"quantity",1),nt=u(Z,"stepRate",0),rt=u(Z,"yoyo",!1),ht=u(Z,"seamless",!0),dt=u(Z,"total",-1);Z=new i(q,it,nt,rt,ht,dt),K.push(Z)}}}return this.emitZones=this.emitZones.concat(K),K},removeEmitZone:function(Q){return G(this.emitZones,Q),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(Q){var Z=this.emitZones,K=Z.length;if(K!==0){var J=Z[this.zoneIndex];J.getPoint(Q),J.total>-1&&(this.zoneTotal++,this.zoneTotal===J.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===K&&(this.zoneIndex=0)))}},getDeathZone:function(Q){for(var Z=this.deathZones,K=0;K<Z.length;K++){var J=Z[K];if(J.willKill(Q))return this.emit(s.DEATH_ZONE,this,Q,J),!0}return!1},setEmitZone:function(Q){var Z;return isFinite(Q)?Z=Q:Z=this.emitZones.indexOf(Q),Z>=0&&(this.zoneIndex=Z),this},addParticleProcessor:function(Q){return this.processors.exists(Q)||(Q.emitter&&Q.emitter.removeParticleProcessor(Q),this.processors.add(Q),Q.emitter=this),Q},removeParticleProcessor:function(Q){return this.processors.exists(Q)&&(this.processors.remove(Q,!0),Q.emitter=null),Q},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(Q){return this.addParticleProcessor(new d(Q))},reserve:function(Q){var Z=this.dead;if(this.maxParticles>0){var K=this.getParticleCount();K+Q>this.maxParticles&&(Q=this.maxParticles-(K+Q))}for(var J=0;J<Q;J++)Z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(Q,Z){return Q===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof Q=="function"&&(this.emitCallback=Q,Z&&(this.emitCallbackScope=Z)),this},onParticleDeath:function(Q,Z){return Q===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof Q=="function"&&(this.deathCallback=Q,Z&&(this.deathCallbackScope=Z)),this},killAll:function(){for(var Q=this.dead,Z=this.alive;Z.length>0;)Q.push(Z.pop());return this},forEachAlive:function(Q,Z){for(var K=this.alive,J=K.length,q=0;q<J;q++)Q.call(Z,K[q],this);return this},forEachDead:function(Q,Z){for(var K=this.dead,J=K.length,q=0;q<J;q++)Q.call(Z,K[q],this);return this},start:function(Q,Z){return Q===void 0&&(Q=0),this.emitting||(Q>0&&this.fastForward(Q),this.emitting=!0,this.resetCounters(this.frequency,!0),Z!==void 0&&(this.duration=Math.abs(Z)),this.emit(s.START,this)),this},stop:function(Q){return Q===void 0&&(Q=!1),this.emitting&&(this.emitting=!1,Q&&this.killAll(),this.emit(s.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(Q,Z){return Q===void 0&&(Q=""),Z===void 0&&(Z=this.true),this.sortProperty=Q,this.sortOrderAsc=Z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(Q){return this.sortProperty!==""?Q=this.depthSortCallback:Q=null,this.sortCallback=Q,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(Q,Z){var K=this.sortProperty;return this.sortOrderAsc?Q[K]-Z[K]:Z[K]-Q[K]},flow:function(Q,Z,K){return Z===void 0&&(Z=1),this.emitting=!1,this.frequency=Q,this.quantity=Z,K!==void 0&&(this.stopAfter=K),this.start()},explode:function(Q,Z,K){this.frequency=-1,this.resetCounters(-1,!0);var J=this.emitParticle(Q,Z,K);return this.emit(s.EXPLODE,this,J),J},emitParticleAt:function(Q,Z,K){return this.emitParticle(K,Q,Z)},emitParticle:function(Q,Z,K){if(!this.atLimit()){Q===void 0&&(Q=this.ops.quantity.onEmit());for(var J=this.dead,q=this.stopAfter,tt=this.follow?this.follow.x+this.followOffset.x:Z,it=this.follow?this.follow.y+this.followOffset.y:K,nt=0;nt<Q;nt++){var rt=J.pop();if(rt||(rt=new this.particleClass(this)),rt.fire(tt,it)?(this.particleBringToTop?this.alive.push(rt):this.alive.unshift(rt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,rt,this)):this.dead.push(rt),q>0&&(this.stopCounter++,this.stopCounter>=q)||this.atLimit())break}return rt}},fastForward:function(Q,Z){Z===void 0&&(Z=1e3/60);var K=0;for(this.skipping=!0;K<Math.abs(Q);)this.preUpdate(0,Z),K+=Z;return this.skipping=!1,this},preUpdate:function(Q,Z){Z*=this.timeScale;var K=Z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var J=this.getProcessors(),q=this.alive,tt=this.dead,it=0,nt=[],rt=q.length;for(it=0;it<rt;it++){var ht=q[it];ht.update(Z,K,J)&&nt.push({index:it,particle:ht})}if(rt=nt.length,rt>0){var dt=this.deathCallback,lt=this.deathCallbackScope;for(it=rt-1;it>=0;it--){var vt=nt[it];q.splice(vt.index,1),tt.push(vt.particle),dt&&dt.call(lt,vt.particle),vt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&q.length===0&&(this.completeFlag=0,this.emit(s.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=Z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=Z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(Q){for(var Z=this.getWorldTransformMatrix(),K=this.alive,J=K.length,q=[],tt=0;tt<J;tt++){var it=K[tt];b(Q,it.getBounds(Z))&&q.push(it)}return q},getBounds:function(Q,Z,K,J){Q===void 0&&(Q=0),Z===void 0&&(Z=0),K===void 0&&(K=1e3/60),J===void 0&&(J=new F);var q=this.getWorldTransformMatrix(),tt,it,nt=this.alive,rt=!1;if(J.setTo(0,0,0,0),Z>0){var ht=0;for(this.skipping=!0;ht<Math.abs(Z);){for(this.preUpdate(0,K),tt=0;tt<nt.length;tt++)it=nt[tt].getBounds(q),rt?P(J,it):(rt=!0,a(it,J));ht+=K}this.skipping=!1}else for(tt=0;tt<nt.length;tt++)it=nt[tt].getBounds(q),rt?P(J,it):(rt=!0,a(it,J));return Q>0&&T(J,Q,Q),J},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(Q){this.ops.x.onChange(Q)}},particleY:{get:function(){return this.ops.y.current},set:function(Q){this.ops.y.onChange(Q)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(Q){this.ops.accelerationX.onChange(Q)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(Q){this.ops.accelerationY.onChange(Q)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(Q){this.ops.maxVelocityX.onChange(Q)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(Q){this.ops.maxVelocityY.onChange(Q)}},speed:{get:function(){return this.ops.speedX.current},set:function(Q){this.ops.speedX.onChange(Q),this.ops.speedY.onChange(Q)}},speedX:{get:function(){return this.ops.speedX.current},set:function(Q){this.ops.speedX.onChange(Q)}},speedY:{get:function(){return this.ops.speedY.current},set:function(Q){this.ops.speedY.onChange(Q)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(Q){this.ops.moveToX.onChange(Q)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(Q){this.ops.moveToY.onChange(Q)}},bounce:{get:function(){return this.ops.bounce.current},set:function(Q){this.ops.bounce.onChange(Q)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(Q){this.ops.scaleX.onChange(Q)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(Q){this.ops.scaleY.onChange(Q)}},particleColor:{get:function(){return this.ops.color.current},set:function(Q){this.ops.color.onChange(Q)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(Q){this.ops.color.setEase(Q)}},particleTint:{get:function(){return this.ops.tint.current},set:function(Q){this.ops.tint.onChange(Q)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(Q){this.ops.alpha.onChange(Q)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(Q){this.ops.lifespan.onChange(Q)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(Q){this.ops.angle.onChange(Q)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(Q){this.ops.rotate.onChange(Q)}},quantity:{get:function(){return this.ops.quantity.current},set:function(Q){this.ops.quantity.onChange(Q)}},delay:{get:function(){return this.ops.delay.current},set:function(Q){this.ops.delay.onChange(Q)}},hold:{get:function(){return this.ops.hold.current},set:function(Q){this.ops.hold.onChange(Q)}},flowCounter:{get:function(){return this.counters[0]},set:function(Q){this.counters[0]=Q}},frameCounter:{get:function(){return this.counters[1]},set:function(Q){this.counters[1]=Q}},animCounter:{get:function(){return this.counters[2]},set:function(Q){this.counters[2]=Q}},elapsed:{get:function(){return this.counters[3]},set:function(Q){this.counters[3]=Q}},stopCounter:{get:function(){return this.counters[4]},set:function(Q){this.counters[4]=Q}},completeFlag:{get:function(){return this.counters[5]},set:function(Q){this.counters[5]=Q}},zoneIndex:{get:function(){return this.counters[6]},set:function(Q){this.counters[6]=Q}},zoneTotal:{get:function(){return this.counters[7]},set:function(Q){this.counters[7]=Q}},currentFrame:{get:function(){return this.counters[8]},set:function(Q){this.counters[8]=Q}},currentAnim:{get:function(){return this.counters[9]},set:function(Q){this.counters[9]=Q}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var Q,Z=this.ops;for(Q=0;Q<$.length;Q++){var K=$[Q];Z[K].destroy()}for(Q=0;Q<this.alive.length;Q++)this.alive[Q].destroy();for(Q=0;Q<this.dead.length;Q++)this.dead[Q].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});x.exports=X},9871:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(59996),m=t(61340),l=new m,a=new m,r=new m,i=new m,n=function(h,s,o,u){var f=l,d=a,p=r,y=i;u?(y.loadIdentity(),y.multiply(u),y.translate(s.x,s.y),y.rotate(s.rotation),y.scale(s.scaleX,s.scaleY)):y.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY);var T=h.currentContext,C=o.roundPixels,P=o.alpha,A=s.alpha,w=s.alive,L=w.length,B=s.viewBounds;if(!(!s.visible||L===0||B&&!c(B,o.worldView))){s.sortCallback&&s.depthSort(),o.addToRenderList(s);var F=s.scrollFactorX,b=s.scrollFactorY;T.save(),T.globalCompositeOperation=h.blendModes[s.blendMode];for(var G=0;G<L;G++){var N=w[G],U=N.alpha*A*P;if(!(U<=0||N.scaleX===0||N.scaleY===0)){p.applyITRS(N.x,N.y,N.rotation,N.scaleX,N.scaleY),f.copyFrom(o.matrix),f.multiplyWithOffset(y,-o.scrollX*F,-o.scrollY*b),p.e=N.x,p.f=N.y,f.multiply(p,d);var W=N.frame,H=W.canvasData;if(H.width>0&&H.height>0){var k=-W.halfWidth,z=-W.halfHeight;T.globalAlpha=U,T.save(),d.setToContext(T),C&&(k=Math.round(k),z=Math.round(z)),T.imageSmoothingEnabled=!W.source.scaleMode,T.drawImage(W.source.image,H.x,H.y,H.width,H.height,k,z,H.width,H.height),T.restore()}}}T.restore()}};x.exports=n},92730:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(95540),r=t(31600);m.register("particles",function(i,n){i===void 0&&(i={});var h=l(i,"key",null),s=a(i,"config",null),o=new r(this.scene,0,0,h);return n!==void 0&&(i.add=n),c(this.scene,o,i),s&&o.setConfig(s),o})},676:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(31600);c.register("particles",function(l,a,r,i){return l!==void 0&&typeof l=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,l,a,r,i))})},90668:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(21188),l=t(9871),x.exports={renderWebGL:m,renderCanvas:l}},21188:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(59996),m=t(61340),l=t(70554),a=new m,r=new m,i=new m,n=new m,h=function(s,o,u,f){var d=s.pipelines.set(o.pipeline),p=a,y=r,T=i,C=n;f?(C.loadIdentity(),C.multiply(f),C.translate(o.x,o.y),C.rotate(o.rotation),C.scale(o.scaleX,o.scaleY)):C.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var P=l.getTintAppendFloatAlpha,A=u.alpha,w=o.alpha;s.pipelines.preBatch(o);var L=o.alive,B=L.length,F=o.viewBounds;if(!(B===0||F&&!c(F,u.worldView))){o.sortCallback&&o.depthSort(),u.addToRenderList(o),p.copyFrom(u.matrix),p.multiplyWithOffset(C,-u.scrollX*o.scrollFactorX,-u.scrollY*o.scrollFactorY),s.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(s,o,u),s.pipelines.set(o.pipeline));for(var b=o.tintFill,G,N,U=0;U<B;U++){var W=L[U],H=W.alpha*w*A;if(!(H<=0||W.scaleX===0||W.scaleY===0)){T.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),T.e=W.x,T.f=W.y,p.multiply(T,y);var k=W.frame;k.glTexture!==N&&(N=k.glTexture,G=d.setGameObject(o,k));var z=-k.halfWidth,$=-k.halfHeight,X=y.setQuad(z,$,z+k.width,$+k.height),Q=P(W.tint,H);d.shouldFlush(6)&&(d.flush(),G=d.setGameObject(o,k)),d.batchQuad(o,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],k.u0,k.v0,k.u1,k.v1,Q,Q,Q,Q,b,N,G)}}o.mask&&o.mask.postRenderWebGL(s,u),s.pipelines.postBatch(o)}};x.exports=h},20286:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i){a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=!0),this.emitter,this.x=a,this.y=r,this.active=i},update:function(){},destroy:function(){this.emitter=null}});x.exports=m},9774:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="complete"},812:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="deathzone"},30522:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="explode"},96695:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="start"},18677:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="stop"},20696:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r){this.source=a,this.killOnEnter=r},willKill:function(l){var a=this.source.contains(l.x,l.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});x.exports=m},19909:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i,n,h,s){n===void 0&&(n=!1),h===void 0&&(h=!0),s===void 0&&(s=-1),this.source=a,this.points=[],this.quantity=r,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=s,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var l=this.points[0],a=this.points[this.points.length-1];l.x===a.x&&l.y===a.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(l){return this.source=l,this.updateSource()},getPoint:function(l){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(l.x=a.x,l.y=a.y)}});x.exports=m},68875:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(26099),l=new c({initialize:function(r){this.source=r,this._tempVec=new m,this.total=-1},getPoint:function(a){var r=this._tempVec;this.source.getRandomPoint(r),a.x=r.x,a.y=r.y}});x.exports=l},21024:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(68287),a=new c({Extends:l,Mixins:[m.PathFollower],initialize:function(i,n,h,s,o,u){l.call(this,i,h,s,o,u),this.path=n},preUpdate:function(r,i){this.anims.update(r,i),this.pathUpdate(r)}});x.exports=a},90145:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(1159);c.register("follower",function(l,a,r,i,n){var h=new m(this.scene,l,a,r,i,n);return this.displayList.add(h),this.updateList.add(h),h})},33663:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(9674),m=t(83419),l=t(48803),a=t(90664),r=t(4703),i=t(45650),n=new m({Extends:r,initialize:function(s,o,u,f,d,p,y,T){f||(f="__DEFAULT"),r.call(this,s,o,u,f,d),this.type="Plane",this.anims=new c(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(p,y,T),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(h,s,o){h===void 0&&(h=8),s===void 0&&(s=8),o===void 0&&(o=!1);var u=!1;return o&&(u=!0),this.gridWidth=h,this.gridHeight=s,this.isTiled=o,this.clear(),l({mesh:this,widthSegments:h,heightSegments:s,isOrtho:!1,tile:o,flipY:u}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var s=this.frame;if(this.setPerspective(this.width/s.width,this.height/s.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var o=this.gridWidth,u=this.gridHeight,f=this.vertices,d=s.u0,p=s.u1,y=s.v0,T=s.v1,C,P,A=0;if(this.isTiled)for(y=s.v1,T=s.v0,P=0;P<u;P++)for(C=0;C<o;C++)f[A++].setUVs(d,T),f[A++].setUVs(d,y),f[A++].setUVs(p,T),f[A++].setUVs(d,y),f[A++].setUVs(p,y),f[A++].setUVs(p,T);else{var w=o+1,L=u+1,B=p-d,F=T-y,b=[];for(P=0;P<L;P++)for(C=0;C<w;C++){var G=d+B*(C/o),N=y+F*(P/u);b.push(G,N)}for(P=0;P<u;P++)for(C=0;C<o;C++){var U=(C+w*P)*2,W=(C+w*(P+1))*2,H=(C+1+w*(P+1))*2,k=(C+1+w*P)*2;f[A++].setUVs(b[U],b[U+1]),f[A++].setUVs(b[W],b[W+1]),f[A++].setUVs(b[k],b[k+1]),f[A++].setUVs(b[W],b[W+1]),f[A++].setUVs(b[H],b[H+1]),f[A++].setUVs(b[k],b[k+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var s=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(s/2),this.dirtyCache[10]=1},createCheckerboard:function(h,s,o,u,f){h===void 0&&(h=16777215),s===void 0&&(s=255),o===void 0&&(o=255),u===void 0&&(u=255),f===void 0&&(f=128);for(var d=a(h),p=a(s),y=[],T=0;T<16;T++)for(var C=0;C<16;C++)T<8&&C<8||T>7&&C>7?y.push(d.r,d.g,d.b,o):y.push(p.r,p.g,p.b,u);var P=this.scene.sys.textures.addUint8Array(i(),new Uint8Array(y),16,16);return this.removeCheckerboard(),this.setTexture(P),this.setSizeToFrame(),this.setViewHeight(f),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,s){return this.anims.play(h,s)},playReverse:function(h,s){return this.anims.playReverse(h,s)},playAfterDelay:function(h,s){return this.anims.playAfterDelay(h,s)},playAfterRepeat:function(h,s){return this.anims.playAfterRepeat(h,s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,s){r.prototype.preUpdate.call(this,h,s),this.anims.update(h,s)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});x.exports=n},56015:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(13059),l=t(44603),a=t(23568),r=t(35154),i=t(33663);l.register("plane",function(n,h){n===void 0&&(n={});var s=a(n,"key",null),o=a(n,"frame",null),u=r(n,"width",8),f=r(n,"height",8),d=r(n,"tile",!1),p=new i(this.scene,0,0,s,o,u,f,d);h!==void 0&&(n.add=h);var y=r(n,"checkerboard",null);if(y){var T=r(y,"color1",16777215),C=r(y,"color2",255),P=r(y,"alpha1",255),A=r(y,"alpha2",255),w=r(y,"height",128);p.createCheckerboard(T,C,P,A,w)}return c(this.scene,p,n),m(p,n),p})},30985:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(33663),m=t(39429);m.register("plane",function(l,a,r,i,n,h,s){return this.displayList.add(new c(this.scene,l,a,r,i,n,h,s))})},80321:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(95643),a=t(30100),r=t(36060),i=t(67277),n=new c({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,i],initialize:function(s,o,u,f,d,p,y){f===void 0&&(f=16777215),d===void 0&&(d=128),p===void 0&&(p=1),y===void 0&&(y=.1),l.call(this,s,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,u),this.color=a(f),this.intensity=p,this.attenuation=y,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});x.exports=n},39829:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(80321);m.register("pointlight",function(r,i){r===void 0&&(r={});var n=l(r,"color",16777215),h=l(r,"radius",128),s=l(r,"intensity",1),o=l(r,"attenuation",.1),u=new a(this.scene,0,0,n,h,s,o);return i!==void 0&&(r.add=i),c(this.scene,u,r),u})},71255:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(80321);c.register("pointlight",function(l,a,r,i,n,h){return this.displayList.add(new m(this.scene,l,a,r,i,n,h))})},67277:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(57787),x.exports={renderWebGL:m,renderCanvas:l}},57787:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=function(l,a,r,i){r.addToRenderList(a);var n=l.pipelines.set(a.pipeline),h=c(a,r,i).calc,s=a.width,o=a.height,u=-a._radius,f=-a._radius,d=u+s,p=f+o,y=h.getX(0,0),T=h.getY(0,0),C=h.getX(u,f),P=h.getY(u,f),A=h.getX(u,p),w=h.getY(u,p),L=h.getX(d,p),B=h.getY(d,p),F=h.getX(d,f),b=h.getY(d,f);l.pipelines.preBatch(a),n.batchPointLight(a,r,C,P,A,w,L,B,F,b,y,T),l.pipelines.postBatch(a)};x.exports=m},591:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(81320),l=t(88571),a=new c({Extends:l,initialize:function(i,n,h,s,o){n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s=32),o===void 0&&(o=32);var u=new m(i.sys.textures,"",s,o);l.call(this,i,n,h,u),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,i){this.width=r,this.height=i,this.texture.setSize(r,i),this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=i),this},resize:function(r,i){return this.setSize(r,i),this},saveTexture:function(r){var i=this.texture;return i.key=r,i.manager.addDynamicTexture(i)&&(this._saved=!0),i},fill:function(r,i,n,h,s,o){return this.texture.fill(r,i,n,h,s,o),this},clear:function(){return this.texture.clear(),this},stamp:function(r,i,n,h,s){return this.texture.stamp(r,i,n,h,s),this},erase:function(r,i,n){return this.texture.erase(r,i,n),this},draw:function(r,i,n,h,s){return this.texture.draw(r,i,n,h,s),this},drawFrame:function(r,i,n,h,s,o){return this.texture.drawFrame(r,i,n,h,s,o),this},repeat:function(r,i,n,h,s,o,u,f,d){return this.texture.repeat(r,i,n,h,s,o,u,f,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,i,n,h,s){return this.texture.batchDraw(r,i,n,h,s),this},batchDrawFrame:function(r,i,n,h,s,o){return this.texture.batchDrawFrame(r,i,n,h,s,o),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,i,n,h,s,o,u){return this.texture.snapshotArea(r,i,n,h,s,o,u),this},snapshot:function(r,i,n){return this.snapshotArea(0,0,this.width,this.height,r,i,n)},snapshotPixel:function(r,i,n){return this.snapshotArea(r,i,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});x.exports=a},34495:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(591);m.register("renderTexture",function(r,i){r===void 0&&(r={});var n=l(r,"x",0),h=l(r,"y",0),s=l(r,"width",32),o=l(r,"height",32),u=new a(this.scene,n,h,s,o);return i!==void 0&&(r.add=i),c(this.scene,u,r),u})},60505:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(591);c.register("renderTexture",function(l,a,r,i){return this.displayList.add(new m(this.scene,l,a,r,i))})},77757:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(9674),m=t(83419),l=t(31401),a=t(95643),r=t(36060),i=t(38745),n=t(26099),h=new m({Extends:a,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Flip,l.Mask,l.Pipeline,l.PostPipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,i],initialize:function(o,u,f,d,p,y,T,C,P){d===void 0&&(d="__DEFAULT"),y===void 0&&(y=2),T===void 0&&(T=!0),a.call(this,o,"Rope"),this.anims=new c(this),this.points=y,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,p),this.setPosition(u,f),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(y)&&this.resizeArrays(y.length),this.setPoints(y,C,P),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,o){var u=this.anims.currentFrame;this.anims.update(s,o),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(s,o,u){return this.anims.play(s,o,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(s,o,u){return s===void 0&&(s=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(s,o,u))},setVertical:function(s,o,u){return s===void 0&&(s=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(s,o,u)):this},setTintFill:function(s){return s===void 0&&(s=!1),this.tintFill=s,this},setAlphas:function(s,o){var u=this.points.length;if(u<1)return this;var f=this.alphas;s===void 0?s=[1]:!Array.isArray(s)&&o===void 0&&(s=[s]);var d,p=0;if(o!==void 0)for(d=0;d<u;d++)p=d*2,f[p]=s,f[p+1]=o;else if(s.length===u)for(d=0;d<u;d++)p=d*2,f[p]=s[d],f[p+1]=s[d];else{var y=s[0];for(d=0;d<u;d++)p=d*2,s.length>p&&(y=s[p]),f[p]=y,s.length>p+1&&(y=s[p+1]),f[p+1]=y}return this},setColors:function(s){var o=this.points.length;if(o<1)return this;var u=this.colors;s===void 0?s=[16777215]:Array.isArray(s)||(s=[s]);var f,d=0;if(s.length===o)for(f=0;f<o;f++)d=f*2,u[d]=s[f],u[d+1]=s[f];else{var p=s[0];for(f=0;f<o;f++)d=f*2,s.length>d&&(p=s[d]),u[d]=p,s.length>d+1&&(p=s[d+1]),u[d+1]=p}return this},setPoints:function(s,o,u){if(s===void 0&&(s=2),typeof s=="number"){var f=s;f<2&&(f=2),s=[];var d,p,y;if(this.horizontal)for(y=-this.frame.halfWidth,p=this.frame.width/(f-1),d=0;d<f;d++)s.push({x:y+d*p,y:0});else for(y=-this.frame.halfHeight,p=this.frame.height/(f-1),d=0;d<f;d++)s.push({x:0,y:y+d*p})}var T=s.length,C=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(s.unshift({x:0,y:0}),T++),C!==T&&this.resizeArrays(T),this.dirty=!0,this.points=s,this.updateUVs(),o!=null&&this.setColors(o),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var s=this.uv,o=this.points.length,u=this.frame.u0,f=this.frame.v0,d=this.frame.u1,p=this.frame.v1,y=(d-u)/(o-1),T=(p-f)/(o-1),C=0;C<o;C++){var P=C*4,A,w,L,B;this.horizontal?(this._flipX?(A=d-C*y,L=d-C*y):(A=u+C*y,L=u+C*y),this._flipY?(w=p,B=f):(w=f,B=p)):(this._flipX?(A=u,L=d):(A=d,L=u),this._flipY?(w=p-C*T,B=p-C*T):(w=f+C*T,B=f+C*T)),s[P+0]=A,s[P+1]=w,s[P+2]=L,s[P+3]=B}return this},resizeArrays:function(s){var o=this.colors,u=this.alphas;this.vertices=new Float32Array(s*4),this.uv=new Float32Array(s*4),o=new Uint32Array(s*2),u=new Float32Array(s*2);for(var f=0;f<s*2;f++)o[f]=16777215,u[f]=1;return this.colors=o,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var s=this._perp,o=this.points,u=this.vertices,f=o.length;if(this.dirty=!1,!(f<1)){for(var d,p=o[0],y=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<f;T++){var C=o[T],P=T*4;T<f-1?d=o[T+1]:d=C,s.x=d.y-p.y,s.y=-(d.x-p.x);var A=s.length();s.x/=A,s.y/=A,s.x*=y,s.y*=y,u[P]=C.x+s.x,u[P+1]=C.y+s.y,u[P+2]=C.x-s.x,u[P+3]=C.y-s.y,p=C}return this}},setDebug:function(s,o){return this.debugGraphic=s,!s&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(s,o,u){var f=s.debugGraphic,d=u[0],p=u[1],y=u[2],T=u[3];f.lineBetween(d,p,y,T);for(var C=4;C<o;C+=4){var P=u[C+0],A=u[C+1],w=u[C+2],L=u[C+3];f.lineBetween(d,p,P,A),f.lineBetween(y,T,w,L),f.lineBetween(y,T,P,A),f.lineBetween(P,A,w,L),d=P,p=A,y=w,T=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(s){return this._flipX=s,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(s){return this._flipY=s,this.updateUVs()}}});x.exports=h},95262:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(){};x.exports=M},26209:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(35154),r=t(77757);m.register("rope",function(i,n){i===void 0&&(i={});var h=l(i,"key",null),s=l(i,"frame",null),o=l(i,"horizontal",!0),u=a(i,"points",void 0),f=a(i,"colors",void 0),d=a(i,"alphas",void 0),p=new r(this.scene,0,0,h,s,u,o,f,d);return n!==void 0&&(i.add=n),c(this.scene,p,i),p})},96819:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(77757),m=t(39429);m.register("rope",function(l,a,r,i,n,h,s,o){return this.displayList.add(new c(this.scene,l,a,r,i,n,h,s,o))})},38745:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(20439),l=t(95262),x.exports={renderWebGL:m,renderCanvas:l}},20439:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(70554),l=function(a,r,i,n){i.addToRenderList(r);var h=a.pipelines.set(r.pipeline,r),s=c(r,i,n).calc,o=r.vertices,u=r.uv,f=r.colors,d=r.alphas,p=r.alpha,y=m.getTintAppendFloatAlpha,T=i.roundPixels,C=o.length,P=Math.floor(C*.5);h.flush(),a.pipelines.preBatch(r);var A=h.setGameObject(r),w=h.vertexViewF32,L=h.vertexViewU32,B=h.vertexCount*h.currentShader.vertexComponentCount-1,F=0,b=r.tintFill;r.dirty&&r.updateVertices();for(var G=r.debugCallback,N=[],U=0;U<C;U+=2){var W=o[U+0],H=o[U+1],k=W*s.a+H*s.c+s.e,z=W*s.b+H*s.d+s.f;T&&(k=Math.round(k),z=Math.round(z)),w[++B]=k,w[++B]=z,w[++B]=u[U+0],w[++B]=u[U+1],w[++B]=A,w[++B]=b,L[++B]=y(f[F],i.alpha*(d[F]*p)),F++,G&&(N[U+0]=k,N[U+1]=z)}G&&G.call(r,r,C,N),h.vertexCount+=P,h.currentBatch.count=h.vertexCount-h.currentBatch.start,a.pipelines.postBatch(r)};x.exports=l},20071:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(95643),a=t(95540),r=t(79291),i=t(61622),n=t(25479),h=t(61340),s=t(95428),o=t(92503),u=new c({Extends:l,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,n],initialize:function(d,p,y,T,C,P,A,w){y===void 0&&(y=0),T===void 0&&(T=0),C===void 0&&(C=128),P===void 0&&(P=128),l.call(this,d,"Shader"),this.blendMode=-1,this.shader;var L=d.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(y,T),this.setSize(C,P),this.setOrigin(.5,.5),this.setShader(p,A,w),this.renderer.on(o.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(f){return this.renderToTexture?!0:!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setRenderToTexture:function(f,d){if(!this.renderToTexture){var p=this.width,y=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,p,y,0),this.framebuffer=T.createFramebuffer(p,y,this.glTexture,!1),this._rendererWidth=p,this._rendererHeight=y,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),f&&(this.texture=this.scene.sys.textures.addGLTexture(f,this.glTexture))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(f,d,p){if(this.renderer.contextLost)return this._deferSetShader={key:f,textures:d,textureData:p},this;if(d===void 0&&(d=[]),typeof f=="string"){var y=this.scene.sys.cache.shader;if(!y.has(f))return console.warn("Shader missing: "+f),this;this.shader=y.get(f)}else this.shader=f;var T=this.gl,C=this.renderer;this.program&&C.deleteProgram(this.program);var P=C.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height),this.program=P;var A=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var L=0;L<4;L++)d[L]&&this.setSampler2D("iChannel"+L,d[L],L,p);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(f){return this.pointer=f,this},projOrtho:function(f,d,p,y){if(this.renderer.contextLost){this._deferProjOrtho={left:f,right:d,bottom:p,top:y};return}var T=-1e3,C=1e3,P=1/(f-d),A=1/(p-y),w=1/(T-C),L=this.projectionMatrix;L[0]=-2*P,L[5]=-2*A,L[10]=2*w,L[12]=(f+d)*P,L[13]=(y+p)*A,L[14]=(C+T)*w;var B=this.program,F=this.gl,b=this.renderer;b.setProgram(B),F.uniformMatrix4fv(F.getUniformLocation(B.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=p},initUniforms:function(){var f=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var p in this.uniforms){var y=this.uniforms[p],T=y.type,C=f[T];y.uniformLocation=this.renderer.createUniformLocation(d,p),T!=="sampler2D"&&(y.glMatrix=C.matrix,y.glValueLength=C.length,y.glFunc=C.func)}},setSampler2DBuffer:function(f,d,p,y,T,C){T===void 0&&(T=0),C===void 0&&(C={});var P=this.uniforms[f];return P.value=d,C.width=p,C.height=y,P.textureData=C,this._textureCount=T,this.initSampler2D(P),this},setSampler2D:function(f,d,p,y){p===void 0&&(p=0);var T=this.scene.sys.textures;if(T.exists(d)){var C=T.getFrame(d);if(C.glTexture&&C.glTexture.isRenderTexture)return this.setSampler2DBuffer(f,C.glTexture,C.width,C.height,p,y);var P=this.uniforms[f],A=C.source;P.textureKey=d,P.source=A.image,P.value=C.glTexture,A.isGLTexture&&(y||(y={}),y.width=A.width,y.height=A.height),y&&(P.textureData=y),this._textureCount=p,this.initSampler2D(P)}return this},setUniform:function(f,d){return i(this.uniforms,f,d),this},getUniform:function(f){return a(this.uniforms,f,null)},setChannel0:function(f,d){return this.setSampler2D("iChannel0",f,0,d)},setChannel1:function(f,d){return this.setSampler2D("iChannel1",f,1,d)},setChannel2:function(f,d){return this.setSampler2D("iChannel2",f,2,d)},setChannel3:function(f,d){return this.setSampler2D("iChannel3",f,3,d)},initSampler2D:function(f){if(f.value){var d=f.textureData;if(d&&!f.value.isRenderTexture){var p=this.gl,y=f.value,T=p[a(d,"magFilter","linear").toUpperCase()],C=p[a(d,"minFilter","linear").toUpperCase()],P=p[a(d,"wrapS","repeat").toUpperCase()],A=p[a(d,"wrapT","repeat").toUpperCase()],w=p[a(d,"format","rgba").toUpperCase()],L=a(d,"flipY",!1),B=a(d,"width",y.width),F=a(d,"height",y.height),b=a(d,"source",y.pixels);d.repeat&&(P=p.REPEAT,A=p.REPEAT),d.width&&(b=null),y.update(b,B,F,L,P,A,C,T,w)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var f=this.gl,d=this.uniforms,p,y,T,C,P,A=0;for(var w in d)p=d[w],T=p.glFunc,y=p.glValueLength,C=p.uniformLocation,P=p.value,P!==null&&(y===1?p.glMatrix?T.call(f,C.webGLUniformLocation,p.transpose,P):T.call(f,C.webGLUniformLocation,P):y===2?T.call(f,C.webGLUniformLocation,P.x,P.y):y===3?T.call(f,C.webGLUniformLocation,P.x,P.y,P.z):y===4?T.call(f,C.webGLUniformLocation,P.x,P.y,P.z,P.w):p.type==="sampler2D"&&(f.activeTexture(f.TEXTURE0+A),f.bindTexture(f.TEXTURE_2D,P.webGLTexture),f.uniform1i(C.webGLUniformLocation,A),A++))},load:function(f){var d=this.gl,p=this.width,y=this.height,T=this.renderer,C=this.program,P=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,w=-this._displayOriginY;P[0]=f[0],P[1]=f[1],P[4]=f[2],P[5]=f[3],P[8]=f[4],P[9]=f[5],P[12]=P[0]*A+P[4]*w,P[13]=P[1]*A+P[5]*w}d.useProgram(C.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(C.webGLProgram,"uViewMatrix"),!1,P),d.uniformMatrix4fv(d.getUniformLocation(C.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(C.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,B=L.resolution;B.value.x=p,B.value.y=y,L.time.value=T.game.loop.getDuration();var F=this.pointer;if(F){var b=L.mouse,G=F.x/p,N=1-F.y/y;b.value.x=G.toFixed(2),b.value.y=N.toFixed(2)}this.syncUniforms()},flush:function(){var f=this.width,d=this.height,p=this.program,y=this.gl,T=this.vertexBuffer,C=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(C.setFramebuffer(this.framebuffer),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT)),y.bindBuffer(y.ARRAY_BUFFER,T.webGLBuffer);var A=y.getAttribLocation(p.webGLProgram,"inPosition");A!==-1&&(y.enableVertexAttribArray(A),y.vertexAttribPointer(A,2,y.FLOAT,!1,P,0));var w=this.vertexViewF32;w[3]=d,w[4]=f,w[5]=d,w[8]=f,w[9]=d,w[10]=f;var L=6;y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,L*P)),y.drawArrays(y.TRIANGLES,0,L),this.renderToTexture&&C.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var f=this._deferSetShader.key,d=this._deferSetShader.textures,p=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(f,d,p)}if(this._deferProjOrtho!==null){var y=this._deferProjOrtho.left,T=this._deferProjOrtho.right,C=this._deferProjOrtho.bottom,P=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(y,T,C,P)}},preDestroy:function(){var f=this.renderer;f.off(o.RESTORE_WEBGL,this.onContextRestored,this),f.deleteProgram(this.program),f.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(f.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),s(this.uniforms,function(d){f.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});x.exports=u},80464:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(){};x.exports=M},54935:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(20071);m.register("shader",function(r,i){r===void 0&&(r={});var n=l(r,"key",null),h=l(r,"x",0),s=l(r,"y",0),o=l(r,"width",128),u=l(r,"height",128),f=new a(this.scene,n,h,s,o,u);return i!==void 0&&(r.add=i),c(this.scene,f,r),f})},74177:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20071),m=t(39429);m.register("shader",function(l,a,r,i,n,h,s){return this.displayList.add(new c(this.scene,l,a,r,i,n,h,s))})},25479:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(19257),l=t(80464),x.exports={renderWebGL:m,renderCanvas:l}},19257:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=function(l,a,r,i){if(a.shader){if(r.addToRenderList(a),l.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var n=c(a,r,i).calc;(l.width!==a._rendererWidth||l.height!==a._rendererHeight)&&a.projOrtho(0,l.width,l.height,0),a.load(n.matrix),a.flush()}l.pipelines.rebind()}};x.exports=m},10441:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70554),m=function(l,a,r,i,n,h){for(var s=c.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*i),o=r.pathData,u=r.pathIndexes,f=0;f<u.length;f+=3){var d=u[f]*2,p=u[f+1]*2,y=u[f+2]*2,T=o[d+0]-n,C=o[d+1]-h,P=o[p+0]-n,A=o[p+1]-h,w=o[y+0]-n,L=o[y+1]-h,B=a.getX(T,C),F=a.getY(T,C),b=a.getX(P,A),G=a.getY(P,A),N=a.getX(w,L),U=a.getY(w,L);l.batchTri(r,B,F,b,G,N,U,0,0,1,1,s,s,s,2)}};x.exports=m},65960:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=m||c.fillColor,r=l||c.fillAlpha,i=(a&16711680)>>>16,n=(a&65280)>>>8,h=a&255;t.fillStyle="rgba("+i+","+n+","+h+","+r+")"};x.exports=M},75177:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=m||c.strokeColor,r=l||c.strokeAlpha,i=(a&16711680)>>>16,n=(a&65280)>>>8,h=a&255;t.strokeStyle="rgba("+i+","+n+","+h+","+r+")",t.lineWidth=c.lineWidth};x.exports=M},17803:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(95643),a=t(23031),r=new c({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(n,h,s){h===void 0&&(h="Shape"),l.call(this,n,h),this.geom=s,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(i,n){return n===void 0&&(n=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(i,n,h){return h===void 0&&(h=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=n,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,n){return this.width=i,this.height=n,this},setDisplaySize:function(i,n){return this.displayWidth=i,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});x.exports=r},34682:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70554),m=function(l,a,r,i,n){var h=l.strokeTint,s=c.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*r);h.TL=s,h.TR=s,h.BL=s,h.BR=s;var o=a.pathData,u=o.length-1,f=a.lineWidth,d=f/2,p=o[0]-i,y=o[1]-n;a.closePath||(u-=2);for(var T=2;T<u;T+=2){var C=o[T]-i,P=o[T+1]-n;l.batchLine(p,y,C,P,d,d,f,T-2,a.closePath?T===u-1:!1),p=C,y=P}};x.exports=m},23629:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(13609),m=t(83419),l=t(39506),a=t(94811),r=t(96503),i=t(36383),n=t(17803),h=new m({Extends:n,Mixins:[c],initialize:function(o,u,f,d,p,y,T,C,P){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=128),p===void 0&&(p=0),y===void 0&&(y=360),T===void 0&&(T=!1),n.call(this,o,"Arc",new r(0,0,d)),this._startAngle=p,this._endAngle=y,this._anticlockwise=T,this._iterations=.01,this.setPosition(u,f);var A=this.geom.radius*2;this.setSize(A,A),C!==void 0&&this.setFillStyle(C,P),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(s){this._iterations=s,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(s){this.geom.radius=s;var o=s*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(s){this._startAngle=s,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(s){this._endAngle=s,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(s){this._anticlockwise=s,this.updateData()}},setRadius:function(s){return this.radius=s,this},setIterations:function(s){return s===void 0&&(s=.01),this.iterations=s,this},setStartAngle:function(s,o){return this._startAngle=s,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(s,o){return this._endAngle=s,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var s=this._iterations,o=s,u=this.geom.radius,f=l(this._startAngle),d=l(this._endAngle),p=this._anticlockwise,y=u,T=u;d-=f,p?d<-i.PI2?d=-i.PI2:d>0&&(d=-i.PI2+d%i.PI2):d>i.PI2?d=i.PI2:d<0&&(d=i.PI2+d%i.PI2);for(var C=[y+Math.cos(f)*u,T+Math.sin(f)*u],P;o<1;)P=d*o+f,C.push(y+Math.cos(P)*u,T+Math.sin(P)*u),o+=s;return P=d+f,C.push(y+Math.cos(P)*u,T+Math.sin(P)*u),C.push(y+Math.cos(f)*u,T+Math.sin(f)*u),this.pathIndexes=a(C),this.pathData=C,this}});x.exports=h},42542:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39506),m=t(65960),l=t(75177),a=t(20926),r=function(i,n,h,s){h.addToRenderList(n);var o=i.currentContext;if(a(i,o,n,h,s)){var u=n.radius;o.beginPath(),o.arc(u-n.originX*(u*2),u-n.originY*(u*2),u,c(n._startAngle),c(n._endAngle),n.anticlockwise),n.closePath&&o.closePath(),n.isFilled&&(m(o,n),o.fill()),n.isStroked&&(l(o,n),o.stroke()),o.restore()}};x.exports=r},42563:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(23629),m=t(39429);m.register("arc",function(l,a,r,i,n,h,s,o){return this.displayList.add(new c(this.scene,l,a,r,i,n,h,s,o))}),m.register("circle",function(l,a,r,i,n){return this.displayList.add(new c(this.scene,l,a,r,0,360,!1,i,n))})},13609:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(41447),l=t(42542),x.exports={renderWebGL:m,renderCanvas:l}},41447:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(10441),l=t(34682),a=function(r,i,n,h){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),o=c(i,n,h),u=s.calcMatrix.copyFrom(o.calc),f=i._displayOriginX,d=i._displayOriginY,p=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&m(s,u,i,p,f,d),i.isStroked&&l(s,i,p,f,d),r.pipelines.postBatch(i)};x.exports=a},89:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(33141),l=t(94811),a=t(87841),r=t(17803),i=new c({Extends:r,Mixins:[m],initialize:function(h,s,o,u,f,d){s===void 0&&(s=0),o===void 0&&(o=0),r.call(this,h,"Curve",u),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(s,o),f!==void 0&&this.setFillStyle(f,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,h=this._smoothness;this.geom.getBounds(n,h),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var s=[],o=this.geom.getPoints(h),u=0;u<o.length;u++)s.push(o[u].x,o[u].y);return s.push(o[0].x,o[0].y),this.pathIndexes=l(s),this.pathData=s,this}});x.exports=i},3170:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(75177),l=t(20926),a=function(r,i,n,h){n.addToRenderList(i);var s=r.currentContext;if(l(r,s,i,n,h)){var o=i._displayOriginX+i._curveBounds.x,u=i._displayOriginY+i._curveBounds.y,f=i.pathData,d=f.length-1,p=f[0]-o,y=f[1]-u;s.beginPath(),s.moveTo(p,y),i.closePath||(d-=2);for(var T=2;T<d;T+=2){var C=f[T]-o,P=f[T+1]-u;s.lineTo(C,P)}i.closePath&&s.closePath(),i.isFilled&&(c(s,i),s.fill()),i.isStroked&&(m(s,i),s.stroke()),s.restore()}};x.exports=a},40511:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(89);c.register("curve",function(l,a,r,i,n){return this.displayList.add(new m(this.scene,l,a,r,i,n))})},33141:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(53987),l=t(3170),x.exports={renderWebGL:m,renderCanvas:l}},53987:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10441),m=t(91296),l=t(34682),a=function(r,i,n,h){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),o=m(i,n,h),u=s.calcMatrix.copyFrom(o.calc),f=i._displayOriginX+i._curveBounds.x,d=i._displayOriginY+i._curveBounds.y,p=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&c(s,u,i,p,f,d),i.isStroked&&l(s,i,p,f,d),r.pipelines.postBatch(i)};x.exports=a},19921:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(94811),l=t(54205),a=t(8497),r=t(17803),i=new c({Extends:r,Mixins:[l],initialize:function(h,s,o,u,f,d,p){s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=128),f===void 0&&(f=128),r.call(this,h,"Ellipse",new a(u/2,f/2,u,f)),this._smoothness=64,this.setPosition(s,o),this.width=u,this.height=f,d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,h){return this.width=n,this.height=h,this.geom.setPosition(n/2,h/2),this.geom.setSize(n,h),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],h=this.geom.getPoints(this._smoothness),s=0;s<h.length;s++)n.push(h[s].x,h[s].y);return n.push(h[0].x,h[0].y),this.pathIndexes=m(n),this.pathData=n,this}});x.exports=i},7930:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(75177),l=t(20926),a=function(r,i,n,h){n.addToRenderList(i);var s=r.currentContext;if(l(r,s,i,n,h)){var o=i._displayOriginX,u=i._displayOriginY,f=i.pathData,d=f.length-1,p=f[0]-o,y=f[1]-u;s.beginPath(),s.moveTo(p,y),i.closePath||(d-=2);for(var T=2;T<d;T+=2){var C=f[T]-o,P=f[T+1]-u;s.lineTo(C,P)}s.closePath(),i.isFilled&&(c(s,i),s.fill()),i.isStroked&&(m(s,i),s.stroke()),s.restore()}};x.exports=a},1543:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(19921),m=t(39429);m.register("ellipse",function(l,a,r,i,n,h){return this.displayList.add(new c(this.scene,l,a,r,i,n,h))})},54205:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(19467),l=t(7930),x.exports={renderWebGL:m,renderCanvas:l}},19467:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10441),m=t(91296),l=t(34682),a=function(r,i,n,h){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),o=m(i,n,h),u=s.calcMatrix.copyFrom(o.calc),f=i._displayOriginX,d=i._displayOriginY,p=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&c(s,u,i,p,f,d),i.isStroked&&l(s,i,p,f,d),r.pipelines.postBatch(i)};x.exports=a},30479:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(17803),l=t(26015),a=new c({Extends:m,Mixins:[l],initialize:function(i,n,h,s,o,u,f,d,p,y,T){n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s=128),o===void 0&&(o=128),u===void 0&&(u=32),f===void 0&&(f=32),m.call(this,i,"Grid",null),this.cellWidth=u,this.cellHeight=f,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,h),this.setSize(s,o),this.setFillStyle(d,p),y!==void 0&&this.setOutlineStyle(y,T),this.updateDisplayOrigin()},setFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=i,this.showOutline=!0),this}});x.exports=a},49912:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(75177),l=t(20926),a=function(r,i,n,h){n.addToRenderList(i);var s=r.currentContext;if(l(r,s,i,n,h)){var o=-i._displayOriginX,u=-i._displayOriginY,f=n.alpha*i.alpha,d=i.width,p=i.height,y=i.cellWidth,T=i.cellHeight,C=Math.ceil(d/y),P=Math.ceil(p/T),A=y,w=T,L=y-(C*y-d),B=T-(P*T-p),F=i.showCells,b=i.showAltCells,G=i.showOutline,N=0,U=0,W=0,H=0,k=0;if(G&&(A--,w--,L===y&&L--,B===T&&B--),F&&i.fillAlpha>0)for(c(s,i),U=0;U<P;U++)for(b&&(W=U%2),N=0;N<C;N++){if(b&&W){W=0;continue}W++,H=N<C-1?A:L,k=U<P-1?w:B,s.fillRect(o+N*y,u+U*T,H,k)}if(b&&i.altFillAlpha>0)for(c(s,i,i.altFillColor,i.altFillAlpha*f),U=0;U<P;U++)for(b&&(W=U%2),N=0;N<C;N++){if(b&&!W){W=1;continue}W=0,H=N<C-1?A:L,k=U<P-1?w:B,s.fillRect(o+N*y,u+U*T,H,k)}if(G&&i.outlineFillAlpha>0){for(m(s,i,i.outlineFillColor,i.outlineFillAlpha*f),N=1;N<C;N++){var z=N*y;s.beginPath(),s.moveTo(z+o,u),s.lineTo(z+o,p+u),s.stroke()}for(U=1;U<P;U++){var $=U*T;s.beginPath(),s.moveTo(o,$+u),s.lineTo(o+d,$+u),s.stroke()}}s.restore()}};x.exports=a},34137:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(30479);c.register("grid",function(l,a,r,i,n,h,s,o,u,f){return this.displayList.add(new m(this.scene,l,a,r,i,n,h,s,o,u,f))})},26015:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(46161),l=t(49912),x.exports={renderWebGL:m,renderCanvas:l}},46161:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(70554),l=function(a,r,i,n){i.addToRenderList(r);var h=a.pipelines.set(r.pipeline),s=c(r,i,n),o=h.calcMatrix.copyFrom(s.calc);o.translate(-r._displayOriginX,-r._displayOriginY);var u=i.alpha*r.alpha,f=r.width,d=r.height,p=r.cellWidth,y=r.cellHeight,T=Math.ceil(f/p),C=Math.ceil(d/y),P=p,A=y,w=p-(T*p-f),L=y-(C*y-d),B,F,b=r.showCells,G=r.showAltCells,N=r.showOutline,U=0,W=0,H=0,k=0,z=0;if(N&&(P--,A--,w===p&&w--,L===y&&L--),a.pipelines.preBatch(r),b&&r.fillAlpha>0)for(B=h.fillTint,F=m.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*u),B.TL=F,B.TR=F,B.BL=F,B.BR=F,W=0;W<C;W++)for(G&&(H=W%2),U=0;U<T;U++){if(G&&H){H=0;continue}H++,k=U<T-1?P:w,z=W<C-1?A:L,h.batchFillRect(U*p,W*y,k,z)}if(G&&r.altFillAlpha>0)for(B=h.fillTint,F=m.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*u),B.TL=F,B.TR=F,B.BL=F,B.BR=F,W=0;W<C;W++)for(G&&(H=W%2),U=0;U<T;U++){if(G&&!H){H=1;continue}H=0,k=U<T-1?P:w,z=W<C-1?A:L,h.batchFillRect(U*p,W*y,k,z)}if(N&&r.outlineFillAlpha>0){var $=h.strokeTint,X=m.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*u);for($.TL=X,$.TR=X,$.BL=X,$.BR=X,U=1;U<T;U++){var Q=U*p;h.batchLine(Q,0,Q,d,1,1,1,0,!1)}for(W=1;W<C;W++){var Z=W*y;h.batchLine(0,Z,f,Z,1,1,1,0,!1)}}a.pipelines.postBatch(r)};x.exports=l},61475:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(99651),m=t(83419),l=t(17803),a=new m({Extends:l,Mixins:[c],initialize:function(i,n,h,s,o,u,f,d){n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s=48),o===void 0&&(o=32),u===void 0&&(u=15658734),f===void 0&&(f=10066329),d===void 0&&(d=13421772),l.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=f,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,h),this.setSize(s,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,i,n){return r===void 0&&(r=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=i,this.showRight=n,this},setFillStyle:function(r,i,n){return this.fillTop=r,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});x.exports=a},11508:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(20926),l=function(a,r,i,n){i.addToRenderList(r);var h=a.currentContext;if(m(a,h,r,i,n)&&r.isFilled){var s=r.width,o=r.height,u=s/2,f=s/r.projection;r.showTop&&(c(h,r,r.fillTop),h.beginPath(),h.moveTo(-u,-o),h.lineTo(0,-f-o),h.lineTo(u,-o),h.lineTo(u,-1),h.lineTo(0,f-1),h.lineTo(-u,-1),h.lineTo(-u,-o),h.fill()),r.showLeft&&(c(h,r,r.fillLeft),h.beginPath(),h.moveTo(-u,0),h.lineTo(0,f),h.lineTo(0,f-o),h.lineTo(-u,-o),h.lineTo(-u,0),h.fill()),r.showRight&&(c(h,r,r.fillRight),h.beginPath(),h.moveTo(u,0),h.lineTo(0,f),h.lineTo(0,f-o),h.lineTo(u,-o),h.lineTo(u,0),h.fill()),h.restore()}};x.exports=l},3933:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(61475);c.register("isobox",function(l,a,r,i,n,h,s){return this.displayList.add(new m(this.scene,l,a,r,i,n,h,s))})},99651:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(68149),l=t(11508),x.exports={renderWebGL:m,renderCanvas:l}},68149:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(70554),l=function(a,r,i,n){i.addToRenderList(r);var h=a.pipelines.set(r.pipeline),s=c(r,i,n),o=h.calcMatrix.copyFrom(s.calc),u=r.width,f=r.height,d=u/2,p=u/r.projection,y=i.alpha*r.alpha;if(r.isFilled){var T,C,P,A,w,L,B,F,b;a.pipelines.preBatch(r),r.showTop&&(T=m.getTintAppendFloatAlpha(r.fillTop,y),C=o.getX(-d,-f),P=o.getY(-d,-f),A=o.getX(0,-p-f),w=o.getY(0,-p-f),L=o.getX(d,-f),B=o.getY(d,-f),F=o.getX(0,p-f),b=o.getY(0,p-f),h.batchQuad(r,C,P,A,w,L,B,F,b,0,0,1,1,T,T,T,T,2)),r.showLeft&&(T=m.getTintAppendFloatAlpha(r.fillLeft,y),C=o.getX(-d,0),P=o.getY(-d,0),A=o.getX(0,p),w=o.getY(0,p),L=o.getX(0,p-f),B=o.getY(0,p-f),F=o.getX(-d,-f),b=o.getY(-d,-f),h.batchQuad(r,C,P,A,w,L,B,F,b,0,0,1,1,T,T,T,T,2)),r.showRight&&(T=m.getTintAppendFloatAlpha(r.fillRight,y),C=o.getX(d,0),P=o.getY(d,0),A=o.getX(0,p),w=o.getY(0,p),L=o.getX(0,p-f),B=o.getY(0,p-f),F=o.getX(d,-f),b=o.getY(d,-f),h.batchQuad(r,C,P,A,w,L,B,F,b,0,0,1,1,T,T,T,T,2)),a.pipelines.postBatch(r)}};x.exports=l},16933:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(60561),l=t(17803),a=new c({Extends:l,Mixins:[m],initialize:function(i,n,h,s,o,u,f,d,p){n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s=48),o===void 0&&(o=32),u===void 0&&(u=!1),f===void 0&&(f=15658734),d===void 0&&(d=10066329),p===void 0&&(p=13421772),l.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=f,this.fillLeft=d,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(n,h),this.setSize(s,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,i,n){return r===void 0&&(r=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=i,this.showRight=n,this},setFillStyle:function(r,i,n){return this.fillTop=r,this.fillLeft=i,this.fillRight=n,this.isFilled=!0,this}});x.exports=a},79590:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(20926),l=function(a,r,i,n){i.addToRenderList(r);var h=a.currentContext;if(m(a,h,r,i,n)&&r.isFilled){var s=r.width,o=r.height,u=s/2,f=s/r.projection,d=r.isReversed;r.showTop&&d&&(c(h,r,r.fillTop),h.beginPath(),h.moveTo(-u,-o),h.lineTo(0,-f-o),h.lineTo(u,-o),h.lineTo(0,f-o),h.fill()),r.showLeft&&(c(h,r,r.fillLeft),h.beginPath(),d?(h.moveTo(-u,-o),h.lineTo(0,f),h.lineTo(0,f-o)):(h.moveTo(-u,0),h.lineTo(0,f),h.lineTo(0,f-o)),h.fill()),r.showRight&&(c(h,r,r.fillRight),h.beginPath(),d?(h.moveTo(u,-o),h.lineTo(0,f),h.lineTo(0,f-o)):(h.moveTo(u,0),h.lineTo(0,f),h.lineTo(0,f-o)),h.fill()),h.restore()}};x.exports=l},49803:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(16933);c.register("isotriangle",function(l,a,r,i,n,h,s,o){return this.displayList.add(new m(this.scene,l,a,r,i,n,h,s,o))})},60561:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(51503),l=t(79590),x.exports={renderWebGL:m,renderCanvas:l}},51503:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(70554),l=function(a,r,i,n){i.addToRenderList(r);var h=a.pipelines.set(r.pipeline),s=c(r,i,n),o=h.calcMatrix.copyFrom(s.calc),u=r.width,f=r.height,d=u/2,p=u/r.projection,y=r.isReversed,T=i.alpha*r.alpha;if(r.isFilled){a.pipelines.preBatch(r);var C,P,A,w,L,B,F;if(r.showTop&&y){C=m.getTintAppendFloatAlpha(r.fillTop,T),P=o.getX(-d,-f),A=o.getY(-d,-f),w=o.getX(0,-p-f),L=o.getY(0,-p-f),B=o.getX(d,-f),F=o.getY(d,-f);var b=o.getX(0,p-f),G=o.getY(0,p-f);h.batchQuad(r,P,A,w,L,B,F,b,G,0,0,1,1,C,C,C,C,2)}r.showLeft&&(C=m.getTintAppendFloatAlpha(r.fillLeft,T),y?(P=o.getX(-d,-f),A=o.getY(-d,-f),w=o.getX(0,p),L=o.getY(0,p),B=o.getX(0,p-f),F=o.getY(0,p-f)):(P=o.getX(-d,0),A=o.getY(-d,0),w=o.getX(0,p),L=o.getY(0,p),B=o.getX(0,p-f),F=o.getY(0,p-f)),h.batchTri(r,P,A,w,L,B,F,0,0,1,1,C,C,C,2)),r.showRight&&(C=m.getTintAppendFloatAlpha(r.fillRight,T),y?(P=o.getX(d,-f),A=o.getY(d,-f),w=o.getX(0,p),L=o.getY(0,p),B=o.getX(0,p-f),F=o.getY(0,p-f)):(P=o.getX(d,0),A=o.getY(d,0),w=o.getX(0,p),L=o.getY(0,p),B=o.getX(0,p-f),F=o.getY(0,p-f)),h.batchTri(r,P,A,w,L,B,F,0,0,1,1,C,C,C,2)),a.pipelines.postBatch(r)}};x.exports=l},57847:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(17803),l=t(23031),a=t(36823),r=new c({Extends:m,Mixins:[a],initialize:function(n,h,s,o,u,f,d,p,y){h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),f===void 0&&(f=128),d===void 0&&(d=0),m.call(this,n,"Line",new l(o,u,f,d));var T=Math.max(1,this.geom.right-this.geom.left),C=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,s),this.setSize(T,C),p!==void 0&&this.setStrokeStyle(1,p,y),this.updateDisplayOrigin()},setLineWidth:function(i,n){return n===void 0&&(n=i),this._startWidth=i,this._endWidth=n,this.lineWidth=i,this},setTo:function(i,n,h,s){return this.geom.setTo(i,n,h,s),this}});x.exports=r},17440:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(75177),m=t(20926),l=function(a,r,i,n){i.addToRenderList(r);var h=a.currentContext;if(m(a,h,r,i,n)){var s=r._displayOriginX,o=r._displayOriginY;r.isStroked&&(c(h,r),h.beginPath(),h.moveTo(r.geom.x1-s,r.geom.y1-o),h.lineTo(r.geom.x2-s,r.geom.y2-o),h.stroke()),h.restore()}};x.exports=l},2481:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(57847);c.register("line",function(l,a,r,i,n,h,s,o){return this.displayList.add(new m(this.scene,l,a,r,i,n,h,s,o))})},36823:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(77385),l=t(17440),x.exports={renderWebGL:m,renderCanvas:l}},77385:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(70554),l=function(a,r,i,n){i.addToRenderList(r);var h=a.pipelines.set(r.pipeline),s=c(r,i,n);h.calcMatrix.copyFrom(s.calc);var o=r._displayOriginX,u=r._displayOriginY,f=i.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isStroked){var d=h.strokeTint,p=m.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*f);d.TL=p,d.TR=p,d.BL=p,d.BR=p,h.batchLine(r.geom.x1-o,r.geom.y1-u,r.geom.x2-o,r.geom.y2-u,r._startWidth/2,r._endWidth/2,1,0,!1,s.sprite,s.camera)}a.pipelines.postBatch(r)};x.exports=l},24949:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(90273),m=t(83419),l=t(94811),a=t(13829),r=t(25717),i=t(17803),n=t(5469),h=new m({Extends:i,Mixins:[c],initialize:function(o,u,f,d,p,y){u===void 0&&(u=0),f===void 0&&(f=0),i.call(this,o,"Polygon",new r(d));var T=a(this.geom);this.setPosition(u,f),this.setSize(T.width,T.height),p!==void 0&&this.setFillStyle(p,y),this.updateDisplayOrigin(),this.updateData()},smooth:function(s){s===void 0&&(s=1);for(var o=0;o<s;o++)n(this.geom);return this.updateData()},setTo:function(s){this.geom.setTo(s);var o=a(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var s=[],o=this.geom.points,u=0;u<o.length;u++)s.push(o[u].x,o[u].y);return s.push(o[0].x,o[0].y),this.pathIndexes=l(s),this.pathData=s,this}});x.exports=h},38710:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(75177),l=t(20926),a=function(r,i,n,h){n.addToRenderList(i);var s=r.currentContext;if(l(r,s,i,n,h)){var o=i._displayOriginX,u=i._displayOriginY,f=i.pathData,d=f.length-1,p=f[0]-o,y=f[1]-u;s.beginPath(),s.moveTo(p,y),i.closePath||(d-=2);for(var T=2;T<d;T+=2){var C=f[T]-o,P=f[T+1]-u;s.lineTo(C,P)}i.closePath&&s.closePath(),i.isFilled&&(c(s,i),s.fill()),i.isStroked&&(m(s,i),s.stroke()),s.restore()}};x.exports=a},64827:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(24949);c.register("polygon",function(l,a,r,i,n){return this.displayList.add(new m(this.scene,l,a,r,i,n))})},90273:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(73695),l=t(38710),x.exports={renderWebGL:m,renderCanvas:l}},73695:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10441),m=t(91296),l=t(34682),a=function(r,i,n,h){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),o=m(i,n,h),u=s.calcMatrix.copyFrom(o.calc),f=i._displayOriginX,d=i._displayOriginY,p=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&c(s,u,i,p,f,d),i.isStroked&&l(s,i,p,f,d),r.pipelines.postBatch(i)};x.exports=a},74561:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(87841),l=t(17803),a=t(95597),r=new c({Extends:l,Mixins:[a],initialize:function(n,h,s,o,u,f,d){h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=128),u===void 0&&(u=128),l.call(this,n,"Rectangle",new m(0,0,o,u)),this.setPosition(h,s),this.setSize(o,u),f!==void 0&&this.setFillStyle(f,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,n){this.width=i,this.height=n,this.geom.setSize(i,n),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=i,h.hitArea.height=n),this},updateData:function(){var i=[],n=this.geom,h=this._tempLine;return n.getLineA(h),i.push(h.x1,h.y1,h.x2,h.y2),n.getLineB(h),i.push(h.x2,h.y2),n.getLineC(h),i.push(h.x2,h.y2),n.getLineD(h),i.push(h.x2,h.y2),this.pathData=i,this}});x.exports=r},48682:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(75177),l=t(20926),a=function(r,i,n,h){n.addToRenderList(i);var s=r.currentContext;if(l(r,s,i,n,h)){var o=i._displayOriginX,u=i._displayOriginY;i.isFilled&&(c(s,i),s.fillRect(-o,-u,i.width,i.height)),i.isStroked&&(m(s,i),s.beginPath(),s.rect(-o,-u,i.width,i.height),s.stroke()),s.restore()}};x.exports=a},87959:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(74561);c.register("rectangle",function(l,a,r,i,n,h){return this.displayList.add(new m(this.scene,l,a,r,i,n,h))})},95597:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(52059),l=t(48682),x.exports={renderWebGL:m,renderCanvas:l}},52059:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(34682),l=t(70554),a=function(r,i,n,h){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),o=c(i,n,h);s.calcMatrix.copyFrom(o.calc);var u=i._displayOriginX,f=i._displayOriginY,d=n.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var p=s.fillTint,y=l.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*d);p.TL=y,p.TR=y,p.BL=y,p.BR=y,s.batchFillRect(-u,-f,i.width,i.height)}i.isStroked&&m(s,i,d,u,f),r.pipelines.postBatch(i)};x.exports=a},55911:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(81991),m=t(83419),l=t(94811),a=t(17803),r=new m({Extends:a,Mixins:[c],initialize:function(n,h,s,o,u,f,d,p){h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=5),u===void 0&&(u=32),f===void 0&&(f=64),a.call(this,n,"Star",null),this._points=o,this._innerRadius=u,this._outerRadius=f,this.setPosition(h,s),this.setSize(f*2,f*2),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],n=this._points,h=this._innerRadius,s=this._outerRadius,o=Math.PI/2*3,u=Math.PI/n,f=s,d=s;i.push(f,d+-s);for(var p=0;p<n;p++)i.push(f+Math.cos(o)*s,d+Math.sin(o)*s),o+=u,i.push(f+Math.cos(o)*h,d+Math.sin(o)*h),o+=u;return i.push(f,d+-s),this.pathIndexes=l(i),this.pathData=i,this}});x.exports=r},64272:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(75177),l=t(20926),a=function(r,i,n,h){n.addToRenderList(i);var s=r.currentContext;if(l(r,s,i,n,h)){var o=i._displayOriginX,u=i._displayOriginY,f=i.pathData,d=f.length-1,p=f[0]-o,y=f[1]-u;s.beginPath(),s.moveTo(p,y),i.closePath||(d-=2);for(var T=2;T<d;T+=2){var C=f[T]-o,P=f[T+1]-u;s.lineTo(C,P)}s.closePath(),i.isFilled&&(c(s,i),s.fill()),i.isStroked&&(m(s,i),s.stroke()),s.restore()}};x.exports=a},93697:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(55911),m=t(39429);m.register("star",function(l,a,r,i,n,h,s){return this.displayList.add(new c(this.scene,l,a,r,i,n,h,s))})},81991:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(57017),l=t(64272),x.exports={renderWebGL:m,renderCanvas:l}},57017:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10441),m=t(91296),l=t(34682),a=function(r,i,n,h){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),o=m(i,n,h),u=s.calcMatrix.copyFrom(o.calc),f=i._displayOriginX,d=i._displayOriginY,p=n.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&c(s,u,i,p,f,d),i.isStroked&&l(s,i,p,f,d),r.pipelines.postBatch(i)};x.exports=a},36931:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(17803),l=t(16483),a=t(96195),r=new c({Extends:m,Mixins:[a],initialize:function(n,h,s,o,u,f,d,p,y,T,C){h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=128),f===void 0&&(f=64),d===void 0&&(d=0),p===void 0&&(p=128),y===void 0&&(y=128),m.call(this,n,"Triangle",new l(o,u,f,d,p,y));var P=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(h,s),this.setSize(P,A),T!==void 0&&this.setFillStyle(T,C),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,n,h,s,o,u){return this.geom.setTo(i,n,h,s,o,u),this.updateData()},updateData:function(){var i=[],n=this.geom,h=this._tempLine;return n.getLineA(h),i.push(h.x1,h.y1,h.x2,h.y2),n.getLineB(h),i.push(h.x2,h.y2),n.getLineC(h),i.push(h.x2,h.y2),this.pathData=i,this}});x.exports=r},85172:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(65960),m=t(75177),l=t(20926),a=function(r,i,n,h){n.addToRenderList(i);var s=r.currentContext;if(l(r,s,i,n,h)){var o=i._displayOriginX,u=i._displayOriginY,f=i.geom.x1-o,d=i.geom.y1-u,p=i.geom.x2-o,y=i.geom.y2-u,T=i.geom.x3-o,C=i.geom.y3-u;s.beginPath(),s.moveTo(f,d),s.lineTo(p,y),s.lineTo(T,C),s.closePath(),i.isFilled&&(c(s,i),s.fill()),i.isStroked&&(m(s,i),s.stroke()),s.restore()}};x.exports=a},45245:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(36931);c.register("triangle",function(l,a,r,i,n,h,s,o,u,f){return this.displayList.add(new m(this.scene,l,a,r,i,n,h,s,o,u,f))})},96195:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(83253),l=t(85172),x.exports={renderWebGL:m,renderCanvas:l}},83253:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=t(34682),l=t(70554),a=function(r,i,n,h){n.addToRenderList(i);var s=r.pipelines.set(i.pipeline),o=c(i,n,h);s.calcMatrix.copyFrom(o.calc);var u=i._displayOriginX,f=i._displayOriginY,d=n.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var p=s.fillTint,y=l.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*d);p.TL=y,p.TR=y,p.BL=y,p.BR=y;var T=i.geom.x1-u,C=i.geom.y1-f,P=i.geom.x2-u,A=i.geom.y2-f,w=i.geom.x3-u,L=i.geom.y3-f;s.batchFillTriangle(T,C,P,A,w,L,o.sprite,o.camera)}i.isStroked&&m(s,i,d,u,f),r.pipelines.postBatch(i)};x.exports=a},68287:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(9674),m=t(83419),l=t(31401),a=t(95643),r=t(92751),i=new m({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,r],initialize:function(h,s,o,u,f){a.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new c(this),this.setTexture(u,f),this.setPosition(s,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,h){this.anims.update(n,h)},play:function(n,h){return this.anims.play(n,h)},playReverse:function(n,h){return this.anims.playReverse(n,h)},playAfterDelay:function(n,h){return this.anims.playAfterDelay(n,h)},playAfterRepeat:function(n,h){return this.anims.playAfterRepeat(n,h)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return l.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});x.exports=i},76552:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m.addToRenderList(c),t.batchSprite(c,c.frame,m,l)};x.exports=M},15567:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(13059),l=t(44603),a=t(23568),r=t(68287);l.register("sprite",function(i,n){i===void 0&&(i={});var h=a(i,"key",null),s=a(i,"frame",null),o=new r(this.scene,0,0,h,s);return n!==void 0&&(i.add=n),c(this.scene,o,i),m(o,i),o})},46409:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(68287);c.register("sprite",function(l,a,r,i){return this.displayList.add(new m(this.scene,l,a,r,i))})},92751:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(9409),l=t(76552),x.exports={renderWebGL:m,renderCanvas:l}},9409:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m.addToRenderList(c),c.pipeline.batchSprite(c,m,l)};x.exports=M},14220:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=t.canvas,a=t.context,r=t.style,i=[],n=0,h=m.length;r.maxLines>0&&r.maxLines<m.length&&(h=r.maxLines),r.syncFont(l,a);for(var s=t.letterSpacing,o=0;o<h;o++){var u=r.strokeThickness;if(s===0)u+=a.measureText(m[o]).width;else{for(var f=m[o],d=0;d<f.length;d++)u+=a.measureText(f[d]).width;f.length>1&&(u+=s*(f.length-1))}r.wordWrap&&(u-=a.measureText(" ").width),i[o]=Math.ceil(u),n=Math.max(n,i[o])}var p=c.fontSize+r.strokeThickness,y=p*h,T=t.lineSpacing;return h>1&&(y+=T*(h-1)),{width:n,height:y,lines:h,lineWidths:i,lineSpacing:T,lineHeight:p}};x.exports=M},79557:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(27919),m=function(l){var a=c.create(this),r=a.getContext("2d",{willReadFrequently:!0});l.syncFont(a,r);var i=r.measureText(l.testString);if("actualBoundingBoxAscent"in i){var n=i.actualBoundingBoxAscent,h=i.actualBoundingBoxDescent;return c.remove(a),{ascent:n,descent:h,fontSize:n+h}}var s=Math.ceil(i.width*l.baselineX),o=s,u=2*o;o=o*l.baselineY|0,a.width=s,a.height=u,r.fillStyle="#f00",r.fillRect(0,0,s,u),r.font=l._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(l.testString,0,o);var f={ascent:0,descent:0,fontSize:0},d=r.getImageData(0,0,s,u);if(!d)return f.ascent=o,f.descent=o+6,f.fontSize=f.ascent+f.descent,c.remove(a),f;var p=d.data,y=p.length,T=s*4,C,P,A=0,w=!1;for(C=0;C<o;C++){for(P=0;P<T;P+=4)if(p[A+P]!==255){w=!0;break}if(!w)A+=T;else break}for(f.ascent=o-C,A=y-T,w=!1,C=u;C>o;C--){for(P=0;P<T;P+=4)if(p[A+P]!==255){w=!0;break}if(!w)A-=T;else break}return f.descent=C-o,f.fontSize=f.ascent+f.descent,c.remove(a),f};x.exports=m},50171:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(40366),m=t(27919),l=t(83419),a=t(31401),r=t(95643),i=t(14220),n=t(35154),h=t(35846),s=t(61771),o=t(35762),u=t(45650),f=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(p,y,T,C,P){y===void 0&&(y=0),T===void 0&&(T=0),r.call(this,p,"Text"),this.renderer=p.sys.renderer,this.setPosition(y,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context,this.style=new o(this,P),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=p.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(C),P&&P.padding&&this.setPadding(P.padding),P&&P.lineSpacing&&this.setLineSpacing(P.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",c(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var p=this.style;if(p.wordWrapCallback){var y=p.wordWrapCallback.call(p.wordWrapCallbackScope,d,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,p,y){for(var T="",C=d.replace(/ +/gi," ").split(this.splitRegExp),P=C.length,A=0;A<P;A++){var w=C[A],L="";w=w.replace(/^ *|\s*$/gi,"");var B=p.measureText(w).width;if(B<y){T+=w+`
`;continue}for(var F=y,b=w.split(" "),G=0;G<b.length;G++){var N=b[G],U=N+" ",W=p.measureText(U).width;if(W>F){if(G===0){for(var H=U;H.length&&(H=H.slice(0,-1),W=p.measureText(H).width,!(W<=F)););if(!H.length)throw new Error("wordWrapWidth < a single character");var k=N.substr(H.length);b[G]=k,L+=H}var z=b[G].length?G:G+1,$=b.slice(z).join(" ").replace(/[ \n]*$/gi,"");C.splice(A+1,0,$),P=C.length;break}else L+=U,F-=W}T+=L.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(d,p,y){for(var T="",C=d.split(this.splitRegExp),P=C.length-1,A=p.measureText(" ").width,w=0;w<=P;w++){for(var L=y,B=C[w].split(" "),F=B.length-1,b=0;b<=F;b++){var G=B[b],N=p.measureText(G).width,U=N;b<F&&(U+=A),U>L&&b>0&&(T+=`
`,L=y),T+=G,b<F?(T+=" ",L-=U):L-=N}w<P&&(T+=`
`)}return T},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(d);return p.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,p){p===void 0&&(p=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var y=this._text.concat(p?`
`+d:d);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,p){return this.style.setFixedSize(d,p)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,p){return this.style.setStroke(d,p)},setShadow:function(d,p,y,T,C,P){return this.style.setShadow(d,p,y,T,C,P)},setShadowOffset:function(d,p){return this.style.setShadowOffset(d,p)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,p){return this.style.setWordWrapWidth(d,p)},setWordWrapCallback:function(d,p){return this.style.setWordWrapCallback(d,p)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,p,y,T){if(typeof d=="object"){var C=d,P=n(C,"x",null);P!==null?(d=P,y=P):(d=n(C,"left",0),y=n(C,"right",d));var A=n(C,"y",null);A!==null?(p=A,T=A):(p=n(C,"top",0),T=n(C,"bottom",p))}else d===void 0&&(d=0),p===void 0&&(p=d),y===void 0&&(y=d),T===void 0&&(T=p);return this.padding.left=d,this.padding.top=p,this.padding.right=y,this.padding.bottom=T,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var p=this.style;return p.rtl===d?this:(p.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",c(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),p.align==="left"?p.align="right":p.align==="right"&&(p.align="left"),this)},updateText:function(){var d=this.canvas,p=this.context,y=this.style,T=y.resolution,C=y.metrics;y.syncFont(d,p);var P=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(P=this.runWordWrap(this._text));var A=P.split(this.splitRegExp),w=i(this,C,A),L=this.padding,B;y.fixedWidth===0?(this.width=w.width+L.left+L.right,B=w.width):(this.width=y.fixedWidth,B=this.width-L.left-L.right,B<w.width&&(B=w.width)),y.fixedHeight===0?this.height=w.height+L.top+L.bottom:this.height=y.fixedHeight;var F=this.width,b=this.height;this.updateDisplayOrigin(),F*=T,b*=T,F=Math.max(F,1),b=Math.max(b,1),d.width!==F||d.height!==b?(d.width=F,d.height=b,this.frame.setSize(F,b),y.syncFont(d,p),y.rtl&&(p.direction="rtl")):p.clearRect(0,0,F,b),p.save(),p.scale(T,T),y.backgroundColor&&(p.fillStyle=y.backgroundColor,p.fillRect(0,0,F,b)),y.syncStyle(d,p),p.translate(L.left,L.top);for(var G,N,U=0;U<w.lines;U++){if(G=y.strokeThickness/2,N=y.strokeThickness/2+U*w.lineHeight+C.ascent,U>0&&(N+=w.lineSpacing*U),y.rtl)G=F-G-L.left-L.right;else if(y.align==="right")G+=B-w.lineWidths[U];else if(y.align==="center")G+=(B-w.lineWidths[U])/2;else if(y.align==="justify"){var W=.85;if(w.lineWidths[U]/w.width>=W){var H=w.width-w.lineWidths[U],k=p.measureText(" ").width,z=A[U].trim(),$=z.split(" ");H+=(A[U].length-z.length)*k;for(var X=Math.floor(H/k),Q=0;X>0;)$[Q]+=" ",Q=(Q+1)%($.length-1||1),--X;A[U]=$.join(" ")}}this.autoRound&&(G=Math.round(G),N=Math.round(N));var Z=this.letterSpacing;if(y.strokeThickness&&Z===0&&(y.syncShadow(p,y.shadowStroke),p.strokeText(A[U],G,N)),y.color)if(y.syncShadow(p,y.shadowFill),Z!==0)for(var K=0,J=A[U].split(""),q=0;q<J.length;q++)y.strokeThickness&&(y.syncShadow(p,y.shadowStroke),p.strokeText(J[q],G+K,N),y.syncShadow(p,y.shadowFill)),p.fillText(J[q],G+K,N),K+=p.measureText(J[q]).width+Z;else p.fillText(A[U],G,N)}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var tt=this.input;return tt&&!tt.customHitArea&&(tt.hitArea.width=this.width,tt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=a.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=p,d},preDestroy:function(){h(this.canvas),m.remove(this.canvas);var d=this.texture;d&&d.destroy()}});x.exports=f},79724:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){c.width===0||c.height===0||(m.addToRenderList(c),t.batchSprite(c,c.frame,m,l))};x.exports=M},71259:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(50171);m.register("text",function(r,i){r===void 0&&(r={});var n=l(r,"text",""),h=l(r,"style",null),s=l(r,"padding",null);s!==null&&(h.padding=s);var o=new a(this.scene,0,0,n,h);return i!==void 0&&(r.add=i),c(this.scene,o,r),o.autoRound=l(r,"autoRound",!0),o.resolution=l(r,"resolution",1),o})},68005:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(50171),m=t(39429);m.register("text",function(l,a,r,i){return this.displayList.add(new c(this.scene,l,a,r,i))})},61771:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(34397),l=t(79724),x.exports={renderWebGL:m,renderCanvas:l}},35762:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23568),l=t(35154),a=t(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new c({initialize:function(h,s){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(s,!1,!0)},setStyle:function(n,h,s){h===void 0&&(h=!0),s===void 0&&(s=!1);for(var o in r){var u=s?r[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=l(n,r[o][0],u):n&&o==="fontSize"&&typeof n.fontSize=="number"?this[o]=n.fontSize.toString()+"px":this[o]=m(n,r[o][0],u)}var f=l(n,"font",null);f!==null&&this.setFont(f,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=l(n,"fill",null);d!==null&&(this.color=d);var p=l(n,"metrics",!1);return p?this.metrics={ascent:l(p,"ascent",0),descent:l(p,"descent",0),fontSize:l(p,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=a(this)),h?this.parent.updateText():this.parent},syncFont:function(n,h){h.font=this._font},syncStyle:function(n,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(n,h){h?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(n,h){h===void 0&&(h=!0);var s=n,o="",u="";if(typeof n!="string")s=l(n,"fontFamily","Courier"),o=l(n,"fontSize","16px"),u=l(n,"fontStyle","");else{var f=n.split(" "),d=0;u=f.length>2?f[d++]:"",o=f[d++]||"16px",s=f[d++]||"Courier"}return(s!==this.fontFamily||o!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=s,this.fontSize=o,this.fontStyle=u,h&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,h){return this.fixedWidth=n,this.fixedHeight=h,n&&(this.parent.width=n),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,h){return h===void 0&&(h=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==h)&&(this.stroke=n,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(n,h,s,o,u,f){return n===void 0&&(n=0),h===void 0&&(h=0),s===void 0&&(s="#000"),o===void 0&&(o=0),u===void 0&&(u=!1),f===void 0&&(f=!0),this.shadowOffsetX=n,this.shadowOffsetY=h,this.shadowColor=s,this.shadowBlur=o,this.shadowStroke=u,this.shadowFill=f,this.update(!1)},setShadowOffset:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this.shadowOffsetX=n,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,h){return h===void 0&&(h=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(n,h){return h===void 0&&(h=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var h in r)n[h]=this[h];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});x.exports=i},34397:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70554),m=function(l,a,r,i){if(!(a.width===0||a.height===0)){r.addToRenderList(a);var n=a.frame,h=n.width,s=n.height,o=c.getTintAppendFloatAlpha,u=l.pipelines.set(a.pipeline,a),f=u.setTexture2D(n.glTexture,a);u.batchTexture(a,n.glTexture,h,s,a.x,a.y,h/a.style.resolution,s/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,h,s,o(a.tintTopLeft,r.alpha*a._alphaTL),o(a.tintTopRight,r.alpha*a._alphaTR),o(a.tintBottomLeft,r.alpha*a._alphaBL),o(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,0,0,r,i,!1,f)}};x.exports=m},20839:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(27919),m=t(83419),l=t(31401),a=t(95643),r=t(98439),i=t(68703),n=t(56295),h=t(45650),s=t(26099),o=8,u=new m({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,n],initialize:function(d,p,y,T,C,P,A){var w=d.sys.renderer;a.call(this,d,"TileSprite");var L=d.sys.textures.get(P),B=L.get(A);B.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=d.sys.textures.get("__MISSING"),B=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=d.sys.textures.get("__MISSING"),B=L.get()),!T||!C?(T=T||B.width,C=C||B.height):(T=Math.floor(T),C=Math.floor(C)),this._tilePosition=new s,this._tileScale=new s(1,1),this.dirty=!1,this.renderer=w,this.canvas=c.create(this,T,C),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=B,this._crop=this.resetCropObject(),this._textureKey=h(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(B.width),this.potHeight=r(B.height),this.fillCanvas=c.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(p,y),this.setSize(T,C),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,d){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(d)},setFrame:function(f){var d=this.displayTexture.get(f);return this.potWidth=r(d.width),this.potHeight=r(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~o:this.renderFlags|=o,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,d){return f!==void 0&&(this.tilePositionX=f),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(f,d){return f===void 0&&(f=this.tileScaleX),d===void 0&&(d=f),this.tileScaleX=f,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,p=this.fillCanvas,y=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=f.cutWidth,T=f.cutHeight),d.clearRect(0,0,y,T),p.width=y,p.height=T,d.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,y,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=d.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||i.disable(d);var p=this._tileScale.x,y=this._tileScale.y,T=this._tilePosition.x,C=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(p,y),d.translate(-T,-C),d.fillStyle=this.fillPattern,d.fillRect(T,C,this.width/p,this.height/y),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),c.remove(this.canvas),c.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var f=this.texture;f&&f.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});x.exports=u},46992:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){c.updateCanvas(),m.addToRenderList(c),t.batchSprite(c,c.frame,m,l)};x.exports=M},14167:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(20839);m.register("tileSprite",function(r,i){r===void 0&&(r={});var n=l(r,"x",0),h=l(r,"y",0),s=l(r,"width",512),o=l(r,"height",512),u=l(r,"key",""),f=l(r,"frame",""),d=new a(this.scene,n,h,s,o,u,f);return i!==void 0&&(r.add=i),c(this.scene,d,r),d})},91681:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20839),m=t(39429);m.register("tileSprite",function(l,a,r,i,n,h){return this.displayList.add(new c(this.scene,l,a,r,i,n,h))})},56295:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(18553),l=t(46992),x.exports={renderWebGL:m,renderCanvas:l}},18553:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70554),m=function(l,a,r,i){a.updateCanvas();var n=a.width,h=a.height;if(!(n===0||h===0)){r.addToRenderList(a);var s=c.getTintAppendFloatAlpha,o=l.pipelines.set(a.pipeline,a),u=o.setTexture2D(a.fillPattern,a);o.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,n,h,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*n,a.originY*h,0,0,n,h,s(a.tintTopLeft,r.alpha*a._alphaTL),s(a.tintTopRight,r.alpha*a._alphaTR),s(a.tintBottomLeft,r.alpha*a._alphaBL),s(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,r,i,!1,u)}};x.exports=m},18471:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(31401),a=t(51708),r=t(8443),i=t(95643),n=t(36383),h=t(14463),s=t(45650),o=t(10247),u=new m({Extends:i,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.TextureCrop,l.Tint,l.Transform,l.Visible,o],initialize:function(d,p,y,T){i.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=s(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var C=d.sys.game;this._device=C.device.video,this.setPosition(p,y),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),C.events.on(r.PAUSE,this.globalPause,this),C.events.on(r.RESUME,this.globalResume,this);var P=d.sys.sound;P&&P.on(h.GLOBAL_MUTE,this.globalMute,this),T&&this.load(T)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(f){var d=this.scene.sys.cache.video.get(f);return d?(this.cacheKey=f,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+f),this},changeSource:function(f,d,p,y,T){d===void 0&&(d=!0),p===void 0&&(p=!1),this.cacheKey!==f&&(this.load(f),d&&this.play(p,y,T))},getVideoKey:function(){return this.cacheKey},loadURL:function(f,d,p){d===void 0&&(d=!1);var y=this._device.getVideoURL(f);return y?(this.cacheKey="",this.loadHandler(y.url,d,p)):console.warn("No supported video format found for "+f),this},loadMediaStream:function(f,d,p){return this.loadHandler(null,d,p,f)},loadHandler:function(f,d,p,y){d||(d=!1);var T=this.video;if(T?(this.removeLoadEventHandlers(),this.stop()):(T=document.createElement("video"),T.controls=!1,T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.setAttribute("disablePictureInPicture","true")),d?(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")):(T.muted=!1,T.defaultMuted=!1,T.removeAttribute("autoplay")),p?T.setAttribute("crossorigin",p):T.removeAttribute("crossorigin"),y)if("srcObject"in T)try{T.srcObject=y}catch(P){if(P.name!=="TypeError")throw P;T.src=URL.createObjectURL(y)}else T.src=URL.createObjectURL(y);else T.src=f;this.retry=0,this.video=T,this._playCalled=!1,T.load(),this.addLoadEventHandlers();var C=this.scene.sys.textures.get(this._key);return this.setTexture(C),this},requestVideoFrame:function(f,d){var p=this.video;if(p){var y=d.width,T=d.height,C=this.videoTexture,P=this.videoTextureSource,A=!C||P.source!==p;A?(this._codePaused=p.paused,this._codeMuted=p.muted,C?(P.source=p,P.width=y,P.height=T,C.get().setSize(y,T)):(C=this.scene.sys.textures.create(this._key,p,y,T),C.add("__BASE",0,0,0,y,T),this.setTexture(C),this.videoTexture=C,this.videoTextureSource=C.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,C)),this.setSizeToFrame(),this.updateDisplayOrigin()):P.update(),this.isStalled=!1,this.metadata=d;var w=d.mediaTime;A&&(this._lastUpdate=w,this.emit(a.VIDEO_CREATED,this,y,T),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(p.loop?(p.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=w,this._getFrame?(this.removeEventHandlers(),p.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(f,d,p){d===void 0&&(d=-1),p===void 0&&(p=n.MAX_SAFE_INTEGER);var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(f===void 0&&(f=y.loop),y.loop=f,this._markerIn=d,this._markerOut=p,this._playingMarker=d>-1&&p>d&&p<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var f=this.video;return!f||this.isPlaying()?(f||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=f.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var f=this.video;f&&(f.addEventListener("error",this._loadCallbackHandler),f.addEventListener("abort",this._loadCallbackHandler),f.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var f=this.video;f&&(f.removeEventListener("error",this._loadCallbackHandler),f.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var f=this.video;if(f){var d=this._callbacks;for(var p in d)f.addEventListener(p,d[p])}},removeEventHandlers:function(){var f=this.video;if(f){var d=this._callbacks;for(var p in d)f.removeEventListener(p,d[p])}},createPlayPromise:function(f){f===void 0&&(f=!0);var d=this.video,p=d.play();if(p!==void 0){var y=this.playSuccess.bind(this),T=this.playError.bind(this);if(!f){var C=this;T=function(){C.failedPlayAttempts++}}p.then(y).catch(T)}else d.addEventListener("playing",this._callbacks.legacy),f||this.failedPlayAttempts++},addMarker:function(f,d,p){return!isNaN(d)&&d>=0&&!isNaN(p)&&p>d&&(this.markers[f]=[d,p]),this},playMarker:function(f,d){var p=this.markers[f];return p&&this.play(d,p[0],p[1]),this},removeMarker:function(f){return delete this.markers[f],this},snapshot:function(f,d){return f===void 0&&(f=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,f,d)},snapshotArea:function(f,d,p,y,T,C){f===void 0&&(f=0),d===void 0&&(d=0),p===void 0&&(p=this.width),y===void 0&&(y=this.height),T===void 0&&(T=p),C===void 0&&(C=y);var P=this.video,A=this.snapshotTexture;return A?(A.setSize(T,C),P&&A.context.drawImage(P,f,d,p,y,0,0,T,C)):(A=this.scene.sys.textures.createCanvas(s(),T,C),this.snapshotTexture=A,P&&A.context.drawImage(P,f,d,p,y,0,0,T,C)),A.update()},saveSnapshotTexture:function(f){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,f):this.snapshotTexture=this.scene.sys.textures.createCanvas(f,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var f=this.scene.sys.sound;f&&f.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(f){var d=f.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,f)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,f))},legacyPlayHandler:function(){var f=this.video;f&&(this.playSuccess(),f.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(f){this.stop(!1),this.emit(a.VIDEO_ERROR,this,f)},metadataHandler:function(f){this.emit(a.VIDEO_METADATA,this,f)},setSizeToFrame:function(f){f||(f=this.frame),this.width=f.realWidth,this.height=f.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(f){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,f)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(f,d){var p=this.video;!p||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(f){var d=this.video;if(d){var p=d.duration;if(p!==1/0&&!isNaN(p)){var y=p*f;this.setCurrentTime(y)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(f){var d=this.video;if(d){if(typeof f=="string"){var p=f[0],y=parseFloat(f.substr(1));p==="+"?f=d.currentTime+y:p==="-"&&(f=d.currentTime-y)}d.currentTime=f}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var f=this.video;if(f){var d=f.duration;if(d!==1/0&&!isNaN(d))return f.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(f){f===void 0&&(f=!0),this._codeMuted=f;var d=this.video;return d&&(d.muted=this._systemMuted?!0:f),this},isMuted:function(){return this._codeMuted},globalMute:function(f,d){this._systemMuted=d;var p=this.video;p&&(p.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(f){f===void 0&&(f=!0);var d=this.video;return this._codePaused=f,d&&!d.ended&&(f?d.paused||(this.removeEventHandlers(),d.pause()):f||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(f){return f===void 0&&(f=1),this.video&&(this.video.volume=c(f,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(f){return this.video&&(this.video.playbackRate=f),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(f){return f===void 0&&(f=!0),this.video&&(this.video.loop=f),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(f,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,f),this.videoTextureSource.setFlipY(d)),this._key=f,this.flipY=d,!!this.videoTexture},stop:function(f){f===void 0&&(f=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,f&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var f=this.video;if(f){for(f.parentNode&&f.parentNode.removeChild(f);f.hasChildNodes();)f.removeChild(f.firstChild);f.removeAttribute("autoplay"),f.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var f=this.scene.sys.game.events;f.off(r.PAUSE,this.globalPause,this),f.off(r.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(h.GLOBAL_MUTE,this.globalMute,this)}});x.exports=u},58352:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){c.videoTexture&&(m.addToRenderList(c),t.batchSprite(c,c.frame,m,l))};x.exports=M},11511:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25305),m=t(44603),l=t(23568),a=t(18471);m.register("video",function(r,i){r===void 0&&(r={});var n=l(r,"key",null),h=new a(this.scene,0,0,n);return i!==void 0&&(r.add=i),c(this.scene,h,r),h})},89025:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(18471),m=t(39429);m.register("video",function(l,a,r){return this.displayList.add(new c(this.scene,l,a,r))})},10247:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(29849),l=t(58352),x.exports={renderWebGL:m,renderCanvas:l}},29849:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){c.videoTexture&&(m.addToRenderList(c),c.pipeline.batchSprite(c,m,l))};x.exports=M},41481:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10312),m=t(96503),l=t(87902),a=t(83419),r=t(31401),i=t(95643),n=t(87841),h=t(37303),s=new a({Extends:i,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(u,f,d,p,y){p===void 0&&(p=1),y===void 0&&(y=p),i.call(this,u,"Zone"),this.setPosition(f,d),this.width=p,this.height=y,this.blendMode=c.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,u,f){f===void 0&&(f=!0),this.width=o,this.height=u,this.updateDisplayOrigin();var d=this.input;return f&&d&&!d.customHitArea&&(d.hitArea.width=o,d.hitArea.height=u),this},setDisplaySize:function(o,u){return this.displayWidth=o,this.displayHeight=u,this},setCircleDropZone:function(o){return this.setDropZone(new m(0,0,o),l)},setRectangleDropZone:function(o,u){return this.setDropZone(new n(0,0,o,u),h)},setDropZone:function(o,u){return this.input||this.setInteractive(o,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,u,f){f.addToRenderList(u)},renderWebGL:function(o,u,f){f.addToRenderList(u)}});x.exports=s},95261:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(44603),m=t(23568),l=t(41481);c.register("zone",function(a){var r=m(a,"x",0),i=m(a,"y",0),n=m(a,"width",1),h=m(a,"height",n);return new l(this.scene,r,i,n,h)})},84175:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(41481),m=t(39429);m.register("zone",function(l,a,r,i){return this.displayList.add(new c(this.scene,l,a,r,i))})},95166:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};x.exports=M},96503:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(87902),l=t(26241),a=t(79124),r=t(23777),i=t(28176),n=new c({initialize:function(s,o,u){s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),this.type=r.CIRCLE,this.x=s,this.y=o,this._radius=u,this._diameter=u*2},contains:function(h,s){return m(this,h,s)},getPoint:function(h,s){return l(this,h,s)},getPoints:function(h,s,o){return a(this,h,s,o)},getRandomPoint:function(h){return i(this,h)},setTo:function(h,s,o){return this.x=h,this.y=s,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,s){return s===void 0&&(s=h),this.x=h,this.y=s,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});x.exports=n},71562:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return 2*(Math.PI*t.radius)};x.exports=M},92110:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a,r){return r===void 0&&(r=new c),r.x=l.x+l.radius*Math.cos(a),r.y=l.y+l.radius*Math.sin(a),r};x.exports=m},42250:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(96503),m=function(l){return new c(l.x,l.y,l.radius)};x.exports=m},87902:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(t.radius>0&&c>=t.left&&c<=t.right&&m>=t.top&&m<=t.bottom){var l=(t.x-c)*(t.x-c),a=(t.y-m)*(t.y-m);return l+a<=t.radius*t.radius}else return!1};x.exports=M},5698:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87902),m=function(l,a){return c(l,a.x,a.y)};x.exports=m},70588:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87902),m=function(l,a){return c(l,a.x,a.y)&&c(l,a.right,a.y)&&c(l,a.x,a.bottom)&&c(l,a.right,a.bottom)};x.exports=m},26394:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c.setTo(t.x,t.y,t.radius)};x.exports=M},76278:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x===c.x&&t.y===c.y&&t.radius===c.radius};x.exports=M},2074:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=function(l,a){return a===void 0&&(a=new c),a.x=l.left,a.y=l.top,a.width=l.diameter,a.height=l.diameter,a};x.exports=m},26241:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(92110),m=t(62945),l=t(36383),a=t(2141),r=function(i,n,h){h===void 0&&(h=new a);var s=m(n,0,l.PI2);return c(i,s,h)};x.exports=r},79124:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(71562),m=t(92110),l=t(62945),a=t(36383),r=function(i,n,h,s){s===void 0&&(s=[]),!n&&h>0&&(n=c(i)/h);for(var o=0;o<n;o++){var u=l(o/n,0,a.PI2);s.push(m(i,u))}return s};x.exports=r},50884:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t.x+=c,t.y+=m,t};x.exports=M},39212:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x+=c.x,t.y+=c.y,t};x.exports=M},28176:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){a===void 0&&(a=new c);var r=2*Math.PI*Math.random(),i=Math.random()+Math.random(),n=i>1?2-i:i,h=n*Math.cos(r),s=n*Math.sin(r);return a.x=l.x+h*l.radius,a.y=l.y+s*l.radius,a};x.exports=m},88911:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(96503);c.Area=t(95166),c.Circumference=t(71562),c.CircumferencePoint=t(92110),c.Clone=t(42250),c.Contains=t(87902),c.ContainsPoint=t(5698),c.ContainsRect=t(70588),c.CopyFrom=t(26394),c.Equals=t(76278),c.GetBounds=t(2074),c.GetPoint=t(26241),c.GetPoints=t(79124),c.Offset=t(50884),c.OffsetPoint=t(39212),c.Random=t(28176),x.exports=c},23777:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};x.exports=M},78874:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};x.exports=M},92990:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=t.width/2,m=t.height/2,l=Math.pow(c-m,2)/Math.pow(c+m,2);return Math.PI*(c+m)*(1+3*l/(10+Math.sqrt(4-3*l)))};x.exports=M},79522:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a,r){r===void 0&&(r=new c);var i=l.width/2,n=l.height/2;return r.x=l.x+i*Math.cos(a),r.y=l.y+n*Math.sin(a),r};x.exports=m},58102:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(8497),m=function(l){return new c(l.x,l.y,l.width,l.height)};x.exports=m},81154:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(t.width<=0||t.height<=0)return!1;var l=(c-t.x)/t.width,a=(m-t.y)/t.height;return l*=l,a*=a,l+a<.25};x.exports=M},46662:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(81154),m=function(l,a){return c(l,a.x,a.y)};x.exports=m},1632:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(81154),m=function(l,a){return c(l,a.x,a.y)&&c(l,a.right,a.y)&&c(l,a.x,a.bottom)&&c(l,a.right,a.bottom)};x.exports=m},65534:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c.setTo(t.x,t.y,t.width,t.height)};x.exports=M},8497:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(81154),l=t(90549),a=t(48320),r=t(23777),i=t(24820),n=new c({initialize:function(s,o,u,f){s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=r.ELLIPSE,this.x=s,this.y=o,this.width=u,this.height=f},contains:function(h,s){return m(this,h,s)},getPoint:function(h,s){return l(this,h,s)},getPoints:function(h,s,o){return a(this,h,s,o)},getRandomPoint:function(h){return i(this,h)},setTo:function(h,s,o,u){return this.x=h,this.y=s,this.width=o,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,s){return s===void 0&&(s=h),this.x=h,this.y=s,this},setSize:function(h,s){return s===void 0&&(s=h),this.width=h,this.height=s,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});x.exports=n},36146:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x===c.x&&t.y===c.y&&t.width===c.width&&t.height===c.height};x.exports=M},23694:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=function(l,a){return a===void 0&&(a=new c),a.x=l.left,a.y=l.top,a.width=l.width,a.height=l.height,a};x.exports=m},90549:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(79522),m=t(62945),l=t(36383),a=t(2141),r=function(i,n,h){h===void 0&&(h=new a);var s=m(n,0,l.PI2);return c(i,s,h)};x.exports=r},48320:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(92990),m=t(79522),l=t(62945),a=t(36383),r=function(i,n,h,s){s===void 0&&(s=[]),!n&&h>0&&(n=c(i)/h);for(var o=0;o<n;o++){var u=l(o/n,0,a.PI2);s.push(m(i,u))}return s};x.exports=r},73424:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t.x+=c,t.y+=m,t};x.exports=M},44808:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x+=c.x,t.y+=c.y,t};x.exports=M},24820:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){a===void 0&&(a=new c);var r=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=l.x+i*Math.cos(r)*l.width/2,a.y=l.y+i*Math.sin(r)*l.height/2,a};x.exports=m},49203:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(8497);c.Area=t(78874),c.Circumference=t(92990),c.CircumferencePoint=t(79522),c.Clone=t(58102),c.Contains=t(81154),c.ContainsPoint=t(46662),c.ContainsRect=t(1632),c.CopyFrom=t(65534),c.Equals=t(36146),c.GetBounds=t(23694),c.GetPoint=t(90549),c.GetPoints=t(48320),c.Offset=t(73424),c.OffsetPoint=t(44808),c.Random=t(24820),x.exports=c},55738:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(23777),m=t(79291),l={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};l=m(!1,l,c),x.exports=l},2044:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20339),m=function(l,a){return c(l.x,l.y,a.x,a.y)<=l.radius+a.radius};x.exports=m},81491:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=c.width/2,l=c.height/2,a=Math.abs(t.x-c.x-m),r=Math.abs(t.y-c.y-l),i=m+t.radius,n=l+t.radius;if(a>i||r>n)return!1;if(a<=m||r<=l)return!0;var h=a-m,s=r-l,o=h*h,u=s*s,f=t.radius*t.radius;return o+u<=f};x.exports=M},63376:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=t(2044),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var n=a.x,h=a.y,s=a.radius,o=r.x,u=r.y,f=r.radius,d,p,y,T,C;if(h===u)C=(f*f-s*s-o*o+n*n)/(2*(n-o)),d=1,p=-2*u,y=o*o+C*C-2*o*C+u*u-f*f,T=p*p-4*d*y,T===0?i.push(new c(C,-p/(2*d))):T>0&&(i.push(new c(C,(-p+Math.sqrt(T))/(2*d))),i.push(new c(C,(-p-Math.sqrt(T))/(2*d))));else{var P=(n-o)/(h-u),A=(f*f-s*s-o*o+n*n-u*u+h*h)/(2*(h-u));d=P*P+1,p=2*h*P-2*A*P-2*n,y=n*n+h*h+A*A-s*s-2*h*A,T=p*p-4*d*y,T===0?(C=-p/(2*d),i.push(new c(C,A-C*P))):T>0&&(C=(-p+Math.sqrt(T))/(2*d),i.push(new c(C,A-C*P)),C=(-p-Math.sqrt(T))/(2*d),i.push(new c(C,A-C*P)))}}return i};x.exports=l},97439:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(4042),m=t(81491),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var n=r.getLineA(),h=r.getLineB(),s=r.getLineC(),o=r.getLineD();c(n,a,i),c(h,a,i),c(s,a,i),c(o,a,i)}return i};x.exports=l},4042:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=t(80462),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var n=a.x1,h=a.y1,s=a.x2,o=a.y2,u=r.x,f=r.y,d=r.radius,p=s-n,y=o-h,T=n-u,C=h-f,P=p*p+y*y,A=2*(p*T+y*C),w=T*T+C*C-d*d,L=A*A-4*P*w,B,F;if(L===0){var b=-A/(2*P);B=n+b*p,F=h+b*y,b>=0&&b<=1&&i.push(new c(B,F))}else if(L>0){var G=(-A-Math.sqrt(L))/(2*P);B=n+G*p,F=h+G*y,G>=0&&G<=1&&i.push(new c(B,F));var N=(-A+Math.sqrt(L))/(2*P);B=n+N*p,F=h+N*y,N>=0&&N<=1&&i.push(new c(B,F))}}return i};x.exports=l},36100:(x,M,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25836),m=function(l,a,r,i){r===void 0&&(r=!1);var n=l.x1,h=l.y1,s=l.x2,o=l.y2,u=a.x1,f=a.y1,d=a.x2,p=a.y2,y=s-n,T=o-h,C=d-u,P=p-f,A=y*P-T*C;if(A===0)return null;var w,L,B;if(r){if(w=(y*(f-h)+T*(n-u))/(C*T-P*y),y!==0)L=(u+C*w-n)/y;else if(T!==0)L=(f+P*w-h)/T;else return null;if(L<0||w<0||w>1)return null;B=L}else{if(w=((u-n)*P-(f-h)*C)/A,L=((h-f)*y-(n-u)*T)/A,w<0||w>1||L<0||L>1)return null;B=w}return i===void 0&&(i=new c),i.set(n+y*B,h+T*B,B)};x.exports=m},3073:(x,M,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36100),m=t(23031),l=t(25836),a=new m,r=new l,i=function(n,h,s,o){s===void 0&&(s=!1),o===void 0&&(o=new l);var u=!1;o.set(),r.set();for(var f=h[h.length-1],d=0;d<h.length;d++){var p=h[d];a.setTo(f.x,f.y,p.x,p.y),f=p,c(n,a,s,r)&&(!u||r.z<o.z)&&(o.copy(r),u=!0)}return u?o:null};x.exports=i},56362:(x,M,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25836),m=t(61369),l=t(3073),a=new c,r=function(i,n,h,s){s===void 0&&(s=new m),Array.isArray(n)||(n=[n]);var o=!1;s.set(),a.set();for(var u=0;u<n.length;u++)l(i,n[u].points,h,a)&&(!o||a.z<s.z)&&(s.set(a.x,a.y,a.z,u),o=!0);return o?s:null};x.exports=r},60646:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=t(76112),l=t(92773),a=function(r,i,n){if(n===void 0&&(n=[]),l(r,i))for(var h=i.getLineA(),s=i.getLineB(),o=i.getLineC(),u=i.getLineD(),f=[new c,new c,new c,new c],d=[m(h,r,f[0]),m(s,r,f[1]),m(o,r,f[2]),m(u,r,f[3])],p=0;p<4;p++)d[p]&&n.push(f[p]);return n};x.exports=a},71147:(x,M,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(61369),m=t(56362),l=t(23031),a=new l;function r(h,s,o,u,f){var d=Math.cos(h),p=Math.sin(h);a.setTo(s,o,s+d,o+p);var y=m(a,u,!0);y&&f.push(new c(y.x,y.y,h,y.w))}function i(h,s){return h.z-s.z}var n=function(h,s,o){Array.isArray(o)||(o=[o]);for(var u=[],f=[],d=0;d<o.length;d++)for(var p=o[d].points,y=0;y<p.length;y++){var T=Math.atan2(p[y].y-s,p[y].x-h);f.indexOf(T)===-1&&(r(T,h,s,o,u),r(T-1e-5,h,s,o,u),r(T+1e-5,h,s,o,u),f.push(T))}return u.sort(i)};x.exports=n},68389:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=t(59996),l=function(a,r,i){return i===void 0&&(i=new c),m(a,r)&&(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y),i};x.exports=l},52784:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(60646),m=t(59996),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var n=a.getLineA(),h=a.getLineB(),s=a.getLineC(),o=a.getLineD();c(n,r,i),c(h,r,i),c(s,r,i),c(o,r,i)}return i};x.exports=l},26341:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(89265),m=t(60646),l=function(a,r,i){if(i===void 0&&(i=[]),c(a,r)){var n=r.getLineA(),h=r.getLineB(),s=r.getLineC();m(n,a,i),m(h,a,i),m(s,a,i)}return i};x.exports=l},38720:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(4042),m=t(67636),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var n=a.getLineA(),h=a.getLineB(),s=a.getLineC();c(n,r,i),c(h,r,i),c(s,r,i)}return i};x.exports=l},13882:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=t(2822),l=t(76112),a=function(r,i,n){if(n===void 0&&(n=[]),m(r,i))for(var h=r.getLineA(),s=r.getLineB(),o=r.getLineC(),u=[new c,new c,new c],f=[l(h,i,u[0]),l(s,i,u[1]),l(o,i,u[2])],d=0;d<3;d++)f[d]&&n.push(u[d]);return n};x.exports=a},75636:(x,M,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(82944),m=t(13882),l=function(a,r,i){if(i===void 0&&(i=[]),c(a,r)){var n=r.getLineA(),h=r.getLineB(),s=r.getLineC();m(a,n,i),m(a,h,i),m(a,s,i)}return i};x.exports=l},80462:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87902),m=t(2141),l=new m,a=function(r,i,n){if(n===void 0&&(n=l),c(i,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(c(i,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var h=r.x2-r.x1,s=r.y2-r.y1,o=i.x-r.x1,u=i.y-r.y1,f=h*h+s*s,d=h,p=s;if(f>0){var y=(o*h+u*s)/f;d*=y,p*=y}n.x=r.x1+d,n.y=r.y1+p;var T=d*d+p*p;return T<=f&&d*h+p*s>=0&&c(i,n.x,n.y)};x.exports=a},76112:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=t.x1,a=t.y1,r=t.x2,i=t.y2,n=c.x1,h=c.y1,s=c.x2,o=c.y2;if(l===r&&a===i||n===s&&h===o)return!1;var u=(o-h)*(r-l)-(s-n)*(i-a);if(u===0)return!1;var f=((s-n)*(a-h)-(o-h)*(l-n))/u,d=((r-l)*(a-h)-(i-a)*(l-n))/u;return f<0||f>1||d<0||d>1?!1:(m&&(m.x=l+f*(r-l),m.y=a+f*(i-a)),!0)};x.exports=M},92773:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.x1,l=t.y1,a=t.x2,r=t.y2,i=c.x,n=c.y,h=c.right,s=c.bottom,o=0;if(m>=i&&m<=h&&l>=n&&l<=s||a>=i&&a<=h&&r>=n&&r<=s)return!0;if(m<i&&a>=i){if(o=l+(r-l)*(i-m)/(a-m),o>n&&o<=s)return!0}else if(m>h&&a<=h&&(o=l+(r-l)*(h-m)/(a-m),o>=n&&o<=s))return!0;if(l<n&&r>=n){if(o=m+(a-m)*(n-l)/(r-l),o>=i&&o<=h)return!0}else if(l>s&&r<=s&&(o=m+(a-m)*(s-l)/(r-l),o>=i&&o<=h))return!0;return!1};x.exports=M},16204:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){m===void 0&&(m=1);var l=c.x1,a=c.y1,r=c.x2,i=c.y2,n=t.x,h=t.y,s=(r-l)*(r-l)+(i-a)*(i-a);if(s===0)return!1;var o=((n-l)*(r-l)+(h-a)*(i-a))/s;if(o<0)return Math.sqrt((l-n)*(l-n)+(a-h)*(a-h))<=m;if(o>=0&&o<=1){var u=((a-h)*(r-l)-(l-n)*(i-a))/s;return Math.abs(u)*Math.sqrt(s)<=m}else return Math.sqrt((r-n)*(r-n)+(i-h)*(i-h))<=m};x.exports=M},14199:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(16204),m=function(l,a){if(!c(l,a))return!1;var r=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),n=Math.min(a.y1,a.y2),h=Math.max(a.y1,a.y2);return l.x>=r&&l.x<=i&&l.y>=n&&l.y<=h};x.exports=m},59996:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.width<=0||t.height<=0||c.width<=0||c.height<=0?!1:!(t.right<c.x||t.bottom<c.y||t.x>c.right||t.y>c.bottom)};x.exports=M},89265:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(76112),m=t(37303),l=t(48653),a=t(77493),r=function(i,n){if(n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top)return!1;var h=n.getLineA(),s=n.getLineB(),o=n.getLineC();if(m(i,h.x1,h.y1)||m(i,h.x2,h.y2)||m(i,s.x1,s.y1)||m(i,s.x2,s.y2)||m(i,o.x1,o.y1)||m(i,o.x2,o.y2))return!0;var u=i.getLineA(),f=i.getLineB(),d=i.getLineC(),p=i.getLineD();if(c(h,u)||c(h,f)||c(h,d)||c(h,p)||c(s,u)||c(s,f)||c(s,d)||c(s,p)||c(o,u)||c(o,f)||c(o,d)||c(o,p))return!0;var y=a(i),T=l(n,y,!0);return T.length>0};x.exports=r},84411:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a,r){return r===void 0&&(r=0),!(c>t.right+r||m<t.left-r||l>t.bottom+r||a<t.top-r)};x.exports=M},67636:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(80462),m=t(10690),l=function(a,r){return a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top?!1:!!(m(a,r.x,r.y)||c(a.getLineA(),r)||c(a.getLineB(),r)||c(a.getLineC(),r))};x.exports=l},2822:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(76112),m=function(l,a){return!!(l.contains(a.x1,a.y1)||l.contains(a.x2,a.y2)||c(l.getLineA(),a)||c(l.getLineB(),a)||c(l.getLineC(),a))};x.exports=m},82944:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(48653),m=t(71694),l=t(76112),a=function(r,i){if(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)return!1;var n=r.getLineA(),h=r.getLineB(),s=r.getLineC(),o=i.getLineA(),u=i.getLineB(),f=i.getLineC();if(l(n,o)||l(n,u)||l(n,f)||l(h,o)||l(h,u)||l(h,f)||l(s,o)||l(s,u)||l(s,f))return!0;var d=m(r),p=c(i,d,!0);return p.length>0||(d=m(i),p=c(r,d,!0),p.length>0)};x.exports=a},91865:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};x.exports=M},84993:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){c===void 0&&(c=1),m===void 0&&(m=[]);var l=Math.round(t.x1),a=Math.round(t.y1),r=Math.round(t.x2),i=Math.round(t.y2),n=Math.abs(r-l),h=Math.abs(i-a),s=l<r?1:-1,o=a<i?1:-1,u=n-h;m.push({x:l,y:a});for(var f=1;!(l===r&&a===i);){var d=u<<1;d>-h&&(u-=h,l+=s),d<n&&(u+=n,a+=o),f%c===0&&m.push({x:l,y:a}),f++}return m};x.exports=M},36469:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=c-(t.x1+t.x2)/2,a=m-(t.y1+t.y2)/2;return t.x1+=l,t.y1+=a,t.x2+=l,t.y2+=a,t};x.exports=M},31116:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(23031),m=function(l){return new c(l.x1,l.y1,l.x2,l.y2)};x.exports=m},59944:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c.setTo(t.x1,t.y1,t.x2,t.y2)};x.exports=M},59220:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x1===c.x1&&t.y1===c.y1&&t.x2===c.x2&&t.y2===c.y2};x.exports=M},78177:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35001),m=function(l,a,r){r===void 0&&(r=a);var i=c(l),n=l.x2-l.x1,h=l.y2-l.y1;return a&&(l.x1=l.x1-n/i*a,l.y1=l.y1-h/i*a),r&&(l.x2=l.x2+n/i*r,l.y2=l.y2+h/i*r),l};x.exports=m},26708:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(52816),m=t(6113),l=t(2141),a=function(r,i,n,h,s){h===void 0&&(h=0),s===void 0&&(s=[]);var o=[],u=r.x1,f=r.y1,d=r.x2-u,p=r.y2-f,y=m(i,s),T,C,P=n-1;for(T=0;T<P;T++)C=y(T/P),o.push(new l(u+d*C,f+p*C));if(C=y(1),o.push(new l(u+d*C,f+p*C)),h>0){var A=o[0],w=[A];for(T=1;T<o.length-1;T++){var L=o[T];c(A,L)>=h&&(w.push(L),A=L)}var B=o[o.length-1];return c(A,B)<h&&w.pop(),w.push(B),w}else return o};x.exports=a},32125:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){return a===void 0&&(a=new c),a.x=(l.x1+l.x2)/2,a.y=(l.y1+l.y2)/2,a};x.exports=m},99569:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a,r){r===void 0&&(r=new c);var i=l.x1,n=l.y1,h=l.x2,s=l.y2,o=(h-i)*(h-i)+(s-n)*(s-n);if(o===0)return r;var u=((a.x-i)*(h-i)+(a.y-n)*(s-n))/o;return r.x=i+u*(h-i),r.y=n+u*(s-n),r};x.exports=m},34638:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=t(91938),l=t(2141),a=function(r,i){i===void 0&&(i=new l);var n=m(r)-c.TAU;return i.x=Math.cos(n),i.y=Math.sin(n),i};x.exports=a},13151:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a,r){return r===void 0&&(r=new c),r.x=l.x1+(l.x2-l.x1)*a,r.y=l.y1+(l.y2-l.y1)*a,r};x.exports=m},15258:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35001),m=t(2141),l=function(a,r,i,n){n===void 0&&(n=[]),!r&&i>0&&(r=c(a)/i);for(var h=a.x1,s=a.y1,o=a.x2,u=a.y2,f=0;f<r;f++){var d=f/r,p=h+(o-h)*d,y=s+(u-s)*d;n.push(new m(p,y))}return n};x.exports=l},26408:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.x1,l=t.y1,a=t.x2,r=t.y2,i=(a-m)*(a-m)+(r-l)*(r-l);if(i===0)return!1;var n=((l-c.y)*(a-m)-(m-c.x)*(r-l))/i;return Math.abs(n)*Math.sqrt(i)};x.exports=M},98770:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return Math.abs(t.y1-t.y2)};x.exports=M},35001:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};x.exports=M},23031:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(13151),l=t(15258),a=t(23777),r=t(65822),i=t(26099),n=new c({initialize:function(s,o,u,f){s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=a.LINE,this.x1=s,this.y1=o,this.x2=u,this.y2=f},getPoint:function(h,s){return m(this,h,s)},getPoints:function(h,s,o){return l(this,h,s,o)},getRandomPoint:function(h){return r(this,h)},setTo:function(h,s,o,u){return h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),this.x1=h,this.y1=s,this.x2=o,this.y2=u,this},setFromObjects:function(h,s){return this.x1=h.x,this.y1=h.y,this.x2=s.x,this.y2=s.y,this},getPointA:function(h){return h===void 0&&(h=new i),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new i),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});x.exports=n},64795:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=t(15994),l=t(91938),a=function(r){var i=l(r)-c.TAU;return m(i,-Math.PI,Math.PI)};x.exports=a},52616:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=t(91938),l=function(a){return Math.cos(m(a)-c.TAU)};x.exports=l},87231:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=t(91938),l=function(a){return Math.sin(m(a)-c.TAU)};x.exports=l},89662:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t.x1+=c,t.y1+=m,t.x2+=c,t.y2+=m,t};x.exports=M},71165:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};x.exports=M},65822:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){a===void 0&&(a=new c);var r=Math.random();return a.x=l.x1+r*(l.x2-l.x1),a.y=l.y1+r*(l.y2-l.y1),a};x.exports=m},69777:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91938),m=t(64795),l=function(a,r){return 2*m(r)-Math.PI-c(a)};x.exports=l},39706:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(64400),m=function(l,a){var r=(l.x1+l.x2)/2,i=(l.y1+l.y2)/2;return c(l,r,i,a)};x.exports=m},82585:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(64400),m=function(l,a,r){return c(l,a.x,a.y,r)};x.exports=m},64400:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=Math.cos(l),r=Math.sin(l),i=t.x1-c,n=t.y1-m;return t.x1=i*a-n*r+c,t.y1=i*r+n*a+m,i=t.x2-c,n=t.y2-m,t.x2=i*a-n*r+c,t.y2=i*r+n*a+m,t};x.exports=M},62377:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a){return t.x1=c,t.y1=m,t.x2=c+Math.cos(l)*a,t.y2=m+Math.sin(l)*a,t};x.exports=M},71366:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};x.exports=M},10809:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return Math.abs(t.x1-t.x2)};x.exports=M},2529:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(23031);c.Angle=t(91938),c.BresenhamPoints=t(84993),c.CenterOn=t(36469),c.Clone=t(31116),c.CopyFrom=t(59944),c.Equals=t(59220),c.Extend=t(78177),c.GetEasedPoints=t(26708),c.GetMidPoint=t(32125),c.GetNearestPoint=t(99569),c.GetNormal=t(34638),c.GetPoint=t(13151),c.GetPoints=t(15258),c.GetShortestDistance=t(26408),c.Height=t(98770),c.Length=t(35001),c.NormalAngle=t(64795),c.NormalX=t(52616),c.NormalY=t(87231),c.Offset=t(89662),c.PerpSlope=t(71165),c.Random=t(65822),c.ReflectAngle=t(69777),c.Rotate=t(39706),c.RotateAroundPoint=t(82585),c.RotateAroundXY=t(64400),c.SetToAngle=t(62377),c.Slope=t(71366),c.Width=t(10809),x.exports=c},83997:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(87841),l=t(26099);function a(i,n,h,s){var o=i-h,u=n-s,f=o*o+u*u;return Math.sqrt(f)}var r=new c({initialize:function(n,h,s){this.vertex1=n,this.vertex2=h,this.vertex3=s,this.bounds=new m,this._inCenter=new l},getInCenter:function(i){i===void 0&&(i=!0);var n=this.vertex1,h=this.vertex2,s=this.vertex3,o,u,f,d,p,y;i?(o=n.x,u=n.y,f=h.x,d=h.y,p=s.x,y=s.y):(o=n.vx,u=n.vy,f=h.vx,d=h.vy,p=s.vx,y=s.vy);var T=a(p,y,f,d),C=a(o,u,p,y),P=a(f,d,o,u),A=T+C+P;return this._inCenter.set((o*T+f*C+p*P)/A,(u*T+d*C+y*P)/A)},contains:function(i,n,h){var s=this.vertex1,o=this.vertex2,u=this.vertex3,f=s.vx,d=s.vy,p=o.vx,y=o.vy,T=u.vx,C=u.vy;if(h){var P=h.a,A=h.b,w=h.c,L=h.d,B=h.e,F=h.f;f=s.vx*P+s.vy*w+B,d=s.vx*A+s.vy*L+F,p=o.vx*P+o.vy*w+B,y=o.vx*A+o.vy*L+F,T=u.vx*P+u.vy*w+B,C=u.vx*A+u.vy*L+F}var b=T-f,G=C-d,N=p-f,U=y-d,W=i-f,H=n-d,k=b*b+G*G,z=b*N+G*U,$=b*W+G*H,X=N*N+U*U,Q=N*W+U*H,Z=k*X-z*z,K=Z===0?0:1/Z,J=(X*$-z*Q)*K,q=(k*Q-z*$)*K;return J>=0&&q>=0&&J+q<1},isCounterClockwise:function(i){var n=this.vertex1,h=this.vertex2,s=this.vertex3,o=(h.vx-n.vx)*(s.vy-n.vy)-(h.vy-n.vy)*(s.vx-n.vx);return i<=0?o>=0:o<0},load:function(i,n,h,s,o){return h=this.vertex1.load(i,n,h,s,o),h=this.vertex2.load(i,n,h,s,o),h=this.vertex3.load(i,n,h,s,o),h},transformCoordinatesLocal:function(i,n,h,s){return this.vertex1.transformCoordinatesLocal(i,n,h,s),this.vertex2.transformCoordinatesLocal(i,n,h,s),this.vertex3.transformCoordinatesLocal(i,n,h,s),this},updateBounds:function(){var i=this.vertex1,n=this.vertex2,h=this.vertex3,s=this.bounds;return s.x=Math.min(i.vx,n.vx,h.vx),s.y=Math.min(i.vy,n.vy,h.vy),s.width=Math.max(i.vx,n.vx,h.vx)-s.x,s.height=Math.max(i.vy,n.vy,h.vy)-s.y,this},isInView:function(i,n,h,s,o,u,f,d,p,y,T){this.update(s,o,u,f,d,p,y,T);var C=this.vertex1,P=this.vertex2,A=this.vertex3;if(C.ta<=0&&P.ta<=0&&A.ta<=0||n&&!this.isCounterClockwise(h))return!1;var w=this.bounds;w.x=Math.min(C.tx,P.tx,A.tx),w.y=Math.min(C.ty,P.ty,A.ty),w.width=Math.max(C.tx,P.tx,A.tx)-w.x,w.height=Math.max(C.ty,P.ty,A.ty)-w.y;var L=i.x+i.width,B=i.y+i.height;return w.width<=0||w.height<=0||i.width<=0||i.height<=0?!1:!(w.right<i.x||w.bottom<i.y||w.x>L||w.y>B)},scrollUV:function(i,n){return this.vertex1.scrollUV(i,n),this.vertex2.scrollUV(i,n),this.vertex3.scrollUV(i,n),this},scaleUV:function(i,n){return this.vertex1.scaleUV(i,n),this.vertex2.scaleUV(i,n),this.vertex3.scaleUV(i,n),this},setColor:function(i){return this.vertex1.color=i,this.vertex2.color=i,this.vertex3.color=i,this},update:function(i,n,h,s,o,u,f,d){return this.vertex1.update(n,h,s,o,u,f,d,i),this.vertex2.update(n,h,s,o,u,f,d,i),this.vertex3.update(n,h,s,o,u,f,d,i),this},translate:function(i,n){n===void 0&&(n=0);var h=this.vertex1,s=this.vertex2,o=this.vertex3;return h.x+=i,h.y+=n,s.x+=i,s.y+=n,o.x+=i,o.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(i){var n=this.getInCenter();this.translate(i-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var n=this.getInCenter();this.translate(0,i-n.y)}},alpha:{get:function(){var i=this.vertex1,n=this.vertex2,h=this.vertex3;return(i.alpha+n.alpha+h.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,n=this.vertex2,h=this.vertex3;return(i.vz+n.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});x.exports=r},48803:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83997),m=t(95540),l=t(37867),a=t(25836),r=t(39318),i=new a,n=new a,h=new l,s=function(o){var u=m(o,"mesh"),f=m(o,"texture",null),d=m(o,"frame"),p=m(o,"width",1),y=m(o,"height",p),T=m(o,"widthSegments",1),C=m(o,"heightSegments",T),P=m(o,"x",0),A=m(o,"y",0),w=m(o,"z",0),L=m(o,"rotateX",0),B=m(o,"rotateY",0),F=m(o,"rotateZ",0),b=m(o,"zIsUp",!0),G=m(o,"isOrtho",u?u.dirtyCache[11]:!1),N=m(o,"colors",[16777215]),U=m(o,"alphas",[1]),W=m(o,"tile",!1),H=m(o,"flipY",!1),k=m(o,"width",null),z={faces:[],verts:[]};i.set(P,A,w),n.set(L,B,F),h.fromRotationXYTranslation(n,i,b);var $;if(!f&&u)f=u.texture,d||($=u.frame);else if(u&&typeof f=="string")f=u.scene.sys.textures.get(f);else if(!f)return z;$||($=f.get(d)),!k&&G&&f&&u&&(p=$.width/u.height,y=$.height/u.height);var X=p/2,Q=y/2,Z=Math.floor(T),K=Math.floor(C),J=Z+1,q=K+1,tt=p/Z,it=y/K,nt=[],rt=[],ht,dt,lt=0,vt=1,Mt=0,At=1;$&&(lt=$.u0,vt=$.u1,H?(Mt=$.v1,At=$.v0):(Mt=$.v0,At=$.v1));var wt=vt-lt,ct=At-Mt;for(dt=0;dt<q;dt++){var gt=dt*it-Q;for(ht=0;ht<J;ht++){var xt=ht*tt-X;rt.push(xt,-gt);var Ft=lt+wt*(ht/Z),bt=Mt+ct*(dt/K);nt.push(Ft,bt)}}Array.isArray(N)||(N=[N]),Array.isArray(U)||(U=[U]);var kt=0,Gt=0;for(dt=0;dt<K;dt++)for(ht=0;ht<Z;ht++){var Ot=(ht+J*dt)*2,Bt=(ht+J*(dt+1))*2,re=(ht+1+J*(dt+1))*2,Vt=(ht+1+J*dt)*2,jt=N[Gt],ie=U[kt],fe=new r(rt[Ot],rt[Ot+1],0,nt[Ot],nt[Ot+1],jt,ie).transformMat4(h),hi=new r(rt[Bt],rt[Bt+1],0,nt[Bt],nt[Bt+1],jt,ie).transformMat4(h),li=new r(rt[Vt],rt[Vt+1],0,nt[Vt],nt[Vt+1],jt,ie).transformMat4(h),Ce=new r(rt[Bt],rt[Bt+1],0,nt[Bt],nt[Bt+1],jt,ie).transformMat4(h),Ut=new r(rt[re],rt[re+1],0,nt[re],nt[re+1],jt,ie).transformMat4(h),ui=new r(rt[Vt],rt[Vt+1],0,nt[Vt],nt[Vt+1],jt,ie).transformMat4(h);W&&(fe.setUVs(lt,At),hi.setUVs(lt,Mt),li.setUVs(vt,At),Ce.setUVs(lt,Mt),Ut.setUVs(vt,Mt),ui.setUVs(vt,At)),Gt++,Gt===N.length&&(Gt=0),kt++,kt===U.length&&(kt=0),z.verts.push(fe,hi,li,Ce,Ut,ui),z.faces.push(new c(fe,hi,li),new c(Ce,Ut,ui))}return u&&(u.faces=u.faces.concat(z.faces),u.vertices=u.vertices.concat(z.verts)),z};x.exports=s},34684:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83997),m=t(37867),l=t(25836),a=t(39318),r=new l,i=new l,n=new m,h=function(s,o,u,f,d,p,y,T,C,P){u===void 0&&(u=1),f===void 0&&(f=0),d===void 0&&(d=0),p===void 0&&(p=0),y===void 0&&(y=0),T===void 0&&(T=0),C===void 0&&(C=0),P===void 0&&(P=!0);var A={faces:[],verts:[]},w=s.materials;r.set(f,d,p),i.set(y,T,C),n.fromRotationXYTranslation(i,r,P);for(var L=0;L<s.models.length;L++)for(var B=s.models[L],F=B.vertices,b=B.textureCoords,G=B.faces,N=0;N<G.length;N++){var U=G[N],W=U.vertices[0],H=U.vertices[1],k=U.vertices[2],z=F[W.vertexIndex],$=F[H.vertexIndex],X=F[k.vertexIndex],Q=W.textureCoordsIndex,Z=H.textureCoordsIndex,K=k.textureCoordsIndex,J=Q===-1?{u:0,v:1}:b[Q],q=Z===-1?{u:0,v:0}:b[Z],tt=K===-1?{u:1,v:1}:b[K],it=16777215;U.material!==""&&w[U.material]&&(it=w[U.material]);var nt=new a(z.x*u,z.y*u,z.z*u,J.u,J.v,it).transformMat4(n),rt=new a($.x*u,$.y*u,$.z*u,q.u,q.v,it).transformMat4(n),ht=new a(X.x*u,X.y*u,X.z*u,tt.u,tt.v,it).transformMat4(n);A.verts.push(nt,rt,ht),A.faces.push(new c(nt,rt,ht))}return o&&(o.faces=o.faces.concat(A.faces),o.vertices=o.vertices.concat(A.verts)),A};x.exports=h},92515:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83997),m=t(39318),l=function(a,r,i,n,h,s,o,u){if(n===void 0&&(n=!1),s===void 0&&(s=16777215),o===void 0&&(o=1),u===void 0&&(u=!1),a.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var f={faces:[],vertices:[]},d,p,y,T,C,P,A,w,L,B,F,b=n?3:2,G=Array.isArray(s),N=Array.isArray(o);if(Array.isArray(i)&&i.length>0)for(d=0;d<i.length;d++){var U=i[d],W=i[d]*2,H=i[d]*b;p=a[H],y=a[H+1],T=n?a[H+2]:0,C=r[W],P=r[W+1],u&&(P=1-P),A=G?s[U]:s,w=N?o[U]:o,L=0,B=0,F=0,h&&(L=h[H],B=h[H+1],F=n?h[H+2]:0),f.vertices.push(new m(p,y,T,C,P,A,w,L,B,F))}else{var k=0,z=0;for(d=0;d<a.length;d+=b)p=a[d],y=a[d+1],T=n?a[d+2]:0,C=r[k],P=r[k+1],A=G?s[z]:s,w=N?o[z]:o,L=0,B=0,F=0,h&&(L=h[d],B=h[d+1],F=n?h[d+2]:0),f.vertices.push(new m(p,y,T,C,P,A,w,L,B,F)),k+=2,z++}for(d=0;d<f.vertices.length;d+=3){var $=f.vertices[d],X=f.vertices[d+1],Q=f.vertices[d+2];f.faces.push(new c($,X,Q))}return f};x.exports=l},85048:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=!0,t="untitled",c="",m="";function l(p){var y=p.indexOf("#");return y>-1?p.substring(0,y):p}function a(p){return p.models.length===0&&p.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),c="",p.models[p.models.length-1]}function r(p,y){var T=p.length>=2?p[1]:t;y.models.push({faces:[],name:T,textureCoords:[],vertexNormals:[],vertices:[]}),c=""}function i(p){p.length===2&&(c=p[1])}function n(p,y){var T=p.length,C=T>=2?parseFloat(p[1]):0,P=T>=3?parseFloat(p[2]):0,A=T>=4?parseFloat(p[3]):0;a(y).vertices.push({x:C,y:P,z:A})}function h(p,y){var T=p.length,C=T>=2?parseFloat(p[1]):0,P=T>=3?parseFloat(p[2]):0,A=T>=4?parseFloat(p[3]):0;isNaN(C)&&(C=0),isNaN(P)&&(P=0),isNaN(A)&&(A=0),M&&(P=1-P),a(y).textureCoords.push({u:C,v:P,w:A})}function s(p,y){var T=p.length,C=T>=2?parseFloat(p[1]):0,P=T>=3?parseFloat(p[2]):0,A=T>=4?parseFloat(p[3]):0;a(y).vertexNormals.push({x:C,y:P,z:A})}function o(p,y){var T=p.length-1;if(!(T<3)){for(var C={group:c,material:m,vertices:[]},P=0;P<T;P++){var A=p[P+1],w=A.split("/"),L=w.length;if(!(L<1||L>3)){var B=0,F=0,b=0;B=parseInt(w[0],10),L>1&&w[1]!==""&&(F=parseInt(w[1],10)),L>2&&(b=parseInt(w[2],10)),B!==0&&(B<0&&(B=a(y).vertices.length+1+B),F-=1,B-=1,b-=1,C.vertices.push({textureCoordsIndex:F,vertexIndex:B,vertexNormalIndex:b}))}}a(y).faces.push(C)}}function u(p,y){p.length>=2&&y.materialLibraries.push(p[1])}function f(p){p.length>=2&&(m=p[1])}var d=function(p,y){y===void 0&&(y=!0),M=y;var T={materials:{},materialLibraries:[],models:[]};c="",m="";for(var C=p.split(`
`),P=0;P<C.length;P++){var A=l(C[P]),w=A.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":r(w,T);break;case"g":i(w);break;case"v":n(w,T);break;case"vt":h(w,T);break;case"vn":s(w,T);break;case"f":o(w,T);break;case"mtllib":u(w,T);break;case"usemtl":f(w);break}}return T};x.exports=d},61485:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37589),m=function(l){for(var a={},r=l.split(`
`),i="",n=0;n<r.length;n++){var h=r[n].trim();if(!(h.indexOf("#")===0||h==="")){var s=h.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":{i=s[1];break}case"kd":{var o=Math.floor(s[1]*255),u=s.length>=2?Math.floor(s[2]*255):o,f=s.length>=3?Math.floor(s[3]*255):o;a[i]=c(o,u,f);break}}}}return a};x.exports=m},92570:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a,r;if(m===void 0&&l===void 0){var i=t.getInCenter();a=i.x,r=i.y}var n=Math.cos(c),h=Math.sin(c),s=t.vertex1,o=t.vertex2,u=t.vertex3,f=s.x-a,d=s.y-r;s.set(f*n-d*h+a,f*h+d*n+r),f=o.x-a,d=o.y-r,o.set(f*n-d*h+a,f*h+d*n+r),f=u.x-a,d=u.y-r,u.set(f*n-d*h+a,f*h+d*n+r)};x.exports=M},39318:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(70554),l=t(25836),a=new c({Extends:l,initialize:function(i,n,h,s,o,u,f,d,p,y){u===void 0&&(u=16777215),f===void 0&&(f=1),d===void 0&&(d=0),p===void 0&&(p=0),y===void 0&&(y=0),l.call(this,i,n,h),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=p,this.nz=y,this.u=s,this.v=o,this.color=u,this.alpha=f,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=o},setUVs:function(r,i){return this.u=r,this.v=i,this.tu=r,this.tv=i,this},scrollUV:function(r,i){return this.tu+=r,this.tv+=i,this},scaleUV:function(r,i){return this.tu=this.u*r,this.tv=this.v*i,this},transformCoordinatesLocal:function(r,i,n,h){var s=this.x,o=this.y,u=this.z,f=r.val,d=s*f[0]+o*f[4]+u*f[8]+f[12],p=s*f[1]+o*f[5]+u*f[9]+f[13],y=s*f[2]+o*f[6]+u*f[10]+f[14],T=s*f[3]+o*f[7]+u*f[11]+f[15];this.vx=d/T*i,this.vy=-(p/T)*n,h<=0?this.vz=y/T:this.vz=-(y/T)},resize:function(r,i,n,h,s,o){return this.x=r,this.y=i,this.vx=this.x*n,this.vy=-this.y*h,this.vz=0,s<.5?this.vx+=n*(.5-s):s>.5&&(this.vx-=n*(s-.5)),o<.5?this.vy+=h*(.5-o):o>.5&&(this.vy-=h*(o-.5)),this},update:function(r,i,n,h,s,o,u,f){var d=this.vx*r+this.vy*n+s,p=this.vx*i+this.vy*h+o;return u&&(d=Math.round(d),p=Math.round(p)),this.tx=d,this.ty=p,this.ta=this.alpha*f,this},load:function(r,i,n,h,s){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=h,r[++n]=s,i[++n]=m.getTintAppendFloatAlpha(this.color,this.ta),n}});x.exports=a},73090:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};x.exports=c},96550:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};x.exports=M},99706:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l){return new c(l.x,l.y)};x.exports=m},68010:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c.setTo(t.x,t.y)};x.exports=M},27814:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x===c.x&&t.y===c.y};x.exports=M},73565:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};x.exports=M},87555:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){if(a===void 0&&(a=new c),!Array.isArray(l))throw new Error("GetCentroid points argument must be an array");var r=l.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)a.x=l[0].x,a.y=l[0].y;else{for(var i=0;i<r;i++)a.x+=l[i].x,a.y+=l[i].y;a.x/=r,a.y/=r}return a};x.exports=m},28793:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};x.exports=M},44405:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.x*t.x+t.y*t.y};x.exports=M},20873:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=function(l,a){a===void 0&&(a=new c);for(var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,s=0;s<l.length;s++){var o=l[s];o.x>r&&(r=o.x),o.x<i&&(i=o.x),o.y>n&&(n=o.y),o.y<h&&(h=o.y)}return a.x=i,a.y=h,a.width=r-i,a.height=n-h,a};x.exports=m},26152:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a,r,i){return r===void 0&&(r=0),i===void 0&&(i=new c),i.x=l.x+(a.x-l.x)*r,i.y=l.y+(a.y-l.y)*r,i};x.exports=m},55767:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.setTo(t.y,t.x)};x.exports=M},79432:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){return a===void 0&&(a=new c),a.setTo(-l.x,-l.y)};x.exports=m},2141:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23777),l=new c({initialize:function(r,i){r===void 0&&(r=0),i===void 0&&(i=r),this.type=m.POINT,this.x=r,this.y=i},setTo:function(a,r){return a===void 0&&(a=0),r===void 0&&(r=a),this.x=a,this.y=r,this}});x.exports=l},72930:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=t(44405),l=function(a,r,i){i===void 0&&(i=new c);var n=a.x*r.x+a.y*r.y,h=n/m(r);return h!==0&&(i.x=h*r.x,i.y=h*r.y),i};x.exports=l},62880:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a,r){r===void 0&&(r=new c);var i=l.x*a.x+l.y*a.y;return i!==0&&(r.x=i*a.x,r.y=i*a.y),r};x.exports=m},15093:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(28793),m=function(l,a){if(l.x!==0||l.y!==0){var r=c(l);l.x/=r,l.y/=r}return l.x*=a,l.y*=a,l};x.exports=m},43711:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141);c.Ceil=t(96550),c.Clone=t(99706),c.CopyFrom=t(68010),c.Equals=t(27814),c.Floor=t(73565),c.GetCentroid=t(87555),c.GetMagnitude=t(28793),c.GetMagnitudeSq=t(44405),c.GetRectangleFromPoints=t(20873),c.Interpolate=t(26152),c.Invert=t(55767),c.Negative=t(79432),c.Project=t(72930),c.ProjectUnit=t(62880),c.SetMagnitude=t(15093),x.exports=c},12306:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25717),m=function(l){return new c(l.points)};x.exports=m},63814:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){for(var l=!1,a=-1,r=t.points.length-1;++a<t.points.length;r=a){var i=t.points[a].x,n=t.points[a].y,h=t.points[r].x,s=t.points[r].y;(n<=m&&m<s||s<=m&&m<n)&&c<(h-i)*(m-n)/(s-n)+i&&(l=!l)}return l};x.exports=M},99338:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(63814),m=function(l,a){return c(l,a.x,a.y)};x.exports=m},94811:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(z,$,X){X=X||2;var Q=$&&$.length,Z=Q?$[0]*X:z.length,K=t(z,0,Z,X,!0),J=[];if(!K||K.next===K.prev)return J;var q,tt,it,nt,rt,ht,dt;if(Q&&(K=n(z,$,K,X)),z.length>80*X){q=it=z[0],tt=nt=z[1];for(var lt=X;lt<Z;lt+=X)rt=z[lt],ht=z[lt+1],rt<q&&(q=rt),ht<tt&&(tt=ht),rt>it&&(it=rt),ht>nt&&(nt=ht);dt=Math.max(it-q,nt-tt),dt=dt!==0?32767/dt:0}return m(K,J,X,q,tt,dt,0),J}function t(z,$,X,Q,Z){var K,J;if(Z===k(z,$,X,Q)>0)for(K=$;K<X;K+=Q)J=U(K,z[K],z[K+1],J);else for(K=X-Q;K>=$;K-=Q)J=U(K,z[K],z[K+1],J);return J&&A(J,J.next)&&(W(J),J=J.next),J}function c(z,$){if(!z)return z;$||($=z);var X=z,Q;do if(Q=!1,!X.steiner&&(A(X,X.next)||P(X.prev,X,X.next)===0)){if(W(X),X=$=X.prev,X===X.next)break;Q=!0}else X=X.next;while(Q||X!==$);return $}function m(z,$,X,Q,Z,K,J){if(z){!J&&K&&f(z,Q,Z,K);for(var q=z,tt,it;z.prev!==z.next;){if(tt=z.prev,it=z.next,K?a(z,Q,Z,K):l(z)){$.push(tt.i/X|0),$.push(z.i/X|0),$.push(it.i/X|0),W(z),z=it.next,q=it.next;continue}if(z=it,z===q){J?J===1?(z=r(c(z),$,X),m(z,$,X,Q,Z,K,2)):J===2&&i(z,$,X,Q,Z,K):m(c(z),$,X,Q,Z,K,1);break}}}}function l(z){var $=z.prev,X=z,Q=z.next;if(P($,X,Q)>=0)return!1;for(var Z=$.x,K=X.x,J=Q.x,q=$.y,tt=X.y,it=Q.y,nt=Z<K?Z<J?Z:J:K<J?K:J,rt=q<tt?q<it?q:it:tt<it?tt:it,ht=Z>K?Z>J?Z:J:K>J?K:J,dt=q>tt?q>it?q:it:tt>it?tt:it,lt=Q.next;lt!==$;){if(lt.x>=nt&&lt.x<=ht&&lt.y>=rt&&lt.y<=dt&&T(Z,q,K,tt,J,it,lt.x,lt.y)&&P(lt.prev,lt,lt.next)>=0)return!1;lt=lt.next}return!0}function a(z,$,X,Q){var Z=z.prev,K=z,J=z.next;if(P(Z,K,J)>=0)return!1;for(var q=Z.x,tt=K.x,it=J.x,nt=Z.y,rt=K.y,ht=J.y,dt=q<tt?q<it?q:it:tt<it?tt:it,lt=nt<rt?nt<ht?nt:ht:rt<ht?rt:ht,vt=q>tt?q>it?q:it:tt>it?tt:it,Mt=nt>rt?nt>ht?nt:ht:rt>ht?rt:ht,At=p(dt,lt,$,X,Q),wt=p(vt,Mt,$,X,Q),ct=z.prevZ,gt=z.nextZ;ct&&ct.z>=At&&gt&&gt.z<=wt;){if(ct.x>=dt&&ct.x<=vt&&ct.y>=lt&&ct.y<=Mt&&ct!==Z&&ct!==J&&T(q,nt,tt,rt,it,ht,ct.x,ct.y)&&P(ct.prev,ct,ct.next)>=0||(ct=ct.prevZ,gt.x>=dt&&gt.x<=vt&&gt.y>=lt&&gt.y<=Mt&&gt!==Z&&gt!==J&&T(q,nt,tt,rt,it,ht,gt.x,gt.y)&&P(gt.prev,gt,gt.next)>=0))return!1;gt=gt.nextZ}for(;ct&&ct.z>=At;){if(ct.x>=dt&&ct.x<=vt&&ct.y>=lt&&ct.y<=Mt&&ct!==Z&&ct!==J&&T(q,nt,tt,rt,it,ht,ct.x,ct.y)&&P(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}for(;gt&&gt.z<=wt;){if(gt.x>=dt&&gt.x<=vt&&gt.y>=lt&&gt.y<=Mt&&gt!==Z&&gt!==J&&T(q,nt,tt,rt,it,ht,gt.x,gt.y)&&P(gt.prev,gt,gt.next)>=0)return!1;gt=gt.nextZ}return!0}function r(z,$,X){var Q=z;do{var Z=Q.prev,K=Q.next.next;!A(Z,K)&&w(Z,Q,Q.next,K)&&b(Z,K)&&b(K,Z)&&($.push(Z.i/X|0),$.push(Q.i/X|0),$.push(K.i/X|0),W(Q),W(Q.next),Q=z=K),Q=Q.next}while(Q!==z);return c(Q)}function i(z,$,X,Q,Z,K){var J=z;do{for(var q=J.next.next;q!==J.prev;){if(J.i!==q.i&&C(J,q)){var tt=N(J,q);J=c(J,J.next),tt=c(tt,tt.next),m(J,$,X,Q,Z,K,0),m(tt,$,X,Q,Z,K,0);return}q=q.next}J=J.next}while(J!==z)}function n(z,$,X,Q){var Z=[],K,J,q,tt,it;for(K=0,J=$.length;K<J;K++)q=$[K]*Q,tt=K<J-1?$[K+1]*Q:z.length,it=t(z,q,tt,Q,!1),it===it.next&&(it.steiner=!0),Z.push(y(it));for(Z.sort(h),K=0;K<Z.length;K++)X=s(Z[K],X);return X}function h(z,$){return z.x-$.x}function s(z,$){var X=o(z,$);if(!X)return $;var Q=N(X,z);return c(Q,Q.next),c(X,X.next)}function o(z,$){var X=$,Q=z.x,Z=z.y,K=-1/0,J;do{if(Z<=X.y&&Z>=X.next.y&&X.next.y!==X.y){var q=X.x+(Z-X.y)*(X.next.x-X.x)/(X.next.y-X.y);if(q<=Q&&q>K&&(K=q,J=X.x<X.next.x?X:X.next,q===Q))return J}X=X.next}while(X!==$);if(!J)return null;var tt=J,it=J.x,nt=J.y,rt=1/0,ht;X=J;do Q>=X.x&&X.x>=it&&Q!==X.x&&T(Z<nt?Q:K,Z,it,nt,Z<nt?K:Q,Z,X.x,X.y)&&(ht=Math.abs(Z-X.y)/(Q-X.x),b(X,z)&&(ht<rt||ht===rt&&(X.x>J.x||X.x===J.x&&u(J,X)))&&(J=X,rt=ht)),X=X.next;while(X!==tt);return J}function u(z,$){return P(z.prev,z,$.prev)<0&&P($.next,z,z.next)<0}function f(z,$,X,Q){var Z=z;do Z.z===0&&(Z.z=p(Z.x,Z.y,$,X,Q)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next;while(Z!==z);Z.prevZ.nextZ=null,Z.prevZ=null,d(Z)}function d(z){var $,X,Q,Z,K,J,q,tt,it=1;do{for(X=z,z=null,K=null,J=0;X;){for(J++,Q=X,q=0,$=0;$<it&&(q++,Q=Q.nextZ,!!Q);$++);for(tt=it;q>0||tt>0&&Q;)q!==0&&(tt===0||!Q||X.z<=Q.z)?(Z=X,X=X.nextZ,q--):(Z=Q,Q=Q.nextZ,tt--),K?K.nextZ=Z:z=Z,Z.prevZ=K,K=Z;X=Q}K.nextZ=null,it*=2}while(J>1);return z}function p(z,$,X,Q,Z){return z=(z-X)*Z|0,$=($-Q)*Z|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,z|$<<1}function y(z){var $=z,X=z;do($.x<X.x||$.x===X.x&&$.y<X.y)&&(X=$),$=$.next;while($!==z);return X}function T(z,$,X,Q,Z,K,J,q){return(Z-J)*($-q)>=(z-J)*(K-q)&&(z-J)*(Q-q)>=(X-J)*($-q)&&(X-J)*(K-q)>=(Z-J)*(Q-q)}function C(z,$){return z.next.i!==$.i&&z.prev.i!==$.i&&!F(z,$)&&(b(z,$)&&b($,z)&&G(z,$)&&(P(z.prev,z,$.prev)||P(z,$.prev,$))||A(z,$)&&P(z.prev,z,z.next)>0&&P($.prev,$,$.next)>0)}function P(z,$,X){return($.y-z.y)*(X.x-$.x)-($.x-z.x)*(X.y-$.y)}function A(z,$){return z.x===$.x&&z.y===$.y}function w(z,$,X,Q){var Z=B(P(z,$,X)),K=B(P(z,$,Q)),J=B(P(X,Q,z)),q=B(P(X,Q,$));return!!(Z!==K&&J!==q||Z===0&&L(z,X,$)||K===0&&L(z,Q,$)||J===0&&L(X,z,Q)||q===0&&L(X,$,Q))}function L(z,$,X){return $.x<=Math.max(z.x,X.x)&&$.x>=Math.min(z.x,X.x)&&$.y<=Math.max(z.y,X.y)&&$.y>=Math.min(z.y,X.y)}function B(z){return z>0?1:z<0?-1:0}function F(z,$){var X=z;do{if(X.i!==z.i&&X.next.i!==z.i&&X.i!==$.i&&X.next.i!==$.i&&w(X,X.next,z,$))return!0;X=X.next}while(X!==z);return!1}function b(z,$){return P(z.prev,z,z.next)<0?P(z,$,z.next)>=0&&P(z,z.prev,$)>=0:P(z,$,z.prev)<0||P(z,z.next,$)<0}function G(z,$){var X=z,Q=!1,Z=(z.x+$.x)/2,K=(z.y+$.y)/2;do X.y>K!=X.next.y>K&&X.next.y!==X.y&&Z<(X.next.x-X.x)*(K-X.y)/(X.next.y-X.y)+X.x&&(Q=!Q),X=X.next;while(X!==z);return Q}function N(z,$){var X=new H(z.i,z.x,z.y),Q=new H($.i,$.x,$.y),Z=z.next,K=$.prev;return z.next=$,$.prev=z,X.next=Z,Z.prev=X,Q.next=X,X.prev=Q,K.next=Q,Q.prev=K,Q}function U(z,$,X,Q){var Z=new H(z,$,X);return Q?(Z.next=Q.next,Z.prev=Q,Q.next.prev=Z,Q.next=Z):(Z.prev=Z,Z.next=Z),Z}function W(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function H(z,$,X){this.i=z,this.x=$,this.y=X,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}M.deviation=function(z,$,X,Q){var Z=$&&$.length,K=Z?$[0]*X:z.length,J=Math.abs(k(z,0,K,X));if(Z)for(var q=0,tt=$.length;q<tt;q++){var it=$[q]*X,nt=q<tt-1?$[q+1]*X:z.length;J-=Math.abs(k(z,it,nt,X))}var rt=0;for(q=0;q<Q.length;q+=3){var ht=Q[q]*X,dt=Q[q+1]*X,lt=Q[q+2]*X;rt+=Math.abs((z[ht]-z[lt])*(z[dt+1]-z[ht+1])-(z[ht]-z[dt])*(z[lt+1]-z[ht+1]))}return J===0&&rt===0?0:Math.abs((rt-J)/J)};function k(z,$,X,Q){for(var Z=0,K=$,J=X-Q;K<X;K+=Q)Z+=(z[J]-z[K])*(z[K+1]+z[J+1]),J=K;return Z}M.flatten=function(z){for(var $=z[0][0].length,X={vertices:[],holes:[],dimensions:$},Q=0,Z=0;Z<z.length;Z++){for(var K=0;K<z[Z].length;K++)for(var J=0;J<$;J++)X.vertices.push(z[Z][K][J]);Z>0&&(Q+=z[Z-1].length,X.holes.push(Q))}return X},x.exports=M},13829:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=function(l,a){a===void 0&&(a=new c);for(var r=1/0,i=1/0,n=-r,h=-i,s,o=0;o<l.points.length;o++)s=l.points[o],r=Math.min(r,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x),h=Math.max(h,s.y);return a.x=r,a.y=i,a.width=n-r,a.height=h-i,a};x.exports=m},26173:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=[]);for(var m=0;m<t.points.length;m++)c.push(t.points[m].x),c.push(t.points[m].y);return c};x.exports=M},9564:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35001),m=t(23031),l=t(30052),a=function(r,i,n,h){h===void 0&&(h=[]);var s=r.points,o=l(r);!i&&n>0&&(i=o/n);for(var u=0;u<i;u++)for(var f=o*(u/i),d=0,p=0;p<s.length;p++){var y=s[p],T=s[(p+1)%s.length],C=new m(y.x,y.y,T.x,T.y),P=c(C);if(f<d||f>d+P){d+=P;continue}var A=C.getPoint((f-d)/P);h.push(A);break}return h};x.exports=a},30052:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35001),m=t(23031),l=function(a){for(var r=a.points,i=0,n=0;n<r.length;n++){var h=r[n],s=r[(n+1)%r.length],o=new m(h.x,h.y,s.x,s.y);i+=c(o)}return i};x.exports=l},25717:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(63814),l=t(9564),a=t(23777),r=new c({initialize:function(n){this.type=a.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(i,n){return m(this,i,n)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var n,h=0;h<i.length;h++)n={x:0,y:0},typeof i[h]=="number"||typeof i[h]=="string"?(n.x=parseFloat(i[h]),n.y=parseFloat(i[h+1]),h++):Array.isArray(i[h])?(n.x=i[h][0],n.y=i[h][1]):(n.x=i[h].x,n.y=i[h].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,n,h,s=0;s<this.points.length-1;s++)n=this.points[s],h=this.points[s+1],i+=(h.x-n.x)*(n.y+h.y);return n=this.points[0],h=this.points[this.points.length-1],i+=(n.x-h.x)*(h.y+n.y),this.area=-i*.5,this.area},getPoints:function(i,n,h){return l(this,i,n,h)}});x.exports=r},8133:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.points.reverse(),t};x.exports=M},29524:x=>{function M(r,i){var n=r.x-i.x,h=r.y-i.y;return n*n+h*h}function t(r,i,n){var h=i.x,s=i.y,o=n.x-h,u=n.y-s;if(o!==0||u!==0){var f=((r.x-h)*o+(r.y-s)*u)/(o*o+u*u);f>1?(h=n.x,s=n.y):f>0&&(h+=o*f,s+=u*f)}return o=r.x-h,u=r.y-s,o*o+u*u}function c(r,i){for(var n=r[0],h=[n],s,o=1,u=r.length;o<u;o++)s=r[o],M(s,n)>i&&(h.push(s),n=s);return n!==s&&h.push(s),h}function m(r,i,n,h,s){for(var o=h,u,f=i+1;f<n;f++){var d=t(r[f],r[i],r[n]);d>o&&(u=f,o=d)}o>h&&(u-i>1&&m(r,i,u,h,s),s.push(r[u]),n-u>1&&m(r,u,n,h,s))}function l(r,i){var n=r.length-1,h=[r[0]];return m(r,0,n,i,h),h.push(r[n]),h}var a=function(r,i,n){i===void 0&&(i=1),n===void 0&&(n=!1);var h=r.points;if(h.length>2){var s=i*i;n||(h=c(h,s)),r.setTo(l(h,s))}return r};x.exports=a},5469:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(c,m){return c[0]=m[0],c[1]=m[1],c},t=function(c){var m,l=[],a=c.points;for(m=0;m<a.length;m++)l.push([a[m].x,a[m].y]);var r=[];for(l.length>0&&r.push(M([0,0],l[0])),m=0;m<l.length-1;m++){var i=l[m],n=l[m+1],h=i[0],s=i[1],o=n[0],u=n[1];r.push([.85*h+.15*o,.85*s+.15*u]),r.push([.15*h+.85*o,.15*s+.85*u])}return l.length>1&&r.push(M([0,0],l[l.length-1])),c.setTo(r)};x.exports=t},24709:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){for(var l=t.points,a=0;a<l.length;a++)l[a].x+=c,l[a].y+=m;return t};x.exports=M},58423:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25717);c.Clone=t(12306),c.Contains=t(63814),c.ContainsPoint=t(99338),c.Earcut=t(94811),c.GetAABB=t(13829),c.GetNumberArray=t(26173),c.GetPoints=t(9564),c.Perimeter=t(30052),c.Reverse=t(8133),c.Simplify=t(29524),c.Smooth=t(5469),c.Translate=t(24709),x.exports=c},62224:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.width*t.height};x.exports=M},98615:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};x.exports=M},31688:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};x.exports=M},67502:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t.x=c-t.width/2,t.y=m-t.height/2,t};x.exports=M},65085:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=function(l){return new c(l.x,l.y,l.width,l.height)};x.exports=m},37303:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t.width<=0||t.height<=0?!1:t.x<=c&&t.x+t.width>=c&&t.y<=m&&t.y+t.height>=m};x.exports=M},96553:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37303),m=function(l,a){return c(l,a.x,a.y)};x.exports=m},70273:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c.width*c.height>t.width*t.height?!1:c.x>t.x&&c.x<t.right&&c.right>t.x&&c.right<t.right&&c.y>t.y&&c.y<t.bottom&&c.bottom>t.y&&c.bottom<t.bottom};x.exports=M},43459:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c.setTo(t.x,t.y,t.width,t.height)};x.exports=M},77493:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c=[]),c.push({x:t.x,y:t.y}),c.push({x:t.right,y:t.y}),c.push({x:t.right,y:t.bottom}),c.push({x:t.x,y:t.bottom}),c};x.exports=M},9219:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x===c.x&&t.y===c.y&&t.width===c.width&&t.height===c.height};x.exports=M},53751:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(8249),m=function(l,a){var r=c(l);return r<c(a)?l.setSize(a.height*r,a.height):l.setSize(a.width,a.width/r),l.setPosition(a.centerX-l.width/2,a.centerY-l.height/2)};x.exports=m},16088:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(8249),m=function(l,a){var r=c(l);return r>c(a)?l.setSize(a.height*r,a.height):l.setSize(a.width,a.width/r),l.setPosition(a.centerX-l.width/2,a.centerY-l.height/2)};x.exports=m},80774:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};x.exports=M},83859:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};x.exports=M},19217:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=t(36383),l=function(a,r){if(r===void 0&&(r=new c),a.length===0)return r;for(var i=Number.MAX_VALUE,n=Number.MAX_VALUE,h=m.MIN_SAFE_INTEGER,s=m.MIN_SAFE_INTEGER,o,u,f,d=0;d<a.length;d++)o=a[d],Array.isArray(o)?(u=o[0],f=o[1]):(u=o.x,f=o.y),i=Math.min(i,u),n=Math.min(n,f),h=Math.max(h,u),s=Math.max(s,f);return r.x=i,r.y=n,r.width=h-i,r.height=s-n,r};x.exports=l},9477:(x,M,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=function(l,a,r,i,n){return n===void 0&&(n=new c),n.setTo(Math.min(l,r),Math.min(a,i),Math.abs(l-r),Math.abs(a-i))};x.exports=m},8249:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.height===0?NaN:t.width/t.height};x.exports=M},27165:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){return a===void 0&&(a=new c),a.x=l.centerX,a.y=l.centerY,a};x.exports=m},20812:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(13019),m=t(2141),l=function(a,r,i){if(i===void 0&&(i=new m),r<=0||r>=1)return i.x=a.x,i.y=a.y,i;var n=c(a)*r;return r>.5?(n-=a.width+a.height,n<=a.width?(i.x=a.right-n,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(n-a.width))):n<=a.width?(i.x=a.x+n,i.y=a.y):(i.x=a.right,i.y=a.y+(n-a.width)),i};x.exports=l},34819:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20812),m=t(13019),l=function(a,r,i,n){n===void 0&&(n=[]),!r&&i>0&&(r=m(a)/i);for(var h=0;h<r;h++){var s=h/r;n.push(c(a,s))}return n};x.exports=l},51313:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){return a===void 0&&(a=new c),a.x=l.width,a.y=l.height,a};x.exports=m},86091:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(67502),m=function(l,a,r){var i=l.centerX,n=l.centerY;return l.setSize(l.width+a*2,l.height+r*2),c(l,i,n)};x.exports=m},53951:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=t(59996),l=function(a,r,i){return i===void 0&&(i=new c),m(a,r)?(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y):i.setEmpty(),i};x.exports=l},14649:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(13019),m=t(2141),l=function(a,r,i,n){if(n===void 0&&(n=[]),!r&&!i)return n;r?i=Math.round(c(a)/r):r=c(a)/i;for(var h=a.x,s=a.y,o=0,u=0;u<i;u++)switch(n.push(new m(h,s)),o){case 0:h+=r,h>=a.right&&(o=1,s+=h-a.right,h=a.right);break;case 1:s+=r,s>=a.bottom&&(o=2,h-=s-a.bottom,s=a.bottom);break;case 2:h-=r,h<=a.left&&(o=3,s-=a.left-h,h=a.left);break;case 3:s-=r,s<=a.top&&(o=0,s=a.top);break}return n};x.exports=l},33595:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){for(var m=t.x,l=t.right,a=t.y,r=t.bottom,i=0;i<c.length;i++)m=Math.min(m,c[i].x),l=Math.max(l,c[i].x),a=Math.min(a,c[i].y),r=Math.max(r,c[i].y);return t.x=m,t.y=a,t.width=l-m,t.height=r-a,t};x.exports=M},20074:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=Math.min(t.x,c.x),l=Math.max(t.right,c.right);t.x=m,t.width=l-m;var a=Math.min(t.y,c.y),r=Math.max(t.bottom,c.bottom);return t.y=a,t.height=r-a,t};x.exports=M},92171:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=Math.min(t.x,c),a=Math.max(t.right,c);t.x=l,t.width=a-l;var r=Math.min(t.y,m),i=Math.max(t.bottom,m);return t.y=r,t.height=i-r,t};x.exports=M},42981:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t.x+=c,t.y+=m,t};x.exports=M},46907:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x+=c.x,t.y+=c.y,t};x.exports=M},60170:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x<c.right&&t.right>c.x&&t.y<c.bottom&&t.bottom>c.y};x.exports=M},13019:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return 2*(t.width+t.height)};x.exports=M},85133:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=t(39506),l=function(a,r,i){i===void 0&&(i=new c),r=m(r);var n=Math.sin(r),h=Math.cos(r),s=h>0?a.width/2:a.width/-2,o=n>0?a.height/2:a.height/-2;return Math.abs(s*n)<Math.abs(o*h)?o=s*n/h:s=o*h/n,i.x=s+a.centerX,i.y=o+a.centerY,i};x.exports=l},26597:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){return a===void 0&&(a=new c),a.x=l.x+Math.random()*l.width,a.y=l.y+Math.random()*l.height,a};x.exports=m},86470:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(30976),m=t(70273),l=t(2141),a=function(r,i,n){if(n===void 0&&(n=new l),m(r,i))switch(c(0,3)){case 0:n.x=r.x+Math.random()*(i.right-r.x),n.y=r.y+Math.random()*(i.top-r.y);break;case 1:n.x=i.x+Math.random()*(r.right-i.x),n.y=i.bottom+Math.random()*(r.bottom-i.bottom);break;case 2:n.x=r.x+Math.random()*(i.x-r.x),n.y=i.y+Math.random()*(r.bottom-i.y);break;case 3:n.x=i.right+Math.random()*(r.right-i.right),n.y=r.y+Math.random()*(i.bottom-r.y);break}return n};x.exports=a},87841:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(37303),l=t(20812),a=t(34819),r=t(23777),i=t(23031),n=t(26597),h=new c({initialize:function(o,u,f,d){o===void 0&&(o=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=r.RECTANGLE,this.x=o,this.y=u,this.width=f,this.height=d},contains:function(s,o){return m(this,s,o)},getPoint:function(s,o){return l(this,s,o)},getPoints:function(s,o,u){return a(this,s,o,u)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,o,u,f){return this.x=s,this.y=o,this.width=u,this.height=f,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(s,o){return o===void 0&&(o=s),this.x=s,this.y=o,this},setSize:function(s,o){return o===void 0&&(o=s),this.width=s,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.y,this.right,this.y),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.y,this.right,this.bottom),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.right,this.bottom,this.x,this.bottom),s},getLineD:function(s){return s===void 0&&(s=new i),s.setTo(this.x,this.bottom,this.x,this.y),s},left:{get:function(){return this.x},set:function(s){s>=this.right?this.width=0:this.width=this.right-s,this.x=s}},right:{get:function(){return this.x+this.width},set:function(s){s<=this.x?this.width=0:this.width=s-this.x}},top:{get:function(){return this.y},set:function(s){s>=this.bottom?this.height=0:this.height=this.bottom-s,this.y=s}},bottom:{get:function(){return this.y+this.height},set:function(s){s<=this.y?this.height=0:this.height=s-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(s){this.x=s-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(s){this.y=s-this.height/2}}});x.exports=h},94845:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.width===c.width&&t.height===c.height};x.exports=M},31730:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return m===void 0&&(m=c),t.width*=c,t.height*=m,t};x.exports=M},36899:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=function(l,a,r){r===void 0&&(r=new c);var i=Math.min(l.x,a.x),n=Math.min(l.y,a.y),h=Math.max(l.right,a.right)-i,s=Math.max(l.bottom,a.bottom)-n;return r.setTo(i,n,h,s)};x.exports=m},93232:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841);c.Area=t(62224),c.Ceil=t(98615),c.CeilAll=t(31688),c.CenterOn=t(67502),c.Clone=t(65085),c.Contains=t(37303),c.ContainsPoint=t(96553),c.ContainsRect=t(70273),c.CopyFrom=t(43459),c.Decompose=t(77493),c.Equals=t(9219),c.FitInside=t(53751),c.FitOutside=t(16088),c.Floor=t(80774),c.FloorAll=t(83859),c.FromPoints=t(19217),c.FromXY=t(9477),c.GetAspectRatio=t(8249),c.GetCenter=t(27165),c.GetPoint=t(20812),c.GetPoints=t(34819),c.GetSize=t(51313),c.Inflate=t(86091),c.Intersection=t(53951),c.MarchingAnts=t(14649),c.MergePoints=t(33595),c.MergeRect=t(20074),c.MergeXY=t(92171),c.Offset=t(42981),c.OffsetPoint=t(46907),c.Overlaps=t(60170),c.Perimeter=t(13019),c.PerimeterPoint=t(85133),c.Random=t(26597),c.RandomOutside=t(86470),c.SameDimensions=t(94845),c.Scale=t(31730),c.Union=t(36899),x.exports=c},41658:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=t.x1,m=t.y1,l=t.x2,a=t.y2,r=t.x3,i=t.y3;return Math.abs(((r-c)*(a-m)-(l-c)*(i-m))/2)};x.exports=M},39208:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(16483),m=function(l,a,r){var i=r*(Math.sqrt(3)/2),n=l,h=a,s=l+r/2,o=a+i,u=l-r/2,f=a+i;return new c(n,h,s,o,u,f)};x.exports=m},39545:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(94811),m=t(16483),l=function(a,r,i,n,h){r===void 0&&(r=null),i===void 0&&(i=1),n===void 0&&(n=1),h===void 0&&(h=[]);for(var s=c(a,r),o,u,f,d,p,y,T,C,P,A=0;A<s.length;A+=3)o=s[A],u=s[A+1],f=s[A+2],d=a[o*2]*i,p=a[o*2+1]*n,y=a[u*2]*i,T=a[u*2+1]*n,C=a[f*2]*i,P=a[f*2+1]*n,h.push(new m(d,p,y,T,C,P));return h};x.exports=l},90301:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(16483),m=function(l,a,r,i){i===void 0&&(i=r);var n=l,h=a,s=l,o=a-i,u=l+r,f=a;return new c(n,h,s,o,u,f)};x.exports=m},23707:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(97523),m=t(13584),l=function(a,r,i,n){n===void 0&&(n=c);var h=n(a),s=r-h.x,o=i-h.y;return m(a,s,o)};x.exports=l},97523:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){return a===void 0&&(a=new c),a.x=(l.x1+l.x2+l.x3)/3,a.y=(l.y1+l.y2+l.y3)/3,a};x.exports=m},24951:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099);function m(a,r,i,n){return a*n-r*i}var l=function(a,r){r===void 0&&(r=new c);var i=a.x3,n=a.y3,h=a.x1-i,s=a.y1-n,o=a.x2-i,u=a.y2-n,f=2*m(h,s,o,u),d=m(s,h*h+s*s,u,o*o+u*u),p=m(h,h*h+s*s,o,o*o+u*u);return r.x=i-d/f,r.y=n+p/f,r};x.exports=l},85614:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(96503),m=function(l,a){a===void 0&&(a=new c);var r=l.x1,i=l.y1,n=l.x2,h=l.y2,s=l.x3,o=l.y3,u=n-r,f=h-i,d=s-r,p=o-i,y=u*(r+n)+f*(i+h),T=d*(r+s)+p*(i+o),C=2*(u*(o-h)-f*(s-n)),P,A;if(Math.abs(C)<1e-6){var w=Math.min(r,n,s),L=Math.min(i,h,o);P=(Math.max(r,n,s)-w)*.5,A=(Math.max(i,h,o)-L)*.5,a.x=w+P,a.y=L+A,a.radius=Math.sqrt(P*P+A*A)}else a.x=(p*y-f*T)/C,a.y=(u*T-d*y)/C,P=a.x-r,A=a.y-i,a.radius=Math.sqrt(P*P+A*A);return a};x.exports=m},74422:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(16483),m=function(l){return new c(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)};x.exports=m},10690:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=t.x3-t.x1,a=t.y3-t.y1,r=t.x2-t.x1,i=t.y2-t.y1,n=c-t.x1,h=m-t.y1,s=l*l+a*a,o=l*r+a*i,u=l*n+a*h,f=r*r+i*i,d=r*n+i*h,p=s*f-o*o,y=p===0?0:1/p,T=(f*u-o*d)*y,C=(s*d-o*u)*y;return T>=0&&C>=0&&T+C<1};x.exports=M},48653:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m===void 0&&(m=!1),l===void 0&&(l=[]);for(var a=t.x3-t.x1,r=t.y3-t.y1,i=t.x2-t.x1,n=t.y2-t.y1,h=a*a+r*r,s=a*i+r*n,o=i*i+n*n,u=h*o-s*s,f=u===0?0:1/u,d,p,y,T,C,P,A=t.x1,w=t.y1,L=0;L<c.length&&(y=c[L].x-A,T=c[L].y-w,C=a*y+r*T,P=i*y+n*T,d=(o*C-s*P)*f,p=(h*P-s*C)*f,!(d>=0&&p>=0&&d+p<1&&(l.push({x:c[L].x,y:c[L].y}),m)));L++);return l};x.exports=M},96006:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10690),m=function(l,a){return c(l,a.x,a.y)};x.exports=m},71326:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};x.exports=M},71694:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c=[]),c.push({x:t.x1,y:t.y1}),c.push({x:t.x2,y:t.y2}),c.push({x:t.x3,y:t.y3}),c};x.exports=M},33522:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.x1===c.x1&&t.y1===c.y1&&t.x2===c.x2&&t.y2===c.y2&&t.x3===c.x3&&t.y3===c.y3};x.exports=M},20437:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=t(35001),l=function(a,r,i){i===void 0&&(i=new c);var n=a.getLineA(),h=a.getLineB(),s=a.getLineC();if(r<=0||r>=1)return i.x=n.x1,i.y=n.y1,i;var o=m(n),u=m(h),f=m(s),d=o+u+f,p=d*r,y=0;return p<o?(y=p/o,i.x=n.x1+(n.x2-n.x1)*y,i.y=n.y1+(n.y2-n.y1)*y):p>o+u?(p-=o+u,y=p/f,i.x=s.x1+(s.x2-s.x1)*y,i.y=s.y1+(s.y2-s.y1)*y):(p-=o,y=p/u,i.x=h.x1+(h.x2-h.x1)*y,i.y=h.y1+(h.y2-h.y1)*y),i};x.exports=l},80672:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35001),m=t(2141),l=function(a,r,i,n){n===void 0&&(n=[]);var h=a.getLineA(),s=a.getLineB(),o=a.getLineC(),u=c(h),f=c(s),d=c(o),p=u+f+d;!r&&i>0&&(r=p/i);for(var y=0;y<r;y++){var T=p*(y/r),C=0,P=new m;T<u?(C=T/u,P.x=h.x1+(h.x2-h.x1)*C,P.y=h.y1+(h.y2-h.y1)*C):T>u+f?(T-=u+f,C=T/d,P.x=o.x1+(o.x2-o.x1)*C,P.y=o.y1+(o.y2-o.y1)*C):(T-=u,C=T/f,P.x=s.x1+(s.x2-s.x1)*C,P.y=s.y1+(s.y2-s.y1)*C),n.push(P)}return n};x.exports=l},39757:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141);function m(a,r,i,n){var h=a-i,s=r-n,o=h*h+s*s;return Math.sqrt(o)}var l=function(a,r){r===void 0&&(r=new c);var i=a.x1,n=a.y1,h=a.x2,s=a.y2,o=a.x3,u=a.y3,f=m(o,u,h,s),d=m(i,n,o,u),p=m(h,s,i,n),y=f+d+p;return r.x=(i*f+h*d+o*p)/y,r.y=(n*f+s*d+u*p)/y,r};x.exports=l},13584:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t.x1+=c,t.y1+=m,t.x2+=c,t.y2+=m,t.x3+=c,t.y3+=m,t};x.exports=M},1376:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35001),m=function(l){var a=l.getLineA(),r=l.getLineB(),i=l.getLineC();return c(a)+c(r)+c(i)};x.exports=m},90260:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2141),m=function(l,a){a===void 0&&(a=new c);var r=l.x2-l.x1,i=l.y2-l.y1,n=l.x3-l.x1,h=l.y3-l.y1,s=Math.random(),o=Math.random();return s+o>=1&&(s=1-s,o=1-o),a.x=l.x1+(r*s+n*o),a.y=l.y1+(i*s+h*o),a};x.exports=m},52172:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(99614),m=t(39757),l=function(a,r){var i=m(a);return c(a,i.x,i.y,r)};x.exports=l},49907:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(99614),m=function(l,a,r){return c(l,a.x,a.y,r)};x.exports=m},99614:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=Math.cos(l),r=Math.sin(l),i=t.x1-c,n=t.y1-m;return t.x1=i*a-n*r+c,t.y1=i*r+n*a+m,i=t.x2-c,n=t.y2-m,t.x2=i*a-n*r+c,t.y2=i*r+n*a+m,i=t.x3-c,n=t.y3-m,t.x3=i*a-n*r+c,t.y3=i*r+n*a+m,t};x.exports=M},16483:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(10690),l=t(20437),a=t(80672),r=t(23777),i=t(23031),n=t(90260),h=new c({initialize:function(o,u,f,d,p,y){o===void 0&&(o=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),p===void 0&&(p=0),y===void 0&&(y=0),this.type=r.TRIANGLE,this.x1=o,this.y1=u,this.x2=f,this.y2=d,this.x3=p,this.y3=y},contains:function(s,o){return m(this,s,o)},getPoint:function(s,o){return l(this,s,o)},getPoints:function(s,o,u){return a(this,s,o,u)},getRandomPoint:function(s){return n(this,s)},setTo:function(s,o,u,f,d,p){return s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=s,this.y1=o,this.x2=u,this.y2=f,this.x3=d,this.y3=p,this},getLineA:function(s){return s===void 0&&(s=new i),s.setTo(this.x1,this.y1,this.x2,this.y2),s},getLineB:function(s){return s===void 0&&(s=new i),s.setTo(this.x2,this.y2,this.x3,this.y3),s},getLineC:function(s){return s===void 0&&(s=new i),s.setTo(this.x3,this.y3,this.x1,this.y1),s},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(s){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-s:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-s:o=this.x3-s,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(s){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-s:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-s:o=this.x3-s,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(s){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-s:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-s:o=this.y3-s,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(s){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-s:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-s:o=this.y3-s,this.y1-=o,this.y2-=o,this.y3-=o}}});x.exports=h},84435:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(16483);c.Area=t(41658),c.BuildEquilateral=t(39208),c.BuildFromPolygon=t(39545),c.BuildRight=t(90301),c.CenterOn=t(23707),c.Centroid=t(97523),c.CircumCenter=t(24951),c.CircumCircle=t(85614),c.Clone=t(74422),c.Contains=t(10690),c.ContainsArray=t(48653),c.ContainsPoint=t(96006),c.CopyFrom=t(71326),c.Decompose=t(71694),c.Equals=t(33522),c.GetPoint=t(20437),c.GetPoints=t(80672),c.InCenter=t(39757),c.Perimeter=t(1376),c.Offset=t(13584),c.Random=t(90260),c.Rotate=t(52172),c.RotateAroundPoint=t(49907),c.RotateAroundXY=t(99614),x.exports=c},74457:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:c,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};x.exports=M},84409:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return function(m,l,a,r){var i=t.getPixelAlpha(l,a,r.texture.key,r.frame.name);return i&&i>=c}};x.exports=M},7003:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(93301),l=t(50792),a=t(8214),r=t(8443),i=t(78970),n=t(85098),h=t(42515),s=t(36210),o=t(61340),u=t(85955),f=new c({initialize:function(p,y){this.game=p,this.scaleManager,this.canvas,this.config=y,this.enabled=!0,this.events=new l,this.isOver=!0,this.defaultCursor="",this.keyboard=y.inputKeyboard?new i(this):null,this.mouse=y.inputMouse?new n(this):null,this.touch=y.inputTouch?new s(this):null,this.pointers=[],this.pointersTotal=y.inputActivePointers;for(var T=0;T<=this.pointersTotal;T++){var C=new h(this,T);C.smoothFactor=y.inputSmoothFactor,this.pointers.push(C)}this.mousePointer=y.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(r.BOOT,this.boot,this)},boot:function(){var d=this.game,p=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(a.MANAGER_BOOT),p.on(r.PRE_RENDER,this.preRender,this),p.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(a.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(a.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,p=this.game.loop.delta,y=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(a.MANAGER_UPDATE);for(var T=0;T<y.length;T++){var C=y[T];if(C.sys.input&&C.sys.input.updatePoll(d,p)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d,p){(p||d&&d.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var p=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var y=0;y<d;y++){var T=this.pointers.length,C=new h(this,T);C.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(C),this.pointersTotal++,p.push(C)}return p},updateInputPlugins:function(d,p){var y=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var T=0;T<y.length;T++){var C=y[T];if(C.sys.input){var P=C.sys.input.update(d,p);if(P&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var p=this.pointers,y=[],T=0;T<d.changedTouches.length;T++)for(var C=d.changedTouches[T],P=1;P<p.length;P++){var A=p[P];if(!A.active){A.touchstart(C,d),this.activePointer=A,y.push(A);break}}this.updateInputPlugins(m.TOUCH_START,y)},onTouchMove:function(d){for(var p=this.pointers,y=[],T=0;T<d.changedTouches.length;T++)for(var C=d.changedTouches[T],P=1;P<p.length;P++){var A=p[P];if(A.active&&A.identifier===C.identifier){var w=document.elementFromPoint(C.clientX,C.clientY),L=w===this.canvas;!this.isOver&&L?this.setCanvasOver(d):this.isOver&&!L&&this.setCanvasOut(d),this.isOver&&(A.touchmove(C,d),this.activePointer=A,y.push(A));break}}this.updateInputPlugins(m.TOUCH_MOVE,y)},onTouchEnd:function(d){for(var p=this.pointers,y=[],T=0;T<d.changedTouches.length;T++)for(var C=d.changedTouches[T],P=1;P<p.length;P++){var A=p[P];if(A.active&&A.identifier===C.identifier){A.touchend(C,d),y.push(A);break}}this.updateInputPlugins(m.TOUCH_END,y)},onTouchCancel:function(d){for(var p=this.pointers,y=[],T=0;T<d.changedTouches.length;T++)for(var C=d.changedTouches[T],P=1;P<p.length;P++){var A=p[P];if(A.active&&A.identifier===C.identifier){A.touchcancel(C,d),y.push(A);break}}this.updateInputPlugins(m.TOUCH_CANCEL,y)},onMouseDown:function(d){var p=this.mousePointer;p.down(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var p=this.mousePointer;p.move(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var p=this.mousePointer;p.up(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var p=this.mousePointer;p.wheel(d),this.activePointer=p,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(a.POINTERLOCK_CHANGE,d,p)},inputCandidate:function(d,p){var y=d.input;if(!y||!y.enabled||!d.willRender(p))return!1;var T=!0,C=d.parentContainer;if(C)do{if(!C.willRender(p)){T=!1;break}C=C.parentContainer}while(C);return T},hitTest:function(d,p,y,T){T===void 0&&(T=this._tempHitTest);var C=this._tempPoint,P=y.scrollX,A=y.scrollY;T.length=0;var w=d.x,L=d.y;y.getWorldPoint(w,L,C),d.worldX=C.x,d.worldY=C.y;for(var B={x:0,y:0},F=this._tempMatrix,b=this._tempMatrix2,G=0;G<p.length;G++){var N=p[G];if(this.inputCandidate(N,y)){var U=C.x+P*N.scrollFactorX-P,W=C.y+A*N.scrollFactorY-A;N.parentContainer?(N.getWorldTransformMatrix(F,b),F.applyInverse(U,W,B)):u(U,W,N.x,N.y,N.rotation,N.scaleX,N.scaleY,B),this.pointWithinHitArea(N,B.x,B.y)&&T.push(N)}}return T},pointWithinHitArea:function(d,p,y){p+=d.displayOriginX,y+=d.displayOriginY;var T=d.input;return T&&T.hitAreaCallback(T.hitArea,p,y,d)?(T.localX=p,T.localY=y,!0):!1},pointWithinInteractiveObject:function(d,p,y){return d.hitArea?(p+=d.gameObject.displayOriginX,y+=d.gameObject.displayOriginY,d.localX=p,d.localY=y,d.hitAreaCallback(d.hitArea,p,y,d)):!1},transformPointer:function(d,p,y,T){var C=d.position,P=d.prevPosition;P.x=C.x,P.y=C.y;var A=this.scaleManager.transformX(p),w=this.scaleManager.transformY(y),L=d.smoothFactor;!T||L===0?(C.x=A,C.y=w):(C.x=A*L+P.x*(1-L),C.y=w*L+P.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});x.exports=f},48205:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(96503),m=t(87902),l=t(83419),a=t(93301),r=t(74457),i=t(84409),n=t(20339),h=t(8497),s=t(81154),o=t(8214),u=t(50792),f=t(95540),d=t(23777),p=t(89639),y=t(41212),T=t(37277),C=t(87841),P=t(37303),A=t(44594),w=t(16483),L=t(10690),B=new l({Extends:u,initialize:function(b){u.call(this),this.scene=b,this.systems=b.sys,this.settings=b.sys.settings,this.manager=b.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var G={cancelled:!1};this._eventContainer={stopPropagation:function(){G.cancelled=!0}},this._eventData=G,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,b.sys.events.once(A.BOOT,this.boot,this),b.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var F=this.systems.events;F.on(A.TRANSITION_START,this.transitionIn,this),F.on(A.TRANSITION_OUT,this.transitionOut,this),F.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(A.PRE_UPDATE,this.preUpdate,this),F.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(F){this.isActive()&&this.emit(o.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(o.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var F=this._pendingRemoval,b=this._pendingInsertion,G=F.length,N=b.length;if(!(G===0&&N===0)){for(var U=this._list,W=0;W<G;W++){var H=F[W],k=U.indexOf(H);k>-1&&(U.splice(k,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=U.concat(b.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(F){this.manager&&this.manager.setCursor(F)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(F,b){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,F,b),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var G,N=this.manager,U=N.pointers;for(G=0;G<U.length;G++)U[G].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=b,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(G=0;G<U.length;G++){var k=0,z=U[G];this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp,z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),k+=this.processOverOutEvents(z),this.getDragState(z)===2&&this.processDragThresholdEvent(z,F),k>0&&(H=!0)}return H},update:function(F,b){if(!this.isActive())return!1;for(var G=!1,N=0;N<b.length;N++){var U=0,W=b[N];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case a.MOUSE_DOWN:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverOutEvents(W);break;case a.MOUSE_UP:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOverOutEvents(W);break;case a.TOUCH_START:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverEvents(W);break;case a.TOUCH_END:case a.TOUCH_CANCEL:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOutEvents(W);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:U+=this.processDragMoveEvent(W),U+=this.processMoveEvents(W),U+=this.processOverOutEvents(W);break;case a.MOUSE_WHEEL:U+=this.processWheelEvent(W);break}U>0&&(G=!0)}return this._updatedThisFrame=!0,G},clear:function(F,b){b===void 0&&(b=!1),this.disable(F);var G=F.input;G&&(this.removeDebug(F),this.manager.resetCursor(G),G.gameObject=void 0,G.target=void 0,G.hitArea=void 0,G.hitAreaCallback=void 0,G.callbackContext=void 0,F.input=null),b||this.queueForRemoval(F);var N=this._draggable.indexOf(F);return N>-1&&this._draggable.splice(N,1),F},disable:function(F,b){b===void 0&&(b=!1);var G=F.input;G&&(G.enabled=!1,G.dragState=0);for(var N=this._drag,U=this._over,W=this.manager,H=0,k;H<W.pointers.length;H++)k=N[H].indexOf(F),k>-1&&N[H].splice(k,1),k=U[H].indexOf(F),k>-1&&U[H].splice(k,1);return b&&this.resetCursor(),this},enable:function(F,b,G,N){return N===void 0&&(N=!1),F.input?F.input.enabled=!0:this.setHitArea(F,b,G),F.input&&N&&!F.input.dropZone&&(F.input.dropZone=N),this},hitTestPointer:function(F){for(var b=this.cameras.getCamerasBelowPointer(F),G=0;G<b.length;G++){for(var N=b[G],U=this.manager.hitTest(F,this._list,N),W=0;W<U.length;W++){var H=U[W];H.input.dropZone&&this._tempZones.push(H)}if(U.length>0)return F.camera=N,U}return F.camera=b[0],[]},processDownEvents:function(F){var b=0,G=this._temp,N=this._eventData,U=this._eventContainer;N.cancelled=!1;for(var W=0;W<G.length;W++){var H=G[W];if(!(!H.input||!H.input.enabled)&&(b++,H.emit(o.GAMEOBJECT_POINTER_DOWN,F,H.input.localX,H.input.localY,U),N.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(o.GAMEOBJECT_DOWN,F,H,U),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&(F.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,F,G):this.emit(o.POINTER_DOWN_OUTSIDE,F)),b},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,b){this._dragState[F.id]=b},processDragThresholdEvent:function(F,b){var G=!1,N=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&n(F.x,F.y,F.downX,F.downY)>=U||N>0&&b>=F.downTime+N)&&(G=!0),G)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;var b=this._drag[F.id];b.length>1&&(b=b.slice(0));for(var G=0;G<b.length;G++){var N=b[G],U=N.input;U.dragState=2,U.dragStartX=N.x,U.dragStartY=N.y,U.dragStartXGlobal=F.worldX,U.dragStartYGlobal=F.worldY,U.dragStartCamera=F.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,N.emit(o.GAMEOBJECT_DRAG_START,F,U.dragX,U.dragY),this.emit(o.DRAG_START,F,N)}return this.setDragState(F,4),b.length},processDragDownEvent:function(F){var b=this._temp;if(this._draggable.length===0||b.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var G=[],N=0;N<b.length;N++){var U=b[N];U.input.draggable&&U.input.dragState===0&&G.push(U)}return G.length===0?(this.setDragState(F,0),0):(G.length>1&&(this.sortGameObjects(G,F),this.topOnly&&G.splice(1)),this._drag[F.id]=G,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;var b=this._tempZones,G=this._drag[F.id];G.length>1&&(G=G.slice(0));for(var N=0;N<G.length;N++){var U=G[N],W=U.input,H=W.target;if(H){var k=b.indexOf(H);k===0?(U.emit(o.GAMEOBJECT_DRAG_OVER,F,H),this.emit(o.DRAG_OVER,F,U,H)):k>0?(U.emit(o.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(o.DRAG_LEAVE,F,U,H),W.target=b[0],H=W.target,U.emit(o.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(o.DRAG_ENTER,F,U,H)):(U.emit(o.GAMEOBJECT_DRAG_LEAVE,F,H),this.emit(o.DRAG_LEAVE,F,U,H),b[0]?(W.target=b[0],H=W.target,U.emit(o.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(o.DRAG_ENTER,F,U,H)):W.target=null)}else!H&&b[0]&&(W.target=b[0],H=W.target,U.emit(o.GAMEOBJECT_DRAG_ENTER,F,H),this.emit(o.DRAG_ENTER,F,U,H));var z,$,X=F.positionToCamera(W.dragStartCamera);if(!U.parentContainer)z=X.x-W.dragX,$=X.y-W.dragY;else{var Q=X.x-W.dragStartXGlobal,Z=X.y-W.dragStartYGlobal,K=U.getParentRotation(),J=Q*Math.cos(K)+Z*Math.sin(K),q=Z*Math.cos(K)-Q*Math.sin(K);J*=1/U.parentContainer.scaleX,q*=1/U.parentContainer.scaleY,z=J+W.dragStartX,$=q+W.dragStartY}U.emit(o.GAMEOBJECT_DRAG,F,z,$),this.emit(o.DRAG,F,U,z,$)}return G.length},processDragUpEvent:function(F){var b=this._drag[F.id];b.length>1&&(b=b.slice(0));for(var G=0;G<b.length;G++){var N=b[G],U=N.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-N.displayOriginX,U.dragY=U.localY-N.displayOriginY,U.dragStartCamera=null;var W=!1,H=U.target;H&&(N.emit(o.GAMEOBJECT_DROP,F,H),this.emit(o.DROP,F,N,H),U.target=null,W=!0),N.input&&N.input.enabled&&(N.emit(o.GAMEOBJECT_DRAG_END,F,U.dragX,U.dragY,W),this.emit(o.DRAG_END,F,N,W))}}return this.setDragState(F,0),b.splice(0),0},processMoveEvents:function(F){var b=0,G=this._temp,N=this._eventData,U=this._eventContainer;N.cancelled=!1;for(var W=0;W<G.length;W++){var H=G[W];if(!(!H.input||!H.input.enabled)&&(b++,H.emit(o.GAMEOBJECT_POINTER_MOVE,F,H.input.localX,H.input.localY,U),N.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(o.GAMEOBJECT_MOVE,F,H,U),N.cancelled||!this.isActive()||this.topOnly)))break}return!N.cancelled&&this.isActive()&&this.emit(o.POINTER_MOVE,F,G),b},processWheelEvent:function(F){var b=0,G=this._temp,N=this._eventData,U=this._eventContainer;N.cancelled=!1;for(var W=F.deltaX,H=F.deltaY,k=F.deltaZ,z=0;z<G.length;z++){var $=G[z];if(!(!$.input||!$.input.enabled)&&(b++,$.emit(o.GAMEOBJECT_POINTER_WHEEL,F,W,H,k,U),N.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(o.GAMEOBJECT_WHEEL,F,$,W,H,k,U),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&this.emit(o.POINTER_WHEEL,F,G,W,H,k),b},processOverEvents:function(F){var b=this._temp,G=0,N=b.length,U=[];if(N>0){var W=this.manager,H=this._eventData,k=this._eventContainer;H.cancelled=!1;for(var z=0;z<N;z++){var $=b[z];if(!(!$.input||!$.input.enabled)&&(U.push($),W.setCursor($.input),$.emit(o.GAMEOBJECT_POINTER_OVER,F,$.input.localX,$.input.localY,k),G++,H.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(o.GAMEOBJECT_OVER,F,$,k),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(o.POINTER_OVER,F,U)}return this._over[F.id]=U,G},processOutEvents:function(F){var b=this._over[F.id],G=0,N=b.length;if(N>0){var U=this.manager,W=this._eventData,H=this._eventContainer;W.cancelled=!1,this.sortGameObjects(b,F);for(var k=0;k<N;k++){var z=b[k];if(z=b[k],!(!z.input||!z.input.enabled)&&(U.resetCursor(z.input),z.emit(o.GAMEOBJECT_POINTER_OUT,F,H),G++,W.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(o.GAMEOBJECT_OUT,F,z,H),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(o.POINTER_OUT,F,b),this._over[F.id]=[]}return G},processOverOutEvents:function(F){var b=this._temp,G,N,U=[],W=[],H=[],k=this._over[F.id],z=this._drag[F.id],$=this.manager;for(G=0;G<k.length;G++)N=k[G],b.indexOf(N)===-1&&z.indexOf(N)===-1?U.push(N):H.push(N);for(G=0;G<b.length;G++)N=b[G],k.indexOf(N)===-1&&W.push(N);var X=U.length,Q=0,Z=this._eventData,K=this._eventContainer;if(Z.cancelled=!1,X>0){for(this.sortGameObjects(U,F),G=0;G<X&&(N=U[G],!(!(!N.input||!N.input.enabled)&&($.resetCursor(N.input),N.emit(o.GAMEOBJECT_POINTER_OUT,F,K),Q++,Z.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(o.GAMEOBJECT_OUT,F,N,K),Z.cancelled||!this.isActive()))));G++);(!Z.cancelled||this.isActive())&&this.emit(o.POINTER_OUT,F,U)}if(X=W.length,Z.cancelled=!1,X>0){for(this.sortGameObjects(W,F),G=0;G<X&&(N=W[G],!(!(!N.input||!N.input.enabled)&&($.setCursor(N.input),N.emit(o.GAMEOBJECT_POINTER_OVER,F,N.input.localX,N.input.localY,K),Q++,Z.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(o.GAMEOBJECT_OVER,F,N,K),Z.cancelled||!this.isActive()))));G++);!Z.cancelled&&this.isActive()&&this.emit(o.POINTER_OVER,F,W)}return k=H.concat(W),this._over[F.id]=this.sortGameObjects(k,F),Q},processUpEvents:function(F){var b=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var U=0;U<b.length;U++){var W=b[U];if(!(!W.input||!W.input.enabled)&&(W.emit(o.GAMEOBJECT_POINTER_UP,F,W.input.localX,W.input.localY,N),G.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(o.GAMEOBJECT_UP,F,W,N),G.cancelled||!this.isActive())))break}return!G.cancelled&&this.isActive()&&(F.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,F,b):this.emit(o.POINTER_UP_OUTSIDE,F)),b.length},forceDownState:function(F,b){this.forceState(F,b,o.GAMEOBJECT_POINTER_DOWN,o.GAMEOBJECT_DOWN,!1)},forceUpState:function(F,b){this.forceState(F,b,o.GAMEOBJECT_POINTER_UP,o.GAMEOBJECT_UP,!1)},forceOverState:function(F,b){this.forceState(F,b,o.GAMEOBJECT_POINTER_OVER,o.GAMEOBJECT_OVER,!0)},forceOutState:function(F,b){this.forceState(F,b,o.GAMEOBJECT_POINTER_OUT,o.GAMEOBJECT_OUT,!1)},forceState:function(F,b,G,N,U){var W=this._eventData,H=this._eventContainer;W.cancelled=!1,b.input&&b.input.enabled&&(b.emit(G,F,b.input.localX,b.input.localY,H),U&&this.setCursor(b.input),!W.cancelled&&this.isActive()&&b.input&&b.input.enabled&&this.emit(N,F,b,H))},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,b){b===void 0&&(b=!0),Array.isArray(F)||(F=[F]);for(var G=0;G<F.length;G++){var N=F[G];N.input.draggable=b;var U=this._draggable.indexOf(N);b&&U===-1?this._draggable.push(N):!b&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var b=this.systems.textures;return i(b,F)},setHitArea:function(F,b,G){if(b===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var N=!1,U=!1,W=!1,H=!1,k=!1,z=!0;if(y(b)&&Object.keys(b).length){var $=b,X=F.some(function(q){return q.hasOwnProperty("faces")});if(!X){b=f($,"hitArea",null),G=f($,"hitAreaCallback",null),k=f($,"pixelPerfect",!1);var Q=f($,"alphaTolerance",1);k&&(b={},G=this.makePixelPerfect(Q))}N=f($,"draggable",!1),U=f($,"dropZone",!1),W=f($,"cursor",!1),H=f($,"useHandCursor",!1),(!b||!G)&&(this.setHitAreaFromTexture(F),z=!1)}else typeof b=="function"&&!G&&(G=b,b={});for(var Z=0;Z<F.length;Z++){var K=F[Z];if(k&&K.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var J=K.input?K.input:r(K,b,G);J.customHitArea=z,J.dropZone=U,J.cursor=H?"pointer":W,K.input=J,N&&this.setDraggable(K),this.queueForInsertion(K)}return this},setHitAreaCircle:function(F,b,G,N,U){U===void 0&&(U=m);var W=new c(b,G,N);return this.setHitArea(F,W,U)},setHitAreaEllipse:function(F,b,G,N,U,W){W===void 0&&(W=s);var H=new h(b,G,N,U);return this.setHitArea(F,H,W)},setHitAreaFromTexture:function(F,b){b===void 0&&(b=P),Array.isArray(F)||(F=[F]);for(var G=0;G<F.length;G++){var N=F[G],U=N.frame,W=0,H=0;if(N.width?(W=N.width,H=N.height):U&&(W=U.realWidth,H=U.realHeight),N.type==="Container"&&(W===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&H!==0&&(N.input=r(N,new C(0,0,W,H),b),this.queueForInsertion(N))}return this},setHitAreaRectangle:function(F,b,G,N,U,W){W===void 0&&(W=P);var H=new C(b,G,N,U);return this.setHitArea(F,H,W)},setHitAreaTriangle:function(F,b,G,N,U,W,H,k){k===void 0&&(k=L);var z=new w(b,G,N,U,W,H);return this.setHitArea(F,z,k)},enableDebug:function(F,b){b===void 0&&(b=65280);var G=F.input;if(!G||!G.hitArea)return this;var N=G.hitArea,U=N.type,W=G.hitAreaDebug,H=this.systems.add,k=this.systems.updateList;W&&(k.remove(W),W.destroy(),W=null);var z=0,$=0;switch(U){case d.CIRCLE:W=H.arc(0,0,N.radius),z=N.x-N.radius,$=N.y-N.radius;break;case d.ELLIPSE:W=H.ellipse(0,0,N.width,N.height),z=N.x-N.width/2,$=N.y-N.height/2;break;case d.LINE:W=H.line(0,0,N.x1,N.y1,N.x2,N.y2);break;case d.POLYGON:W=H.polygon(0,0,N.points);break;case d.RECTANGLE:W=H.rectangle(0,0,N.width,N.height),z=N.x,$=N.y;break;case d.TRIANGLE:W=H.triangle(0,0,N.x1,N.y1,N.x2,N.y2,N.x3,N.y3);break}return W&&(W.isFilled=!1,W.strokeColor=b,W.preUpdate=function(){W.setVisible(F.visible),W.setStrokeStyle(1/F.scale,W.strokeColor),W.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var X=F.x,Q=F.y,Z=F.rotation,K=F.scaleX,J=F.scaleY;if(F.parentContainer){var q=F.getWorldTransformMatrix();X=q.tx,Q=q.ty,Z=q.rotation,K=q.scaleX,J=q.scaleY}W.setRotation(Z),W.setScale(K,J),W.setPosition(X+z*K,Q+$*J),W.setScrollFactor(F.scrollFactorX,F.scrollFactorY),W.setDepth(F.depth)},k.add(W),G.hitAreaDebug=W),this},removeDebug:function(F){var b=F.input;if(b&&b.hitAreaDebug){var G=b.hitAreaDebug;G.destroy(),b.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,b){if(F.length<2||!b.camera)return F;var G=b.camera.renderList;return F.sort(function(N,U){var W=Math.max(G.indexOf(N),0),H=Math.max(G.indexOf(U),0);return H-W})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,b){if(!F.parentContainer&&!b.parentContainer)return this.displayList.getIndex(b)-this.displayList.getIndex(F);if(F.parentContainer===b.parentContainer)return b.parentContainer.getIndex(b)-F.parentContainer.getIndex(F);if(F.parentContainer===b)return-1;if(b.parentContainer===F)return 1;for(var G=F.getIndexList(),N=b.getIndexList(),U=Math.min(G.length,N.length),W=0;W<U;W++){var H=G[W],k=N[W];if(H!==k)return k-H}return N.length-G.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var b=this.manager;b.canvas.style.cursor=b.defaultCursor;var G=this.systems.events;G.off(A.TRANSITION_START,this.transitionIn,this),G.off(A.TRANSITION_OUT,this.transitionOut,this),G.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),G.off(A.PRE_UPDATE,this.preUpdate,this),b.events.off(o.GAME_OUT,this.onGameOut,this),b.events.off(o.GAME_OVER,this.onGameOver,this),G.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,b=0;b<F.length;b++)F[b].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",B,"input"),x.exports=B},89639:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35154),m={},l={};l.register=function(a,r,i,n,h){m[a]={plugin:r,mapping:i,settingsKey:n,configKey:h}},l.getPlugin=function(a){return m[a]},l.install=function(a){var r=a.scene.sys,i=r.settings.input,n=r.game.config;for(var h in m){var s=m[h].plugin,o=m[h].mapping,u=m[h].settingsKey,f=m[h].configKey;c(i,u,n[f])&&(a[o]=new s(a))}},l.remove=function(a){m.hasOwnProperty(a)&&delete m[a]},x.exports=l},42515:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(31040),m=t(83419),l=t(20339),a=t(43855),r=t(47235),i=t(26099),n=t(25892),h=new m({initialize:function(o,u){this.manager=o,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(s){var o=s.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(s,o){return s.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var s=this.position.x,o=this.position.y,u=this.midPoint.x,f=this.midPoint.y;if(!(s===u&&o===f)){var d=r(this.motionFactor,u,s),p=r(this.motionFactor,f,o);a(d,s,.1)&&(d=s),a(p,o,.1)&&(p=o),this.midPoint.set(d,p);var y=s-d,T=o-p;this.velocity.set(y,T),this.angle=c(d,p,s,o),this.distance=Math.sqrt(y*y+T*T)}},up:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=s.timeStamp,this.wasTouch=!1)},down:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.button=s.button,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),s.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&s.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=s.timeStamp),this.wasTouch=!1},move:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.locked&&(this.movementX=s.movementX||s.mozMovementX||s.webkitMovementX||0,this.movementY=s.movementY||s.mozMovementY||s.webkitMovementY||0),this.moveTime=s.timeStamp,this.wasTouch=!1},wheel:function(s){"buttons"in s&&(this.buttons=s.buttons),this.event=s,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.deltaX=s.deltaX,this.deltaY=s.deltaY,this.deltaZ=s.deltaZ,this.wasTouch=!1},touchstart:function(s,o){s.pointerId&&(this.pointerId=s.pointerId),this.identifier=s.identifier,this.target=s.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(s,o){this.event=o,this.manager.transformPointer(this,s.pageX,s.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(s,o){this.buttons=0,this.event=o,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(s,o){this.buttons=0,this.event=o,this.upElement=s.target,this.manager.transformPointer(this,s.pageX,s.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(s,o){s===void 0&&(s=10),o===void 0&&(o=[]);for(var u=this.prevPosition.x,f=this.prevPosition.y,d=this.position.x,p=this.position.y,y=0;y<s;y++){var T=1/s*y;o[y]={x:r(T,u,d),y:r(T,f,p)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(s){this.position.x=s}},y:{get:function(){return this.position.y},set:function(s){this.position.y=s}},time:{get:function(){return this.event?this.event.timeStamp:0}}});x.exports=h},93301:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};x.exports=M},7179:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="boot"},85375:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="destroy"},39843:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragend"},23388:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragenter"},16133:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="drag"},27829:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragleave"},53904:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragover"},56058:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragstart"},2642:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="drop"},88171:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="gameobjectdown"},36147:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragend"},71692:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragenter"},96149:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="drag"},81285:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragleave"},74048:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragover"},21322:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragstart"},49378:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="drop"},86754:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="gameobjectmove"},86433:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="gameobjectout"},60709:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="gameobjectover"},24081:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerdown"},11172:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointermove"},18907:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerout"},95579:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerover"},35368:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerup"},26972:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="wheel"},47078:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="gameobjectup"},73802:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="gameobjectwheel"},56718:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="gameout"},25936:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="gameover"},27503:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="boot"},50852:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="process"},96438:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="update"},59152:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerlockchange"},47777:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerdown"},27957:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerdownoutside"},19444:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointermove"},54251:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerout"},18667:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerover"},27192:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerup"},24652:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pointerupoutside"},45132:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="wheel"},44512:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="preupdate"},15757:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="shutdown"},41637:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="start"},93802:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="update"},8214:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r){this.pad=a,this.events=a.events,this.index=r,this.value=0,this.threshold=.1},update:function(l){this.value=l},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});x.exports=m},28884:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(92734),l=new c({initialize:function(r,i){this.pad=r,this.events=r.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var r=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,r,this,a),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,r,this,a),this.pad.emit(m.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});x.exports=l},99125:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(97421),m=t(28884),l=t(83419),a=t(50792),r=t(26099),i=new l({Extends:a,initialize:function(h,s){a.call(this),this.manager=h,this.pad=s,this.id=s.id,this.index=s.index;for(var o=[],u=0;u<s.buttons.length;u++)o.push(new m(this,u));this.buttons=o;var f=[];for(u=0;u<s.axes.length;u++)f.push(new c(this,u));this.axes=f,this.vibration=s.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:d,this._LCRight=o[15]?o[15]:d,this._LCTop=o[12]?o[12]:d,this._LCBottom=o[13]?o[13]:d,this._RCLeft=o[2]?o[2]:d,this._RCRight=o[1]?o[1]:d,this._RCTop=o[3]?o[3]:d,this._RCBottom=o[0]?o[0]:d,this._FBLeftTop=o[4]?o[4]:d,this._FBLeftBottom=o[6]?o[6]:d,this._FBRightTop=o[5]?o[5]:d,this._FBRightBottom=o[7]?o[7]:d;var p={value:0};this._HAxisLeft=f[0]?f[0]:p,this._VAxisLeft=f[1]?f[1]:p,this._HAxisRight=f[2]?f[2]:p,this._VAxisRight=f[3]?f[3]:p,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var h,s=this.buttons,o=n.buttons,u=s.length;for(h=0;h<u;h++)s[h].update(o[h].value);var f=this.axes,d=n.axes;for(u=f.length,h=0;h<u;h++)f[h].update(d[h]);u>=2&&(this.leftStick.set(f[0].getValue(),f[1].getValue()),u>=4&&this.rightStick.set(f[2].getValue(),f[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});x.exports=i},56654:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50792),l=t(92734),a=t(99125),r=t(35154),i=t(89639),n=t(8214),h=new c({Extends:m,initialize:function(o){m.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(n.BOOT,this.boot,this),o.pluginEvents.on(n.START,this.start,this)},boot:function(){var s=this.scene.sys.game,o=this.settings.input,u=s.config;this.enabled=r(o,"gamepad",u.inputGamepad)&&s.device.input.gamepads,this.target=r(o,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var s=this,o=this.target,u=function(f){f.defaultPrevented||!s.isActive()||(s.refreshPads(),s.queue.push(f))};this.onGamepadHandler=u,o.addEventListener("gamepadconnected",u,!1),o.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].removeAllListeners()},disconnectAll:function(){for(var s=0;s<this.gamepads.length;s++)this.gamepads[s].pad.connected=!1},refreshPads:function(){var s=navigator.getGamepads();if(!s)this.disconnectAll();else for(var o=this.gamepads,u=0;u<s.length;u++){var f=s[u];if(f){var d=f.id,p=f.index,y=o[p];if(y)y.id!==d?(y.destroy(),o[p]=new a(this,f)):y.update(f);else{var T=new a(this,f);o[p]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var s=[],o=this.gamepads,u=0;u<o.length;u++)o[u]&&s.push(o[u]);return s},getPad:function(s){for(var o=this.gamepads,u=0;u<o.length;u++)if(o[u]&&o[u].index===s)return o[u]},update:function(){if(this.enabled){this.refreshPads();var s=this.queue.length;if(s!==0)for(var o=this.queue.splice(0,s),u=0;u<s;u++){var f=o[u],d=this.getPad(f.gamepad.index);f.type==="gamepadconnected"?this.emit(l.CONNECTED,d,f):f.type==="gamepaddisconnected"&&this.emit(l.DISCONNECTED,d,f)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var s=0;s<this.gamepads.length;s++)this.gamepads[s]&&this.gamepads[s].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),x.exports=h},89651:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="down"},7629:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="up"},42206:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="connected"},86544:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="disconnected"},94784:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="down"},14325:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="up"},92734:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(93301),m=t(79291),l={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};l=m(!1,l,c),x.exports=l},78970:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(72905),m=t(83419),l=t(8443),a=t(8214),r=t(46032),i=t(29747),n=new m({initialize:function(s){this.manager=s,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(l.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(o),h.manager.events.emit(a.MANAGER_PROCESS);var u=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;h.preventDefault&&!u&&h.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(o),h.manager.events.emit(a.MANAGER_PROCESS);var u=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;h.preventDefault&&!u&&h.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var s=this.target;s&&(s.addEventListener("keydown",this.onKeyDown,!1),s.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var s=this.captures,o=0;o<h.length;o++){var u=h[o];typeof u=="string"&&(u=r[u.trim().toUpperCase()]),s.indexOf(u)===-1&&s.push(u)}this.preventDefault=s.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var s=this.captures,o=0;o<h.length;o++){var u=h[o];typeof u=="string"&&(u=r[u.toUpperCase()]),c(s,u)}this.preventDefault=s.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(l.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});x.exports=n},28846:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50792),l=t(95922),a=t(8443),r=t(35154),i=t(8214),n=t(89639),h=t(30472),s=t(46032),o=t(87960),u=t(74600),f=t(44594),d=t(56583),p=new c({Extends:m,initialize:function(T){m.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(i.BOOT,this.boot,this),T.pluginEvents.on(i.START,this.start,this)},boot:function(){var y=this.settings.input;this.enabled=r(y,"keyboard",!0);var T=r(y,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(f.PAUSE,this.resetKeys,this),this.scene.sys.events.on(f.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(y){return this.manager.addCapture(y),this},removeCapture:function(y){return this.manager.removeCapture(y),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:s.UP,down:s.DOWN,left:s.LEFT,right:s.RIGHT,space:s.SPACE,shift:s.SHIFT})},addKeys:function(y,T,C){T===void 0&&(T=!0),C===void 0&&(C=!1);var P={};if(typeof y=="string"){y=y.split(",");for(var A=0;A<y.length;A++){var w=y[A].trim();w&&(P[w]=this.addKey(w,T,C))}}else for(var L in y)P[L]=this.addKey(y[L],T,C);return P},addKey:function(y,T,C){T===void 0&&(T=!0),C===void 0&&(C=!1);var P=this.keys;if(y instanceof h){var A=P.indexOf(y);return A>-1?P[A]=y:P[y.keyCode]=y,T&&this.addCapture(y.keyCode),y.setEmitOnRepeat(C),y}return typeof y=="string"&&(y=s[y.toUpperCase()]),P[y]||(P[y]=new h(this,y),T&&this.addCapture(y),P[y].setEmitOnRepeat(C)),P[y]},removeKey:function(y,T,C){T===void 0&&(T=!1),C===void 0&&(C=!1);var P=this.keys,A;if(y instanceof h){var w=P.indexOf(y);w>-1&&(A=this.keys[w],this.keys[w]=void 0)}else typeof y=="string"&&(y=s[y.toUpperCase()]);return P[y]&&(A=P[y],P[y]=void 0),A&&(A.plugin=null,C&&this.removeCapture(A.keyCode),T&&A.destroy()),this},removeAllKeys:function(y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);for(var C=this.keys,P=0;P<C.length;P++){var A=C[P];A&&(C[P]=void 0,T&&this.removeCapture(A.keyCode),y&&A.destroy())}return this},createCombo:function(y,T){return new o(this,y,T)},checkDown:function(y,T){if(T===void 0&&(T=0),this.enabled&&y.isDown){var C=d(this.time-y.timeDown,T);if(C>y._tick)return y._tick=C,!0}return!1},update:function(){var y=this.manager.queue,T=y.length;if(!(!this.isActive()||T===0))for(var C=this.keys,P=0;P<T;P++){var A=y[P],w=A.keyCode,L=C[w],B=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(w===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=w,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(L&&(B=L.isDown,L.onDown(A)),!A.cancelled&&(!L||!B)&&(u[w]&&this.emit(l.KEY_DOWN+u[w],A),A.cancelled||this.emit(l.ANY_KEY_DOWN,A))):(L&&L.onUp(A),A.cancelled||(u[w]&&this.emit(l.KEY_UP+u[w],A),A.cancelled||this.emit(l.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(f.PAUSE,this.resetKeys,this),this.scene.sys.events.off(f.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),x.exports=p},66970:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c.timeLastMatched=t.timeStamp,c.index++,c.index===c.size?!0:(c.current=c.keyCodes[c.index],!1)};x.exports=M},87960:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95922),l=t(95540),a=t(68769),r=t(92803),i=new c({initialize:function(h,s,o){if(o===void 0&&(o={}),s.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var u=0;u<s.length;u++){var f=s[u];typeof f=="string"?this.keyCodes.push(f.toUpperCase().charCodeAt(0)):typeof f=="number"?this.keyCodes.push(f):f.hasOwnProperty("keyCode")&&this.keyCodes.push(f.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=l(o,"resetOnWrongKey",!0),this.maxKeyDelay=l(o,"maxKeyDelay",0),this.resetOnMatch=l(o,"resetOnMatch",!1),this.deleteOnMatch=l(o,"deleteOnMatch",!1);var d=this,p=function(y){if(!(d.matched||!d.enabled)){var T=a(y,d);T&&(d.manager.emit(m.COMBO_MATCH,d,y),d.resetOnMatch?r(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=p,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});x.exports=i},68769:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66970),m=function(l,a){if(a.matched)return!0;var r=!1,i=!1;if(l.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var n=a.timeLastMatched+a.maxKeyDelay;l.timeStamp<=n&&(i=!0,r=c(l,a))}else i=!0,r=c(l,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=l.timeStamp,a.matched=!0,a.timeMatched=l.timeStamp),r};x.exports=m},92803:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};x.exports=M},92612:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="keydown"},23345:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="keyup"},21957:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="keycombomatch"},44743:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="down"},3771:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="keydown-"},46358:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="keyup-"},75674:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="up"},95922:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=50);var m=t.plugin.game.loop.time-t.timeDown;return t.isDown&&m<c};x.exports=M},90229:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t._justDown?(t._justDown=!1,!0):!1};x.exports=M},38796:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t._justUp?(t._justUp=!1,!0):!1};x.exports=M},30472:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50792),l=t(95922),a=new c({Extends:m,initialize:function(i,n){m.call(this),this.plugin=i,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(l.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(l.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(l.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});x.exports=a},46032:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};x.exports=M},74600:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(46032),m={};for(var l in c)m[c[l]]=l;x.exports=m},41170:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=50);var m=t.plugin.game.loop.time-t.timeUp;return t.isUp&&m<c};x.exports=M},85098:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(89357),l=t(8214),a=t(29747),r=new c({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,n.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var n=this,h=this.manager,s=h.canvas,o=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(f){!f.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseMove(f),n.preventDefaultMove&&f.preventDefault())},this.onMouseDown=function(f){o&&window.focus(),!f.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseDown(f),n.preventDefaultDown&&f.target===s&&f.preventDefault())},this.onMouseDownWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&n.enabled&&h&&h.enabled&&f.target!==s&&h.onMouseDown(f)},this.onMouseUp=function(f){!f.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseUp(f),n.preventDefaultUp&&f.target===s&&f.preventDefault())},this.onMouseUpWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&n.enabled&&h&&h.enabled&&f.target!==s&&h.onMouseUp(f)},this.onMouseOver=function(f){!f.defaultPrevented&&n.enabled&&h&&h.enabled&&h.setCanvasOver(f)},this.onMouseOut=function(f){!f.defaultPrevented&&n.enabled&&h&&h.enabled&&h.setCanvasOut(f)},this.onMouseWheel=function(f){!f.defaultPrevented&&n.enabled&&h&&h.enabled&&h.onMouseWheel(f),n.preventDefaultWheel&&f.target===s&&f.preventDefault()};var u={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,u),i.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,u),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(f){var d=n.target;n.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,h.onPointerLockChange(f)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});x.exports=r},87078:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={MouseManager:t(85098)}},36210:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(8214),l=t(29747),a=new c({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=l,this.onTouchStartWindow=l,this.onTouchMove=l,this.onTouchEnd=l,this.onTouchEndWindow=l,this.onTouchCancel=l,this.onTouchCancelWindow=l,this.isTop=!0,i.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var i=this,n=this.manager,h=n.canvas,s=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchMove(d),i.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){s&&window.focus(),!d.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchStart(d),i.capture&&d.cancelable&&d.target===h&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&i.enabled&&n&&n.enabled&&d.target!==h&&n.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchEnd(d),i.capture&&d.cancelable&&d.target===h&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&i.enabled&&n&&n.enabled&&d.target!==h&&n.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&i.enabled&&n&&n.enabled&&(n.onTouchCancel(d),i.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&i.enabled&&n&&n.enabled&&n.onTouchCancel(d)};var o=this.capture,u={passive:!0},f={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,o?f:u),r.addEventListener("touchmove",this.onTouchMove,o?f:u),r.addEventListener("touchend",this.onTouchEnd,o?f:u),r.addEventListener("touchcancel",this.onTouchCancel,o?f:u),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,f),window.top.addEventListener("touchend",this.onTouchEndWindow,f),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,f)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,f),window.addEventListener("touchend",this.onTouchEndWindow,f),window.addEventListener("touchcancel",this.onTouchCancelWindow,f),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});x.exports=a},95618:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={TouchManager:t(36210)}},41299:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(54899),a=t(95540),r=t(98356),i=t(3374),n=t(84376),h=t(92638),s=new c({initialize:function(u,f){if(this.loader=u,this.cache=a(f,"cache",!1),this.type=a(f,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(f,"key",!1);var d=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var p=a(f,"url");p===void 0?p=u.path+d+"."+a(f,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(p=u.path+p),this.url=p,this.src="",this.xhrSettings=h(a(f,"responseType",void 0)),a(f,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(f,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(f,"config",{}),this.multiFile,this.linkFile,this.base64=typeof p=="string"&&p.indexOf("data:")===0,this.retryAttempts=a(f,"maxRetries",u.maxRetries)},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===m.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=m.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(o,u){var f=o.responseURL&&this.loader.localSchemes.some(function(y){return o.responseURL.indexOf(y)===0}),d=f&&u.target.status===0,p=!(u.target&&u.target.status!==200)||d;o.readyState===4&&o.status>=400&&o.status<=599&&(p=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onBase64Load:function(o){this.xhrLoader=o,this.state=m.FILE_LOADED,this.percentComplete=1,this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==m.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var u=this.key,f=this.type;this.loader.emit(l.FILE_COMPLETE,u,f,o),this.loader.emit(l.FILE_KEY_COMPLETE+f+"-"+u,u,f,o),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});s.createObjectURL=function(o,u,f){if(typeof URL=="function")o.src=URL.createObjectURL(u);else{var d=new FileReader;d.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(u.type||f)+";base64,"+d.result.split(",")[1]},d.onerror=o.onerror,d.readAsDataURL(u)}},s.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},x.exports=s},74099:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={},t={install:function(c){for(var m in M)c[m]=M[m]},register:function(c,m){M[c]=m},destroy:function(){M={}}};x.exports=t},98356:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:c+t.url:!1};x.exports=M},74261:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(35072),a=t(50792),r=t(54899),i=t(74099),n=t(95540),h=t(35154),s=t(41212),o=t(37277),u=t(44594),f=t(92638),d=new c({Extends:a,initialize:function(y){a.call(this);var T=y.sys.game.config,C=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(C,"baseURL",T.loaderBaseURL)),this.setPath(n(C,"path",T.loaderPath)),this.setPrefix(n(C,"prefix",T.loaderPrefix)),this.maxParallelDownloads=n(C,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=f(n(C,"responseType",T.loaderResponseType),n(C,"async",T.loaderAsync),n(C,"user",T.loaderUser),n(C,"password",T.loaderPassword),n(C,"timeout",T.loaderTimeout),n(C,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=n(C,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=n(C,"imageLoadType",T.loaderImageLoadType),this.localSchemes=n(C,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new l,this.inflight=new l,this.queue=new l,this._deleteQueue=new l,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(C,"maxRetries",T.loaderMaxRetries),y.sys.events.once(u.BOOT,this.boot,this),y.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},setBaseURL:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.baseURL=p,this},setPath:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.path=p,this},setPrefix:function(p){return p===void 0&&(p=""),this.prefix=p,this},setCORS:function(p){return this.crossOrigin=p,this},addFile:function(p){Array.isArray(p)||(p=[p]);for(var y=0;y<p.length;y++){var T=p[y];this.keyExists(T)||(this.list.set(T),this.emit(r.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(p){var y=p.hasCacheConflict();return y||this.list.iterate(function(T){if(T.type===p.type&&T.key===p.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===p.type&&T.key===p.key)return y=!0,!1}),this.queue.iterate(function(T){if(T.type===p.type&&T.key===p.key)return y=!0,!1})),y},addPack:function(p,y){if(typeof y=="string"){var T=h(p,y);T&&(p={packKey:T})}var C=0,P=this.baseURL,A=this.path,w=this.prefix;for(var L in p)if(Object.prototype.hasOwnProperty.call(p,L)){var B=p[L],F=n(B,"baseURL",P),b=n(B,"path",A),G=n(B,"prefix",w),N=n(B,"files",null),U=n(B,"defaultType","void");if(Array.isArray(N)){this.setBaseURL(F),this.setPath(b),this.setPrefix(G);for(var W=0;W<N.length;W++){var H=N[W],k=H.hasOwnProperty("type")?H.type:U;this[k]&&(this[k](H),C++)}}}return this.setBaseURL(P),this.setPath(A),this.setPrefix(w),C>0},removePack:function(p,y){var T=this.systems.anims,C=this.cacheManager,P=this.textureManager,A={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},w;if(s(p))w=p;else if(w=C.json.get(p),!w){console.warn("Asset Pack not found in JSON cache:",p);return}y&&(w={_:w[y]});for(var L in w){var B=w[L],F=n(B,"prefix",""),b=n(B,"files"),G=n(B,"defaultType");if(Array.isArray(b))for(var N=0;N<b.length;N++){var U=b[N],W=U.hasOwnProperty("type")?U.type:G;if(!W){console.warn("No type:",U);continue}var H=F+U.key;if(W==="animation"&&T.remove(H),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(P.remove(H),!A[W]))){if(W==="pack"){this.removePack(H,U.dataKey);continue}if(W==="spine"){var k=C.custom.spine.get(H);if(!k)continue;var z=k.prefix===void 0?"":k.prefix;C.custom.spine.remove(H);var $=C.custom.spineTextures.get(H);if(!$)continue;C.custom.spineTextures.remove(H);for(var X=0;X<$.pages.length;X++){var Q=$.pages[X],Z=z+Q.name,K=H+":"+Z;P.exists(K)?P.remove(K):P.remove(Z)}}var J=A[W];if(J!==null){if(!J){console.warn("Unknown type:",W);continue}var q=C[J];q.remove(H)}}}}},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(u.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(p){if((p.state===m.FILE_POPULATED||p.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(p),this.list.delete(p),p.crossOrigin||(p.crossOrigin=this.crossOrigin),p.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(p,y){this.inflight&&(this.inflight.delete(p),this.updateProgress(),y?(this.totalComplete++,this.queue.set(p),this.emit(r.FILE_LOAD,p),p.onProcess()):(this.totalFailed++,this._deleteQueue.set(p),this.emit(r.FILE_LOAD_ERROR,p),this.fileProcessComplete(p)))},fileProcessComplete:function(p){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(p.state===m.FILE_ERRORED?p.multiFile&&p.multiFile.onFileFailed(p):p.state===m.FILE_COMPLETE&&(p.multiFile?p.multiFile.isReadyToProcess()&&(p.multiFile.addToCache(),p.multiFile.pendingDestroy()):(p.addToCache(),p.pendingDestroy())),this.queue.delete(p),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(u.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(p){this._deleteQueue.set(p)},saveJSON:function(p,y){return this.save(JSON.stringify(p),y)},save:function(p,y,T){y===void 0&&(y="file.json"),T===void 0&&(T="application/json");var C=new Blob([p],{type:T}),P=URL.createObjectURL(C),A=document.createElement("a");return A.download=y,A.textContent="Download "+y,A.href=P,A.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var p=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(n(y,"baseURL",p.loaderBaseURL)),this.setPath(n(y,"path",p.loaderPath)),this.setPrefix(n(y,"prefix",p.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});o.register("Loader",d,"load"),x.exports=d},3374:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(79291),m=t(92638),l=function(a,r){var i=a===void 0?m():c({},a);if(r)for(var n in r)r[n]!==void 0&&(i[n]=r[n]);return i};x.exports=l},26430:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(54899),a=new c({initialize:function(i,n,h,s){var o=[];s.forEach(function(d){d&&o.push(d)}),this.loader=i,this.type=n,this.key=h;var u=this.key;i.prefix&&i.prefix!==""&&(this.key=i.prefix+u),this.multiKeyIndex=i.multiKeyIndex++,this.files=o,this.state=m.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var f=0;f<o.length;f++)o[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var i=this.files.indexOf(r);i!==-1&&this.pending--},onFileFailed:function(r){var i=this.files.indexOf(r);i!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var r=this.key,i=this.type;this.loader.emit(l.FILE_COMPLETE,r,i),this.loader.emit(l.FILE_KEY_COMPLETE+i+"-"+r,r,i),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});x.exports=a},84376:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(3374),m=function(l,a){var r=c(a,l.xhrSettings);if(l.base64){var i=l.url.split(";base64,").pop()||l.url.split(",").pop(),n={responseText:atob(i)};l.onBase64Load(n);return}var h=new XMLHttpRequest;if(h.open("GET",l.src,r.async,r.user,r.password),h.responseType=l.xhrSettings.responseType,h.timeout=r.timeout,r.headers)for(var s in r.headers)h.setRequestHeader(s,r.headers[s]);return r.header&&r.headerValue&&h.setRequestHeader(r.header,r.headerValue),r.requestedWith&&h.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&h.overrideMimeType(r.overrideMimeType),r.withCredentials&&(h.withCredentials=!0),h.onload=l.onLoad.bind(l,h),h.onerror=l.onError.bind(l,h),h.onprogress=l.onProgress.bind(l),h.ontimeout=l.onError.bind(l,h),h.send(),h};x.exports=m},92638:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a,r){return t===void 0&&(t=""),c===void 0&&(c=!0),m===void 0&&(m=""),l===void 0&&(l=""),a===void 0&&(a=0),r===void 0&&(r=!1),{responseType:t,async:c,user:m,password:l,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};x.exports=M},23906:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};x.exports=M},42155:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="addfile"},38991:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="complete"},27540:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="filecomplete"},87464:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="filecomplete-"},94486:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="loaderror"},13035:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="load"},38144:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="fileprogress"},97520:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="postprocess"},85595:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="progress"},55680:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="start"},54899:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(518),a=t(54899),r=new c({Extends:l,initialize:function(n,h,s,o,u){l.call(this,n,h,s,o,u),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),l.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(i,n,h,s){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new r(this,i[o]));else this.addFile(new r(this,i,n,s,h));return this}),x.exports=r},76272:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),h=new c({Extends:n,initialize:function(o,u,f,d,p,y){var T,C;if(r(u)){var P=u;u=l(P,"key"),T=new a(o,{key:u,url:l(P,"textureURL"),extension:l(P,"textureExtension","png"),normalMap:l(P,"normalMap"),xhrSettings:l(P,"textureXhrSettings")}),C=new i(o,{key:u,url:l(P,"atlasURL"),extension:l(P,"atlasExtension","json"),xhrSettings:l(P,"atlasXhrSettings")})}else T=new a(o,u,f,p),C=new i(o,u,d,y);T.linkFile?n.call(this,o,"atlasjson",u,[T,C,T.linkFile]):n.call(this,o,"atlasjson",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],o=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,o.data,u),o.addToCache(),this.complete=!0}}});m.register("aseprite",function(s,o,u,f,d){var p;if(Array.isArray(s))for(var y=0;y<s.length;y++)p=new h(this,s[y]),this.addFile(p.files);else p=new h(this,s,o,u,f,d),this.addFile(p.files);return this}),x.exports=h},38734:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),h=new c({Extends:n,initialize:function(o,u,f,d,p,y){var T,C;if(r(u)){var P=u;u=l(P,"key"),T=new a(o,{key:u,url:l(P,"textureURL"),extension:l(P,"textureExtension","png"),normalMap:l(P,"normalMap"),xhrSettings:l(P,"textureXhrSettings")}),C=new i(o,{key:u,url:l(P,"atlasURL"),extension:l(P,"atlasExtension","json"),xhrSettings:l(P,"atlasXhrSettings")})}else T=new a(o,u,f,p),C=new i(o,u,d,y);T.linkFile?n.call(this,o,"atlasjson",u,[T,C,T.linkFile]):n.call(this,o,"atlasjson",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],o=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(s.key,s.data,o.data,u),this.complete=!0}}});m.register("atlas",function(s,o,u,f,d){var p;if(Array.isArray(s))for(var y=0;y<s.length;y++)p=new h(this,s[y]),this.addFile(p.files);else p=new h(this,s,o,u,f,d),this.addFile(p.files);return this}),x.exports=h},74599:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(57318),h=new c({Extends:i,initialize:function(o,u,f,d,p,y){var T,C;if(r(u)){var P=u;u=l(P,"key"),T=new a(o,{key:u,url:l(P,"textureURL"),extension:l(P,"textureExtension","png"),normalMap:l(P,"normalMap"),xhrSettings:l(P,"textureXhrSettings")}),C=new n(o,{key:u,url:l(P,"atlasURL"),extension:l(P,"atlasExtension","xml"),xhrSettings:l(P,"atlasXhrSettings")})}else T=new a(o,u,f,p),C=new n(o,u,d,y);T.linkFile?i.call(this,o,"atlasxml",u,[T,C,T.linkFile]):i.call(this,o,"atlasxml",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],o=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(s.key,s.data,o.data,u),this.complete=!0}}});m.register("atlasXML",function(s,o,u,f,d){var p;if(Array.isArray(s))for(var y=0;y<s.length;y++)p=new h(this,s[y]),this.addFile(p.files);else p=new h(this,s,o,u,f,d),this.addFile(p.files);return this}),x.exports=h},21097:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(89749),n=t(41212),h=new c({Extends:l,initialize:function(o,u,f,d,p){if(n(u)){var y=u;u=r(y,"key"),d=r(y,"xhrSettings"),p=r(y,"context",p)}var T={type:"audio",cache:o.cacheManager.audio,extension:f.type,responseType:"arraybuffer",key:u,url:f.url,xhrSettings:d,config:{context:p}};l.call(this,o,T)},onProcess:function(){this.state=m.FILE_PROCESSING;var s=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){s.data=o,s.onProcessComplete()},function(o){console.error("Error decoding audio: "+s.key+" - ",o?o.message:null),s.onProcessError()}),this.config.context=null}});h.create=function(s,o,u,f,d){var p=s.systems.game,y=p.config.audio,T=p.device.audio;n(o)&&(u=r(o,"url",[]),f=r(o,"config",{}));var C=h.getAudioURL(p,u);return C?T.webAudio&&!y.disableWebAudio?new h(s,o,C,d,p.sound.context):new i(s,o,C,f):(console.warn('No audio URLs for "%s" can play on this device',o),null)},h.getAudioURL=function(s,o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++){var f=r(o[u],"url",o[u]);if(f.indexOf("blob:")===0||f.indexOf("data:")===0)return{url:f,type:""};var d=f.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=r(o[u],"type",d?d[1]:"").toLowerCase(),s.device.audio[d])return{url:f,type:d}}return null},a.register("audio",function(s,o,u,f){var d=this.systems.game,p=d.config.audio,y=d.device.audio;if(p.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(s))for(var C=0;C<s.length;C++)T=h.create(this,s[C]),T&&this.addFile(T);else T=h.create(this,s,o,u,f),T&&this.addFile(T);return this}),x.exports=h},89524:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(21097),m=t(83419),l=t(74099),a=t(95540),r=t(41212),i=t(518),n=t(26430),h=new m({Extends:n,initialize:function(o,u,f,d,p,y,T){if(r(u)){var C=u;u=a(C,"key"),f=a(C,"jsonURL"),d=a(C,"audioURL"),p=a(C,"audioConfig"),y=a(C,"audioXhrSettings"),T=a(C,"jsonXhrSettings")}var P;if(!d)P=new i(o,u,f,T),n.call(this,o,"audiosprite",u,[P]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=y;else{var A=c.create(o,u,d,p,y);A&&(P=new i(o,u,f,T),n.call(this,o,"audiosprite",u,[A,P]),this.config.resourceLoad=!1)}},onFileComplete:function(s){var o=this.files.indexOf(s);if(o!==-1&&(this.pending--,this.config.resourceLoad&&s.type==="json"&&s.data.hasOwnProperty("resources"))){var u=s.data.resources,f=a(this.config,"audioConfig"),d=a(this.config,"audioXhrSettings"),p=c.create(this.loader,s.key,u,f,d);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],o=this.files[1];s.addToCache(),o.addToCache(),this.complete=!0}}});l.register("audioSprite",function(s,o,u,f,d,p){var y=this.systems.game,T=y.config.audio,C=y.device.audio;if(T&&T.noAudio||!C.webAudio&&!C.audioData)return this;var P;if(Array.isArray(s))for(var A=0;A<s.length;A++)P=new h(this,s[A]),P.files&&this.addFile(P.files);else P=new h(this,s,o,u,f,d,p),P.files&&this.addFile(P.files);return this})},85722:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f,d){var p="bin";if(i(o)){var y=o;o=r(y,"key"),u=r(y,"url"),f=r(y,"xhrSettings"),p=r(y,"extension",p),d=r(y,"dataType",d)}var T={type:"binary",cache:s.cacheManager.binary,extension:p,responseType:"arraybuffer",key:o,url:u,xhrSettings:f,config:{dataType:d}};l.call(this,s,T)},onProcess:function(){this.state=m.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(h,s,o,u){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,s,u,o));return this}),x.exports=n},97025:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(21859),h=t(57318),s=new c({Extends:i,initialize:function(u,f,d,p,y,T){var C,P;if(r(f)){var A=f;f=l(A,"key"),C=new a(u,{key:f,url:l(A,"textureURL"),extension:l(A,"textureExtension","png"),normalMap:l(A,"normalMap"),xhrSettings:l(A,"textureXhrSettings")}),P=new h(u,{key:f,url:l(A,"fontDataURL"),extension:l(A,"fontDataExtension","xml"),xhrSettings:l(A,"fontDataXhrSettings")})}else C=new a(u,f,d,y),P=new h(u,f,p,T);C.linkFile?i.call(this,u,"bitmapfont",f,[C,P,C.linkFile]):i.call(this,u,"bitmapfont",f,[C,P])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],u=this.files[1];o.addToCache();var f=o.cache.get(o.key),d=n(u.data,o.cache.getFrame(o.key),0,0,f);this.loader.cacheManager.bitmapFont.add(o.key,{data:d,texture:o.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(o,u,f,d,p){var y;if(Array.isArray(o))for(var T=0;T<o.length;T++)y=new s(this,o[T]),this.addFile(y.files);else y=new s(this,o,u,f,d,p),this.addFile(y.files);return this}),x.exports=s},16024:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f){var d="css";if(i(o)){var p=o;o=r(p,"key"),u=r(p,"url"),f=r(p,"xhrSettings"),d=r(p,"extension",d)}var y={type:"script",cache:!1,extension:d,responseType:"text",key:o,url:u,xhrSettings:f};l.call(this,s,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(h,s,o){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,s,o));return this}),x.exports=n},69559:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(38734),m=t(85722),l=t(83419),a=t(74099),r=t(95540),i=t(19550),n=t(41212),h=t(518),s=t(31403),o=t(46975),u=t(59327),f=t(26430),d=t(82038),p=t(55222),y=new l({Extends:f,initialize:function(C,P,A,w){if(A.multiAtlasURL){var L=new h(C,{key:P,url:A.multiAtlasURL,xhrSettings:w,config:A});f.call(this,C,"texture",P,[L])}else{var B=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=B.toLowerCase()==="ktx"?"KTX":"PVR");var F=new m(C,{key:P,url:A.textureURL,extension:B,xhrSettings:w,config:A});if(A.atlasURL){var b=new h(C,{key:P,url:A.atlasURL,xhrSettings:w,config:A});f.call(this,C,"texture",P,[F,b])}else f.call(this,C,"texture",P,[F])}this.config=A},onFileComplete:function(T){var C=this.files.indexOf(T);if(C!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var P=T.data.textures,A=this.config,w=this.loader,L=w.baseURL,B=w.path,F=w.prefix,b=r(A,"multiBaseURL",this.baseURL),G=r(A,"multiPath",this.path),N=r(A,"prefix",this.prefix),U=r(A,"textureXhrSettings");b&&w.setBaseURL(b),G&&w.setPath(G),N&&w.setPrefix(N);for(var W=0;W<P.length;W++){var H=P[W].image,k="CMA"+this.multiKeyIndex+"_"+H,z=new m(w,k,H,U);if(this.addToMultiFile(z),w.addFile(z),P[W].normalMap){var $=new m(w,k,P[W].normalMap,U);$.type="normalMap",z.setLink($),this.addToMultiFile($),w.addFile($)}}w.setBaseURL(L),w.setPath(B),w.setPrefix(F)}}},addToCache:function(){function T(b){console.warn('Compressed Texture Invalid: "'+L.key+'". '+b)}if(this.isReadyToProcess()){var C=this.config;if(C.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,A=this.loader.textureManager,w,L=this.files[0],B=this.files[1];if(C.type==="PVR"?w=d(L.data):C.type==="KTX"&&(w=s(L.data),w||T("KTX file contains unsupported format.")),w&&!p(w)&&(T("Texture dimensions failed verification. Check the texture format specifications for "+C.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!P.supportsCompressedTexture(C.format,w.internalFormat)&&(T("Texture format "+C.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=P.getCompressedTextureName(C.format,w.internalFormat);var F=B&&B.data?B.data:null;A.addCompressedTexture(L.key,w,F)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,C=this.files[0],P=[],A=[],w=[],L=this.loader.systems.renderer,B=this.loader.textureManager,F,b=1;b<this.files.length;b++){var G=this.files[b];if(G.type!=="normalMap")for(var N=G.key.indexOf("_"),U=G.key.substr(N+1),W=G.data,H=0;H<C.data.textures.length;H++){var k=C.data.textures[H];if(k.image===U){T.type==="PVR"?F=d(W):T.type==="KTX"&&(F=s(W)),F&&L.supportsCompressedTexture(T.format,F.internalFormat)&&(F.format=L.getCompressedTextureName(T.format,F.internalFormat),A.push(F),P.push(k),G.linkFile&&w.push(G.linkFile.data));break}}}w.length===0&&(w=void 0),B.addAtlasJSONArray(this.key,A,P,w),this.complete=!0}});a.register("texture",function(T,C,P){var A=this.systems.renderer,w=function(B,F,b,G){var N={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(F)){var U=F;F=r(U,"key"),b=r(U,"url"),G=r(U,"xhrSettings")}var W=!1;for(var H in b)if(A.supportsCompressedTexture(H)){var k=b[H];typeof k=="string"?N.textureURL=k:N=o(k,N),N.format=H.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",F);else if(N.format==="IMG"){var z,$;N.multiAtlasURL?($=new u(B,F,N.multiAtlasURL,N.multiPath,N.multiBaseURL,G),z=$.files):N.atlasURL?($=new c(B,F,N.textureURL,N.atlasURL,G),z=$.files):z=new i(B,F,N.textureURL,G),B.addFile(z)}else{var X=new y(B,F,N,G);B.addFile(X.files)}};if(Array.isArray(T))for(var L=0;L<T.length;L++)w(this,T[L]);else w(this,T,C,P);return this}),x.exports=y},87674:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(98356),n=t(41212),h=new c({Extends:l,initialize:function(o,u,f,d,p,y){var T="ttf";if(n(u)){var C=u;u=r(C,"key"),f=r(C,"url"),d=r(C,"format","truetype"),p=r(C,"descriptors",null),y=r(C,"xhrSettings"),T=r(C,"extension",T)}else d===void 0&&(d="truetype");var P={type:"font",cache:!1,extension:T,responseType:"text",key:u,url:f,xhrSettings:y};l.call(this,o,P),this.data={format:d,descriptors:p},this.state=m.FILE_POPULATED},onProcess:function(){this.state=m.FILE_PROCESSING,this.src=i(this,this.loader.baseURL);var s,o=this.key,u="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?s=new FontFace(o,u,this.data.descriptors):s=new FontFace(o,u);var f=this;s.load().then(function(){document.fonts.add(s),document.body.classList.add("fonts-loaded"),f.onProcessComplete()}).catch(function(){console.warn("Font failed to load",u),f.onProcessComplete()})}});a.register("font",function(s,o,u,f,d){if(Array.isArray(s))for(var p=0;p<s.length;p++)this.addFile(new h(this,s[p]));else this.addFile(new h(this,s,o,u,f,d));return this}),x.exports=h},47931:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(73894),h=new c({Extends:l,initialize:function(o,u,f,d,p){var y="glsl";if(i(u)){var T=u;u=r(T,"key"),f=r(T,"url"),d=r(T,"shaderType","fragment"),p=r(T,"xhrSettings"),y=r(T,"extension",y)}else d===void 0&&(d="fragment");var C={type:"glsl",cache:o.cacheManager.shader,extension:y,responseType:"text",key:u,url:f,config:{shaderType:d},xhrSettings:p};l.call(this,o,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s=this.data.split(`
`),o=this.extractBlock(s,0);if(o)for(;o;){var u=this.getShaderName(o.header),f=this.getShaderType(o.header),d=this.getShaderUniforms(o.header),p=o.shader;if(this.cache.has(u)){var y=this.cache.get(u);f==="fragment"?y.fragmentSrc=p:y.vertexSrc=p,y.uniforms||(y.uniforms=d)}else f==="fragment"?this.cache.add(u,new n(u,p,"",d)):this.cache.add(u,new n(u,"",p,d));o=this.extractBlock(s,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(s){for(var o=0;o<s.length;o++){var u=s[o].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(s){for(var o=0;o<s.length;o++){var u=s[o].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(s){for(var o={},u=0;u<s.length;u++){var f=s[u].trim();if(f.substring(0,8)==="uniform."){var d=f.indexOf(":");if(d){var p=f.substring(8,d);try{o[p]=JSON.parse(f.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return o},extractBlock:function(s,o){for(var u=-1,f=-1,d=-1,p=!1,y=!1,T=[],C=[],P=o;P<s.length;P++){var A=s[P].trim();if(A==="---")if(u===-1)u=P,p=!0;else if(p)f=P,p=!1,y=!0;else{y=!1;break}else p?T.push(A):y&&(C.push(A),d=P)}return!p&&f!==-1?{header:T,shader:C.join(`
`),offset:d}:null}});a.register("glsl",function(s,o,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new h(this,s[d]));else this.addFile(new h(this,s,o,u,f));return this}),x.exports=h},89749:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(54899),l=t(41299),a=t(95540),r=t(98356),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f){if(i(o)){var d=o;o=a(d,"key"),f=a(d,"config",f)}var p={type:"audio",cache:s.cacheManager.audio,extension:u.type,key:o,url:u.url,config:f};l.call(this,s,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var s=this.data[h];s.oncanplaythrough=null,s.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var s=h.target;s.oncanplaythrough=null,s.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var s=0;s<h;s++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+s).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(s=0;s<this.data.length;s++)o=this.data[s],o.src=r(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});x.exports=n},88470:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f){var d="html";if(i(o)){var p=o;o=r(p,"key"),u=r(p,"url"),f=r(p,"xhrSettings"),d=r(p,"extension",d)}var y={type:"text",cache:s.cacheManager.html,extension:d,responseType:"text",key:o,url:u,xhrSettings:f};l.call(this,s,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(h,s,o){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,s,o));return this}),x.exports=n},14643:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f,d,p){f===void 0&&(f=512),d===void 0&&(d=512);var y="html";if(i(o)){var T=o;o=r(T,"key"),u=r(T,"url"),p=r(T,"xhrSettings"),y=r(T,"extension",y),f=r(T,"width",f),d=r(T,"height",d)}var C={type:"html",cache:s.textureManager,extension:y,responseType:"text",key:o,url:u,xhrSettings:p,config:{width:f,height:d}};l.call(this,s,C)},onProcess:function(){this.state=m.FILE_PROCESSING;var h=this.config.width,s=this.config.height,o=[];o.push('<svg width="'+h+'px" height="'+s+'px" viewBox="0 0 '+h+" "+s+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var u=[o.join(`
`)],f=this;try{var d=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{f.state=m.FILE_ERRORED,f.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){l.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(f.data),f.onProcessError()},l.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(h,s,o,u,f){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,s,o,u,f));return this}),x.exports=n},19550:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(98356),h=new c({Extends:l,initialize:function s(o,u,f,d,p){var y="png",T;if(i(u)){var C=u;u=r(C,"key"),f=r(C,"url"),T=r(C,"normalMap"),d=r(C,"xhrSettings"),y=r(C,"extension",y),p=r(C,"frameConfig")}Array.isArray(f)&&(T=f[1],f=f[0]);var P={type:"image",cache:o.textureManager,extension:y,responseType:"blob",key:u,url:f,xhrSettings:d,config:p};if(l.call(this,o,P),T){var A=new s(o,this.key,T,d,p);A.type="normalMap",this.setLink(A),o.addFile(A)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){l.revokeObjectURL(s.data),s.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(s.data),s.onProcessError()},l.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var s=this.state;this.state=m.FILE_PROCESSING,s===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=m.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=this;this.data.onload=function(){s.state=m.FILE_LOADED,s.loader.nextFile(s,!0)},this.data.onerror=function(){s.loader.nextFile(s,!1)},this.data.src=this.src},addToCache:function(){var s=this.linkFile;s?s.state>=m.FILE_COMPLETE&&(s.type==="spritesheet"?s.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,s.data,this.data):this.cache.addImage(this.key,this.data,s.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(s,o,u){if(Array.isArray(s))for(var f=0;f<s.length;f++)this.addFile(new h(this,s[f]));else this.addFile(new h(this,s,o,u));return this}),x.exports=h},518:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(35154),n=t(41212),h=new c({Extends:l,initialize:function(o,u,f,d,p){var y="json";if(n(u)){var T=u;u=r(T,"key"),f=r(T,"url"),d=r(T,"xhrSettings"),y=r(T,"extension",y),p=r(T,"dataKey",p)}var C={type:"json",cache:o.cacheManager.json,extension:y,responseType:"text",key:u,url:f,xhrSettings:d,config:p};l.call(this,o,C),n(f)&&(p?this.data=i(f,p):this.data=f,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var s=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var o=this.config;typeof o=="string"?this.data=i(s,o,s):this.data=s}this.onProcessComplete()}});a.register("json",function(s,o,u,f){if(Array.isArray(s))for(var d=0;d<s.length;d++)this.addFile(new h(this,s[d]));else this.addFile(new h(this,s,o,f,u));return this}),x.exports=h},59327:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(95540),a=t(19550),r=t(41212),i=t(518),n=t(26430),h=new c({Extends:n,initialize:function(o,u,f,d,p,y,T){if(r(u)){var C=u;u=l(C,"key"),l(C,"url",!1)?f=l(C,"url"):f=l(C,"atlasURL"),y=l(C,"xhrSettings"),d=l(C,"path"),p=l(C,"baseURL"),T=l(C,"textureXhrSettings")}var P=new i(o,u,f,y);n.call(this,o,"multiatlas",u,[P]),this.config.path=d,this.config.baseURL=p,this.config.textureXhrSettings=T},onFileComplete:function(s){var o=this.files.indexOf(s);if(o!==-1&&(this.pending--,s.type==="json"&&s.data.hasOwnProperty("textures"))){var u=s.data.textures,f=this.config,d=this.loader,p=d.baseURL,y=d.path,T=d.prefix,C=l(f,"baseURL",this.baseURL),P=l(f,"path",this.path),A=l(f,"prefix",this.prefix),w=l(f,"textureXhrSettings");d.setBaseURL(C),d.setPath(P),d.setPrefix(A);for(var L=0;L<u.length;L++){var B=u[L].image,F="MA"+this.multiKeyIndex+"_"+B,b=new a(d,F,B,w);if(this.addToMultiFile(b),d.addFile(b),u[L].normalMap){var G=new a(d,F,u[L].normalMap,w);G.type="normalMap",b.setLink(G),this.addToMultiFile(G),d.addFile(G)}}d.setBaseURL(p),d.setPath(y),d.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var s=this.files[0],o=[],u=[],f=[],d=1;d<this.files.length;d++){var p=this.files[d];if(p.type!=="normalMap")for(var y=p.key.indexOf("_"),T=p.key.substr(y+1),C=p.data,P=0;P<s.data.textures.length;P++){var A=s.data.textures[P];if(A.image===T){u.push(C),o.push(A),p.linkFile&&f.push(p.linkFile.data);break}}}f.length===0&&(f=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,o,f),this.complete=!0}}});m.register("multiatlas",function(s,o,u,f,d){var p;if(Array.isArray(s))for(var y=0;y<s.length;y++)p=new h(this,s[y]),this.addFile(p.files);else p=new h(this,s,o,u,f,d),this.addFile(p.files);return this}),x.exports=h},99297:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(95540),a=t(41212),r=t(26430),i=t(34328),n=new c({Extends:r,initialize:function(s,o,u,f){var d="js",p=[];if(a(o)){var y=o;o=l(y,"key"),u=l(y,"url"),f=l(y,"xhrSettings"),d=l(y,"extension",d)}Array.isArray(u)||(u=[u]);for(var T=0;T<u.length;T++){var C=new i(s,{key:o+"_"+T.toString(),url:u[T],extension:d,xhrSettings:f});C.onProcess=function(){this.onProcessComplete()},p.push(C)}r.call(this,s,"scripts",o,p)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var s=this.files[h];s.data=document.createElement("script"),s.data.language="javascript",s.data.type="text/javascript",s.data.defer=!1,s.data.text=s.xhrLoader.responseText,document.head.appendChild(s.data)}this.complete=!0}}});m.register("scripts",function(h,s,o){var u;if(Array.isArray(h))for(var f=0;f<h.length;f++)u=new n(this,h[f]),this.addFile(u.files);else u=new n(this,h,s,o),this.addFile(u.files);return this}),x.exports=n},41846:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(95540),a=t(41212),r=t(26430),i=t(85048),n=t(61485),h=t(78776),s=new c({Extends:r,initialize:function(u,f,d,p,y,T){var C,P,A=u.cacheManager.obj;if(a(f)){var w=f;f=l(w,"key"),C=new h(u,{key:f,type:"obj",cache:A,url:l(w,"url"),extension:l(w,"extension","obj"),xhrSettings:l(w,"xhrSettings"),config:{flipUV:l(w,"flipUV",y)}}),p=l(w,"matURL"),p&&(P=new h(u,{key:f,type:"mat",cache:A,url:p,extension:l(w,"matExtension","mat"),xhrSettings:l(w,"xhrSettings")}))}else C=new h(u,{key:f,url:d,type:"obj",cache:A,extension:"obj",xhrSettings:T,config:{flipUV:y}}),p&&(P=new h(u,{key:f,url:p,type:"mat",cache:A,extension:"mat",xhrSettings:T}));r.call(this,u,"obj",f,[C,P])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],u=this.files[1],f=i(o.data,o.config.flipUV);u&&(f.materials=n(u.data)),o.cache.add(o.key,f),this.complete=!0}}});m.register("obj",function(o,u,f,d,p){var y;if(Array.isArray(o))for(var T=0;T<o.length;T++)y=new s(this,o[T]),this.addFile(y.files);else y=new s(this,o,u,f,d,p),this.addFile(y.files);return this}),x.exports=s},58610:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(74099),a=t(518),r=new c({Extends:a,initialize:function(n,h,s,o,u){a.call(this,n,h,s,o,u),this.type="packfile"},onProcess:function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var i={};i[this.config]=this.data,this.data=i}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});l.register("pack",function(i,n,h,s){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new r(this,i[o]));else this.addFile(new r(this,i,n,s,h));return this}),x.exports=r},48988:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f,d,p){var y="js";if(i(o)){var T=o;o=r(T,"key"),u=r(T,"url"),p=r(T,"xhrSettings"),y=r(T,"extension",y),f=r(T,"start"),d=r(T,"mapping")}var C={type:"plugin",cache:!1,extension:y,responseType:"text",key:o,url:u,xhrSettings:p,config:{start:f,mapping:d}};l.call(this,s,C),typeof u=="function"&&(this.data=u,this.state=m.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,s=this.config,o=r(s,"start",!1),u=r(s,"mapping",null);if(this.state===m.FILE_POPULATED)h.install(this.key,this.data,o,u);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var f=h.install(this.key,window[this.key],o,u);(o||u)&&(this.loader.systems[u]=f,this.loader.scene[u]=f)}this.onProcessComplete()}});a.register("plugin",function(h,s,o,u,f){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,s,o,u,f));return this}),x.exports=n},67397:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f,d){var p="svg";if(i(o)){var y=o;o=r(y,"key"),u=r(y,"url"),f=r(y,"svgConfig",{}),d=r(y,"xhrSettings"),p=r(y,"extension",p)}var T={type:"svg",cache:s.textureManager,extension:p,responseType:"text",key:o,url:u,xhrSettings:d,config:{width:r(f,"width"),height:r(f,"height"),scale:r(f,"scale")}};l.call(this,s,T)},onProcess:function(){this.state=m.FILE_PROCESSING;var h=this.xhrLoader.responseText,s=[h],o=this.config.width,u=this.config.height,f=this.config.scale;t:if(o&&u||f){var d=null,p=new DOMParser;d=p.parseFromString(h,"text/xml");var y=d.getElementsByTagName("svg")[0],T=y.hasAttribute("viewBox"),C=parseFloat(y.getAttribute("width")),P=parseFloat(y.getAttribute("height"));if(!T&&C&&P)y.setAttribute("viewBox","0  0 "+C+" "+P);else if(T&&!C&&!P){var A=y.getAttribute("viewBox").split(/\s+|,/);C=A[2],P=A[3]}if(f)if(C&&P)o=C*f,u=P*f;else break t;y.setAttribute("width",o.toString()+"px"),y.setAttribute("height",u.toString()+"px"),s=[new XMLSerializer().serializeToString(y)]}try{var w=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,B=!1;this.data.onload=function(){B||l.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){B?L.onProcessError():(B=!0,l.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(s.join("")))},l.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(h,s,o,u){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,s,o,u));return this}),x.exports=n},88423:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f){var d="js";if(i(o)){var p=o;o=r(p,"key"),u=r(p,"url"),f=r(p,"xhrSettings"),d=r(p,"extension",d)}var y={type:"text",extension:d,responseType:"text",key:o,url:u,xhrSettings:f};l.call(this,s,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),s=eval;this.loader.sceneManager.add(this.key,s(h)),this.complete=!0}});a.register("sceneFile",function(h,s,o){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,s,o));return this}),x.exports=n},56812:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f,d,p){var y="js";if(i(o)){var T=o;o=r(T,"key"),u=r(T,"url"),p=r(T,"xhrSettings"),y=r(T,"extension",y),f=r(T,"systemKey"),d=r(T,"sceneKey")}var C={type:"scenePlugin",cache:!1,extension:y,responseType:"text",key:o,url:u,xhrSettings:p,config:{systemKey:f,sceneKey:d}};l.call(this,s,C),typeof u=="function"&&(this.data=u,this.state=m.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,s=this.config,o=this.key,u=r(s,"systemKey",o),f=r(s,"sceneKey",o);this.state===m.FILE_POPULATED?h.installScenePlugin(u,this.data,f,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(u,window[this.key],f,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(h,s,o,u,f){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,s,o,u,f));return this}),x.exports=n},34328:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f,d){var p="js";if(i(o)){var y=o;o=r(y,"key"),u=r(y,"url"),f=r(y,"type","script"),d=r(y,"xhrSettings"),p=r(y,"extension",p)}else f===void 0&&(f="script");var T={type:f,cache:!1,extension:p,responseType:"text",key:o,url:u,xhrSettings:d};l.call(this,s,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(h,s,o,u){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,s,o,u));return this}),x.exports=n},85035:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(74099),a=t(19550),r=new c({Extends:a,initialize:function(n,h,s,o,u){a.call(this,n,h,s,u,o),this.type="spritesheet"},addToCache:function(){var i=this.linkFile;i?i.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,i.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,i.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});l.register("spritesheet",function(i,n,h,s){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new r(this,i[o]));else this.addFile(new r(this,i,n,h,s));return this}),x.exports=r},78776:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=new c({Extends:l,initialize:function(s,o,u,f){var d="text",p="txt",y=s.cacheManager.text;if(i(o)){var T=o;o=r(T,"key"),u=r(T,"url"),f=r(T,"xhrSettings"),p=r(T,"extension",p),d=r(T,"type",d),y=r(T,"cache",y)}var C={type:d,cache:y,extension:p,responseType:"text",key:o,url:u,xhrSettings:f};l.call(this,s,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(h,s,o){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,s,o));return this}),x.exports=n},49477:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(80341),h=new c({Extends:l,initialize:function(o,u,f,d){var p="csv";if(i(u)){var y=u;u=r(y,"key"),f=r(y,"url"),d=r(y,"xhrSettings"),p=r(y,"extension",p)}var T={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:p,responseType:"text",key:u,url:f,xhrSettings:d};l.call(this,o,T),this.tilemapFormat=n.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var s={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,s)}});a.register("tilemapCSV",function(s,o,u){if(Array.isArray(s))for(var f=0;f<s.length;f++)this.addFile(new h(this,s[f]));else this.addFile(new h(this,s,o,u));return this}),x.exports=h},40807:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(518),a=t(80341),r=new c({Extends:l,initialize:function(n,h,s,o){l.call(this,n,h,s,o),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i)}});m.register("tilemapImpact",function(i,n,h){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new r(this,i[s]));else this.addFile(new r(this,i,n,h));return this}),x.exports=r},56775:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(518),a=t(80341),r=new c({Extends:l,initialize:function(n,h,s,o){l.call(this,n,h,s,o),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i)}});m.register("tilemapTiledJSON",function(i,n,h){if(Array.isArray(i))for(var s=0;s<i.length;s++)this.addFile(new r(this,i[s]));else this.addFile(new r(this,i,n,h));return this}),x.exports=r},25771:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(74099),l=t(95540),a=t(19550),r=t(41212),i=t(26430),n=t(78776),h=new c({Extends:i,initialize:function(o,u,f,d,p,y){var T,C;if(r(u)){var P=u;u=l(P,"key"),T=new a(o,{key:u,url:l(P,"textureURL"),extension:l(P,"textureExtension","png"),normalMap:l(P,"normalMap"),xhrSettings:l(P,"textureXhrSettings")}),C=new n(o,{key:u,url:l(P,"atlasURL"),extension:l(P,"atlasExtension","txt"),xhrSettings:l(P,"atlasXhrSettings")})}else T=new a(o,u,f,p),C=new n(o,u,d,y);T.linkFile?i.call(this,o,"unityatlas",u,[T,C,T.linkFile]):i.call(this,o,"unityatlas",u,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var s=this.files[0],o=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(s.key,s.data,o.data,u),this.complete=!0}}});m.register("unityAtlas",function(s,o,u,f,d){var p;if(Array.isArray(s))for(var y=0;y<s.length;y++)p=new h(this,s[y]),this.addFile(p.files);else p=new h(this,s,o,u,f,d),this.addFile(p.files);return this}),x.exports=h},33720:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(98356),i=t(95540),n=t(41212),h=new c({Extends:l,initialize:function(o,u,f,d){if(d===void 0&&(d=!1),n(u)){var p=u;u=i(p,"key"),f=i(p,"url",[]),d=i(p,"noAudio",!1)}var y=o.systems.game.device.video.getVideoURL(f);y||console.warn("VideoFile: No supported format for "+u);var T={type:"video",cache:o.cacheManager.video,extension:y.type,key:u,url:y.url,config:{noAudio:d}};l.call(this,o,T)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(s,o,u){if(Array.isArray(s))for(var f=0;f<s.length;f++)this.addFile(new h(this,s[f]));else this.addFile(new h(this,s,o,u));return this}),x.exports=h},57318:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(23906),l=t(41299),a=t(74099),r=t(95540),i=t(41212),n=t(56836),h=new c({Extends:l,initialize:function(o,u,f,d){var p="xml";if(i(u)){var y=u;u=r(y,"key"),f=r(y,"url"),d=r(y,"xhrSettings"),p=r(y,"extension",p)}var T={type:"xml",cache:o.cacheManager.xml,extension:p,responseType:"text",key:u,url:f,xhrSettings:d};l.call(this,o,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(s,o,u){if(Array.isArray(s))for(var f=0;f<s.length;f++)this.addFile(new h(this,s[f]));else this.addFile(new h(this,s,o,u));return this}),x.exports=h},64589:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(23906),m=t(79291),l={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};l=m(!1,l,c),x.exports=l},53307:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){for(var c=0,m=0;m<t.length;m++)c+=+t[m];return c/t.length};x.exports=M},85710:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(6411),m=function(l,a){return c(l)/c(a)/c(l-a)};x.exports=m},30976:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return Math.floor(Math.random()*(c-t+1)+t)};x.exports=M},87842:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a){var r=(l-c)*.5,i=(a-m)*.5,n=t*t,h=t*n;return(2*m-2*l+r+i)*h+(-3*m+3*l-2*r-i)*n+r*t+m};x.exports=M},26302:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){c===void 0&&(c=0),m===void 0&&(m=10);var l=Math.pow(m,-c);return Math.ceil(t*l)/l};x.exports=M},45319:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return Math.max(c,Math.min(m,t))};x.exports=M},39506:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=function(l){return l*c.DEG_TO_RAD};x.exports=m},61241:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return Math.abs(t-c)};x.exports=M},38857:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(37867),a=t(29747),r=new l,i=new m({initialize:function n(h,s,o,u){h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=n.DefaultOrder),this._x=h,this._y=s,this._z=o,this._order=u,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,h,s,o){return o===void 0&&(o=this._order),this._x=n,this._y=h,this._z=s,this._order=o,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,h,s){return h===void 0&&(h=this._order),s===void 0&&(s=!1),r.fromQuat(n),this.setFromRotationMatrix(r,h,s)},setFromRotationMatrix:function(n,h,s){h===void 0&&(h=this._order),s===void 0&&(s=!1);var o=n.val,u=o[0],f=o[4],d=o[8],p=o[1],y=o[5],T=o[9],C=o[2],P=o[6],A=o[10],w=0,L=0,B=0,F=.99999;switch(h){case"XYZ":{L=Math.asin(c(d,-1,1)),Math.abs(d)<F?(w=Math.atan2(-T,A),B=Math.atan2(-f,u)):w=Math.atan2(P,y);break}case"YXZ":{w=Math.asin(-c(T,-1,1)),Math.abs(T)<F?(L=Math.atan2(d,A),B=Math.atan2(p,y)):L=Math.atan2(-C,u);break}case"ZXY":{w=Math.asin(c(P,-1,1)),Math.abs(P)<F?(L=Math.atan2(-C,A),B=Math.atan2(-f,y)):B=Math.atan2(p,u);break}case"ZYX":{L=Math.asin(-c(C,-1,1)),Math.abs(C)<F?(w=Math.atan2(P,A),B=Math.atan2(p,u)):B=Math.atan2(-f,y);break}case"YZX":{B=Math.asin(c(p,-1,1)),Math.abs(p)<F?(w=Math.atan2(-T,y),L=Math.atan2(-C,u)):L=Math.atan2(d,A);break}case"XZY":{B=Math.asin(-c(f,-1,1)),Math.abs(f)<F?(w=Math.atan2(P,y),L=Math.atan2(d,u)):w=Math.atan2(-T,A);break}}return this._x=w,this._y=L,this._z=B,this._order=h,s&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",x.exports=i},6411:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){if(t===0)return 1;for(var c=t;--t;)c*=t;return c};x.exports=M},99472:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return Math.random()*(c-t)+t};x.exports=M},77623:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){c===void 0&&(c=0),m===void 0&&(m=10);var l=Math.pow(m,-c);return Math.floor(t*l)/l};x.exports=M},62945:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=function(l,a,r){return l=c(l,0,1),(r-a)*l+a};x.exports=m},38265:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t/c/1e3};x.exports=M},78702:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t==parseFloat(t)?!(t%2):void 0};x.exports=M},94883:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t===parseFloat(t)?!(t%2):void 0};x.exports=M},28915:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return(c-t)*m+t};x.exports=M},94908:x=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return m===void 0&&(m=0),t.clone().lerp(c,m)};x.exports=M},94434:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new m(this)},set:function(l){return this.copy(l)},copy:function(l){var a=this.val,r=l.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},fromMat4:function(l){var a=l.val,r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[4],r[4]=a[5],r[5]=a[6],r[6]=a[8],r[7]=a[9],r[8]=a[10],this},fromArray:function(l){var a=this.val;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a[6]=l[6],a[7]=l[7],a[8]=l[8],this},identity:function(){var l=this.val;return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=0,l[8]=1,this},transpose:function(){var l=this.val,a=l[1],r=l[2],i=l[5];return l[1]=l[3],l[2]=l[6],l[3]=a,l[5]=l[7],l[6]=r,l[7]=i,this},invert:function(){var l=this.val,a=l[0],r=l[1],i=l[2],n=l[3],h=l[4],s=l[5],o=l[6],u=l[7],f=l[8],d=f*h-s*u,p=-f*n+s*o,y=u*n-h*o,T=a*d+r*p+i*y;return T?(T=1/T,l[0]=d*T,l[1]=(-f*r+i*u)*T,l[2]=(s*r-i*h)*T,l[3]=p*T,l[4]=(f*a-i*o)*T,l[5]=(-s*a+i*n)*T,l[6]=y*T,l[7]=(-u*a+r*o)*T,l[8]=(h*a-r*n)*T,this):null},adjoint:function(){var l=this.val,a=l[0],r=l[1],i=l[2],n=l[3],h=l[4],s=l[5],o=l[6],u=l[7],f=l[8];return l[0]=h*f-s*u,l[1]=i*u-r*f,l[2]=r*s-i*h,l[3]=s*o-n*f,l[4]=a*f-i*o,l[5]=i*n-a*s,l[6]=n*u-h*o,l[7]=r*o-a*u,l[8]=a*h-r*n,this},determinant:function(){var l=this.val,a=l[0],r=l[1],i=l[2],n=l[3],h=l[4],s=l[5],o=l[6],u=l[7],f=l[8];return a*(f*h-s*u)+r*(-f*n+s*o)+i*(u*n-h*o)},multiply:function(l){var a=this.val,r=a[0],i=a[1],n=a[2],h=a[3],s=a[4],o=a[5],u=a[6],f=a[7],d=a[8],p=l.val,y=p[0],T=p[1],C=p[2],P=p[3],A=p[4],w=p[5],L=p[6],B=p[7],F=p[8];return a[0]=y*r+T*h+C*u,a[1]=y*i+T*s+C*f,a[2]=y*n+T*o+C*d,a[3]=P*r+A*h+w*u,a[4]=P*i+A*s+w*f,a[5]=P*n+A*o+w*d,a[6]=L*r+B*h+F*u,a[7]=L*i+B*s+F*f,a[8]=L*n+B*o+F*d,this},translate:function(l){var a=this.val,r=l.x,i=l.y;return a[6]=r*a[0]+i*a[3]+a[6],a[7]=r*a[1]+i*a[4]+a[7],a[8]=r*a[2]+i*a[5]+a[8],this},rotate:function(l){var a=this.val,r=a[0],i=a[1],n=a[2],h=a[3],s=a[4],o=a[5],u=Math.sin(l),f=Math.cos(l);return a[0]=f*r+u*h,a[1]=f*i+u*s,a[2]=f*n+u*o,a[3]=f*h-u*r,a[4]=f*s-u*i,a[5]=f*o-u*n,this},scale:function(l){var a=this.val,r=l.x,i=l.y;return a[0]=r*a[0],a[1]=r*a[1],a[2]=r*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(l){var a=l.x,r=l.y,i=l.z,n=l.w,h=a+a,s=r+r,o=i+i,u=a*h,f=a*s,d=a*o,p=r*s,y=r*o,T=i*o,C=n*h,P=n*s,A=n*o,w=this.val;return w[0]=1-(p+T),w[3]=f+A,w[6]=d-P,w[1]=f-A,w[4]=1-(u+T),w[7]=y+C,w[2]=d+P,w[5]=y-C,w[8]=1-(u+p),this},normalFromMat4:function(l){var a=l.val,r=this.val,i=a[0],n=a[1],h=a[2],s=a[3],o=a[4],u=a[5],f=a[6],d=a[7],p=a[8],y=a[9],T=a[10],C=a[11],P=a[12],A=a[13],w=a[14],L=a[15],B=i*u-n*o,F=i*f-h*o,b=i*d-s*o,G=n*f-h*u,N=n*d-s*u,U=h*d-s*f,W=p*A-y*P,H=p*w-T*P,k=p*L-C*P,z=y*w-T*A,$=y*L-C*A,X=T*L-C*w,Q=B*X-F*$+b*z+G*k-N*H+U*W;return Q?(Q=1/Q,r[0]=(u*X-f*$+d*z)*Q,r[1]=(f*k-o*X-d*H)*Q,r[2]=(o*$-u*k+d*W)*Q,r[3]=(h*$-n*X-s*z)*Q,r[4]=(i*X-h*k+s*H)*Q,r[5]=(n*k-i*$-s*W)*Q,r[6]=(A*U-w*N+L*G)*Q,r[7]=(w*b-P*U-L*F)*Q,r[8]=(P*N-A*b+L*B)*Q,this):null}});x.exports=m},37867:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(25836),l=1e-6,a=new c({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new a(this)},set:function(o){return this.copy(o)},setValues:function(o,u,f,d,p,y,T,C,P,A,w,L,B,F,b,G){var N=this.val;return N[0]=o,N[1]=u,N[2]=f,N[3]=d,N[4]=p,N[5]=y,N[6]=T,N[7]=C,N[8]=P,N[9]=A,N[10]=w,N[11]=L,N[12]=B,N[13]=F,N[14]=b,N[15]=G,this},copy:function(o){var u=o.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,u,f){var d=r.fromQuat(f),p=d.val,y=u.x,T=u.y,C=u.z;return this.setValues(p[0]*y,p[1]*y,p[2]*y,0,p[4]*T,p[5]*T,p[6]*T,0,p[8]*C,p[9]*C,p[10]*C,0,o.x,o.y,o.z,1)},xyz:function(o,u,f){this.identity();var d=this.val;return d[12]=o,d[13]=u,d[14]=f,this},scaling:function(o,u,f){this.zero();var d=this.val;return d[0]=o,d[5]=u,d[10]=f,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,u=o[1],f=o[2],d=o[3],p=o[6],y=o[7],T=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=u,o[6]=o[9],o[7]=o[13],o[8]=f,o[9]=p,o[11]=o[14],o[12]=d,o[13]=y,o[14]=T,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,u=o[0],f=o[1],d=o[2],p=o[3],y=o[4],T=o[5],C=o[6],P=o[7],A=o[8],w=o[9],L=o[10],B=o[11],F=o[12],b=o[13],G=o[14],N=o[15],U=u*T-f*y,W=u*C-d*y,H=u*P-p*y,k=f*C-d*T,z=f*P-p*T,$=d*P-p*C,X=A*b-w*F,Q=A*G-L*F,Z=A*N-B*F,K=w*G-L*b,J=w*N-B*b,q=L*N-B*G,tt=U*q-W*J+H*K+k*Z-z*Q+$*X;return tt?(tt=1/tt,this.setValues((T*q-C*J+P*K)*tt,(d*J-f*q-p*K)*tt,(b*$-G*z+N*k)*tt,(L*z-w*$-B*k)*tt,(C*Z-y*q-P*Q)*tt,(u*q-d*Z+p*Q)*tt,(G*H-F*$-N*W)*tt,(A*$-L*H+B*W)*tt,(y*J-T*Z+P*X)*tt,(f*Z-u*J-p*X)*tt,(F*z-b*H+N*U)*tt,(w*H-A*z-B*U)*tt,(T*Q-y*K-C*X)*tt,(u*K-f*Q+d*X)*tt,(b*W-F*k-G*U)*tt,(A*k-w*W+L*U)*tt)):this},adjoint:function(){var o=this.val,u=o[0],f=o[1],d=o[2],p=o[3],y=o[4],T=o[5],C=o[6],P=o[7],A=o[8],w=o[9],L=o[10],B=o[11],F=o[12],b=o[13],G=o[14],N=o[15];return this.setValues(T*(L*N-B*G)-w*(C*N-P*G)+b*(C*B-P*L),-(f*(L*N-B*G)-w*(d*N-p*G)+b*(d*B-p*L)),f*(C*N-P*G)-T*(d*N-p*G)+b*(d*P-p*C),-(f*(C*B-P*L)-T*(d*B-p*L)+w*(d*P-p*C)),-(y*(L*N-B*G)-A*(C*N-P*G)+F*(C*B-P*L)),u*(L*N-B*G)-A*(d*N-p*G)+F*(d*B-p*L),-(u*(C*N-P*G)-y*(d*N-p*G)+F*(d*P-p*C)),u*(C*B-P*L)-y*(d*B-p*L)+A*(d*P-p*C),y*(w*N-B*b)-A*(T*N-P*b)+F*(T*B-P*w),-(u*(w*N-B*b)-A*(f*N-p*b)+F*(f*B-p*w)),u*(T*N-P*b)-y*(f*N-p*b)+F*(f*P-p*T),-(u*(T*B-P*w)-y*(f*B-p*w)+A*(f*P-p*T)),-(y*(w*G-L*b)-A*(T*G-C*b)+F*(T*L-C*w)),u*(w*G-L*b)-A*(f*G-d*b)+F*(f*L-d*w),-(u*(T*G-C*b)-y*(f*G-d*b)+F*(f*C-d*T)),u*(T*L-C*w)-y*(f*L-d*w)+A*(f*C-d*T))},determinant:function(){var o=this.val,u=o[0],f=o[1],d=o[2],p=o[3],y=o[4],T=o[5],C=o[6],P=o[7],A=o[8],w=o[9],L=o[10],B=o[11],F=o[12],b=o[13],G=o[14],N=o[15],U=u*T-f*y,W=u*C-d*y,H=u*P-p*y,k=f*C-d*T,z=f*P-p*T,$=d*P-p*C,X=A*b-w*F,Q=A*G-L*F,Z=A*N-B*F,K=w*G-L*b,J=w*N-B*b,q=L*N-B*G;return U*q-W*J+H*K+k*Z-z*Q+$*X},multiply:function(o){var u=this.val,f=u[0],d=u[1],p=u[2],y=u[3],T=u[4],C=u[5],P=u[6],A=u[7],w=u[8],L=u[9],B=u[10],F=u[11],b=u[12],G=u[13],N=u[14],U=u[15],W=o.val,H=W[0],k=W[1],z=W[2],$=W[3];return u[0]=H*f+k*T+z*w+$*b,u[1]=H*d+k*C+z*L+$*G,u[2]=H*p+k*P+z*B+$*N,u[3]=H*y+k*A+z*F+$*U,H=W[4],k=W[5],z=W[6],$=W[7],u[4]=H*f+k*T+z*w+$*b,u[5]=H*d+k*C+z*L+$*G,u[6]=H*p+k*P+z*B+$*N,u[7]=H*y+k*A+z*F+$*U,H=W[8],k=W[9],z=W[10],$=W[11],u[8]=H*f+k*T+z*w+$*b,u[9]=H*d+k*C+z*L+$*G,u[10]=H*p+k*P+z*B+$*N,u[11]=H*y+k*A+z*F+$*U,H=W[12],k=W[13],z=W[14],$=W[15],u[12]=H*f+k*T+z*w+$*b,u[13]=H*d+k*C+z*L+$*G,u[14]=H*p+k*P+z*B+$*N,u[15]=H*y+k*A+z*F+$*U,this},multiplyLocal:function(o){var u=this.val,f=o.val;return this.setValues(u[0]*f[0]+u[1]*f[4]+u[2]*f[8]+u[3]*f[12],u[0]*f[1]+u[1]*f[5]+u[2]*f[9]+u[3]*f[13],u[0]*f[2]+u[1]*f[6]+u[2]*f[10]+u[3]*f[14],u[0]*f[3]+u[1]*f[7]+u[2]*f[11]+u[3]*f[15],u[4]*f[0]+u[5]*f[4]+u[6]*f[8]+u[7]*f[12],u[4]*f[1]+u[5]*f[5]+u[6]*f[9]+u[7]*f[13],u[4]*f[2]+u[5]*f[6]+u[6]*f[10]+u[7]*f[14],u[4]*f[3]+u[5]*f[7]+u[6]*f[11]+u[7]*f[15],u[8]*f[0]+u[9]*f[4]+u[10]*f[8]+u[11]*f[12],u[8]*f[1]+u[9]*f[5]+u[10]*f[9]+u[11]*f[13],u[8]*f[2]+u[9]*f[6]+u[10]*f[10]+u[11]*f[14],u[8]*f[3]+u[9]*f[7]+u[10]*f[11]+u[11]*f[15],u[12]*f[0]+u[13]*f[4]+u[14]*f[8]+u[15]*f[12],u[12]*f[1]+u[13]*f[5]+u[14]*f[9]+u[15]*f[13],u[12]*f[2]+u[13]*f[6]+u[14]*f[10]+u[15]*f[14],u[12]*f[3]+u[13]*f[7]+u[14]*f[11]+u[15]*f[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,u){var f=o.val,d=u.val,p=f[0],y=f[4],T=f[8],C=f[12],P=f[1],A=f[5],w=f[9],L=f[13],B=f[2],F=f[6],b=f[10],G=f[14],N=f[3],U=f[7],W=f[11],H=f[15],k=d[0],z=d[4],$=d[8],X=d[12],Q=d[1],Z=d[5],K=d[9],J=d[13],q=d[2],tt=d[6],it=d[10],nt=d[14],rt=d[3],ht=d[7],dt=d[11],lt=d[15];return this.setValues(p*k+y*Q+T*q+C*rt,P*k+A*Q+w*q+L*rt,B*k+F*Q+b*q+G*rt,N*k+U*Q+W*q+H*rt,p*z+y*Z+T*tt+C*ht,P*z+A*Z+w*tt+L*ht,B*z+F*Z+b*tt+G*ht,N*z+U*Z+W*tt+H*ht,p*$+y*K+T*it+C*dt,P*$+A*K+w*it+L*dt,B*$+F*K+b*it+G*dt,N*$+U*K+W*it+H*dt,p*X+y*J+T*nt+C*lt,P*X+A*J+w*nt+L*lt,B*X+F*J+b*nt+G*lt,N*X+U*J+W*nt+H*lt)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,u,f){var d=this.val;return d[12]=d[0]*o+d[4]*u+d[8]*f+d[12],d[13]=d[1]*o+d[5]*u+d[9]*f+d[13],d[14]=d[2]*o+d[6]*u+d[10]*f+d[14],d[15]=d[3]*o+d[7]*u+d[11]*f+d[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,u,f){var d=this.val;return d[0]=d[0]*o,d[1]=d[1]*o,d[2]=d[2]*o,d[3]=d[3]*o,d[4]=d[4]*u,d[5]=d[5]*u,d[6]=d[6]*u,d[7]=d[7]*u,d[8]=d[8]*f,d[9]=d[9]*f,d[10]=d[10]*f,d[11]=d[11]*f,this},makeRotationAxis:function(o,u){var f=Math.cos(u),d=Math.sin(u),p=1-f,y=o.x,T=o.y,C=o.z,P=p*y,A=p*T;return this.setValues(P*y+f,P*T-d*C,P*C+d*T,0,P*T+d*C,A*T+f,A*C-d*y,0,P*C-d*T,A*C+d*y,p*C*C+f,0,0,0,0,1)},rotate:function(o,u){var f=this.val,d=u.x,p=u.y,y=u.z,T=Math.sqrt(d*d+p*p+y*y);if(Math.abs(T)<l)return this;T=1/T,d*=T,p*=T,y*=T;var C=Math.sin(o),P=Math.cos(o),A=1-P,w=f[0],L=f[1],B=f[2],F=f[3],b=f[4],G=f[5],N=f[6],U=f[7],W=f[8],H=f[9],k=f[10],z=f[11],$=f[12],X=f[13],Q=f[14],Z=f[15],K=d*d*A+P,J=p*d*A+y*C,q=y*d*A-p*C,tt=d*p*A-y*C,it=p*p*A+P,nt=y*p*A+d*C,rt=d*y*A+p*C,ht=p*y*A-d*C,dt=y*y*A+P;return this.setValues(w*K+b*J+W*q,L*K+G*J+H*q,B*K+N*J+k*q,F*K+U*J+z*q,w*tt+b*it+W*nt,L*tt+G*it+H*nt,B*tt+N*it+k*nt,F*tt+U*it+z*nt,w*rt+b*ht+W*dt,L*rt+G*ht+H*dt,B*rt+N*ht+k*dt,F*rt+U*ht+z*dt,$,X,Q,Z)},rotateX:function(o){var u=this.val,f=Math.sin(o),d=Math.cos(o),p=u[4],y=u[5],T=u[6],C=u[7],P=u[8],A=u[9],w=u[10],L=u[11];return u[4]=p*d+P*f,u[5]=y*d+A*f,u[6]=T*d+w*f,u[7]=C*d+L*f,u[8]=P*d-p*f,u[9]=A*d-y*f,u[10]=w*d-T*f,u[11]=L*d-C*f,this},rotateY:function(o){var u=this.val,f=Math.sin(o),d=Math.cos(o),p=u[0],y=u[1],T=u[2],C=u[3],P=u[8],A=u[9],w=u[10],L=u[11];return u[0]=p*d-P*f,u[1]=y*d-A*f,u[2]=T*d-w*f,u[3]=C*d-L*f,u[8]=p*f+P*d,u[9]=y*f+A*d,u[10]=T*f+w*d,u[11]=C*f+L*d,this},rotateZ:function(o){var u=this.val,f=Math.sin(o),d=Math.cos(o),p=u[0],y=u[1],T=u[2],C=u[3],P=u[4],A=u[5],w=u[6],L=u[7];return u[0]=p*d+P*f,u[1]=y*d+A*f,u[2]=T*d+w*f,u[3]=C*d+L*f,u[4]=P*d-p*f,u[5]=A*d-y*f,u[6]=w*d-T*f,u[7]=L*d-C*f,this},fromRotationTranslation:function(o,u){var f=o.x,d=o.y,p=o.z,y=o.w,T=f+f,C=d+d,P=p+p,A=f*T,w=f*C,L=f*P,B=d*C,F=d*P,b=p*P,G=y*T,N=y*C,U=y*P;return this.setValues(1-(B+b),w+U,L-N,0,w-U,1-(A+b),F+G,0,L+N,F-G,1-(A+B),0,u.x,u.y,u.z,1)},fromQuat:function(o){var u=o.x,f=o.y,d=o.z,p=o.w,y=u+u,T=f+f,C=d+d,P=u*y,A=u*T,w=u*C,L=f*T,B=f*C,F=d*C,b=p*y,G=p*T,N=p*C;return this.setValues(1-(L+F),A+N,w-G,0,A-N,1-(P+F),B+b,0,w+G,B-b,1-(P+L),0,0,0,0,1)},frustum:function(o,u,f,d,p,y){var T=1/(u-o),C=1/(d-f),P=1/(p-y);return this.setValues(p*2*T,0,0,0,0,p*2*C,0,0,(u+o)*T,(d+f)*C,(y+p)*P,-1,0,0,y*p*2*P,0)},perspective:function(o,u,f,d){var p=1/Math.tan(o/2),y=1/(f-d);return this.setValues(p/u,0,0,0,0,p,0,0,0,0,(d+f)*y,-1,0,0,2*d*f*y,0)},perspectiveLH:function(o,u,f,d){return this.setValues(2*f/o,0,0,0,0,2*f/u,0,0,0,0,-d/(f-d),1,0,0,f*d/(f-d),0)},ortho:function(o,u,f,d,p,y){var T=o-u,C=f-d,P=p-y;return T=T===0?T:1/T,C=C===0?C:1/C,P=P===0?P:1/P,this.setValues(-2*T,0,0,0,0,-2*C,0,0,0,0,2*P,0,(o+u)*T,(d+f)*C,(y+p)*P,1)},lookAtRH:function(o,u,f){var d=this.val;return s.subVectors(o,u),s.lengthSq()===0&&(s.z=1),s.normalize(),n.crossVectors(f,s),n.lengthSq()===0&&(Math.abs(f.z)===1?s.x+=1e-4:s.z+=1e-4,s.normalize(),n.crossVectors(f,s)),n.normalize(),h.crossVectors(s,n),d[0]=n.x,d[1]=n.y,d[2]=n.z,d[4]=h.x,d[5]=h.y,d[6]=h.z,d[8]=s.x,d[9]=s.y,d[10]=s.z,this},lookAt:function(o,u,f){var d=o.x,p=o.y,y=o.z,T=f.x,C=f.y,P=f.z,A=u.x,w=u.y,L=u.z;if(Math.abs(d-A)<l&&Math.abs(p-w)<l&&Math.abs(y-L)<l)return this.identity();var B=d-A,F=p-w,b=y-L,G=1/Math.sqrt(B*B+F*F+b*b);B*=G,F*=G,b*=G;var N=C*b-P*F,U=P*B-T*b,W=T*F-C*B;G=Math.sqrt(N*N+U*U+W*W),G?(G=1/G,N*=G,U*=G,W*=G):(N=0,U=0,W=0);var H=F*W-b*U,k=b*N-B*W,z=B*U-F*N;return G=Math.sqrt(H*H+k*k+z*z),G?(G=1/G,H*=G,k*=G,z*=G):(H=0,k=0,z=0),this.setValues(N,H,B,0,U,k,F,0,W,z,b,0,-(N*d+U*p+W*y),-(H*d+k*p+z*y),-(B*d+F*p+b*y),1)},yawPitchRoll:function(o,u,f){this.zero(),r.zero(),i.zero();var d=this.val,p=r.val,y=i.val,T=Math.sin(f),C=Math.cos(f);return d[10]=1,d[15]=1,d[0]=C,d[1]=T,d[4]=-T,d[5]=C,T=Math.sin(u),C=Math.cos(u),p[0]=1,p[15]=1,p[5]=C,p[10]=C,p[9]=-T,p[6]=T,T=Math.sin(o),C=Math.cos(o),y[5]=1,y[15]=1,y[0]=C,y[2]=-T,y[8]=T,y[10]=C,this.multiplyLocal(r),this.multiplyLocal(i),this},setWorldMatrix:function(o,u,f,d,p){return this.yawPitchRoll(o.y,o.x,o.z),r.scaling(f.x,f.y,f.z),i.xyz(u.x,u.y,u.z),this.multiplyLocal(r),this.multiplyLocal(i),d&&this.multiplyLocal(d),p&&this.multiplyLocal(p),this},multiplyToMat4:function(o,u){var f=this.val,d=o.val,p=f[0],y=f[1],T=f[2],C=f[3],P=f[4],A=f[5],w=f[6],L=f[7],B=f[8],F=f[9],b=f[10],G=f[11],N=f[12],U=f[13],W=f[14],H=f[15],k=d[0],z=d[1],$=d[2],X=d[3],Q=d[4],Z=d[5],K=d[6],J=d[7],q=d[8],tt=d[9],it=d[10],nt=d[11],rt=d[12],ht=d[13],dt=d[14],lt=d[15];return u.setValues(k*p+z*P+$*B+X*N,z*y+z*A+$*F+X*U,$*T+z*w+$*b+X*W,X*C+z*L+$*G+X*H,Q*p+Z*P+K*B+J*N,Q*y+Z*A+K*F+J*U,Q*T+Z*w+K*b+J*W,Q*C+Z*L+K*G+J*H,q*p+tt*P+it*B+nt*N,q*y+tt*A+it*F+nt*U,q*T+tt*w+it*b+nt*W,q*C+tt*L+it*G+nt*H,rt*p+ht*P+dt*B+lt*N,rt*y+ht*A+dt*F+lt*U,rt*T+ht*w+dt*b+lt*W,rt*C+ht*L+dt*G+lt*H)},fromRotationXYTranslation:function(o,u,f){var d=u.x,p=u.y,y=u.z,T=Math.sin(o.x),C=Math.cos(o.x),P=Math.sin(o.y),A=Math.cos(o.y),w=d,L=p,B=y,F=-T,b=0-F*P,G=0-C*P,N=F*A,U=C*A;return f||(w=A*d+P*y,L=b*d+C*p+N*y,B=G*d+T*p+U*y),this.setValues(A,b,G,0,0,C,T,0,P,N,U,0,w,L,B,1)},getMaxScaleOnAxis:function(){var o=this.val,u=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],f=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],d=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(u,f,d))}}),r=new a,i=new a,n=new m,h=new m,s=new m;x.exports=a},86883:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return Math.min(t+c,m)};x.exports=M},50040:x=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=t.length;if(c===0)return 0;t.sort(function(l,a){return l-a});var m=Math.floor(c/2);return c%2===0?(t[m]+t[m-1])/2:t[m]};x.exports=M},37204:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return Math.max(t-c,m)};x.exports=M},65201:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){m===void 0&&(m=c+1);var a=(t-c)/(m-c);return a>1?l!==void 0?(a=(l-t)/(l-m),a<0&&(a=0)):a=1:a<0&&(a=0),a};x.exports=M},15746:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(94434),l=t(29747),a=t(25836),r=1e-6,i=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),h=new a(1,0,0),s=new a(0,1,0),o=new a,u=new m,f=new c({initialize:function(p,y,T,C){this.onChangeCallback=l,this.set(p,y,T,C)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,p,y,T,C){return C===void 0&&(C=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=p||0,this._z=y||0,this._w=T||0),C&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,p=this.y,y=this.z,T=this.w;return Math.sqrt(d*d+p*p+y*y+T*T)},lengthSq:function(){var d=this.x,p=this.y,y=this.z,T=this.w;return d*d+p*p+y*y+T*T},normalize:function(){var d=this.x,p=this.y,y=this.z,T=this.w,C=d*d+p*p+y*y+T*T;return C>0&&(C=1/Math.sqrt(C),this._x=d*C,this._y=p*C,this._z=y*C,this._w=T*C),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,p){p===void 0&&(p=0);var y=this.x,T=this.y,C=this.z,P=this.w;return this.set(y+p*(d.x-y),T+p*(d.y-T),C+p*(d.z-C),P+p*(d.w-P))},rotationTo:function(d,p){var y=d.x*p.x+d.y*p.y+d.z*p.z;return y<-.999999?(o.copy(h).cross(d).length()<r&&o.copy(s).cross(d),o.normalize(),this.setAxisAngle(o,Math.PI)):y>.999999?this.set(0,0,0,1):(o.copy(d).cross(p),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+y,this.normalize())},setAxes:function(d,p,y){var T=u.val;return T[0]=p.x,T[3]=p.y,T[6]=p.z,T[1]=y.x,T[4]=y.y,T[7]=y.z,T[2]=-d.x,T[5]=-d.y,T[8]=-d.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,p){p=p*.5;var y=Math.sin(p);return this.set(y*d.x,y*d.y,y*d.z,Math.cos(p))},multiply:function(d){var p=this.x,y=this.y,T=this.z,C=this.w,P=d.x,A=d.y,w=d.z,L=d.w;return this.set(p*L+C*P+y*w-T*A,y*L+C*A+T*P-p*w,T*L+C*w+p*A-y*P,C*L-p*P-y*A-T*w)},slerp:function(d,p){var y=this.x,T=this.y,C=this.z,P=this.w,A=d.x,w=d.y,L=d.z,B=d.w,F=y*A+T*w+C*L+P*B;F<0&&(F=-F,A=-A,w=-w,L=-L,B=-B);var b=1-p,G=p;if(1-F>r){var N=Math.acos(F),U=Math.sin(N);b=Math.sin((1-p)*N)/U,G=Math.sin(p*N)/U}return this.set(b*y+G*A,b*T+G*w,b*C+G*L,b*P+G*B)},invert:function(){var d=this.x,p=this.y,y=this.z,T=this.w,C=d*d+p*p+y*y+T*T,P=C?1/C:0;return this.set(-d*P,-p*P,-y*P,T*P)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var p=this.x,y=this.y,T=this.z,C=this.w,P=Math.sin(d),A=Math.cos(d);return this.set(p*A+C*P,y*A+T*P,T*A-y*P,C*A-p*P)},rotateY:function(d){d*=.5;var p=this.x,y=this.y,T=this.z,C=this.w,P=Math.sin(d),A=Math.cos(d);return this.set(p*A-T*P,y*A+C*P,T*A+p*P,C*A-y*P)},rotateZ:function(d){d*=.5;var p=this.x,y=this.y,T=this.z,C=this.w,P=Math.sin(d),A=Math.cos(d);return this.set(p*A+y*P,y*A-p*P,T*A+C*P,C*A-T*P)},calculateW:function(){var d=this.x,p=this.y,y=this.z;return this.w=-Math.sqrt(1-d*d-p*p-y*y),this},setFromEuler:function(d,p){var y=d.x/2,T=d.y/2,C=d.z/2,P=Math.cos(y),A=Math.cos(T),w=Math.cos(C),L=Math.sin(y),B=Math.sin(T),F=Math.sin(C);switch(d.order){case"XYZ":{this.set(L*A*w+P*B*F,P*B*w-L*A*F,P*A*F+L*B*w,P*A*w-L*B*F,p);break}case"YXZ":{this.set(L*A*w+P*B*F,P*B*w-L*A*F,P*A*F-L*B*w,P*A*w+L*B*F,p);break}case"ZXY":{this.set(L*A*w-P*B*F,P*B*w+L*A*F,P*A*F+L*B*w,P*A*w-L*B*F,p);break}case"ZYX":{this.set(L*A*w-P*B*F,P*B*w+L*A*F,P*A*F-L*B*w,P*A*w+L*B*F,p);break}case"YZX":{this.set(L*A*w+P*B*F,P*B*w+L*A*F,P*A*F-L*B*w,P*A*w-L*B*F,p);break}case"XZY":{this.set(L*A*w-P*B*F,P*B*w-L*A*F,P*A*F+L*B*w,P*A*w+L*B*F,p);break}}return this},setFromRotationMatrix:function(d){var p=d.val,y=p[0],T=p[4],C=p[8],P=p[1],A=p[5],w=p[9],L=p[2],B=p[6],F=p[10],b=y+A+F,G;return b>0?(G=.5/Math.sqrt(b+1),this.set((B-w)*G,(C-L)*G,(P-T)*G,.25/G)):y>A&&y>F?(G=2*Math.sqrt(1+y-A-F),this.set(.25*G,(T+P)/G,(C+L)/G,(B-w)/G)):A>F?(G=2*Math.sqrt(1+A-y-F),this.set((T+P)/G,.25*G,(w+B)/G,(C-L)/G)):(G=2*Math.sqrt(1+F-y-A),this.set((C+L)/G,(w+B)/G,.25*G,(P-T)/G)),this},fromMat3:function(d){var p=d.val,y=p[0]+p[4]+p[8],T;if(y>0)T=Math.sqrt(y+1),this.w=.5*T,T=.5/T,this._x=(p[7]-p[5])*T,this._y=(p[2]-p[6])*T,this._z=(p[3]-p[1])*T;else{var C=0;p[4]>p[0]&&(C=1),p[8]>p[C*3+C]&&(C=2);var P=i[C],A=i[P];T=Math.sqrt(p[C*3+C]-p[P*3+P]-p[A*3+A]+1),n[C]=.5*T,T=.5/T,n[P]=(p[P*3+C]+p[C*3+P])*T,n[A]=(p[A*3+C]+p[C*3+A])*T,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(p[A*3+P]-p[P*3+A])*T}return this.onChangeCallback(this),this}});x.exports=f},43396:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=function(l){return l*c.RAD_TO_DEG};x.exports=m},74362:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=1);var m=Math.random()*2*Math.PI;return t.x=Math.cos(m)*c,t.y=Math.sin(m)*c,t};x.exports=M},60706:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=1);var m=Math.random()*2*Math.PI,l=Math.random()*2-1,a=Math.sqrt(1-l*l)*c;return t.x=Math.cos(m)*a,t.y=Math.sin(m)*a,t.z=l*c,t};x.exports=M},67421:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c=1),t.x=(Math.random()*2-1)*c,t.y=(Math.random()*2-1)*c,t.z=(Math.random()*2-1)*c,t.w=(Math.random()*2-1)*c,t};x.exports=M},36305:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.x,l=t.y;return t.x=m*Math.cos(c)-l*Math.sin(c),t.y=m*Math.sin(c)+l*Math.cos(c),t};x.exports=M},11520:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=Math.cos(l),r=Math.sin(l),i=t.x-c,n=t.y-m;return t.x=i*a-n*r+c,t.y=i*r+n*a+m,t};x.exports=M},1163:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a){var r=l+Math.atan2(t.y-m,t.x-c);return t.x=c+a*Math.cos(r),t.y=m+a*Math.sin(r),t};x.exports=M},70336:x=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a){return t.x=c+a*Math.cos(l),t.y=m+a*Math.sin(l),t};x.exports=M},72678:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(25836),m=t(37867),l=t(15746),a=new m,r=new l,i=new c,n=function(h,s,o){return r.setAxisAngle(s,o),a.fromRotationTranslation(r,i.set(0,0,0)),h.transformMat4(a)};x.exports=n},2284:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t>0?Math.ceil(t):Math.floor(t)};x.exports=M},41013:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){c===void 0&&(c=0),m===void 0&&(m=10);var l=Math.pow(m,-c);return Math.round(t*l)/l};x.exports=M},16922:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){c===void 0&&(c=1),m===void 0&&(m=1),l===void 0&&(l=1),l*=Math.PI/t;for(var a=[],r=[],i=0;i<t;i++)m-=c*l,c+=m*l,a[i]=m,r[i]=c;return{sin:r,cos:a,length:t}};x.exports=M},7602:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t<=c?0:t>=m?1:(t=(t-c)/(m-c),t*t*(3-2*t))};x.exports=M},54261:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t=Math.max(0,Math.min(1,(t-c)/(m-c))),t*t*t*(t*(t*6-15)+10)};x.exports=M},44408:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i){i===void 0&&(i=new c);var n=0,h=0,s=a*r;return l>0&&l<=s&&(l>a-1?(h=Math.floor(l/a),n=l-h*a):n=l),i.set(n,h)};x.exports=m},85955:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n,h,s,o){o===void 0&&(o=new c);var u=Math.sin(n),f=Math.cos(n),d=f*h,p=u*h,y=-u*s,T=f*s,C=1/(d*T+y*-p);return o.x=T*C*l+-y*C*a+(i*y-r*T)*C,o.y=d*C*a+-p*C*l+(-i*d+r*p)*C,o};x.exports=m},26099:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(43855),l=new c({initialize:function(r,i){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(i===void 0&&(i=r),this.x=r||0,this.y=i||0)},clone:function(){return new l(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,r){return r===void 0&&(r=a),this.x=a,this.y=r,this},setTo:function(a,r){return this.set(a,r)},setToPolar:function(a,r){return r==null&&(r=1),this.x=Math.cos(a)*r,this.y=Math.sin(a)*r,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,r){return m(this.x,a.x,r)&&m(this.y,a.y,r)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var r=a.x-this.x,i=a.y-this.y;return Math.sqrt(r*r+i*i)},distanceSq:function(a){var r=a.x-this.x,i=a.y-this.y;return r*r+i*i},length:function(){var a=this.x,r=this.y;return Math.sqrt(a*a+r*r)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,r=this.y;return a*a+r*r},normalize:function(){var a=this.x,r=this.y,i=a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=r*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,r){r===void 0&&(r=0);var i=this.x,n=this.y;return this.x=i+r*(a.x-i),this.y=n+r*(a.y-n),this},transformMat3:function(a){var r=this.x,i=this.y,n=a.val;return this.x=n[0]*r+n[3]*i+n[6],this.y=n[1]*r+n[4]*i+n[7],this},transformMat4:function(a){var r=this.x,i=this.y,n=a.val;return this.x=n[0]*r+n[4]*i+n[12],this.y=n[1]*r+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var r=this.length();return r&&r>a&&this.scale(a/r),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var r=Math.cos(a),i=Math.sin(a);return this.set(r*this.x-i*this.y,i*this.x+r*this.y)},project:function(a){var r=this.dot(a)/a.dot(a);return this.copy(a).scale(r)}});l.ZERO=new l,l.RIGHT=new l(1,0),l.LEFT=new l(-1,0),l.UP=new l(0,-1),l.DOWN=new l(0,1),l.ONE=new l(1,1),x.exports=l},25836:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this},max:function(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(l,a){return this.x=l.x+a.x,this.y=l.y+a.y,this.z=l.z+a.z,this},subVectors:function(l,a){return this.x=l.x-a.x,this.y=l.y-a.y,this.z=l.z-a.z,this},crossVectors:function(l,a){var r=l.x,i=l.y,n=l.z,h=a.x,s=a.y,o=a.z;return this.x=i*o-n*s,this.y=n*h-r*o,this.z=r*s-i*h,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this},set:function(l,a,r){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=a||0,this.z=r||0),this},setFromMatrixPosition:function(l){return this.fromArray(l.val,12)},setFromMatrixColumn:function(l,a){return this.fromArray(l.val,a*4)},fromArray:function(l,a){return a===void 0&&(a=0),this.x=l[a],this.y=l[a+1],this.z=l[a+2],this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this},addScalar:function(l){return this.x+=l,this.y+=l,this.z+=l,this},addScale:function(l,a){return this.x+=l.x*a,this.y+=l.y*a,this.z+=l.z*a||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l,this.z*=l):(this.x=0,this.y=0,this.z=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(l){var a=l.x-this.x,r=l.y-this.y,i=l.z-this.z||0;return Math.sqrt(a*a+r*r+i*i)},distanceSq:function(l){var a=l.x-this.x,r=l.y-this.y,i=l.z-this.z||0;return a*a+r*r+i*i},length:function(){var l=this.x,a=this.y,r=this.z;return Math.sqrt(l*l+a*a+r*r)},lengthSq:function(){var l=this.x,a=this.y,r=this.z;return l*l+a*a+r*r},normalize:function(){var l=this.x,a=this.y,r=this.z,i=l*l+a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=l*i,this.y=a*i,this.z=r*i),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z},cross:function(l){var a=this.x,r=this.y,i=this.z,n=l.x,h=l.y,s=l.z;return this.x=r*s-i*h,this.y=i*n-a*s,this.z=a*h-r*n,this},lerp:function(l,a){a===void 0&&(a=0);var r=this.x,i=this.y,n=this.z;return this.x=r+a*(l.x-r),this.y=i+a*(l.y-i),this.z=n+a*(l.z-n),this},applyMatrix3:function(l){var a=this.x,r=this.y,i=this.z,n=l.val;return this.x=n[0]*a+n[3]*r+n[6]*i,this.y=n[1]*a+n[4]*r+n[7]*i,this.z=n[2]*a+n[5]*r+n[8]*i,this},applyMatrix4:function(l){var a=this.x,r=this.y,i=this.z,n=l.val,h=1/(n[3]*a+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*a+n[4]*r+n[8]*i+n[12])*h,this.y=(n[1]*a+n[5]*r+n[9]*i+n[13])*h,this.z=(n[2]*a+n[6]*r+n[10]*i+n[14])*h,this},transformMat3:function(l){var a=this.x,r=this.y,i=this.z,n=l.val;return this.x=a*n[0]+r*n[3]+i*n[6],this.y=a*n[1]+r*n[4]+i*n[7],this.z=a*n[2]+r*n[5]+i*n[8],this},transformMat4:function(l){var a=this.x,r=this.y,i=this.z,n=l.val;return this.x=n[0]*a+n[4]*r+n[8]*i+n[12],this.y=n[1]*a+n[5]*r+n[9]*i+n[13],this.z=n[2]*a+n[6]*r+n[10]*i+n[14],this},transformCoordinates:function(l){var a=this.x,r=this.y,i=this.z,n=l.val,h=a*n[0]+r*n[4]+i*n[8]+n[12],s=a*n[1]+r*n[5]+i*n[9]+n[13],o=a*n[2]+r*n[6]+i*n[10]+n[14],u=a*n[3]+r*n[7]+i*n[11]+n[15];return this.x=h/u,this.y=s/u,this.z=o/u,this},transformQuat:function(l){var a=this.x,r=this.y,i=this.z,n=l.x,h=l.y,s=l.z,o=l.w,u=o*a+h*i-s*r,f=o*r+s*a-n*i,d=o*i+n*r-h*a,p=-n*a-h*r-s*i;return this.x=u*o+p*-n+f*-s-d*-h,this.y=f*o+p*-h+d*-n-u*-s,this.z=d*o+p*-s+u*-h-f*-n,this},project:function(l){var a=this.x,r=this.y,i=this.z,n=l.val,h=n[0],s=n[1],o=n[2],u=n[3],f=n[4],d=n[5],p=n[6],y=n[7],T=n[8],C=n[9],P=n[10],A=n[11],w=n[12],L=n[13],B=n[14],F=n[15],b=1/(a*u+r*y+i*A+F);return this.x=(a*h+r*f+i*T+w)*b,this.y=(a*s+r*d+i*C+L)*b,this.z=(a*o+r*p+i*P+B)*b,this},projectViewMatrix:function(l,a){return this.applyMatrix4(l).applyMatrix4(a)},unprojectViewMatrix:function(l,a){return this.applyMatrix4(l).applyMatrix4(a)},unproject:function(l,a){var r=l.x,i=l.y,n=l.z,h=l.w,s=this.x-r,o=h-this.y-1-i,u=this.z;return this.x=2*s/n-1,this.y=2*o/h-1,this.z=2*u-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),x.exports=m},61369:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=i||0,this.w=n||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this.w=l.w||0,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z&&this.w===l.w},set:function(l,a,r,i){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=a||0,this.z=r||0,this.w=i||0),this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this.w+=l.w||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this.w-=l.w||0,this},scale:function(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this},length:function(){var l=this.x,a=this.y,r=this.z,i=this.w;return Math.sqrt(l*l+a*a+r*r+i*i)},lengthSq:function(){var l=this.x,a=this.y,r=this.z,i=this.w;return l*l+a*a+r*r+i*i},normalize:function(){var l=this.x,a=this.y,r=this.z,i=this.w,n=l*l+a*a+r*r+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=l*n,this.y=a*n,this.z=r*n,this.w=i*n),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w},lerp:function(l,a){a===void 0&&(a=0);var r=this.x,i=this.y,n=this.z,h=this.w;return this.x=r+a*(l.x-r),this.y=i+a*(l.y-i),this.z=n+a*(l.z-n),this.w=h+a*(l.w-h),this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this.w*=l.w||1,this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this.w/=l.w||1,this},distance:function(l){var a=l.x-this.x,r=l.y-this.y,i=l.z-this.z||0,n=l.w-this.w||0;return Math.sqrt(a*a+r*r+i*i+n*n)},distanceSq:function(l){var a=l.x-this.x,r=l.y-this.y,i=l.z-this.z||0,n=l.w-this.w||0;return a*a+r*r+i*i+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(l){var a=this.x,r=this.y,i=this.z,n=this.w,h=l.val;return this.x=h[0]*a+h[4]*r+h[8]*i+h[12]*n,this.y=h[1]*a+h[5]*r+h[9]*i+h[13]*n,this.z=h[2]*a+h[6]*r+h[10]*i+h[14]*n,this.w=h[3]*a+h[7]*r+h[11]*i+h[15]*n,this},transformQuat:function(l){var a=this.x,r=this.y,i=this.z,n=l.x,h=l.y,s=l.z,o=l.w,u=o*a+h*i-s*r,f=o*r+s*a-n*i,d=o*i+n*r-h*a,p=-n*a-h*r-s*i;return this.x=u*o+p*-n+f*-s-d*-h,this.y=f*o+p*-h+d*-n-u*-s,this.z=d*o+p*-s+u*-h-f*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,x.exports=m},60417:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return Math.abs(t-c)<=m};x.exports=M},15994:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=m-c;return c+((t-c)%l+l)%l};x.exports=M},31040:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){return Math.atan2(l-c,m-t)};x.exports=M},55495:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return Math.atan2(c.y-t.y,c.x-t.x)};x.exports=M},128:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return Math.atan2(c.x-t.x,c.y-t.y)};x.exports=M},41273:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){return Math.atan2(m-t,l-c)};x.exports=M},1432:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=function(l){return l>Math.PI&&(l-=c.PI2),Math.abs(((l+c.TAU)%c.PI2-c.PI2)%c.PI2)};x.exports=m},12407:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};x.exports=M},53993:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(99472),m=function(){return c(-Math.PI,Math.PI)};x.exports=m},86564:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(99472),m=function(){return c(-180,180)};x.exports=m},90154:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(12407),m=function(l){return c(l+Math.PI)};x.exports=m},48736:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=function(l,a,r){return r===void 0&&(r=.05),l===a||(Math.abs(a-l)<=r||Math.abs(a-l)>=c.PI2-r?l=a:(Math.abs(a-l)>Math.PI&&(a<l?a+=c.PI2:a-=c.PI2),a>l?l+=r:a<l&&(l-=r))),l};x.exports=m},61430:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=c-t;if(m===0)return 0;var l=Math.floor((m- -180)/360);return m-l*360};x.exports=M},86554:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(15994),m=function(l){return c(l,-Math.PI,Math.PI)};x.exports=m},30954:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(15994),m=function(l){return c(l,-180,180)};x.exports=m},25588:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};x.exports=M},20339:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=t-m,r=c-l;return Math.sqrt(a*a+r*r)};x.exports=M},52816:x=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.x-c.x,l=t.y-c.y;return Math.sqrt(m*m+l*l)};x.exports=M},64559:x=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.x-c.x,l=t.y-c.y;return m*m+l*l};x.exports=M},82340:x=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){return Math.max(Math.abs(t-m),Math.abs(c-l))};x.exports=M},14390:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(m-t,a)+Math.pow(l-c,a))};x.exports=M},2243:x=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){return Math.abs(t-m)+Math.abs(c-l)};x.exports=M},89774:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=t-m,r=c-l;return a*a+r*r};x.exports=M},50994:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(54178),m=t(41521),l=t(79980),a=t(85433),r=t(99140),i=t(48857),n=t(81596),h=t(59133),s=t(98516),o=t(35248),u=t(82500),f=t(49752);x.exports={Power0:n,Power1:h.Out,Power2:a.Out,Power3:s.Out,Power4:o.Out,Linear:n,Quad:h.Out,Cubic:a.Out,Quart:s.Out,Quint:o.Out,Sine:u.Out,Expo:i.Out,Circ:l.Out,Elastic:r.Out,Back:c.Out,Bounce:m.Out,Stepped:f,"Quad.easeIn":h.In,"Cubic.easeIn":a.In,"Quart.easeIn":s.In,"Quint.easeIn":o.In,"Sine.easeIn":u.In,"Expo.easeIn":i.In,"Circ.easeIn":l.In,"Elastic.easeIn":r.In,"Back.easeIn":c.In,"Bounce.easeIn":m.In,"Quad.easeOut":h.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":s.Out,"Quint.easeOut":o.Out,"Sine.easeOut":u.Out,"Expo.easeOut":i.Out,"Circ.easeOut":l.Out,"Elastic.easeOut":r.Out,"Back.easeOut":c.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":s.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":l.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":c.InOut,"Bounce.easeInOut":m.InOut}},1639:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c=1.70158),t*t*((c+1)*t-c)};x.exports=M},50099:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=1.70158);var m=c*1.525;return(t*=2)<1?.5*(t*t*((m+1)*t-m)):.5*((t-=2)*t*((m+1)*t+m)+2)};x.exports=M},41286:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c=1.70158),--t*t*((c+1)*t+c)+1};x.exports=M},54178:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};x.exports=M},41788:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=!1;return t<.5?(t=1-t*2,c=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,c?(1-t)*.5:t*.5+.5};x.exports=M},69905:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};x.exports=M},41521:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return 1-Math.sqrt(1-t*t)};x.exports=M},4177:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};x.exports=M},57512:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return Math.sqrt(1- --t*t)};x.exports=M},79980:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t*t*t};x.exports=M},82820:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};x.exports=M},35033:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return--t*t*t+1};x.exports=M},85433:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(c===void 0&&(c=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return c<1?c=1:l=m*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m))};x.exports=M},50665:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(c===void 0&&(c=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return c<1?c=1:l=m*Math.asin(1/c)/(2*Math.PI),(t*=2)<1?-.5*(c*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m)):c*Math.pow(2,-10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m)*.5+1};x.exports=M},7744:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(c===void 0&&(c=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return c<1?c=1:l=m*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*t)*Math.sin((t-l)*(2*Math.PI)/m)+1};x.exports=M},99140:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return Math.pow(2,10*(t-1))-.001};x.exports=M},87844:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};x.exports=M},89433:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return 1-Math.pow(2,-10*t)};x.exports=M},48857:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t};x.exports=M},81596:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports=t(7147)},34826:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t*t};x.exports=M},20544:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};x.exports=M},92029:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t*(2-t)};x.exports=M},59133:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t*t*t*t};x.exports=M},78137:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};x.exports=M},45840:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return 1- --t*t*t*t};x.exports=M},98516:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t*t*t*t*t};x.exports=M},16509:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};x.exports=M},17868:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return--t*t*t*t*t+1};x.exports=M},35248:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};x.exports=M},34025:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};x.exports=M},52768:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};x.exports=M},82500:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c=1),t<=0?0:t>=1?1:((c*t|0)+1)*(1/c)};x.exports=M},49752:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports=t(72251)},75698:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c=1e-4),Math.ceil(t-c)};x.exports=M},43855:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return m===void 0&&(m=1e-4),Math.abs(t-c)<m};x.exports=M},25777:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c=1e-4),Math.floor(t+c)};x.exports=M},5470:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return m===void 0&&(m=1e-4),t>c-m};x.exports=M},94977:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return m===void 0&&(m=1e-4),t<c+m};x.exports=M},48379:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36383),m=t(79291),l={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};l=m(!1,l,c),x.exports=l},89318:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(85710),m=function(l,a){for(var r=0,i=l.length-1,n=0;n<=i;n++)r+=Math.pow(1-a,i-n)*Math.pow(a,n)*l[n]*c(i,n);return r};x.exports=m},77259:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87842),m=function(l,a){var r=l.length-1,i=r*a,n=Math.floor(i);return l[0]===l[r]?(a<0&&(n=Math.floor(i=r*(1+a))),c(i-n,l[(n-1+r)%r],l[n],l[(n+1)%r],l[(n+2)%r])):a<0?l[0]-(c(-i,l[0],l[0],l[1],l[1])-l[0]):a>1?l[r]-(c(i-r,l[r],l[r],l[r-1],l[r-1])-l[r]):c(i-n,l[n?n-1:0],l[n],l[r<n+1?r:n+1],l[r<n+2?r:n+2])};x.exports=m},36316:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(a,r){var i=1-a;return i*i*i*r}function t(a,r){var i=1-a;return 3*i*i*a*r}function c(a,r){return 3*(1-a)*a*a*r}function m(a,r){return a*a*a*r}var l=function(a,r,i,n,h){return M(a,r)+t(a,i)+c(a,n)+m(a,h)};x.exports=l},28392:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(28915),m=function(l,a){var r=l.length-1,i=r*a,n=Math.floor(i);return a<0?c(l[0],l[1],i):a>1?c(l[r],l[r-1],r-i):c(l[n],l[n+1>r?r:n+1],i-n)};x.exports=m},32112:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(l,a){var r=1-l;return r*r*a}function t(l,a){return 2*(1-l)*l*a}function c(l,a){return l*l*a}var m=function(l,a,r,i){return M(l,a)+t(l,r)+c(l,i)};x.exports=m},47235:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7602),m=function(l,a,r){return a+(r-a)*c(l,0,1)};x.exports=m},50178:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(54261),m=function(l,a,r){return a+(r-a)*c(l,0,1)};x.exports=m},38289:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=Math.log(t)/.6931471805599453;return 1<<Math.ceil(c)};x.exports=M},50030:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t>0&&(t&t-1)===0&&c>0&&(c&c-1)===0};x.exports=M},81230:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t>0&&(t&t-1)===0};x.exports=M},49001:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var l=2091639*this.s0+this.c*23283064365386963e-26;return this.c=l|0,this.s0=this.s1,this.s1=this.s2,this.s2=l-this.c,this.s2},hash:function(l){var a,r=this.n;l=l.toString();for(var i=0;i<l.length;i++)r+=l.charCodeAt(i),a=.02519603282416938*r,r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(l){typeof l=="string"?this.state(l):this.sow(l)},sow:function(l){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!l)for(var a=0;a<l.length&&l[a]!=null;a++){var r=l[a];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(l,a){return Math.floor(this.realInRange(0,a-l+1)+l)},between:function(l,a){return Math.floor(this.realInRange(0,a-l+1)+l)},realInRange:function(l,a){return this.frac()*(a-l)+l},normal:function(){return 1-2*this.frac()},uuid:function(){var l="",a="";for(a=l="";l++<36;a+=~l%5|l*3&4?(l^15?8^this.frac()*(l^20?16:4):4).toString(16):"-");return a},pick:function(l){return l[this.integerInRange(0,l.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(l){return l[~~(Math.pow(this.frac(),2)*(l.length-.5)+.5)]},timestamp:function(l,a){return this.realInRange(l||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(l){return typeof l=="string"&&l.match(/^!rnd/)&&(l=l.split(","),this.c=parseFloat(l[1]),this.s0=parseFloat(l[2]),this.s1=parseFloat(l[3]),this.s2=parseFloat(l[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(l){for(var a=l.length-1,r=a;r>0;r--){var i=Math.floor(this.frac()*(r+1)),n=l[i];l[i]=l[r],l[r]=n}return l}});x.exports=m},63448:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){return m===void 0&&(m=0),c===0?t:(t-=m,t=c*Math.ceil(t/c),l?(m+t)/c:m+t)};x.exports=M},56583:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){return m===void 0&&(m=0),c===0?t:(t-=m,t=c*Math.floor(t/c),l?(m+t)/c:m+t)};x.exports=M},77720:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){return m===void 0&&(m=0),c===0?t:(t-=m,t=c*Math.round(t/c),l?(m+t)/c:m+t)};x.exports=M},73697:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var c=t(8054),m=t(79291),l={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};l.Sound=t(23717),l=m(!1,l,c),x.exports=l,t.g.Phaser=l},71289:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(92209),l=t(88571),a=new c({Extends:l,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(i,n,h,s,o){l.call(this,i,n,h,s,o),this.body=null}});x.exports=a},86689:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(39506),l=t(20339),a=t(89774),r=t(66022),i=t(95540),n=t(46975),h=t(72441),s=t(47956),o=t(37277),u=t(44594),f=t(26099),d=t(82248),p=new c({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,T.sys.events.once(u.BOOT,this.boot,this),T.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new r(this.world));var y=this.systems.events;i(this.config,"customUpdate",!1)||y.on(u.UPDATE,this.world.update,this.world),y.on(u.POST_UPDATE,this.world.postUpdate,this.world),y.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var y=this.systems.game.config.physics,T=this.systems.settings.physics,C=n(i(T,"arcade",{}),i(y,"arcade",{}));return C},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(y,T,C,P,A){return C===void 0&&(C=null),P===void 0&&(P=null),A===void 0&&(A=C),this.world.collideObjects(y,T,C,P,A,!0)},collide:function(y,T,C,P,A){return C===void 0&&(C=null),P===void 0&&(P=null),A===void 0&&(A=C),this.world.collideObjects(y,T,C,P,A,!1)},collideTiles:function(y,T,C,P,A){return this.world.collideTiles(y,T,C,P,A)},overlapTiles:function(y,T,C,P,A){return this.world.overlapTiles(y,T,C,P,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(y,T,C,P,A,w){P===void 0&&(P=60);var L=Math.atan2(C-y.y,T-y.x);return y.body.acceleration.setToPolar(L,P),A!==void 0&&w!==void 0&&y.body.maxVelocity.set(A,w),L},accelerateToObject:function(y,T,C,P,A){return this.accelerateTo(y,T.x,T.y,C,P,A)},closest:function(y,T){T||(T=this.world.bodies.entries);for(var C=Number.MAX_VALUE,P=null,A=y.x,w=y.y,L=T.length,B=0;B<L;B++){var F=T[B],b=F.body||F;if(!(y===F||y===b||y===b.gameObject||y===b.center)){var G=a(A,w,b.center.x,b.center.y);G<C&&(P=F,C=G)}}return P},furthest:function(y,T){T||(T=this.world.bodies.entries);for(var C=-1,P=null,A=y.x,w=y.y,L=T.length,B=0;B<L;B++){var F=T[B],b=F.body||F;if(!(y===F||y===b||y===b.gameObject||y===b.center)){var G=a(A,w,b.center.x,b.center.y);G>C&&(P=F,C=G)}}return P},moveTo:function(y,T,C,P,A){P===void 0&&(P=60),A===void 0&&(A=0);var w=Math.atan2(C-y.y,T-y.x);return A>0&&(P=l(y.x,y.y,T,C)/(A/1e3)),y.body.velocity.setToPolar(w,P),w},moveToObject:function(y,T,C,P){return this.moveTo(y,T.x,T.y,C,P)},velocityFromAngle:function(y,T,C){return T===void 0&&(T=60),C===void 0&&(C=new f),C.setToPolar(m(y),T)},velocityFromRotation:function(y,T,C){return T===void 0&&(T=60),C===void 0&&(C=new f),C.setToPolar(y,T)},overlapRect:function(y,T,C,P,A,w){return s(this.world,y,T,C,P,A,w)},overlapCirc:function(y,T,C,P,A){return h(this.world,y,T,C,P,A)},shutdown:function(){if(this.world){var y=this.systems.events;y.off(u.UPDATE,this.world.update,this.world),y.off(u.POST_UPDATE,this.world.postUpdate,this.world),y.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",p,"arcadePhysics"),x.exports=p},13759:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(92209),l=t(68287),a=new c({Extends:l,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(i,n,h,s,o){l.call(this,i,n,h,s,o),this.body=null}});x.exports=a},37742:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(78389),l=t(37747),a=t(63012),r=t(43396),i=t(87841),n=t(37303),h=t(95829),s=t(26099),o=new c({Mixins:[m],initialize:function(f,d){var p=64,y=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},C=d!==void 0;C&&d.displayWidth&&(p=d.displayWidth,y=d.displayHeight),C||(d=T),this.world=f,this.gameObject=C?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=f.defaults.debugShowBody,this.debugShowVelocity=f.defaults.debugShowVelocity,this.debugBodyColor=f.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=p,this.height=y,this.sourceWidth=p,this.sourceHeight=y,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(p/2),this.halfHeight=Math.abs(y/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=f.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=l.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new s(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.syncBounds=!1,this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new i,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,f=this.transform;if(u.parentContainer){var d=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);f.x=d.tx,f.y=d.ty,f.rotation=r(d.rotation),f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.displayOriginX=u.displayOriginX,f.displayOriginY=u.displayOriginY}else f.x=u.x,f.y=u.y,f.rotation=u.angle,f.scaleX=u.scaleX,f.scaleY=u.scaleY,f.displayOriginX=u.displayOriginX,f.displayOriginY=u.displayOriginY;var p=!1;if(this.syncBounds){var y=u.getBounds(this._bounds);this.width=y.width,this.height=y.height,p=!0}else{var T=Math.abs(f.scaleX),C=Math.abs(f.scaleY);(this._sx!==T||this._sy!==C)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*C,this._sx=T,this._sy=C,p=!0)}p&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var f=this.wasTouching,d=this.touching,p=this.blocked;u?h(!0,f):(f.none=d.none,f.up=d.up,f.down=d.down,f.left=d.left,f.right=d.right),h(!0,d),h(!0,p),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,f){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}u&&this.update(f)},update:function(u){var f=this.prev,d=this.position,p=this.velocity;if(f.set(d.x,d.y),!this.moves){this._dx=d.x-f.x,this._dy=d.y-f.y;return}if(this.directControl){var y=this.autoFrame;p.set((d.x-y.x)/u,(d.y-y.y)/u),this.world.updateMotion(this,u),this._dx=d.x-y.x,this._dy=d.y-y.y}else this.world.updateMotion(this,u),this.newVelocity.set(p.x*u,p.y*u),d.add(this.newVelocity),this._dx=d.x-f.x,this._dy=d.y-f.y;var T=p.x,C=p.y;if(this.updateCenter(),this.angle=Math.atan2(C,T),this.speed=Math.sqrt(T*T+C*C),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var P=this.blocked;this.world.emit(a.WORLD_BOUNDS,this,P.up,P.down,P.left,P.right)}},postUpdate:function(){var u=this.position,f=u.x-this.prevFrame.x,d=u.y-this.prevFrame.y,p=this.gameObject;if(this.moves){var y=this.deltaMax.x,T=this.deltaMax.y;y!==0&&f!==0&&(f<0&&f<-y?f=-y:f>0&&f>y&&(f=y)),T!==0&&d!==0&&(d<0&&d<-T?d=-T:d>0&&d>T&&(d=T)),p&&(p.x+=f,p.y+=d)}f<0?this.facing=l.FACING_LEFT:f>0&&(this.facing=l.FACING_RIGHT),d<0?this.facing=l.FACING_UP:d>0&&(this.facing=l.FACING_DOWN),this.allowRotation&&p&&(p.angle+=this.deltaZ()),this._tx=f,this._ty=d,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,f=this.velocity,d=this.blocked,p=this.customBoundsRectangle,y=this.world.checkCollision,T=this.worldBounce?-this.worldBounce.x:-this.bounce.x,C=this.worldBounce?-this.worldBounce.y:-this.bounce.y,P=!1;return u.x<p.x&&y.left?(u.x=p.x,f.x*=T,d.left=!0,P=!0):this.right>p.right&&y.right&&(u.x=p.right-this.width,f.x*=T,d.right=!0,P=!0),u.y<p.y&&y.up?(u.y=p.y,f.y*=C,d.up=!0,P=!0):this.bottom>p.bottom&&y.down&&(u.y=p.bottom-this.height,f.y*=C,d.down=!0,P=!0),P&&(this.blocked.none=!1,this.updateCenter()),P},setOffset:function(u,f){return f===void 0&&(f=u),this.offset.set(u,f),this},setGameObject:function(u,f){return f===void 0&&(f=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=u,u.body&&(u.body=this),this.setSize(),this.world.add(this),this.enable=f,this},setSize:function(u,f,d){d===void 0&&(d=!0);var p=this.gameObject;if(p&&(!u&&p.frame&&(u=p.frame.realWidth),!f&&p.frame&&(f=p.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=f,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&p&&p.getCenter){var y=(p.width-u)/2,T=(p.height-f)/2;this.offset.set(y,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,f,d){return f===void 0&&(f=this.offset.x),d===void 0&&(d=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,d),this.updateCenter()):this.isCircle=!1,this},reset:function(u,f){this.stop();var d=this.gameObject;d&&(d.setPosition(u,f),this.rotation=d.angle,this.preRotation=d.angle);var p=this.position;d&&d.getTopLeft?d.getTopLeft(p):p.set(u,f),this.prev.copy(p),this.prevFrame.copy(p),this.autoFrame.copy(p),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,f){if(!this.isCircle)return n(this,u,f);if(this.radius>0&&u>=this.left&&u<=this.right&&f>=this.top&&f<=this.bottom){var d=(this.center.x-u)*(this.center.x-u),p=(this.center.y-f)*(this.center.y-f);return d+p<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var f=this.position,d=f.x+this.halfWidth,p=f.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(d,p,this.width/2):(this.checkCollision.up&&u.lineBetween(f.x,f.y,f.x+this.width,f.y),this.checkCollision.right&&u.lineBetween(f.x+this.width,f.y,f.x+this.width,f.y+this.height),this.checkCollision.down&&u.lineBetween(f.x,f.y+this.height,f.x+this.width,f.y+this.height),this.checkCollision.left&&u.lineBetween(f.x,f.y,f.x,f.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(d,p,d+this.velocity.x/2,p+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,f,d,p){u===void 0&&(u=!0),this.collideWorldBounds=u;var y=f!==void 0,T=d!==void 0;return(y||T)&&(this.worldBounce||(this.worldBounce=new s),y&&(this.worldBounce.x=f),T&&(this.worldBounce.y=d)),p!==void 0&&(this.onWorldBounds=p),this},setVelocity:function(u,f){return this.velocity.set(u,f),u=this.velocity.x,f=this.velocity.y,this.speed=Math.sqrt(u*u+f*f),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,f){return this.maxVelocity.set(u,f),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,f){return this.slideFactor.set(u,f),this},setBounce:function(u,f){return this.bounce.set(u,f),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,f){return this.acceleration.set(u,f),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,f){return this.drag.set(u,f),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,f){return this.gravity.set(u,f),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,f){return this.friction.set(u,f),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,f,d,p){this.x+=u,this.updateCenter(),f!==null&&(this.velocity.x=f*this.slideFactor.x);var y=this.blocked;d&&(y.left=!0,y.none=!1),p&&(y.right=!0,y.none=!1)},processY:function(u,f,d,p){this.y+=u,this.updateCenter(),f!==null&&(this.velocity.y=f*this.slideFactor.y);var y=this.blocked;d&&(y.up=!0,y.none=!1),p&&(y.down=!0,y.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});x.exports=o},79342:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i,n,h,s,o){this.world=a,this.name="",this.active=!0,this.overlapOnly=r,this.object1=i,this.object2=n,this.collideCallback=h,this.processCallback=s,this.callbackContext=o},setName:function(l){return this.name=l,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});x.exports=m},66022:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(71289),m=t(13759),l=t(37742),a=t(83419),r=t(37747),i=t(60758),n=t(72624),h=t(71464),s=new a({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(o,u,f,d,p){return this.world.addCollider(o,u,f,d,p)},overlap:function(o,u,f,d,p){return this.world.addOverlap(o,u,f,d,p)},existing:function(o,u){var f=u?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(o,f),o},staticImage:function(o,u,f,d){var p=new c(this.scene,o,u,f,d);return this.sys.displayList.add(p),this.world.enableBody(p,r.STATIC_BODY),p},image:function(o,u,f,d){var p=new c(this.scene,o,u,f,d);return this.sys.displayList.add(p),this.world.enableBody(p,r.DYNAMIC_BODY),p},staticSprite:function(o,u,f,d){var p=new m(this.scene,o,u,f,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,r.STATIC_BODY),p},sprite:function(o,u,f,d){var p=new m(this.scene,o,u,f,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,r.DYNAMIC_BODY),p},staticGroup:function(o,u){return this.sys.updateList.add(new h(this.world,this.world.scene,o,u))},group:function(o,u){return this.sys.updateList.add(new i(this.world,this.world.scene,o,u))},body:function(o,u,f,d){var p=new l(this.world);return p.position.set(o,u),f&&d&&p.setSize(f,d),this.world.add(p,r.DYNAMIC_BODY),p},staticBody:function(o,u,f,d){var p=new n(this.world);return p.position.set(o,u),f&&d&&p.setSize(f,d),this.world.add(p,r.STATIC_BODY),p},destroy:function(){this.world=null,this.scene=null,this.sys=null}});x.exports=s},79599:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=0;if(!Array.isArray(t))c=t;else for(var m=0;m<t.length;m++)c|=t[m];return c};x.exports=M},64897:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37747),m=function(l,a,r,i){var n=0,h=l.deltaAbsX()+a.deltaAbsX()+i;return l._dx===0&&a._dx===0?(l.embedded=!0,a.embedded=!0):l._dx>a._dx?(n=l.right-a.x,n>h&&!r||l.checkCollision.right===!1||a.checkCollision.left===!1?n=0:(l.touching.none=!1,l.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===c.STATIC_BODY&&!r&&(l.blocked.none=!1,l.blocked.right=!0),l.physicsType===c.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0))):l._dx<a._dx&&(n=l.x-a.width-a.x,-n>h&&!r||l.checkCollision.left===!1||a.checkCollision.right===!1?n=0:(l.touching.none=!1,l.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===c.STATIC_BODY&&!r&&(l.blocked.none=!1,l.blocked.left=!0),l.physicsType===c.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0))),l.overlapX=n,a.overlapX=n,n};x.exports=m},45170:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37747),m=function(l,a,r,i){var n=0,h=l.deltaAbsY()+a.deltaAbsY()+i;return l._dy===0&&a._dy===0?(l.embedded=!0,a.embedded=!0):l._dy>a._dy?(n=l.bottom-a.y,n>h&&!r||l.checkCollision.down===!1||a.checkCollision.up===!1?n=0:(l.touching.none=!1,l.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===c.STATIC_BODY&&!r&&(l.blocked.none=!1,l.blocked.down=!0),l.physicsType===c.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0))):l._dy<a._dy&&(n=l.y-a.bottom,-n>h&&!r||l.checkCollision.up===!1||a.checkCollision.down===!1?n=0:(l.touching.none=!1,l.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===c.STATIC_BODY&&!r&&(l.blocked.none=!1,l.blocked.up=!0),l.physicsType===c.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0))),l.overlapY=n,a.overlapY=n,n};x.exports=m},60758:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(13759),m=t(83419),l=t(78389),a=t(37747),r=t(95540),i=t(26479),n=t(41212),h=new m({Extends:i,Mixins:[l],initialize:function(o,u,f,d){if(!f&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(f))d=f,f=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&n(f[0])){var p=this;f.forEach(function(y){y.internalCreateCallback=p.createCallbackHandler,y.internalRemoveCallback=p.removeCallbackHandler,y.classType=r(y,"classType",c)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=o,d&&(d.classType=r(d,"classType",c)),this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(d,"collideWorldBounds",!1),setBoundsRectangle:r(d,"customBoundsRectangle",null),setAccelerationX:r(d,"accelerationX",0),setAccelerationY:r(d,"accelerationY",0),setAllowDrag:r(d,"allowDrag",!0),setAllowGravity:r(d,"allowGravity",!0),setAllowRotation:r(d,"allowRotation",!0),setDamping:r(d,"useDamping",!1),setBounceX:r(d,"bounceX",0),setBounceY:r(d,"bounceY",0),setDragX:r(d,"dragX",0),setDragY:r(d,"dragY",0),setEnable:r(d,"enable",!0),setGravityX:r(d,"gravityX",0),setGravityY:r(d,"gravityY",0),setFrictionX:r(d,"frictionX",0),setFrictionY:r(d,"frictionY",0),setMaxSpeed:r(d,"maxSpeed",-1),setMaxVelocityX:r(d,"maxVelocityX",1e4),setMaxVelocityY:r(d,"maxVelocityY",1e4),setVelocityX:r(d,"velocityX",0),setVelocityY:r(d,"velocityY",0),setAngularVelocity:r(d,"angularVelocity",0),setAngularAcceleration:r(d,"angularAcceleration",0),setAngularDrag:r(d,"angularDrag",0),setMass:r(d,"mass",1),setImmovable:r(d,"immovable",!1)},i.call(this,u,f,d),this.type="PhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.DYNAMIC_BODY);var o=s.body;for(var u in this.defaults)o[u](this.defaults[u])},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},setVelocity:function(s,o,u){u===void 0&&(u=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.set(s+d*u,o+d*u);return this},setVelocityX:function(s,o){o===void 0&&(o=0);for(var u=this.getChildren(),f=0;f<u.length;f++)u[f].body.velocity.x=s+f*o;return this},setVelocityY:function(s,o){o===void 0&&(o=0);for(var u=this.getChildren(),f=0;f<u.length;f++)u[f].body.velocity.y=s+f*o;return this}});x.exports=h},3017:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M,t,c,m,l,a,r,i,n,h,s,o,u,f,d,p,y,T=function(B,F,b){M=B,t=F;var G=M.velocity.x,N=t.velocity.x;return c=M.pushable,n=M._dx<0,h=M._dx>0,s=M._dx===0,d=Math.abs(M.right-t.x)<=Math.abs(t.right-M.x),r=N-G*M.bounce.x,m=t.pushable,o=t._dx<0,u=t._dx>0,f=t._dx===0,p=!d,i=G-N*t.bounce.x,y=Math.abs(b),C()},C=function(){return h&&d&&t.blocked.right?(M.processX(-y,r,!1,!0),1):n&&p&&t.blocked.left?(M.processX(y,r,!0),1):u&&p&&M.blocked.right?(t.processX(-y,i,!1,!0),2):o&&d&&M.blocked.left?(t.processX(y,i,!0),2):0},P=function(){var B=M.velocity.x,F=t.velocity.x,b=Math.sqrt(F*F*t.mass/M.mass)*(F>0?1:-1),G=Math.sqrt(B*B*M.mass/t.mass)*(B>0?1:-1),N=(b+G)*.5;return b-=N,G-=N,l=N+b*M.bounce.x,a=N+G*t.bounce.x,n&&p?A(0):o&&d?A(1):h&&d?A(2):u&&p?A(3):!1},A=function(B){if(c&&m)y*=.5,B===0||B===3?(M.processX(y,l),t.processX(-y,a)):(M.processX(-y,l),t.processX(y,a));else if(c&&!m)B===0||B===3?M.processX(y,r,!0):M.processX(-y,r,!1,!0);else if(!c&&m)B===0||B===3?t.processX(-y,i,!1,!0):t.processX(y,i,!0);else{var F=y*.5;B===0?f?(M.processX(y,0,!0),t.processX(0,null,!1,!0)):u?(M.processX(F,0,!0),t.processX(-F,0,!1,!0)):(M.processX(F,t.velocity.x,!0),t.processX(-F,null,!1,!0)):B===1?s?(M.processX(0,null,!1,!0),t.processX(y,0,!0)):h?(M.processX(-F,0,!1,!0),t.processX(F,0,!0)):(M.processX(-F,null,!1,!0),t.processX(F,M.velocity.x,!0)):B===2?f?(M.processX(-y,0,!1,!0),t.processX(0,null,!0)):o?(M.processX(-F,0,!1,!0),t.processX(F,0,!0)):(M.processX(-F,t.velocity.x,!1,!0),t.processX(F,null,!0)):B===3&&(s?(M.processX(0,null,!0),t.processX(-y,0,!1,!0)):n?(M.processX(F,0,!0),t.processX(-F,0,!1,!0)):(M.processX(F,t.velocity.y,!0),t.processX(-F,null,!1,!0)))}return!0},w=function(B){if(B===1?t.velocity.x=0:d?t.processX(y,i,!0):t.processX(-y,i,!1,!0),M.moves){var F=M.directControl?M.y-M.autoFrame.y:M.y-M.prev.y;t.y+=F*M.friction.y,t._dy=t.y-t.prev.y}},L=function(B){if(B===2?M.velocity.x=0:p?M.processX(y,r,!0):M.processX(-y,r,!1,!0),t.moves){var F=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;M.y+=F*t.friction.y,M._dy=M.y-M.prev.y}};x.exports={BlockCheck:C,Check:P,Set:T,Run:A,RunImmovableBody1:w,RunImmovableBody2:L}},47962:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M,t,c,m,l,a,r,i,n,h,s,o,u,f,d,p,y,T=function(B,F,b){M=B,t=F;var G=M.velocity.y,N=t.velocity.y;return c=M.pushable,n=M._dy<0,h=M._dy>0,s=M._dy===0,d=Math.abs(M.bottom-t.y)<=Math.abs(t.bottom-M.y),r=N-G*M.bounce.y,m=t.pushable,o=t._dy<0,u=t._dy>0,f=t._dy===0,p=!d,i=G-N*t.bounce.y,y=Math.abs(b),C()},C=function(){return h&&d&&t.blocked.down?(M.processY(-y,r,!1,!0),1):n&&p&&t.blocked.up?(M.processY(y,r,!0),1):u&&p&&M.blocked.down?(t.processY(-y,i,!1,!0),2):o&&d&&M.blocked.up?(t.processY(y,i,!0),2):0},P=function(){var B=M.velocity.y,F=t.velocity.y,b=Math.sqrt(F*F*t.mass/M.mass)*(F>0?1:-1),G=Math.sqrt(B*B*M.mass/t.mass)*(B>0?1:-1),N=(b+G)*.5;return b-=N,G-=N,l=N+b*M.bounce.y,a=N+G*t.bounce.y,n&&p?A(0):o&&d?A(1):h&&d?A(2):u&&p?A(3):!1},A=function(B){if(c&&m)y*=.5,B===0||B===3?(M.processY(y,l),t.processY(-y,a)):(M.processY(-y,l),t.processY(y,a));else if(c&&!m)B===0||B===3?M.processY(y,r,!0):M.processY(-y,r,!1,!0);else if(!c&&m)B===0||B===3?t.processY(-y,i,!1,!0):t.processY(y,i,!0);else{var F=y*.5;B===0?f?(M.processY(y,0,!0),t.processY(0,null,!1,!0)):u?(M.processY(F,0,!0),t.processY(-F,0,!1,!0)):(M.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)):B===1?s?(M.processY(0,null,!1,!0),t.processY(y,0,!0)):h?(M.processY(-F,0,!1,!0),t.processY(F,0,!0)):(M.processY(-F,null,!1,!0),t.processY(F,M.velocity.y,!0)):B===2?f?(M.processY(-y,0,!1,!0),t.processY(0,null,!0)):o?(M.processY(-F,0,!1,!0),t.processY(F,0,!0)):(M.processY(-F,t.velocity.y,!1,!0),t.processY(F,null,!0)):B===3&&(s?(M.processY(0,null,!0),t.processY(-y,0,!1,!0)):n?(M.processY(F,0,!0),t.processY(-F,0,!1,!0)):(M.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)))}return!0},w=function(B){if(B===1?t.velocity.y=0:d?t.processY(y,i,!0):t.processY(-y,i,!1,!0),M.moves){var F=M.directControl?M.x-M.autoFrame.x:M.x-M.prev.x;t.x+=F*M.friction.x,t._dx=t.x-t.prev.x}},L=function(B){if(B===2?M.velocity.y=0:p?M.processY(y,r,!0):M.processY(-y,r,!1,!0),t.moves){var F=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;M.x+=F*t.friction.x,M._dx=M.x-M.prev.x}};x.exports={BlockCheck:C,Check:P,Set:T,Run:A,RunImmovableBody1:w,RunImmovableBody2:L}},14087:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(64897),m=t(3017),l=function(a,r,i,n,h){h===void 0&&(h=c(a,r,i,n));var s=a.immovable,o=r.immovable;if(i||h===0||s&&o||a.customSeparateX||r.customSeparateX)return h!==0||a.embedded&&r.embedded;var u=m.Set(a,r,h);return!s&&!o?u>0?!0:m.Check():(s?m.RunImmovableBody1(u):o&&m.RunImmovableBody2(u),!0)};x.exports=l},89936:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45170),m=t(47962),l=function(a,r,i,n,h){h===void 0&&(h=c(a,r,i,n));var s=a.immovable,o=r.immovable;if(i||h===0||s&&o||a.customSeparateY||r.customSeparateY)return h!==0||a.embedded&&r.embedded;var u=m.Set(a,r,h);return!s&&!o?u>0?!0:m.Check():(s?m.RunImmovableBody1(u):o&&m.RunImmovableBody2(u),!0)};x.exports=l},95829:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===void 0&&(c={}),c.none=t,c.up=!1,c.down=!1,c.left=!1,c.right=!1,t||(c.up=!0,c.down=!0,c.left=!0,c.right=!0),c};x.exports=M},72624:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87902),m=t(83419),l=t(78389),a=t(37747),r=t(37303),i=t(95829),n=t(26099),h=new m({Mixins:[l],initialize:function(o,u){var f=64,d=64,p={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=u!==void 0;y&&u.displayWidth&&(f=u.displayWidth,d=u.displayHeight),y||(u=p),this.world=o,this.gameObject=y?u:void 0,this.isBody=!0,this.debugShowBody=o.defaults.debugShowStaticBody,this.debugBodyColor=o.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(u.x-f*u.originX,u.y-d*u.originY),this.width=f,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=i(!1),this.touching=i(!0),this.wasTouching=i(!0),this.blocked=i(!0),this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(s,o){return s&&s!==this.gameObject&&(this.gameObject.body=null,s.body=this,this.gameObject=s),o&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,o){return o===void 0&&(o=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,o),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,o,u){u===void 0&&(u=!0);var f=this.gameObject;if(f&&f.frame&&(s||(s=f.frame.realWidth),o||(o=f.frame.realHeight)),this.world.staticTree.remove(this),this.width=s,this.height=o,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(o/2),u&&f&&f.getCenter){var d=f.displayWidth/2,p=f.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,p-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,o,u){return o===void 0&&(o=this.offset.x),u===void 0&&(u=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,o){var u=this.gameObject;s===void 0&&(s=u.x),o===void 0&&(o=u.y),this.world.staticTree.remove(this),u.setPosition(s,o),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,o){return this.isCircle?c(this,s,o):r(this,s,o)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var o=this.position,u=o.x+this.halfWidth,f=o.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(u,f,this.width/2):s.strokeRect(o.x,o.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});x.exports=h},71464:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(13759),m=t(83419),l=t(78389),a=t(37747),r=t(95540),i=t(26479),n=t(41212),h=new m({Extends:i,Mixins:[l],initialize:function(o,u,f,d){!f&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:c}:n(f)?(d=f,f=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=r(d,"classType",c)):Array.isArray(f)&&n(f[0])?(d=f,f=null,d.forEach(function(p){p.internalCreateCallback=this.createCallbackHandler,p.internalRemoveCallback=this.removeCallbackHandler,p.createMultipleCallback=this.createMultipleCallbackHandler,p.classType=r(p,"classType",c)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=o,this.physicsType=a.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,i.call(this,u,f,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(s){s.body||this.world.enableBody(s,a.STATIC_BODY)},removeCallbackHandler:function(s){s.body&&this.world.disableBody(s)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var s=this.children.entries,o=0;o<s.length;o++)s[o].body.reset();return this}});x.exports=h},82248:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(55495),m=t(37742),l=t(45319),a=t(83419),r=t(79342),i=t(37747),n=t(20339),h=t(52816),s=t(50792),o=t(63012),u=t(43855),f=t(5470),d=t(94977),p=t(64897),y=t(45170),T=t(96523),C=t(35154),P=t(36383),A=t(25774),w=t(96602),L=t(87841),B=t(59542),F=t(40012),b=t(14087),G=t(89936),N=t(35072),U=t(72624),W=t(2483),H=t(61340),k=t(26099),z=t(15994),$=new a({Extends:s,initialize:function(Q,Z){s.call(this),this.scene=Q,this.bodies=new N,this.staticBodies=new N,this.pendingDestroy=new N,this.colliders=new A,this.gravity=new k(C(Z,"gravity.x",0),C(Z,"gravity.y",0)),this.bounds=new L(C(Z,"x",0),C(Z,"y",0),C(Z,"width",Q.sys.scale.width),C(Z,"height",Q.sys.scale.height)),this.checkCollision={up:C(Z,"checkCollision.up",!0),down:C(Z,"checkCollision.down",!0),left:C(Z,"checkCollision.left",!0),right:C(Z,"checkCollision.right",!0)},this.fps=C(Z,"fps",60),this.fixedStep=C(Z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=C(Z,"timeScale",1),this.OVERLAP_BIAS=C(Z,"overlapBias",4),this.TILE_BIAS=C(Z,"tileBias",16),this.forceX=C(Z,"forceX",!1),this.isPaused=C(Z,"isPaused",!1),this._total=0,this.drawDebug=C(Z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:C(Z,"debugShowBody",!0),debugShowStaticBody:C(Z,"debugShowStaticBody",!0),debugShowVelocity:C(Z,"debugShowVelocity",!0),bodyDebugColor:C(Z,"debugBodyColor",16711935),staticBodyDebugColor:C(Z,"debugStaticBodyColor",255),velocityDebugColor:C(Z,"debugVelocityColor",65280)},this.maxEntries=C(Z,"maxEntries",16),this.useTree=C(Z,"useTree",!0),this.tree=new B(this.maxEntries),this.staticTree=new B(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(X,Q){Q===void 0&&(Q=i.DYNAMIC_BODY),Array.isArray(X)||(X=[X]);for(var Z=0;Z<X.length;Z++){var K=X[Z];if(K.isParent)for(var J=K.getChildren(),q=0;q<J.length;q++){var tt=J[q];tt.isParent?this.enable(tt,Q):this.enableBody(tt,Q)}else this.enableBody(K,Q)}},enableBody:function(X,Q){return Q===void 0&&(Q=i.DYNAMIC_BODY),X.hasTransformComponent&&(X.body||(Q===i.DYNAMIC_BODY?X.body=new m(this,X):Q===i.STATIC_BODY&&(X.body=new U(this,X))),this.add(X.body)),X},add:function(X){return X.physicsType===i.DYNAMIC_BODY?this.bodies.set(X):X.physicsType===i.STATIC_BODY&&(this.staticBodies.set(X),this.staticTree.insert(X)),X.enable=!0,X},disable:function(X){Array.isArray(X)||(X=[X]);for(var Q=0;Q<X.length;Q++){var Z=X[Q];if(Z.isParent)for(var K=Z.getChildren(),J=0;J<K.length;J++){var q=K[J];q.isParent?this.disable(q):this.disableBody(q.body)}else this.disableBody(Z.body)}},disableBody:function(X){this.remove(X),X.enable=!1},remove:function(X){X.physicsType===i.DYNAMIC_BODY?(this.tree.remove(X),this.bodies.delete(X)):X.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(X),this.staticTree.remove(X))},createDebugGraphic:function(){var X=this.scene.sys.add.graphics({x:0,y:0});return X.setDepth(Number.MAX_VALUE),this.debugGraphic=X,this.drawDebug=!0,X},setBounds:function(X,Q,Z,K,J,q,tt,it){return this.bounds.setTo(X,Q,Z,K),J!==void 0&&this.setBoundsCollision(J,q,tt,it),this},setBoundsCollision:function(X,Q,Z,K){return X===void 0&&(X=!0),Q===void 0&&(Q=!0),Z===void 0&&(Z=!0),K===void 0&&(K=!0),this.checkCollision.left=X,this.checkCollision.right=Q,this.checkCollision.up=Z,this.checkCollision.down=K,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(X,Q,Z,K,J){Z===void 0&&(Z=null),K===void 0&&(K=null),J===void 0&&(J=Z);var q=new r(this,!1,X,Q,Z,K,J);return this.colliders.add(q),q},addOverlap:function(X,Q,Z,K,J){Z===void 0&&(Z=null),K===void 0&&(K=null),J===void 0&&(J=Z);var q=new r(this,!0,X,Q,Z,K,J);return this.colliders.add(q),q},removeCollider:function(X){return this.colliders.remove(X),this},setFPS:function(X){return this.fps=X,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(X,Q){if(!(this.isPaused||this.bodies.size===0)){var Z,K=this._frameTime,J=this._frameTimeMS*this.timeScale;this._elapsed+=Q;var q,tt=this.bodies.entries,it=this._elapsed>=J;for(this.fixedStep||(K=Q*.001,it=!0,this._elapsed=0),Z=0;Z<tt.length;Z++)q=tt[Z],q.enable&&q.preUpdate(it,K);if(it){this._elapsed-=J,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(tt));var nt=this.colliders.update();for(Z=0;Z<nt.length;Z++){var rt=nt[Z];rt.active&&rt.update()}this.emit(o.WORLD_STEP,K)}for(;this._elapsed>=J;)this._elapsed-=J,this.step(K)}},step:function(X){var Q,Z,K=this.bodies.entries,J=K.length;for(Q=0;Q<J;Q++)Z=K[Q],Z.enable&&Z.update(X);this.useTree&&(this.tree.clear(),this.tree.load(K));var q=this.colliders.update();for(Q=0;Q<q.length;Q++){var tt=q[Q];tt.active&&tt.update()}this.emit(o.WORLD_STEP,X),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var X,Q,Z=this.bodies.entries,K=Z.length,J=this.bodies,q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,X=0;X<K;X++)Q=Z[X],Q.enable&&Q.postUpdate();if(this.drawDebug){var tt=this.debugGraphic;for(tt.clear(),X=0;X<K;X++)Q=Z[X],Q.willDrawDebug()&&Q.drawDebug(tt);for(Z=q.entries,K=Z.length,X=0;X<K;X++)Q=Z[X],Q.willDrawDebug()&&Q.drawDebug(tt)}var it=this.pendingDestroy;if(it.size>0){var nt=this.tree,rt=this.staticTree;for(Z=it.entries,K=Z.length,X=0;X<K;X++)Q=Z[X],Q.physicsType===i.DYNAMIC_BODY?(nt.remove(Q),J.delete(Q)):Q.physicsType===i.STATIC_BODY&&(rt.remove(Q),q.delete(Q)),Q.world=void 0,Q.gameObject=void 0;it.clear()}},updateMotion:function(X,Q){X.allowRotation&&this.computeAngularVelocity(X,Q),this.computeVelocity(X,Q)},computeAngularVelocity:function(X,Q){var Z=X.angularVelocity,K=X.angularAcceleration,J=X.angularDrag,q=X.maxAngular;K?Z+=K*Q:X.allowDrag&&J&&(J*=Q,f(Z-J,0,.1)?Z-=J:d(Z+J,0,.1)?Z+=J:Z=0),Z=l(Z,-q,q);var tt=Z-X.angularVelocity;X.angularVelocity+=tt,X.rotation+=X.angularVelocity*Q},computeVelocity:function(X,Q){var Z=X.velocity.x,K=X.acceleration.x,J=X.drag.x,q=X.maxVelocity.x,tt=X.velocity.y,it=X.acceleration.y,nt=X.drag.y,rt=X.maxVelocity.y,ht=X.speed,dt=X.maxSpeed,lt=X.allowDrag,vt=X.useDamping;X.allowGravity&&(Z+=(this.gravity.x+X.gravity.x)*Q,tt+=(this.gravity.y+X.gravity.y)*Q),K?Z+=K*Q:lt&&J&&(vt?(J=Math.pow(J,Q),Z*=J,ht=Math.sqrt(Z*Z+tt*tt),u(ht,0,.001)&&(Z=0)):(J*=Q,f(Z-J,0,.01)?Z-=J:d(Z+J,0,.01)?Z+=J:Z=0)),it?tt+=it*Q:lt&&nt&&(vt?(nt=Math.pow(nt,Q),tt*=nt,ht=Math.sqrt(Z*Z+tt*tt),u(ht,0,.001)&&(tt=0)):(nt*=Q,f(tt-nt,0,.01)?tt-=nt:d(tt+nt,0,.01)?tt+=nt:tt=0)),Z=l(Z,-q,q),tt=l(tt,-rt,rt),X.velocity.set(Z,tt),dt>-1&&X.velocity.length()>dt&&(X.velocity.normalize().scale(dt),ht=dt),X.speed=ht},separate:function(X,Q,Z,K,J){var q,tt,it=!1,nt=!0;if(!X.enable||!Q.enable||X.checkCollision.none||Q.checkCollision.none||!this.intersects(X,Q)||Z&&Z.call(K,X.gameObject||X,Q.gameObject||Q)===!1)return it;if(X.isCircle||Q.isCircle){var rt=this.separateCircle(X,Q,J);rt.result?(it=!0,nt=!1):(q=rt.x,tt=rt.y,nt=!0)}if(nt){var ht=!1,dt=!1,lt=this.OVERLAP_BIAS;J?(ht=b(X,Q,J,lt,q),dt=G(X,Q,J,lt,tt)):this.forceX||Math.abs(this.gravity.y+X.gravity.y)<Math.abs(this.gravity.x+X.gravity.x)?(ht=b(X,Q,J,lt,q),this.intersects(X,Q)&&(dt=G(X,Q,J,lt,tt))):(dt=G(X,Q,J,lt,tt),this.intersects(X,Q)&&(ht=b(X,Q,J,lt,q))),it=ht||dt}return it&&(J?(X.onOverlap||Q.onOverlap)&&this.emit(o.OVERLAP,X.gameObject,Q.gameObject,X,Q):(X.onCollide||Q.onCollide)&&this.emit(o.COLLIDE,X.gameObject,Q.gameObject,X,Q)),it},separateCircle:function(X,Q,Z){p(X,Q,!1,0),y(X,Q,!1,0);var K=X.isCircle,J=Q.isCircle,q=X.center,tt=Q.center,it=X.immovable,nt=Q.immovable,rt=X.velocity,ht=Q.velocity,dt=0,lt=!0;if(K!==J){lt=!1;var vt=q.x,Mt=q.y,At=X.halfWidth,wt=Q.position.x,ct=Q.position.y,gt=Q.right,xt=Q.bottom;J&&(vt=tt.x,Mt=tt.y,At=Q.halfWidth,wt=X.position.x,ct=X.position.y,gt=X.right,xt=X.bottom),Mt<ct?vt<wt?dt=n(vt,Mt,wt,ct)-At:vt>gt&&(dt=n(vt,Mt,gt,ct)-At):Mt>xt&&(vt<wt?dt=n(vt,Mt,wt,xt)-At:vt>gt&&(dt=n(vt,Mt,gt,xt)-At)),dt*=-1}else dt=X.halfWidth+Q.halfWidth-h(q,tt);X.overlapR=dt,Q.overlapR=dt;var Ft=c(q,tt),bt=(dt+P.EPSILON)*Math.cos(Ft),kt=(dt+P.EPSILON)*Math.sin(Ft),Gt={overlap:dt,result:!1,x:bt,y:kt};if(Z&&(!lt||lt&&dt!==0))return Gt.result=!0,Gt;if(!lt&&dt===0||it&&nt||X.customSeparateX||Q.customSeparateX)return Gt.x=void 0,Gt.y=void 0,Gt;var Ot=!X.pushable&&!Q.pushable;if(lt){var Bt=q.x-tt.x,re=q.y-tt.y,Vt=Math.sqrt(Math.pow(Bt,2)+Math.pow(re,2)),jt=(tt.x-q.x)/Vt||0,ie=(tt.y-q.y)/Vt||0,fe=2*(rt.x*jt+rt.y*ie-ht.x*jt-ht.y*ie)/(X.mass+Q.mass);(it||nt||!X.pushable||!Q.pushable)&&(fe*=2),!it&&X.pushable&&(rt.x=rt.x-fe/X.mass*jt,rt.y=rt.y-fe/X.mass*ie,rt.multiply(X.bounce)),!nt&&Q.pushable&&(ht.x=ht.x+fe/Q.mass*jt,ht.y=ht.y+fe/Q.mass*ie,ht.multiply(Q.bounce)),!it&&!nt&&(bt*=.5,kt*=.5),!it||X.pushable||Ot?(X.x-=bt,X.y-=kt,X.updateCenter()):(!nt||Q.pushable||Ot)&&(Q.x+=bt,Q.y+=kt,Q.updateCenter()),Gt.result=!0}else!it||X.pushable||Ot?(X.x-=bt,X.y-=kt,X.updateCenter()):(!nt||Q.pushable||Ot)&&(Q.x+=bt,Q.y+=kt,Q.updateCenter()),Gt.x=void 0,Gt.y=void 0;return Gt},intersects:function(X,Q){return X===Q?!1:!X.isCircle&&!Q.isCircle?!(X.right<=Q.left||X.bottom<=Q.top||X.left>=Q.right||X.top>=Q.bottom):X.isCircle?Q.isCircle?h(X.center,Q.center)<=X.halfWidth+Q.halfWidth:this.circleBodyIntersects(X,Q):this.circleBodyIntersects(Q,X)},circleBodyIntersects:function(X,Q){var Z=l(X.center.x,Q.left,Q.right),K=l(X.center.y,Q.top,Q.bottom),J=(X.center.x-Z)*(X.center.x-Z),q=(X.center.y-K)*(X.center.y-K);return J+q<=X.halfWidth*X.halfWidth},overlap:function(X,Q,Z,K,J){return Z===void 0&&(Z=null),K===void 0&&(K=null),J===void 0&&(J=Z),this.collideObjects(X,Q,Z,K,J,!0)},collide:function(X,Q,Z,K,J){return Z===void 0&&(Z=null),K===void 0&&(K=null),J===void 0&&(J=Z),this.collideObjects(X,Q,Z,K,J,!1)},collideObjects:function(X,Q,Z,K,J,q){var tt,it;X.isParent&&(X.physicsType===void 0||Q===void 0||X===Q)&&(X=X.children.entries),Q&&Q.isParent&&Q.physicsType===void 0&&(Q=Q.children.entries);var nt=Array.isArray(X),rt=Array.isArray(Q);if(this._total=0,!nt&&!rt)this.collideHandler(X,Q,Z,K,J,q);else if(!nt&&rt)for(tt=0;tt<Q.length;tt++)this.collideHandler(X,Q[tt],Z,K,J,q);else if(nt&&!rt)if(Q)for(tt=0;tt<X.length;tt++)this.collideHandler(X[tt],Q,Z,K,J,q);else for(tt=0;tt<X.length;tt++){var ht=X[tt];for(it=tt+1;it<X.length;it++)tt!==it&&this.collideHandler(ht,X[it],Z,K,J,q)}else for(tt=0;tt<X.length;tt++)for(it=0;it<Q.length;it++)this.collideHandler(X[tt],Q[it],Z,K,J,q);return this._total>0},collideHandler:function(X,Q,Z,K,J,q){if(Q===void 0&&X.isParent)return this.collideGroupVsGroup(X,X,Z,K,J,q);if(!X||!Q)return!1;if(X.body||X.isBody){if(Q.body||Q.isBody)return this.collideSpriteVsSprite(X,Q,Z,K,J,q);if(Q.isParent)return this.collideSpriteVsGroup(X,Q,Z,K,J,q);if(Q.isTilemap)return this.collideSpriteVsTilemapLayer(X,Q,Z,K,J,q)}else if(X.isParent){if(Q.body||Q.isBody)return this.collideSpriteVsGroup(Q,X,Z,K,J,q);if(Q.isParent)return this.collideGroupVsGroup(X,Q,Z,K,J,q);if(Q.isTilemap)return this.collideGroupVsTilemapLayer(X,Q,Z,K,J,q)}else if(X.isTilemap){if(Q.body||Q.isBody)return this.collideSpriteVsTilemapLayer(Q,X,Z,K,J,q);if(Q.isParent)return this.collideGroupVsTilemapLayer(Q,X,Z,K,J,q)}},canCollide:function(X,Q){return X&&Q&&(X.collisionMask&Q.collisionCategory)!==0&&(Q.collisionMask&X.collisionCategory)!==0},collideSpriteVsSprite:function(X,Q,Z,K,J,q){var tt=X.isBody?X:X.body,it=Q.isBody?Q:Q.body;return this.canCollide(tt,it)?(this.separate(tt,it,K,J,q)&&(Z&&Z.call(J,X,Q),this._total++),!0):!1},collideSpriteVsGroup:function(X,Q,Z,K,J,q){var tt=X.isBody?X:X.body;if(!(Q.getLength()===0||!tt||!tt.enable||tt.checkCollision.none||!this.canCollide(tt,Q))){var it,nt,rt;if(this.useTree||Q.physicsType===i.STATIC_BODY){var ht=this.treeMinMax;ht.minX=tt.left,ht.minY=tt.top,ht.maxX=tt.right,ht.maxY=tt.bottom;var dt=Q.physicsType===i.DYNAMIC_BODY?this.tree.search(ht):this.staticTree.search(ht);for(nt=dt.length,it=0;it<nt;it++)rt=dt[it],!(tt===rt||!rt.enable||rt.checkCollision.none||!Q.contains(rt.gameObject))&&this.separate(tt,rt,K,J,q)&&(Z&&Z.call(J,tt.gameObject,rt.gameObject),this._total++)}else{var lt=Q.getChildren(),vt=Q.children.entries.indexOf(X);for(nt=lt.length,it=0;it<nt;it++)rt=lt[it].body,!(!rt||it===vt||!rt.enable)&&this.separate(tt,rt,K,J,q)&&(Z&&Z.call(J,tt.gameObject,rt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(X,Q,Z,K,J,q){if(!this.canCollide(X,Q))return!1;var tt=X.getChildren();if(tt.length===0)return!1;for(var it=!1,nt=0;nt<tt.length;nt++)(tt[nt].body||tt[nt].isBody)&&this.collideSpriteVsTilemapLayer(tt[nt],Q,Z,K,J,q)&&(it=!0);return it},collideTiles:function(X,Q,Z,K,J){return Q.length===0||X.body&&!X.body.enable||X.isBody&&!X.enable?!1:this.collideSpriteVsTilesHandler(X,Q,Z,K,J,!1,!1)},overlapTiles:function(X,Q,Z,K,J){return Q.length===0||X.body&&!X.body.enable||X.isBody&&!X.enable?!1:this.collideSpriteVsTilesHandler(X,Q,Z,K,J,!0,!1)},collideSpriteVsTilemapLayer:function(X,Q,Z,K,J,q){var tt=X.isBody?X:X.body;if(!tt.enable||tt.checkCollision.none||!this.canCollide(tt,Q))return!1;var it=Q.layer,nt=tt.x-it.tileWidth*Q.scaleX,rt=tt.y-it.tileHeight*Q.scaleY,ht=tt.width+it.tileWidth*Q.scaleX,dt=tt.height+it.tileHeight*Q.scaleY,lt=q?null:this.tileFilterOptions,vt=T(nt,rt,ht,dt,lt,Q.scene.cameras.main,Q.layer);return vt.length===0?!1:this.collideSpriteVsTilesHandler(X,vt,Z,K,J,q,!0)},collideSpriteVsTilesHandler:function(X,Q,Z,K,J,q,tt){for(var it=X.isBody?X:X.body,nt,rt={left:0,right:0,top:0,bottom:0},ht,dt=!1,lt=0;lt<Q.length;lt++){nt=Q[lt],ht=nt.tilemapLayer;var vt=ht.tileToWorldXY(nt.x,nt.y);rt.left=vt.x,rt.top=vt.y,rt.right=rt.left+nt.width*ht.scaleX,rt.bottom=rt.top+nt.height*ht.scaleY,W(rt,it)&&(!K||K.call(J,X,nt))&&w(nt,X)&&(q||F(lt,it,nt,rt,ht,this.TILE_BIAS,tt))&&(this._total++,dt=!0,Z&&Z.call(J,X,nt),q&&it.onOverlap?this.emit(o.TILE_OVERLAP,X,nt,it):it.onCollide&&this.emit(o.TILE_COLLIDE,X,nt,it))}return dt},collideGroupVsGroup:function(X,Q,Z,K,J,q){if(!(X.getLength()===0||Q.getLength()===0||!this.canCollide(X,Q)))for(var tt=X.getChildren(),it=0;it<tt.length;it++)this.collideSpriteVsGroup(tt[it],Q,Z,K,J,q)},wrap:function(X,Q){X.body?this.wrapObject(X,Q):X.getChildren?this.wrapArray(X.getChildren(),Q):Array.isArray(X)?this.wrapArray(X,Q):this.wrapObject(X,Q)},wrapArray:function(X,Q){for(var Z=0;Z<X.length;Z++)this.wrapObject(X[Z],Q)},wrapObject:function(X,Q){Q===void 0&&(Q=0),X.x=z(X.x,this.bounds.left-Q,this.bounds.right+Q),X.y=z(X.y,this.bounds.top-Q,this.bounds.bottom+Q)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});x.exports=$},1093:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setAcceleration:function(t,c){return this.body.acceleration.set(t,c),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};x.exports=M},59023:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};x.exports=M},62069:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setBounce:function(t,c){return this.body.bounce.set(t,c),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,c,m,l){return this.body.setCollideWorldBounds(t,c,m,l),this}};x.exports=M},78389:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(79599),m={setCollisionCategory:function(l){var a=this.body?this.body:this;return a.collisionCategory=l,this},willCollideWith:function(l){var a=this.body?this.body:this;return(a.collisionMask&l)!==0},addCollidesWith:function(l){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask|l,this},removeCollidesWith:function(l){var a=this.body?this.body:this;return a.collisionMask=a.collisionMask&~l,this},setCollidesWith:function(l){var a=this.body?this.body:this;return a.collisionMask=c(l),this},resetCollisionCategory:function(){var l=this.body?this.body:this;return l.collisionCategory=1,l.collisionMask=2147483647,this}};x.exports=m},87118:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setDebug:function(t,c,m){return this.debugShowBody=t,this.debugShowVelocity=c,this.debugBodyColor=m,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};x.exports=M},52819:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setDrag:function(t,c){return this.body.drag.set(t,c),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};x.exports=M},4074:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,c,m,l,a){return t&&this.body.reset(c,m),l&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,c){return t===void 0&&(t=!1),c===void 0&&(c=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),c&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};x.exports=M},40831:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setFriction:function(t,c){return this.body.friction.set(t,c),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};x.exports=M},26775:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setGravity:function(t,c){return this.body.gravity.set(t,c),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};x.exports=M},9437:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};x.exports=M},30621:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setMass:function(t){return this.body.mass=t,this}};x.exports=M},72441:(x,M,t)=>{var c=t(47956),m=t(96503),l=t(2044),a=t(81491),r=function(i,n,h,s,o,u){var f=c(i,n-s,h-s,2*s,2*s,o,u);if(f.length===0)return f;for(var d=new m(n,h,s),p=new m,y=[],T=0;T<f.length;T++){var C=f[T];C.isCircle?(p.setTo(C.center.x,C.center.y,C.halfWidth),l(d,p)&&y.push(C)):a(d,C)&&y.push(C)}return y};x.exports=r},47956:x=>{var M=function(t,c,m,l,a,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var n=[],h=[],s=t.treeMinMax;if(s.minX=c,s.minY=m,s.maxX=c+l,s.maxY=m+a,i&&(h=t.staticTree.search(s)),r&&t.useTree)n=t.tree.search(s);else if(r){var o=t.bodies,u={position:{x:c,y:m},left:c,top:m,right:c+l,bottom:m+a,isCircle:!1},f=t.intersects;o.iterate(function(d){f(d,u)&&n.push(d)})}return h.concat(n)};x.exports=M},62121:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};x.exports=M},29384:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setOffset:function(t,c){return this.body.setOffset(t,c),this},setSize:function(t,c,m){return this.body.setSize(t,c,m),this},setBodySize:function(t,c,m){return this.body.setSize(t,c,m),this},setCircle:function(t,c,m){return this.body.setCircle(t,c,m),this}};x.exports=M},15098:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setVelocity:function(t,c){return this.body.setVelocity(t,c),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,c){return this.body.maxVelocity.set(t,c),this}};x.exports=M},92209:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};x.exports=M},20009:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="collide"},36768:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="overlap"},60473:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pause"},89954:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resume"},61804:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="tilecollide"},7161:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="tileoverlap"},34689:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="worldbounds"},16006:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="worldstep"},63012:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37747),m=t(79291),l={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};l=m(!1,l,c),x.exports=l},96602:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,c,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,c,t):!0};x.exports=M},36294:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c<0?(t.blocked.none=!1,t.blocked.left=!0):c>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=c,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};x.exports=M},67013:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c<0?(t.blocked.none=!1,t.blocked.up=!0):c>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=c,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};x.exports=M},40012:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(21329),m=t(53442),l=t(2483),a=function(r,i,n,h,s,o,u){var f=h.left,d=h.top,p=h.right,y=h.bottom,T=n.faceLeft||n.faceRight,C=n.faceTop||n.faceBottom;if(u||(T=!0,C=!0),!T&&!C)return!1;var P=0,A=0,w=0,L=1;if(i.deltaAbsX()>i.deltaAbsY()?w=-1:i.deltaAbsX()<i.deltaAbsY()&&(L=-1),i.deltaX()!==0&&i.deltaY()!==0&&T&&C&&(w=Math.min(Math.abs(i.position.x-p),Math.abs(i.right-f)),L=Math.min(Math.abs(i.position.y-y),Math.abs(i.bottom-d))),w<L){if(T&&(P=c(i,n,f,p,o,u),P!==0&&!l(h,i)))return!0;C&&(A=m(i,n,d,y,o,u))}else{if(C&&(A=m(i,n,d,y,o,u),A!==0&&!l(h,i)))return!0;T&&(P=c(i,n,f,p,o,u))}return P!==0||A!==0};x.exports=a},21329:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36294),m=function(l,a,r,i,n,h){var s=0,o=a.faceLeft,u=a.faceRight,f=a.collideLeft,d=a.collideRight;return h||(o=!0,u=!0,f=!0,d=!0),l.deltaX()<0&&d&&l.checkCollision.left?u&&l.x<i&&(s=l.x-i,s<-n&&(s=0)):l.deltaX()>0&&f&&l.checkCollision.right&&o&&l.right>r&&(s=l.right-r,s>n&&(s=0)),s!==0&&(l.customSeparateX?l.overlapX=s:c(l,s)),s};x.exports=m},53442:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(67013),m=function(l,a,r,i,n,h){var s=0,o=a.faceTop,u=a.faceBottom,f=a.collideUp,d=a.collideDown;return h||(o=!0,u=!0,f=!0,d=!0),l.deltaY()<0&&d&&l.checkCollision.up?u&&l.y<i&&(s=l.y-i,s<-n&&(s=0)):l.deltaY()>0&&f&&l.checkCollision.down&&o&&l.bottom>r&&(s=l.bottom-r,s>n&&(s=0)),s!==0&&(l.customSeparateY?l.overlapY=s:c(l,s)),s};x.exports=m},2483:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return!(c.right<=t.left||c.bottom<=t.top||c.position.x>=t.right||c.position.y>=t.bottom)};x.exports=M},55173:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};x.exports=c},44563:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Arcade:t(27064),Matter:t(3875)}},68174:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(26099),l=new c({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,i=this.centerDiff,n=a.bounds.max.x-a.bounds.min.x,h=a.bounds.max.y-a.bounds.min.y,s=n*a.centerOfMass.x,o=h*a.centerOfMass.y;return r.set(n/2,h/2),i.set(s-r.x,o-r.y),!0},getTopLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,h=this.centerDiff;return new m(r+n.x+h.x,i+n.y+h.y)}return!1},getTopCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,h=this.centerDiff;return new m(r+h.x,i+n.y+h.y)}return!1},getTopRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,h=this.centerDiff;return new m(r-(n.x-h.x),i+n.y+h.y)}return!1},getLeftCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,h=this.centerDiff;return new m(r+n.x+h.x,i+h.y)}return!1},getCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.centerDiff;return new m(r+n.x,i+n.y)}return!1},getRightCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,h=this.centerDiff;return new m(r-(n.x-h.x),i+h.y)}return!1},getBottomLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,h=this.centerDiff;return new m(r+n.x+h.x,i-(n.y-h.y))}return!1},getBottomCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,h=this.centerDiff;return new m(r+h.x,i-(n.y-h.y))}return!1},getBottomRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var n=this.boundsCenter,h=this.centerDiff;return new m(r-(n.x-h.x),i-(n.y-h.y))}return!1}});x.exports=l},19933:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(6790);c.Body=t(22562),c.Composite=t(69351),c.World=t(4372),c.Collision=t(52284),c.Detector=t(81388),c.Pairs=t(99561),c.Pair=t(4506),c.Query=t(73296),c.Resolver=t(66272),c.Constraint=t(48140),c.Common=t(53402),c.Engine=t(48413),c.Events=t(35810),c.Sleeping=t(53614),c.Plugin=t(73832),c.Bodies=t(66280),c.Composites=t(74116),c.Axes=t(66615),c.Bounds=t(15647),c.Svg=t(74058),c.Vector=t(31725),c.Vertices=t(41598),c.World.add=c.Composite.add,c.World.remove=c.Composite.remove,c.World.addComposite=c.Composite.addComposite,c.World.addBody=c.Composite.addBody,c.World.addConstraint=c.Composite.addConstraint,c.World.clear=c.Composite.clear,x.exports=c},28137:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66280),m=t(83419),l=t(74116),a=t(48140),r=t(74058),i=t(75803),n=t(23181),h=t(34803),s=t(73834),o=t(19496),u=t(85791),f=t(98713),d=t(41598),p=new m({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(y,T,C,P,A){var w=c.rectangle(y,T,C,P,A);return this.world.add(w),w},trapezoid:function(y,T,C,P,A,w){var L=c.trapezoid(y,T,C,P,A,w);return this.world.add(L),L},circle:function(y,T,C,P,A){var w=c.circle(y,T,C,P,A);return this.world.add(w),w},polygon:function(y,T,C,P,A){var w=c.polygon(y,T,C,P,A);return this.world.add(w),w},fromVertices:function(y,T,C,P,A,w,L){typeof C=="string"&&(C=d.fromPath(C));var B=c.fromVertices(y,T,C,P,A,w,L);return this.world.add(B),B},fromPhysicsEditor:function(y,T,C,P,A){A===void 0&&(A=!0);var w=o.parseBody(y,T,C,P);return A&&!this.world.has(w)&&this.world.add(w),w},fromSVG:function(y,T,C,P,A,w){P===void 0&&(P=1),A===void 0&&(A={}),w===void 0&&(w=!0);for(var L=C.getElementsByTagName("path"),B=[],F=0;F<L.length;F++){var b=r.pathToVertices(L[F],30);P!==1&&d.scale(b,P,P),B.push(b)}var G=c.fromVertices(y,T,B,A);return w&&this.world.add(G),G},fromJSON:function(y,T,C,P,A){P===void 0&&(P={}),A===void 0&&(A=!0);var w=u.parseBody(y,T,C,P);return w&&A&&this.world.add(w),w},imageStack:function(y,T,C,P,A,w,L,B,F){L===void 0&&(L=0),B===void 0&&(B=0),F===void 0&&(F={});var b=this.world,G=this.sys.displayList;F.addToWorld=!1;var N=l.stack(C,P,A,w,L,B,function(U,W){var H=new n(b,U,W,y,T,F);return G.add(H),H.body});return b.add(N),N},stack:function(y,T,C,P,A,w,L){var B=l.stack(y,T,C,P,A,w,L);return this.world.add(B),B},pyramid:function(y,T,C,P,A,w,L){var B=l.pyramid(y,T,C,P,A,w,L);return this.world.add(B),B},chain:function(y,T,C,P,A,w){return l.chain(y,T,C,P,A,w)},mesh:function(y,T,C,P,A){return l.mesh(y,T,C,P,A)},newtonsCradle:function(y,T,C,P,A){var w=l.newtonsCradle(y,T,C,P,A);return this.world.add(w),w},car:function(y,T,C,P,A){var w=l.car(y,T,C,P,A);return this.world.add(w),w},softBody:function(y,T,C,P,A,w,L,B,F,b){var G=l.softBody(y,T,C,P,A,w,L,B,F,b);return this.world.add(G),G},joint:function(y,T,C,P,A){return this.constraint(y,T,C,P,A)},spring:function(y,T,C,P,A){return this.constraint(y,T,C,P,A)},constraint:function(y,T,C,P,A){P===void 0&&(P=1),A===void 0&&(A={}),A.bodyA=y.type==="body"?y:y.body,A.bodyB=T.type==="body"?T:T.body,isNaN(C)||(A.length=C),A.stiffness=P;var w=a.create(A);return this.world.add(w),w},worldConstraint:function(y,T,C,P){C===void 0&&(C=1),P===void 0&&(P={}),P.bodyB=y.type==="body"?y:y.body,isNaN(T)||(P.length=T),P.stiffness=C;var A=a.create(P);return this.world.add(A),A},mouseSpring:function(y){return this.pointerConstraint(y)},pointerConstraint:function(y){y===void 0&&(y={}),y.hasOwnProperty("render")||(y.render={visible:!1});var T=new f(this.scene,this.world,y);return this.world.add(T.constraint),T},image:function(y,T,C,P,A){var w=new n(this.world,y,T,C,P,A);return this.sys.displayList.add(w),w},tileBody:function(y,T){return new s(this.world,y,T)},sprite:function(y,T,C,P,A){var w=new h(this.world,y,T,C,P,A);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},gameObject:function(y,T,C){return i(this.world,y,T,C)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});x.exports=p},75803:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(31884),m=t(95540),l=t(26099);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var r=function(i,n,h,s){h===void 0&&(h={}),s===void 0&&(s=!0);var o=n.x,u=n.y;n.body={temp:!0,position:{x:o,y:u}};var f=[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity];if(f.forEach(function(p){for(var y in p)a(p[y])?Object.defineProperty(n,y,{get:p[y].get,set:p[y].set}):Object.defineProperty(n,y,{value:p[y]})}),n.world=i,n._tempVec2=new l(o,u),h.hasOwnProperty("type")&&h.type==="body")n.setExistingBody(h,s);else{var d=m(h,"shape",null);d||(d="rectangle"),h.addToWorld=s,n.setBody(d,h)}return n};x.exports=r},23181:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31884),l=t(95643),a=t(95540),r=t(88571),i=t(72699),n=t(26099),h=new c({Extends:r,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,i],initialize:function(o,u,f,d,p,y){l.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new n(u,f);var T=a(y,"shape",null);T?this.setBody(T,y):this.setRectangle(this.width,this.height,y),this.setPosition(u,f),this.initPipeline(),this.initPostPipeline(!0)}});x.exports=h},42045:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(60461),m=t(66615),l=t(66280),a=t(22562),r=t(68174),i=t(15647),n=t(83419),h=t(52284),s=t(53402),o=t(69351),u=t(74116),f=t(48140),d=t(81388),p=t(20339),y=t(28137),T=t(95540),C=t(35154),P=t(46975),A=t(4506),w=t(99561),L=t(37277),B=t(73296),F=t(66272),b=t(44594),G=t(74058),N=t(31725),U=t(41598),W=t(68243);s.setDecomp(t(55973));var H=new n({initialize:function(z){this.scene=z,this.systems=z.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=o,this.collision=h,this.detector=d,this.pair=A,this.pairs=w,this.query=B,this.resolver=F,this.constraint=f,this.bodies=l,this.composites=u,this.axes=m,this.bounds=i,this.svg=G,this.vector=N,this.vertices=U,this.verts=U,this._tempVec2=N.create(),F._restingThresh=C(this.config,"restingThresh",4),F._restingThreshTangent=C(this.config,"restingThreshTangent",6),F._positionDampen=C(this.config,"positionDampen",.9),F._positionWarming=C(this.config,"positionWarming",.8),F._frictionNormalMultiplier=C(this.config,"frictionNormalMultiplier",5),z.sys.events.once(b.BOOT,this.boot,this),z.sys.events.on(b.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new y(this.world),this.bodyBounds=new r,this.systems.events.once(b.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new y(this.world));var k=this.systems.events;k.on(b.UPDATE,this.world.update,this.world),k.on(b.POST_UPDATE,this.world.postUpdate,this.world),k.once(b.SHUTDOWN,this.shutdown,this)},getConfig:function(){var k=this.systems.game.config.physics,z=this.systems.settings.physics,$=P(T(z,"matter",{}),T(k,"matter",{}));return $},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(k,z){this.world.step(k,z)},containsPoint:function(k,z,$){k=this.getMatterBodies(k);var X=N.create(z,$),Q=B.point(k,X);return Q.length>0},intersectPoint:function(k,z,$){$=this.getMatterBodies($);var X=N.create(k,z),Q=[],Z=B.point($,X);return Z.forEach(function(K){Q.indexOf(K)===-1&&Q.push(K)}),Q},intersectRect:function(k,z,$,X,Q,Z){Q===void 0&&(Q=!1),Z=this.getMatterBodies(Z);var K={min:{x:k,y:z},max:{x:k+$,y:z+X}},J=[],q=B.region(Z,K,Q);return q.forEach(function(tt){J.indexOf(tt)===-1&&J.push(tt)}),J},intersectRay:function(k,z,$,X,Q,Z){Q===void 0&&(Q=1),Z=this.getMatterBodies(Z);for(var K=[],J=B.ray(Z,N.create(k,z),N.create($,X),Q),q=0;q<J.length;q++)K.push(J[q].body);return K},intersectBody:function(k,z){z=this.getMatterBodies(z);for(var $=[],X=B.collides(k,z),Q=0;Q<X.length;Q++){var Z=X[Q];Z.bodyA===k?$.push(Z.bodyB):$.push(Z.bodyA)}return $},overlap:function(k,z,$,X,Q){$===void 0&&($=null),X===void 0&&(X=null),Q===void 0&&(Q=$),Array.isArray(k)||(k=[k]),k=this.getMatterBodies(k),z=this.getMatterBodies(z);for(var Z=!1,K=0;K<k.length;K++)for(var J=k[K],q=B.collides(J,z),tt=0;tt<q.length;tt++){var it=q[tt],nt=it.bodyA.id===J.id?it.bodyB:it.bodyA;if(!X||X.call(Q,J,nt,it)){if(Z=!0,$)$.call(Q,J,nt,it);else if(!X)return!0}}return Z},setCollisionCategory:function(k,z){return k=this.getMatterBodies(k),k.forEach(function($){$.collisionFilter.category=z}),this},setCollisionGroup:function(k,z){return k=this.getMatterBodies(k),k.forEach(function($){$.collisionFilter.group=z}),this},setCollidesWith:function(k,z){k=this.getMatterBodies(k);var $=0;if(!Array.isArray(z))$=z;else for(var X=0;X<z.length;X++)$|=z[X];return k.forEach(function(Q){Q.collisionFilter.mask=$}),this},getMatterBodies:function(k){if(!k)return this.world.getAllBodies();Array.isArray(k)||(k=[k]);for(var z=[],$=0;$<k.length;$++){var X=k[$].hasOwnProperty("body")?k[$].body:k[$];z.push(X)}return z},setVelocity:function(k,z,$){k=this.getMatterBodies(k);var X=this._tempVec2;return X.x=z,X.y=$,k.forEach(function(Q){a.setVelocity(Q,X)}),this},setVelocityX:function(k,z){k=this.getMatterBodies(k);var $=this._tempVec2;return $.x=z,k.forEach(function(X){$.y=X.velocity.y,a.setVelocity(X,$)}),this},setVelocityY:function(k,z){k=this.getMatterBodies(k);var $=this._tempVec2;return $.y=z,k.forEach(function(X){$.x=X.velocity.x,a.setVelocity(X,$)}),this},setAngularVelocity:function(k,z){return k=this.getMatterBodies(k),k.forEach(function($){a.setAngularVelocity($,z)}),this},applyForce:function(k,z){k=this.getMatterBodies(k);var $=this._tempVec2;return k.forEach(function(X){$.x=X.position.x,$.y=X.position.y,a.applyForce(X,$,z)}),this},applyForceFromPosition:function(k,z,$,X){k=this.getMatterBodies(k);var Q=this._tempVec2;return k.forEach(function(Z){X===void 0&&(X=Z.angle),Q.x=$*Math.cos(X),Q.y=$*Math.sin(X),a.applyForce(Z,z,Q)}),this},applyForceFromAngle:function(k,z,$){k=this.getMatterBodies(k);var X=this._tempVec2;return k.forEach(function(Q){$===void 0&&($=Q.angle),X.x=z*Math.cos($),X.y=z*Math.sin($),a.applyForce(Q,{x:Q.position.x,y:Q.position.y},X)}),this},getConstraintLength:function(k){var z=k.pointA.x,$=k.pointA.y,X=k.pointB.x,Q=k.pointB.y;return k.bodyA&&(z+=k.bodyA.position.x,$+=k.bodyA.position.y),k.bodyB&&(X+=k.bodyB.position.x,Q+=k.bodyB.position.y),p(z,$,X,Q)},alignBody:function(k,z,$,X){k=k.hasOwnProperty("body")?k.body:k;var Q;switch(X){case c.TOP_LEFT:case c.LEFT_TOP:Q=this.bodyBounds.getTopLeft(k,z,$);break;case c.TOP_CENTER:Q=this.bodyBounds.getTopCenter(k,z,$);break;case c.TOP_RIGHT:case c.RIGHT_TOP:Q=this.bodyBounds.getTopRight(k,z,$);break;case c.LEFT_CENTER:Q=this.bodyBounds.getLeftCenter(k,z,$);break;case c.CENTER:Q=this.bodyBounds.getCenter(k,z,$);break;case c.RIGHT_CENTER:Q=this.bodyBounds.getRightCenter(k,z,$);break;case c.LEFT_BOTTOM:case c.BOTTOM_LEFT:Q=this.bodyBounds.getBottomLeft(k,z,$);break;case c.BOTTOM_CENTER:Q=this.bodyBounds.getBottomCenter(k,z,$);break;case c.BOTTOM_RIGHT:case c.RIGHT_BOTTOM:Q=this.bodyBounds.getBottomRight(k,z,$);break}return Q&&a.setPosition(k,Q),this},shutdown:function(){var k=this.systems.events;this.world&&(k.off(b.UPDATE,this.world.update,this.world),k.off(b.POST_UPDATE,this.world.postUpdate,this.world)),k.off(b.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(b.START,this.start,this),this.scene=null,this.systems=null}});L.register("MatterPhysics",H,"matterPhysics"),x.exports=H},34803:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(9674),m=t(83419),l=t(31884),a=t(95643),r=t(95540),i=t(72699),n=t(68287),h=t(26099),s=new m({Extends:n,Mixins:[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity,i],initialize:function(u,f,d,p,y,T){a.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new c(this),this.setTexture(p,y),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new h(f,d);var C=r(T,"shape",null);C?this.setBody(C,T):this.setRectangle(this.width,this.height,T),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(!0)}});x.exports=s},73834:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66280),m=t(22562),l=t(83419),a=t(31884),r=t(62644),i=t(50792),n=t(95540),h=t(97022),s=t(41598),o=new l({Extends:i,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(f,d,p){i.call(this),this.tile=d,this.world=f,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var y=n(p,"body",null),T=n(p,"addToWorld",!0);if(y)this.setBody(y,T);else{var C=d.getCollisionGroup(),P=n(C,"objects",[]);P.length>0?this.setFromTileCollision(p):this.setFromTileRectangle(p)}if(d.flipX||d.flipY){var A={x:d.getCenterX(),y:d.getCenterY()},w=d.flipX?-1:1,L=d.flipY?-1:1;m.scale(y,w,L,A)}},setFromTileRectangle:function(u){u===void 0&&(u={}),h(u,"isStatic")||(u.isStatic=!0),h(u,"addToWorld")||(u.addToWorld=!0);var f=this.tile.getBounds(),d=f.x+f.width/2,p=f.y+f.height/2,y=c.rectangle(d,p,f.width,f.height,u);return this.setBody(y,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),h(u,"isStatic")||(u.isStatic=!0),h(u,"addToWorld")||(u.addToWorld=!0);for(var f=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,p=this.tile.getLeft(),y=this.tile.getTop(),T=this.tile.getCollisionGroup(),C=n(T,"objects",[]),P=[],A=0;A<C.length;A++){var w=C[A],L=p+w.x*f,B=y+w.y*d,F=w.width*f,b=w.height*d,G=null;if(w.rectangle)G=c.rectangle(L+F/2,B+b/2,F,b,u);else if(w.ellipse)G=c.circle(L+F/2,B+b/2,F/2,u);else if(w.polygon||w.polyline){var N=w.polygon?w.polygon:w.polyline,U=N.map(function(z){return{x:z.x*f,y:z.y*d}}),W=s.create(U),H=s.centre(W);L+=H.x,B+=H.y,G=c.fromVertices(L,B,W,u)}G&&P.push(G)}if(P.length===1)this.setBody(P[0],u.addToWorld);else if(P.length>1){var k=r(u);k.parts=P,this.setBody(m.create(k),k.addToWorld)}return this},setBody:function(u,f){return f===void 0&&(f=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,f&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});x.exports=o},19496:(x,M,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66280),m=t(22562),l=t(53402),a=t(95540),r=t(41598),i={parseBody:function(n,h,s,o){o===void 0&&(o={});for(var u=a(s,"fixtures",[]),f=[],d=0;d<u.length;d++)for(var p=this.parseFixture(u[d]),y=0;y<p.length;y++)f.push(p[y]);var T=l.clone(s,!0);l.extend(T,o,!0),delete T.fixtures,delete T.type;var C=m.create(T);return m.setParts(C,f),m.setPosition(C,{x:n,y:h}),C},parseFixture:function(n){var h=l.extend({},!1,n);delete h.circle,delete h.vertices;var s;if(n.circle){var o=a(n.circle,"x"),u=a(n.circle,"y"),f=a(n.circle,"radius");s=[c.circle(o,u,f,h)]}else n.vertices&&(s=this.parseVertices(n.vertices,h));return s},parseVertices:function(n,h){h===void 0&&(h={});for(var s=[],o=0;o<n.length;o++)r.clockwiseSort(n[o]),s.push(m.create(l.extend({position:r.centre(n[o]),vertices:n[o]},h)));return c.flagCoincidentParts(s)}};x.exports=i},85791:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66280),m=t(22562),l={parseBody:function(a,r,i,n){n===void 0&&(n={});var h,s=i.vertices;if(s.length===1)n.vertices=s[0],h=m.create(n),c.flagCoincidentParts(h.parts);else{for(var o=[],u=0;u<s.length;u++){var f=m.create({vertices:s[u]});o.push(f)}c.flagCoincidentParts(o),n.parts=o,h=m.create(n)}return h.label=i.label,m.setPosition(h,{x:a,y:r}),h}};x.exports=l},98713:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(15647),m=t(83419),l=t(69351),a=t(48140),r=t(81388),i=t(1121),n=t(8214),h=t(46975),s=t(53614),o=t(26099),u=t(41598),f=new m({initialize:function(p,y,T){T===void 0&&(T={});var C={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=y,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=a.create(h(T,C)),this.world.on(i.BEFORE_UPDATE,this.update,this),p.sys.input.on(n.POINTER_DOWN,this.onDown,this),p.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var p=this.position,y=this.constraint;this.camera.getWorldPoint(d.x,d.y,p);for(var T=l.allBodies(this.world.localWorld),C=0;C<T.length;C++){var P=T[C];if(!P.ignorePointer&&c.contains(P.bounds,p)&&r.canCollide(P.collisionFilter,y.collisionFilter)&&this.hitTestBody(P,p))return this.world.emit(i.DRAG_START,P,this.part,this),!0}return!1},hitTestBody:function(d,p){for(var y=this.constraint,T=d.parts.length,C=T>1?1:0,P=C;P<T;P++){var A=d.parts[P];if(u.contains(A.vertices,p))return y.pointA=p,y.pointB={x:p.x-d.position.x,y:p.y-d.position.y},y.bodyB=d,y.angleB=d.angle,s.set(d,!1),this.part=A,this.body=d,!0}return!1},update:function(){var d=this.pointer,p=this.body;if(!this.active||!d){p&&this.stopDrag();return}if(!d.isDown&&p){this.stopDrag();return}else if(d.isDown){if(!this.camera||!p&&!this.getBody(d))return;p=this.body;var y=this.position,T=this.constraint;this.camera.getWorldPoint(d.x,d.y,y),T.pointA.x=y.x,T.pointA.y=y.y,s.set(p,!1),this.world.emit(i.DRAG,p,this)}},stopDrag:function(){var d=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(i.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});x.exports=f},68243:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66280),m=t(22562),l=t(83419),a=t(53402),r=t(69351),i=t(48413),n=t(50792),h=t(1121),s=t(95540),o=t(35154),u=t(22562),f=t(35810),d=t(73834),p=t(4372),y=t(13037),T=t(31725),C=new l({Extends:n,initialize:function(A,w){n.call(this),this.scene=A,this.engine=i.create(w),this.localWorld=this.engine.world;var L=o(w,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(w,"enabled",!0),this.getDelta=o(w,"getDelta",this.update60Hz);var B=s(w,"runner",{}),F=s(B,"fps",!1),b=s(B,"fps",60),G=s(B,"delta",1e3/b),N=s(B,"deltaMin",1e3/b),U=s(B,"deltaMax",1e3/(b*.5));F||(b=1e3/G),this.runner={fps:b,deltaSampleSize:s(B,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:s(B,"isFixed",!1),delta:G,deltaMin:N,deltaMax:U},this.autoUpdate=o(w,"autoUpdate",!0);var W=o(w,"debug",!1);if(this.drawDebug=typeof W=="object"?!0:W,this.debugGraphic,this.debugConfig={showAxes:s(W,"showAxes",!1),showAngleIndicator:s(W,"showAngleIndicator",!1),angleColor:s(W,"angleColor",15208787),showBroadphase:s(W,"showBroadphase",!1),broadphaseColor:s(W,"broadphaseColor",16757760),showBounds:s(W,"showBounds",!1),boundsColor:s(W,"boundsColor",16777215),showVelocity:s(W,"showVelocity",!1),velocityColor:s(W,"velocityColor",44783),showCollisions:s(W,"showCollisions",!1),collisionColor:s(W,"collisionColor",16094476),showSeparations:s(W,"showSeparations",!1),separationColor:s(W,"separationColor",16753920),showBody:s(W,"showBody",!0),showStaticBody:s(W,"showStaticBody",!0),showInternalEdges:s(W,"showInternalEdges",!1),renderFill:s(W,"renderFill",!1),renderLine:s(W,"renderLine",!0),fillColor:s(W,"fillColor",1075465),fillOpacity:s(W,"fillOpacity",1),lineColor:s(W,"lineColor",2678297),lineOpacity:s(W,"lineOpacity",1),lineThickness:s(W,"lineThickness",1),staticFillColor:s(W,"staticFillColor",857979),staticLineColor:s(W,"staticLineColor",1255396),showSleeping:s(W,"showSleeping",!1),staticBodySleepOpacity:s(W,"staticBodySleepOpacity",.7),sleepFillColor:s(W,"sleepFillColor",4605510),sleepLineColor:s(W,"sleepLineColor",10066585),showSensors:s(W,"showSensors",!0),sensorFillColor:s(W,"sensorFillColor",857979),sensorLineColor:s(W,"sensorLineColor",1255396),showPositions:s(W,"showPositions",!0),positionSize:s(W,"positionSize",4),positionColor:s(W,"positionColor",14697178),showJoint:s(W,"showJoint",!0),jointColor:s(W,"jointColor",14737474),jointLineOpacity:s(W,"jointLineOpacity",1),jointLineThickness:s(W,"jointLineThickness",2),pinSize:s(W,"pinSize",4),pinColor:s(W,"pinColor",4382944),springColor:s(W,"springColor",14697184),anchorColor:s(W,"anchorColor",15724527),anchorSize:s(W,"anchorSize",4),showConvexHulls:s(W,"showConvexHulls",!1),hullColor:s(W,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),s(w,"setBounds",!1)){var H=w.setBounds;if(typeof H=="boolean")this.setBounds();else{var k=s(H,"x",0),z=s(H,"y",0),$=s(H,"width",A.sys.scale.width),X=s(H,"height",A.sys.scale.height),Q=s(H,"thickness",64),Z=s(H,"left",!0),K=s(H,"right",!0),J=s(H,"top",!0),q=s(H,"bottom",!0);this.setBounds(k,z,$,X,Q,Z,K,J,q)}}},setCompositeRenderStyle:function(P){var A=P.bodies,w=P.constraints,L=P.composites,B,F,b;for(B=0;B<A.length;B++)F=A[B],b=F.render,this.setBodyRenderStyle(F,b.lineColor,b.lineOpacity,b.lineThickness,b.fillColor,b.fillOpacity);for(B=0;B<w.length;B++)F=w[B],b=F.render,this.setConstraintRenderStyle(F,b.lineColor,b.lineOpacity,b.lineThickness,b.pinSize,b.anchorColor,b.anchorSize);for(B=0;B<L.length;B++)F=L[B],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(P,A,w,L,B,F){var b=P.render,G=this.debugConfig;return b?(A==null&&(A=P.isStatic?G.staticLineColor:G.lineColor),w==null&&(w=G.lineOpacity),L==null&&(L=G.lineThickness),B==null&&(B=P.isStatic?G.staticFillColor:G.fillColor),F==null&&(F=G.fillOpacity),A!==!1&&(b.lineColor=A),w!==!1&&(b.lineOpacity=w),L!==!1&&(b.lineThickness=L),B!==!1&&(b.fillColor=B),F!==!1&&(b.fillOpacity=F),this):this},setConstraintRenderStyle:function(P,A,w,L,B,F,b){var G=P.render,N=this.debugConfig;if(!G)return this;if(A==null){var U=G.type;U==="line"?A=N.jointColor:U==="pin"?A=N.pinColor:U==="spring"&&(A=N.springColor)}return w==null&&(w=N.jointLineOpacity),L==null&&(L=N.jointLineThickness),B==null&&(B=N.pinSize),F==null&&(F=N.anchorColor),b==null&&(b=N.anchorSize),A!==!1&&(G.lineColor=A),w!==!1&&(G.lineOpacity=w),L!==!1&&(G.lineThickness=L),B!==!1&&(G.pinSize=B),F!==!1&&(G.anchorColor=F),b!==!1&&(G.anchorSize=b),this},setEventsProxy:function(){var P=this,A=this.engine,w=this.localWorld;this.drawDebug&&(f.on(w,"compositeModified",function(L){P.setCompositeRenderStyle(L)}),f.on(w,"beforeAdd",function(L){for(var B=[].concat(L.object),F=0;F<B.length;F++){var b=B[F],G=b.render;b.type==="body"?P.setBodyRenderStyle(b,G.lineColor,G.lineOpacity,G.lineThickness,G.fillColor,G.fillOpacity):b.type==="composite"?P.setCompositeRenderStyle(b):b.type==="constraint"&&P.setConstraintRenderStyle(b,G.lineColor,G.lineOpacity,G.lineThickness,G.pinSize,G.anchorColor,G.anchorSize)}})),f.on(w,"beforeAdd",function(L){P.emit(h.BEFORE_ADD,L)}),f.on(w,"afterAdd",function(L){P.emit(h.AFTER_ADD,L)}),f.on(w,"beforeRemove",function(L){P.emit(h.BEFORE_REMOVE,L)}),f.on(w,"afterRemove",function(L){P.emit(h.AFTER_REMOVE,L)}),f.on(A,"beforeUpdate",function(L){P.emit(h.BEFORE_UPDATE,L)}),f.on(A,"afterUpdate",function(L){P.emit(h.AFTER_UPDATE,L)}),f.on(A,"collisionStart",function(L){var B=L.pairs,F,b;B.length>0&&B.map(function(G){F=G.bodyA,b=G.bodyB,F.gameObject&&F.gameObject.emit("collide",F,b,G),b.gameObject&&b.gameObject.emit("collide",b,F,G),f.trigger(F,"onCollide",{pair:G}),f.trigger(b,"onCollide",{pair:G}),F.onCollideCallback&&F.onCollideCallback(G),b.onCollideCallback&&b.onCollideCallback(G),F.onCollideWith[b.id]&&F.onCollideWith[b.id](b,G),b.onCollideWith[F.id]&&b.onCollideWith[F.id](F,G)}),P.emit(h.COLLISION_START,L,F,b)}),f.on(A,"collisionActive",function(L){var B=L.pairs,F,b;B.length>0&&B.map(function(G){F=G.bodyA,b=G.bodyB,F.gameObject&&F.gameObject.emit("collideActive",F,b,G),b.gameObject&&b.gameObject.emit("collideActive",b,F,G),f.trigger(F,"onCollideActive",{pair:G}),f.trigger(b,"onCollideActive",{pair:G}),F.onCollideActiveCallback&&F.onCollideActiveCallback(G),b.onCollideActiveCallback&&b.onCollideActiveCallback(G)}),P.emit(h.COLLISION_ACTIVE,L,F,b)}),f.on(A,"collisionEnd",function(L){var B=L.pairs,F,b;B.length>0&&B.map(function(G){F=G.bodyA,b=G.bodyB,F.gameObject&&F.gameObject.emit("collideEnd",F,b,G),b.gameObject&&b.gameObject.emit("collideEnd",b,F,G),f.trigger(F,"onCollideEnd",{pair:G}),f.trigger(b,"onCollideEnd",{pair:G}),F.onCollideEndCallback&&F.onCollideEndCallback(G),b.onCollideEndCallback&&b.onCollideEndCallback(G)}),P.emit(h.COLLISION_END,L,F,b)})},setBounds:function(P,A,w,L,B,F,b,G,N){return P===void 0&&(P=0),A===void 0&&(A=0),w===void 0&&(w=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),B===void 0&&(B=64),F===void 0&&(F=!0),b===void 0&&(b=!0),G===void 0&&(G=!0),N===void 0&&(N=!0),this.updateWall(F,"left",P-B,A-B,B,L+B*2),this.updateWall(b,"right",P+w,A-B,B,L+B*2),this.updateWall(G,"top",P,A-B,w,B),this.updateWall(N,"bottom",P,A+L,w,B),this},updateWall:function(P,A,w,L,B,F){var b=this.walls[A];P?(b&&p.remove(this.localWorld,b),w+=B/2,L+=F/2,this.walls[A]=this.create(w,L,B,F,{isStatic:!0,friction:0,frictionStatic:0})):(b&&p.remove(this.localWorld,b),this.walls[A]=null)},createDebugGraphic:function(){var P=this.scene.sys.add.graphics({x:0,y:0});return P.setDepth(Number.MAX_VALUE),this.debugGraphic=P,this.drawDebug=!0,P},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(P,A,w){return P===void 0&&(P=0),A===void 0&&(A=1),w===void 0&&(w=.001),this.localWorld.gravity.x=P,this.localWorld.gravity.y=A,this.localWorld.gravity.scale=w,this},create:function(P,A,w,L,B){var F=c.rectangle(P,A,w,L,B);return p.add(this.localWorld,F),F},add:function(P){return p.add(this.localWorld,P),this},remove:function(P,A){Array.isArray(P)||(P=[P]);for(var w=0;w<P.length;w++){var L=P[w],B=L.body?L.body:L;r.remove(this.localWorld,B,A)}return this},removeConstraint:function(P,A){return r.remove(this.localWorld,P,A),this},convertTilemapLayer:function(P,A){var w=P.layer,L=P.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(L,A),this},convertTiles:function(P,A){if(P.length===0)return this;for(var w=0;w<P.length;w++)new d(this,P[w],A);return this},nextGroup:function(P){return u.nextGroup(P)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=a.now(),this.emit(h.RESUME),this},update:function(P){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,w=this.runner,L=a.now(),B=w.delta,F=0,b=P-w.timeLastTick;if((!b||!w.timeLastTick||b>Math.max(y._maxFrameDelta,w.maxFrameTime))&&(b=w.frameDelta||y._frameDeltaFallback),w.frameDeltaSmoothing){w.frameDeltaHistory.push(b),w.frameDeltaHistory=w.frameDeltaHistory.slice(-w.frameDeltaHistorySize);var G=w.frameDeltaHistory.slice(0).sort(),N=w.frameDeltaHistory.slice(G.length*y._smoothingLowerBound,G.length*y._smoothingUpperBound),U=y._mean(N);b=U||b}w.frameDeltaSnapping&&(b=1e3/Math.round(1e3/b)),w.frameDelta=b,w.timeLastTick=P,w.timeBuffer+=w.frameDelta,w.timeBuffer=a.clamp(w.timeBuffer,0,w.frameDelta+B*y._timeBufferMargin),w.lastUpdatesDeferred=0;for(var W=w.maxUpdates||Math.ceil(w.maxFrameTime/B),H=a.now();B>0&&w.timeBuffer>=B*y._timeBufferMargin;){i.update(A,B),w.timeBuffer-=B,F+=1;var k=a.now()-L,z=a.now()-H,$=k+y._elapsedNextEstimate*z/F;if(F>=W||$>w.maxFrameTime){w.lastUpdatesDeferred=Math.round(Math.max(0,w.timeBuffer/B-y._timeBufferMargin));break}}}},step:function(P){i.update(this.engine,P)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(P){var A=P.hasOwnProperty("body")?P.body:P;return r.get(this.localWorld,A.id,A.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var P=this.debugConfig,A=this.engine,w=this.debugGraphic,L=r.allBodies(this.localWorld);this.debugGraphic.clear(),P.showBroadphase&&A.broadphase.controller&&this.renderGrid(A.broadphase,w,P.broadphaseColor,.5),P.showBounds&&this.renderBodyBounds(L,w,P.boundsColor,.5),(P.showBody||P.showStaticBody)&&this.renderBodies(L),P.showJoint&&this.renderJoints(),(P.showAxes||P.showAngleIndicator)&&this.renderBodyAxes(L,w,P.showAxes,P.angleColor,.5),P.showVelocity&&this.renderBodyVelocity(L,w,P.velocityColor,1,2),P.showSeparations&&this.renderSeparations(A.pairs.list,w,P.separationColor),P.showCollisions&&this.renderCollisions(A.pairs.list,w,P.collisionColor)}},renderGrid:function(P,A,w,L){A.lineStyle(1,w,L);for(var B=a.keys(P.buckets),F=0;F<B.length;F++){var b=B[F];if(!(P.buckets[b].length<2)){var G=b.split(/C|R/);A.strokeRect(parseInt(G[1],10)*P.bucketWidth,parseInt(G[2],10)*P.bucketHeight,P.bucketWidth,P.bucketHeight)}}return this},renderSeparations:function(P,A,w){A.lineStyle(1,w,1);for(var L=0;L<P.length;L++){var B=P[L];if(B.isActive){var F=B.collision,b=F.bodyA,G=F.bodyB,N=b.position,U=G.position,W=F.penetration,H=!b.isStatic&&!G.isStatic?4:1;G.isStatic&&(H=0),A.lineBetween(U.x,U.y,U.x-W.x*H,U.y-W.y*H),H=!b.isStatic&&!G.isStatic?4:1,b.isStatic&&(H=0),A.lineBetween(N.x,N.y,N.x-W.x*H,N.y-W.y*H)}}return this},renderCollisions:function(P,A,w){A.lineStyle(1,w,.5),A.fillStyle(w,1);var L,B;for(L=0;L<P.length;L++)if(B=P[L],!!B.isActive)for(var F=0;F<B.contactCount;F++){var b=B.contacts[F],G=b.vertex;G&&A.fillRect(G.x-2,G.y-2,5,5)}for(L=0;L<P.length;L++)if(B=P[L],!!B.isActive){var N=B.collision,U=B.contacts;if(B.contactCount>0){var W=U[0].vertex.x,H=U[0].vertex.y;B.contactCount===2&&(W=(U[0].vertex.x+U[1].vertex.x)/2,H=(U[0].vertex.y+U[1].vertex.y)/2),N.bodyB===N.supports[0].body||N.bodyA.isStatic?A.lineBetween(W-N.normal.x*8,H-N.normal.y*8,W,H):A.lineBetween(W+N.normal.x*8,H+N.normal.y*8,W,H)}}return this},renderBodyBounds:function(P,A,w,L){A.lineStyle(1,w,L);for(var B=0;B<P.length;B++){var F=P[B];if(F.render.visible){var b=F.bounds;if(b)A.strokeRect(b.min.x,b.min.y,b.max.x-b.min.x,b.max.y-b.min.y);else for(var G=F.parts,N=G.length>1?1:0;N<G.length;N++){var U=G[N];A.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(P,A,w,L,B){A.lineStyle(1,L,B);for(var F=0;F<P.length;F++){var b=P[F],G=b.parts;if(b.render.visible){var N,U,W;if(w)for(U=G.length>1?1:0;U<G.length;U++)for(N=G[U],W=0;W<N.axes.length;W++){var H=N.axes[W];A.lineBetween(N.position.x,N.position.y,N.position.x+H.x*20,N.position.y+H.y*20)}else for(U=G.length>1?1:0;U<G.length;U++)for(N=G[U],W=0;W<N.axes.length;W++)A.lineBetween(N.position.x,N.position.y,(N.vertices[0].x+N.vertices[N.vertices.length-1].x)/2,(N.vertices[0].y+N.vertices[N.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(P,A,w,L,B){A.lineStyle(B,w,L);for(var F=0;F<P.length;F++){var b=P[F];b.render.visible&&A.lineBetween(b.position.x,b.position.y,b.position.x+(b.position.x-b.positionPrev.x)*2,b.position.y+(b.position.y-b.positionPrev.y)*2)}return this},renderBodies:function(P){for(var A=this.debugGraphic,w=this.debugConfig,L=w.showBody,B=w.showStaticBody,F=w.showSleeping,b=w.showInternalEdges,G=w.showConvexHulls,N=w.renderFill,U=w.renderLine,W=w.staticBodySleepOpacity,H=w.sleepFillColor,k=w.sleepLineColor,z=w.hullColor,$=0;$<P.length;$++){var X=P[$];if(X.render.visible&&!(!B&&X.isStatic||!L&&!X.isStatic)){var Q=X.render.lineColor,Z=X.render.lineOpacity,K=X.render.lineThickness,J=X.render.fillColor,q=X.render.fillOpacity;F&&X.isSleeping&&(X.isStatic?(Z*=W,q*=W):(Q=k,J=H)),N||(J=null),U||(Q=null),this.renderBody(X,A,b,Q,Z,K,J,q);var tt=X.parts.length;G&&tt>1&&this.renderConvexHull(X,A,z,K)}}},renderBody:function(P,A,w,L,B,F,b,G){L===void 0&&(L=null),B===void 0&&(B=null),F===void 0&&(F=1),b===void 0&&(b=null),G===void 0&&(G=null);for(var N=this.debugConfig,U=N.sensorFillColor,W=N.sensorLineColor,H=P.parts,k=H.length,z=k>1?1:0;z<k;z++){var $=H[z],X=$.render,Q=X.opacity;if(!(!X.visible||Q===0||$.isSensor&&!N.showSensors)){var Z=$.circleRadius;if(A.beginPath(),$.isSensor?(b!==null&&A.fillStyle(U,G*Q),L!==null&&A.lineStyle(F,W,B*Q)):(b!==null&&A.fillStyle(b,G*Q),L!==null&&A.lineStyle(F,L,B*Q)),Z)A.arc($.position.x,$.position.y,Z,0,2*Math.PI);else{var K=$.vertices,J=K.length;A.moveTo(K[0].x,K[0].y);for(var q=1;q<J;q++){var tt=K[q];if(!K[q-1].isInternal||w?A.lineTo(tt.x,tt.y):A.moveTo(tt.x,tt.y),q<J&&tt.isInternal&&!w){var it=(q+1)%J;A.moveTo(K[it].x,K[it].y)}}A.closePath()}b!==null&&A.fillPath(),L!==null&&A.strokePath()}}if(N.showPositions&&!P.isStatic){var nt=P.position.x,rt=P.position.y,ht=Math.ceil(N.positionSize/2);A.fillStyle(N.positionColor,1),A.fillRect(nt-ht,rt-ht,N.positionSize,N.positionSize)}return this},renderConvexHull:function(P,A,w,L){L===void 0&&(L=1);var B=P.parts,F=B.length;if(F>1){var b=P.vertices;A.lineStyle(L,w),A.beginPath(),A.moveTo(b[0].x,b[0].y);for(var G=1;G<b.length;G++)A.lineTo(b[G].x,b[G].y);A.lineTo(b[0].x,b[0].y),A.strokePath()}return this},renderJoints:function(){for(var P=this.debugGraphic,A=r.allConstraints(this.localWorld),w=0;w<A.length;w++){var L=A[w].render,B=L.lineColor,F=L.lineOpacity,b=L.lineThickness,G=L.pinSize,N=L.anchorColor,U=L.anchorSize;this.renderConstraint(A[w],P,B,F,b,G,N,U)}},renderConstraint:function(P,A,w,L,B,F,b,G){var N=P.render;if(!N.visible||!P.pointA||!P.pointB)return this;A.lineStyle(B,w,L);var U=P.bodyA,W=P.bodyB,H,k;if(U?H=T.add(U.position,P.pointA):H=P.pointA,N.type==="pin")A.strokeCircle(H.x,H.y,F);else{if(W?k=T.add(W.position,P.pointB):k=P.pointB,A.beginPath(),A.moveTo(H.x,H.y),N.type==="spring")for(var z=T.sub(k,H),$=T.perp(T.normalise(z)),X=Math.ceil(a.clamp(P.length/5,12,20)),Q,Z=1;Z<X;Z+=1)Q=Z%2===0?1:-1,A.lineTo(H.x+z.x*(Z/X)+$.x*Q*4,H.y+z.y*(Z/X)+$.y*Q*4);A.lineTo(k.x,k.y)}return A.strokePath(),N.anchors&&G>0&&(A.fillStyle(b),A.fillCircle(H.x,H.y,G),A.fillCircle(k.x,k.y,G)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){f.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});x.exports=C},70410:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setBounce:function(t){return this.body.restitution=t,this}};x.exports=M},66968:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var c=0;if(!Array.isArray(t))c=t;else for(var m=0;m<t.length;m++)c|=t[m];return this.body.collisionFilter.mask=c,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,c){Array.isArray(t)||(t=[t]);for(var m=0;m<t.length;m++){var l=t[m].hasOwnProperty("body")?t[m].body:t[m];this.body.setOnCollideWith(l,c)}return this}};x.exports=M},51607:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(22562),m={applyForce:function(l){return this._tempVec2.set(this.body.position.x,this.body.position.y),c.applyForce(this.body,this._tempVec2,l),this},applyForceFrom:function(l,a){return c.applyForce(this.body,l,a),this},thrust:function(l){var a=this.body.angle;return this._tempVec2.set(l*Math.cos(a),l*Math.sin(a)),c.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(l){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(l*Math.cos(a),l*Math.sin(a)),c.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(l){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(l*Math.cos(a),l*Math.sin(a)),c.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(l){var a=this.body.angle-Math.PI;return this._tempVec2.set(l*Math.cos(a),l*Math.sin(a)),c.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};x.exports=m},5436:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setFriction:function(t,c,m){return this.body.friction=t,c!==void 0&&(this.body.frictionAir=c),m!==void 0&&(this.body.frictionStatic=m),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};x.exports=M},39858:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};x.exports=M},37302:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(22562),m=t(26099),l={setMass:function(a){return c.setMass(this.body,a),this},setDensity:function(a){return c.setDensity(this.body,a),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};x.exports=l},39132:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};x.exports=M},57772:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(66280),m=t(22562),l=t(43855),a=t(95540),r=t(19496),i=t(85791),n=t(41598),h={setRectangle:function(s,o,u){return this.setBody({type:"rectangle",width:s,height:o},u)},setCircle:function(s,o){return this.setBody({type:"circle",radius:s},o)},setPolygon:function(s,o,u){return this.setBody({type:"polygon",sides:o,radius:s},u)},setTrapezoid:function(s,o,u,f){return this.setBody({type:"trapezoid",width:s,height:o,slope:u},f)},setExistingBody:function(s,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=s;for(var u=0;u<s.parts.length;u++)s.parts[u].gameObject=this;var f=this;if(s.destroy=function(){f.world.remove(f.body,!0),f.body.gameObject=null},o&&(this.world.has(s)&&this.world.remove(s,!0),this.world.add(s)),this._originComponent){var d=s.render.sprite.xOffset,p=s.render.sprite.yOffset,y=s.centerOfMass.x,T=s.centerOfMass.y;if(l(y,.5)&&l(T,.5))this.setOrigin(d+.5,p+.5);else{var C=s.centerOffset.x,P=s.centerOffset.y;this.setOrigin(d+C/this.displayWidth,p+P/this.displayHeight)}}return this},setBody:function(s,o){if(!s)return this;var u;typeof s=="string"&&(s={type:s});var f=a(s,"type","rectangle"),d=a(s,"x",this._tempVec2.x),p=a(s,"y",this._tempVec2.y),y=a(s,"width",this.width),T=a(s,"height",this.height);switch(f){case"rectangle":u=c.rectangle(d,p,y,T,o);break;case"circle":var C=a(s,"radius",Math.max(y,T)/2),P=a(s,"maxSides",25);u=c.circle(d,p,C,o,P);break;case"trapezoid":var A=a(s,"slope",.5);u=c.trapezoid(d,p,y,T,A,o);break;case"polygon":var w=a(s,"sides",5),L=a(s,"radius",Math.max(y,T)/2);u=c.polygon(d,p,w,L,o);break;case"fromVertices":case"fromVerts":var B=a(s,"verts",null);if(B)if(typeof B=="string"&&(B=n.fromPath(B)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,B),u=this.body;else{var F=a(s,"flagInternal",!1),b=a(s,"removeCollinear",.01),G=a(s,"minimumArea",10);u=c.fromVertices(d,p,B,o,F,b,G)}break;case"fromPhysicsEditor":u=r.parseBody(d,p,s,o);break;case"fromPhysicsTracer":u=i.parseBody(d,p,s,o);break}return u&&this.setExistingBody(u,s.addToWorld),this}};x.exports=h},38083:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(1121),m=t(53614),l=t(35810),a={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,i){return this.setSleepStartEvent(r),this.setSleepEndEvent(i),this},setSleepStartEvent:function(r){if(r){var i=this.world;l.on(this.body,"sleepStart",function(n){i.emit(c.SLEEP_START,n,this)})}else l.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var i=this.world;l.on(this.body,"sleepEnd",function(n){i.emit(c.SLEEP_END,n,this)})}else l.off(this.body,"sleepEnd");return this}};x.exports=a},90556:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(22562),m={setStatic:function(l){return c.setStatic(this.body,l),this},isStatic:function(){return this.body.isStatic}};x.exports=m},85436:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(22562),m=t(36383),l=t(86554),a=t(30954),r=4,i={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),c.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),c.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var h=1/this._scaleX,s=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,c.scale(this.body,h,s),c.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var h=1/this._scaleX,s=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,c.scale(this.body,h,s),c.scale(this.body,this._scaleX,n)}},angle:{get:function(){return a(this.body.angle*m.RAD_TO_DEG)},set:function(n){this.rotation=a(n)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=l(n),c.setAngle(this.body,this._rotation)}},setPosition:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this._tempVec2.set(n,h),c.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=l(n),c.setAngle(this.body,n),this},setFixedRotation:function(){return c.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,c.setAngle(this.body,this.rotation),this},setScale:function(n,h,s){n===void 0&&(n=1),h===void 0&&(h=n);var o=1/this._scaleX,u=1/this._scaleY;return this._scaleX=n,this._scaleY=h,c.scale(this.body,o,u,s),c.scale(this.body,n,h,s),this}};x.exports=i},42081:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(22562),m={setVelocityX:function(l){return this._tempVec2.set(l,this.body.velocity.y),c.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(l){return this._tempVec2.set(this.body.velocity.x,l),c.setVelocity(this.body,this._tempVec2),this},setVelocity:function(l,a){return this._tempVec2.set(l,a),c.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return c.getVelocity(this.body)},setAngularVelocity:function(l){return c.setAngularVelocity(this.body,l),this},getAngularVelocity:function(){return c.getAngularVelocity(this.body)},setAngularSpeed:function(l){return c.setAngularSpeed(this.body,l),this},getAngularSpeed:function(){return c.getAngularSpeed(this.body)}};x.exports=m},31884:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="afteradd"},1213:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="afterremove"},25968:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="afterupdate"},67205:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="beforeadd"},39438:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="beforeremove"},44823:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="beforeupdate"},92593:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="collisionactive"},60128:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="collisionend"},76861:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="collisionstart"},92362:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragend"},76408:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="drag"},93971:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="dragstart"},5656:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pause"},47861:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resume"},79099:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="sleepend"},35906:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="sleepstart"},1121:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(x,M,t)=>{var c={};x.exports=c;var m=t(41598),l=t(31725),a=t(53614),r=t(53402),i=t(15647),n=t(66615);(function(){c._timeCorrection=!0,c._inertiaScale=4,c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,c._baseDelta=16.666666666666668,c.create=function(s){var o={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:s.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!s.hasOwnProperty("position")&&s.hasOwnProperty("vertices")?s.position=m.centre(s.vertices):s.hasOwnProperty("vertices")||(o.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=r.extend(o,s);return h(u,s),u.setOnCollideWith=function(f,d){return d?this.onCollideWith[f.id]=d:delete this.onCollideWith[f.id],this},u},c.nextGroup=function(s){return s?c._nextNonCollidingGroupId--:c._nextCollidingGroupId++},c.nextCategory=function(){return c._nextCategory=c._nextCategory<<1,c._nextCategory};var h=function(s,o){if(o=o||{},c.set(s,{bounds:s.bounds||i.create(s.vertices),positionPrev:s.positionPrev||l.clone(s.position),anglePrev:s.anglePrev||s.angle,vertices:s.vertices,parts:s.parts||[s],isStatic:s.isStatic,isSleeping:s.isSleeping,parent:s.parent||s}),m.rotate(s.vertices,s.angle,s.position),n.rotate(s.axes,s.angle),i.update(s.bounds,s.vertices,s.velocity),c.set(s,{axes:o.axes||s.axes,area:o.area||s.area,mass:o.mass||s.mass,inertia:o.inertia||s.inertia}),s.parts.length===1){var u=s.bounds,f=s.centerOfMass,d=s.centerOffset,p=u.max.x-u.min.x,y=u.max.y-u.min.y;f.x=-(u.min.x-s.position.x)/p,f.y=-(u.min.y-s.position.y)/y,d.x=p*f.x,d.y=y*f.y}};c.set=function(s,o,u){var f;typeof o=="string"&&(f=o,o={},o[f]=u);for(f in o)if(Object.prototype.hasOwnProperty.call(o,f))switch(u=o[f],f){case"isStatic":c.setStatic(s,u);break;case"isSleeping":a.set(s,u);break;case"mass":c.setMass(s,u);break;case"density":c.setDensity(s,u);break;case"inertia":c.setInertia(s,u);break;case"vertices":c.setVertices(s,u);break;case"position":c.setPosition(s,u);break;case"angle":c.setAngle(s,u);break;case"velocity":c.setVelocity(s,u);break;case"angularVelocity":c.setAngularVelocity(s,u);break;case"speed":c.setSpeed(s,u);break;case"angularSpeed":c.setAngularSpeed(s,u);break;case"parts":c.setParts(s,u);break;case"centre":c.setCentre(s,u);break;default:s[f]=u}},c.setStatic=function(s,o){for(var u=0;u<s.parts.length;u++){var f=s.parts[u];o?(f.isStatic||(f._original={restitution:f.restitution,friction:f.friction,mass:f.mass,inertia:f.inertia,density:f.density,inverseMass:f.inverseMass,inverseInertia:f.inverseInertia}),f.restitution=0,f.friction=1,f.mass=f.inertia=f.density=1/0,f.inverseMass=f.inverseInertia=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.angularVelocity=0,f.speed=0,f.angularSpeed=0,f.motion=0):f._original&&(f.restitution=f._original.restitution,f.friction=f._original.friction,f.mass=f._original.mass,f.inertia=f._original.inertia,f.density=f._original.density,f.inverseMass=f._original.inverseMass,f.inverseInertia=f._original.inverseInertia,f._original=null),f.isStatic=o}},c.setMass=function(s,o){var u=s.inertia/(s.mass/6);s.inertia=u*(o/6),s.inverseInertia=1/s.inertia,s.mass=o,s.inverseMass=1/s.mass,s.density=s.mass/s.area},c.setDensity=function(s,o){c.setMass(s,o*s.area),s.density=o},c.setInertia=function(s,o){s.inertia=o,s.inverseInertia=1/s.inertia},c.setVertices=function(s,o){o[0].body===s?s.vertices=o:s.vertices=m.create(o,s),s.axes=n.fromVertices(s.vertices),s.area=m.area(s.vertices),c.setMass(s,s.density*s.area);var u=m.centre(s.vertices);m.translate(s.vertices,u,-1),c.setInertia(s,c._inertiaScale*m.inertia(s.vertices,s.mass)),m.translate(s.vertices,s.position),i.update(s.bounds,s.vertices,s.velocity)},c.setParts=function(s,o,u){var f;for(o=o.slice(0),s.parts.length=0,s.parts.push(s),s.parent=s,f=0;f<o.length;f++){var d=o[f];d!==s&&(d.parent=s,s.parts.push(d))}if(s.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var p=[];for(f=0;f<o.length;f++)p=p.concat(o[f].vertices);m.clockwiseSort(p);var y=m.hull(p),T=m.centre(y);c.setVertices(s,y),m.translate(s.vertices,T)}var C=c._totalProperties(s),P=C.centre.x,A=C.centre.y,w=s.bounds,L=s.centerOfMass,B=s.centerOffset;i.update(w,s.vertices,s.velocity),L.x=-(w.min.x-P)/(w.max.x-w.min.x),L.y=-(w.min.y-A)/(w.max.y-w.min.y),B.x=P,B.y=A,s.area=C.area,s.parent=s,s.position.x=P,s.position.y=A,s.positionPrev.x=P,s.positionPrev.y=A,c.setMass(s,C.mass),c.setInertia(s,C.inertia),c.setPosition(s,C.centre)}},c.setCentre=function(s,o,u){u?(s.positionPrev.x+=o.x,s.positionPrev.y+=o.y,s.position.x+=o.x,s.position.y+=o.y):(s.positionPrev.x=o.x-(s.position.x-s.positionPrev.x),s.positionPrev.y=o.y-(s.position.y-s.positionPrev.y),s.position.x=o.x,s.position.y=o.y)},c.setPosition=function(s,o,u){var f=l.sub(o,s.position);u?(s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.velocity.x=f.x,s.velocity.y=f.y,s.speed=l.magnitude(f)):(s.positionPrev.x+=f.x,s.positionPrev.y+=f.y);for(var d=0;d<s.parts.length;d++){var p=s.parts[d];p.position.x+=f.x,p.position.y+=f.y,m.translate(p.vertices,f),i.update(p.bounds,p.vertices,s.velocity)}},c.setAngle=function(s,o,u){var f=o-s.angle;u?(s.anglePrev=s.angle,s.angularVelocity=f,s.angularSpeed=Math.abs(f)):s.anglePrev+=f;for(var d=0;d<s.parts.length;d++){var p=s.parts[d];p.angle+=f,m.rotate(p.vertices,f,s.position),n.rotate(p.axes,f),i.update(p.bounds,p.vertices,s.velocity),d>0&&l.rotateAbout(p.position,f,s.position,p.position)}},c.setVelocity=function(s,o){var u=s.deltaTime/c._baseDelta;s.positionPrev.x=s.position.x-o.x*u,s.positionPrev.y=s.position.y-o.y*u,s.velocity.x=(s.position.x-s.positionPrev.x)/u,s.velocity.y=(s.position.y-s.positionPrev.y)/u,s.speed=l.magnitude(s.velocity)},c.getVelocity=function(s){var o=c._baseDelta/s.deltaTime;return{x:(s.position.x-s.positionPrev.x)*o,y:(s.position.y-s.positionPrev.y)*o}},c.getSpeed=function(s){return l.magnitude(c.getVelocity(s))},c.setSpeed=function(s,o){c.setVelocity(s,l.mult(l.normalise(c.getVelocity(s)),o))},c.setAngularVelocity=function(s,o){var u=s.deltaTime/c._baseDelta;s.anglePrev=s.angle-o*u,s.angularVelocity=(s.angle-s.anglePrev)/u,s.angularSpeed=Math.abs(s.angularVelocity)},c.getAngularVelocity=function(s){return(s.angle-s.anglePrev)*c._baseDelta/s.deltaTime},c.getAngularSpeed=function(s){return Math.abs(c.getAngularVelocity(s))},c.setAngularSpeed=function(s,o){c.setAngularVelocity(s,r.sign(c.getAngularVelocity(s))*o)},c.translate=function(s,o,u){c.setPosition(s,l.add(s.position,o),u)},c.rotate=function(s,o,u,f){if(!u)c.setAngle(s,s.angle+o,f);else{var d=Math.cos(o),p=Math.sin(o),y=s.position.x-u.x,T=s.position.y-u.y;c.setPosition(s,{x:u.x+(y*d-T*p),y:u.y+(y*p+T*d)},f),c.setAngle(s,s.angle+o,f)}},c.scale=function(s,o,u,f){var d=0,p=0;f=f||s.position;for(var y=s.inertia===1/0,T=0;T<s.parts.length;T++){var C=s.parts[T];C.scale.x=o,C.scale.y=u,m.scale(C.vertices,o,u,f),C.axes=n.fromVertices(C.vertices),C.area=m.area(C.vertices),c.setMass(C,s.density*C.area),m.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),c.setInertia(C,c._inertiaScale*m.inertia(C.vertices,C.mass)),m.translate(C.vertices,{x:C.position.x,y:C.position.y}),T>0&&(d+=C.area,p+=C.inertia),C.position.x=f.x+(C.position.x-f.x)*o,C.position.y=f.y+(C.position.y-f.y)*u,i.update(C.bounds,C.vertices,s.velocity)}s.parts.length>1&&(s.area=d,s.isStatic||(c.setMass(s,s.density*d),c.setInertia(s,p))),s.circleRadius&&(o===u?s.circleRadius*=o:s.circleRadius=null),y&&c.setInertia(s,1/0)},c.update=function(s,o){o=(typeof o<"u"?o:16.666666666666668)*s.timeScale;var u=o*o,f=c._timeCorrection?o/(s.deltaTime||o):1,d=1-s.frictionAir*(o/r._baseDelta),p=(s.position.x-s.positionPrev.x)*f,y=(s.position.y-s.positionPrev.y)*f;s.velocity.x=p*d+s.force.x/s.mass*u,s.velocity.y=y*d+s.force.y/s.mass*u,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.position.x+=s.velocity.x,s.position.y+=s.velocity.y,s.deltaTime=o,s.angularVelocity=(s.angle-s.anglePrev)*d*f+s.torque/s.inertia*u,s.anglePrev=s.angle,s.angle+=s.angularVelocity,s.speed=l.magnitude(s.velocity),s.angularSpeed=Math.abs(s.angularVelocity);for(var T=0;T<s.parts.length;T++){var C=s.parts[T];m.translate(C.vertices,s.velocity),T>0&&(C.position.x+=s.velocity.x,C.position.y+=s.velocity.y),s.angularVelocity!==0&&(m.rotate(C.vertices,s.angularVelocity,s.position),n.rotate(C.axes,s.angularVelocity),T>0&&l.rotateAbout(C.position,s.angularVelocity,s.position,C.position)),i.update(C.bounds,C.vertices,s.velocity)}},c.updateVelocities=function(s){var o=c._baseDelta/s.deltaTime,u=s.velocity;u.x=(s.position.x-s.positionPrev.x)*o,u.y=(s.position.y-s.positionPrev.y)*o,s.speed=Math.sqrt(u.x*u.x+u.y*u.y),s.angularVelocity=(s.angle-s.anglePrev)*o,s.angularSpeed=Math.abs(s.angularVelocity)},c.applyForce=function(s,o,u){var f={x:o.x-s.position.x,y:o.y-s.position.y};s.force.x+=u.x,s.force.y+=u.y,s.torque+=f.x*u.y-f.y*u.x},c._totalProperties=function(s){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=s.parts.length===1?0:1;u<s.parts.length;u++){var f=s.parts[u],d=f.mass!==1/0?f.mass:1;o.mass+=d,o.area+=f.area,o.inertia+=f.inertia,o.centre=l.add(o.centre,l.mult(f.position,d))}return o.centre=l.div(o.centre,o.mass),o},c.wrap=function(s,o){var u=i.wrap(s.bounds,o);return u&&c.translate(s,u),u}})()},69351:(x,M,t)=>{var c={};x.exports=c;var m=t(35810),l=t(53402),a=t(15647),r=t(22562);(function(){c.create=function(i){return l.extend({id:l.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},c.setModified=function(i,n,h,s){if(m.trigger(i,"compositeModified",i),i.isModified=n,n&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),h&&i.parent&&c.setModified(i.parent,n,h,s),s)for(var o=0;o<i.composites.length;o++){var u=i.composites[o];c.setModified(u,n,h,s)}},c.add=function(i,n){var h=[].concat(n);m.trigger(i,"beforeAdd",{object:n});for(var s=0;s<h.length;s++){var o=h[s];switch(o.type){case"body":if(o.parent!==o){l.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}c.addBody(i,o);break;case"constraint":c.addConstraint(i,o);break;case"composite":c.addComposite(i,o);break;case"mouseConstraint":c.addConstraint(i,o.constraint);break}}return m.trigger(i,"afterAdd",{object:n}),i},c.remove=function(i,n,h){var s=[].concat(n);m.trigger(i,"beforeRemove",{object:n});for(var o=0;o<s.length;o++){var u=s[o];switch(u.type){case"body":c.removeBody(i,u,h);break;case"constraint":c.removeConstraint(i,u,h);break;case"composite":c.removeComposite(i,u,h);break;case"mouseConstraint":c.removeConstraint(i,u.constraint);break}}return m.trigger(i,"afterRemove",{object:n}),i},c.addComposite=function(i,n){return i.composites.push(n),n.parent=i,c.setModified(i,!0,!0,!1),i},c.removeComposite=function(i,n,h){var s=l.indexOf(i.composites,n);if(s!==-1){var o=c.allBodies(n);c.removeCompositeAt(i,s);for(var u=0;u<o.length;u++)o[u].sleepCounter=0}if(h)for(var u=0;u<i.composites.length;u++)c.removeComposite(i.composites[u],n,!0);return i},c.removeCompositeAt=function(i,n){return i.composites.splice(n,1),c.setModified(i,!0,!0,!1),i},c.addBody=function(i,n){return i.bodies.push(n),c.setModified(i,!0,!0,!1),i},c.removeBody=function(i,n,h){var s=l.indexOf(i.bodies,n);if(s!==-1&&(c.removeBodyAt(i,s),n.sleepCounter=0),h)for(var o=0;o<i.composites.length;o++)c.removeBody(i.composites[o],n,!0);return i},c.removeBodyAt=function(i,n){return i.bodies.splice(n,1),c.setModified(i,!0,!0,!1),i},c.addConstraint=function(i,n){return i.constraints.push(n),c.setModified(i,!0,!0,!1),i},c.removeConstraint=function(i,n,h){var s=l.indexOf(i.constraints,n);if(s!==-1&&c.removeConstraintAt(i,s),h)for(var o=0;o<i.composites.length;o++)c.removeConstraint(i.composites[o],n,!0);return i},c.removeConstraintAt=function(i,n){return i.constraints.splice(n,1),c.setModified(i,!0,!0,!1),i},c.clear=function(i,n,h){if(h)for(var s=0;s<i.composites.length;s++)c.clear(i.composites[s],n,!0);return n?i.bodies=i.bodies.filter(function(o){return o.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,c.setModified(i,!0,!0,!1),i},c.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var n=[].concat(i.bodies),h=0;h<i.composites.length;h++)n=n.concat(c.allBodies(i.composites[h]));return i.cache&&(i.cache.allBodies=n),n},c.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var n=[].concat(i.constraints),h=0;h<i.composites.length;h++)n=n.concat(c.allConstraints(i.composites[h]));return i.cache&&(i.cache.allConstraints=n),n},c.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var n=[].concat(i.composites),h=0;h<i.composites.length;h++)n=n.concat(c.allComposites(i.composites[h]));return i.cache&&(i.cache.allComposites=n),n},c.get=function(i,n,h){var s,o;switch(h){case"body":s=c.allBodies(i);break;case"constraint":s=c.allConstraints(i);break;case"composite":s=c.allComposites(i).concat(i);break}return s?(o=s.filter(function(u){return u.id.toString()===n.toString()}),o.length===0?null:o[0]):null},c.move=function(i,n,h){return c.remove(i,n),c.add(h,n),i},c.rebase=function(i){for(var n=c.allBodies(i).concat(c.allConstraints(i)).concat(c.allComposites(i)),h=0;h<n.length;h++)n[h].id=l.nextId();return i},c.translate=function(i,n,h){for(var s=h?c.allBodies(i):i.bodies,o=0;o<s.length;o++)r.translate(s[o],n);return i},c.rotate=function(i,n,h,s){for(var o=Math.cos(n),u=Math.sin(n),f=s?c.allBodies(i):i.bodies,d=0;d<f.length;d++){var p=f[d],y=p.position.x-h.x,T=p.position.y-h.y;r.setPosition(p,{x:h.x+(y*o-T*u),y:h.y+(y*u+T*o)}),r.rotate(p,n)}return i},c.scale=function(i,n,h,s,o){for(var u=o?c.allBodies(i):i.bodies,f=0;f<u.length;f++){var d=u[f],p=d.position.x-s.x,y=d.position.y-s.y;r.setPosition(d,{x:s.x+p*n,y:s.y+y*h}),r.scale(d,n,h)}return i},c.bounds=function(i){for(var n=c.allBodies(i),h=[],s=0;s<n.length;s+=1){var o=n[s];h.push(o.bounds.min,o.bounds.max)}return a.create(h)},c.wrap=function(i,n){var h=a.wrap(c.bounds(i),n);return h&&c.translate(i,h),h}})()},4372:(x,M,t)=>{var c={};x.exports=c;var m=t(69351);(function(){c.create=m.create,c.add=m.add,c.remove=m.remove,c.clear=m.clear,c.addComposite=m.addComposite,c.addBody=m.addBody,c.addConstraint=m.addConstraint})()},52284:(x,M,t)=>{var c={};x.exports=c;var m=t(41598),l=t(4506);(function(){var a=[],r={overlap:0,axis:null},i={overlap:0,axis:null};c.create=function(n,h){return{pair:null,collided:!1,bodyA:n,bodyB:h,parentA:n.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},c.collides=function(n,h,s){if(c._overlapAxes(r,n.vertices,h.vertices,n.axes),r.overlap<=0||(c._overlapAxes(i,h.vertices,n.vertices,h.axes),i.overlap<=0))return null;var o=s&&s.table[l.id(n,h)],u;o?u=o.collision:(u=c.create(n,h),u.collided=!0,u.bodyA=n.id<h.id?n:h,u.bodyB=n.id<h.id?h:n,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),n=u.bodyA,h=u.bodyB;var f;r.overlap<i.overlap?f=r:f=i;var d=u.normal,p=u.tangent,y=u.penetration,T=u.supports,C=f.overlap,P=f.axis,A=P.x,w=P.y,L=h.position.x-n.position.x,B=h.position.y-n.position.y;A*L+w*B>=0&&(A=-A,w=-w),d.x=A,d.y=w,p.x=-w,p.y=A,y.x=A*C,y.y=w*C,u.depth=C;var F=c._findSupports(n,h,d,1),b=0;if(m.contains(n.vertices,F[0])&&(T[b++]=F[0]),m.contains(n.vertices,F[1])&&(T[b++]=F[1]),b<2){var G=c._findSupports(h,n,d,-1);m.contains(h.vertices,G[0])&&(T[b++]=G[0]),b<2&&m.contains(h.vertices,G[1])&&(T[b++]=G[1])}return b===0&&(T[b++]=F[0]),u.supportCount=b,u},c._overlapAxes=function(n,h,s,o){var u=h.length,f=s.length,d=h[0].x,p=h[0].y,y=s[0].x,T=s[0].y,C=o.length,P=Number.MAX_VALUE,A=0,w,L,B,F,b,G;for(b=0;b<C;b++){var N=o[b],U=N.x,W=N.y,H=d*U+p*W,k=y*U+T*W,z=H,$=k;for(G=1;G<u;G+=1)F=h[G].x*U+h[G].y*W,F>z?z=F:F<H&&(H=F);for(G=1;G<f;G+=1)F=s[G].x*U+s[G].y*W,F>$?$=F:F<k&&(k=F);if(L=z-k,B=$-H,w=L<B?L:B,w<P&&(P=w,A=b,w<=0))break}n.axis=o[A],n.overlap=P},c._findSupports=function(n,h,s,o){var u=h.vertices,f=u.length,d=n.position.x,p=n.position.y,y=s.x*o,T=s.y*o,C=u[0],P=C,A=y*(d-P.x)+T*(p-P.y),w,L,B;for(B=1;B<f;B+=1)P=u[B],L=y*(d-P.x)+T*(p-P.y),L<A&&(A=L,C=P);return w=u[(f+C.index-1)%f],A=y*(d-w.x)+T*(p-w.y),P=u[(C.index+1)%f],y*(d-P.x)+T*(p-P.y)<A?(a[0]=C,a[1]=P,a):(a[0]=C,a[1]=w,a)}})()},43424:x=>{var M={};x.exports=M,function(){M.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(x,M,t)=>{var c={};x.exports=c;var m=t(53402),l=t(52284);(function(){c.create=function(a){var r={bodies:[],collisions:[],pairs:null};return m.extend(r,a)},c.setBodies=function(a,r){a.bodies=r.slice(0)},c.clear=function(a){a.bodies=[],a.collisions=[]},c.collisions=function(a){var r=a.pairs,i=a.bodies,n=i.length,h=c.canCollide,s=l.collides,o=a.collisions,u=0,f,d;for(i.sort(c._compareBoundsX),f=0;f<n;f++){var p=i[f],y=p.bounds,T=p.bounds.max.x,C=p.bounds.max.y,P=p.bounds.min.y,A=p.isStatic||p.isSleeping,w=p.parts.length,L=w===1;for(d=f+1;d<n;d++){var B=i[d],F=B.bounds;if(F.min.x>T)break;if(!(C<F.min.y||P>F.max.y)&&!(A&&(B.isStatic||B.isSleeping))&&h(p.collisionFilter,B.collisionFilter)){var b=B.parts.length;if(L&&b===1){var G=s(p,B,r);G&&(o[u++]=G)}else for(var N=w>1?1:0,U=b>1?1:0,W=N;W<w;W++)for(var H=p.parts[W],y=H.bounds,k=U;k<b;k++){var z=B.parts[k],F=z.bounds;if(!(y.min.x>F.max.x||y.max.x<F.min.x||y.max.y<F.min.y||y.min.y>F.max.y)){var G=s(H,z,r);G&&(o[u++]=G)}}}}}return o.length!==u&&(o.length=u),o},c.canCollide=function(a,r){return a.group===r.group&&a.group!==0?a.group>0:(a.mask&r.category)!==0&&(r.mask&a.category)!==0},c._compareBoundsX=function(a,r){return a.bounds.min.x-r.bounds.min.x}})()},4506:(x,M,t)=>{var c={};x.exports=c;var m=t(43424);(function(){c.create=function(l,a){var r=l.bodyA,i=l.bodyB,n={id:c.id(r,i),bodyA:r,bodyB:i,collision:l,contacts:[m.create(),m.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||i.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return c.update(n,l,a),n},c.update=function(l,a,r){var i=a.supports,n=a.supportCount,h=l.contacts,s=a.parentA,o=a.parentB;l.isActive=!0,l.timeUpdated=r,l.collision=a,l.separation=a.depth,l.inverseMass=s.inverseMass+o.inverseMass,l.friction=s.friction<o.friction?s.friction:o.friction,l.frictionStatic=s.frictionStatic>o.frictionStatic?s.frictionStatic:o.frictionStatic,l.restitution=s.restitution>o.restitution?s.restitution:o.restitution,l.slop=s.slop>o.slop?s.slop:o.slop,l.contactCount=n,a.pair=l;var u=i[0],f=h[0],d=i[1],p=h[1];(p.vertex===u||f.vertex===d)&&(h[1]=f,h[0]=f=p,p=h[1]),f.vertex=u,p.vertex=d},c.setActive=function(l,a,r){a?(l.isActive=!0,l.timeUpdated=r):(l.isActive=!1,l.contactCount=0)},c.id=function(l,a){return l.id<a.id?l.id.toString(36)+":"+a.id.toString(36):a.id.toString(36)+":"+l.id.toString(36)}})()},99561:(x,M,t)=>{var c={};x.exports=c;var m=t(4506),l=t(53402);(function(){c.create=function(a){return l.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},c.update=function(a,r,i){var n=m.update,h=m.create,s=m.setActive,o=a.table,u=a.list,f=u.length,d=f,p=a.collisionStart,y=a.collisionEnd,T=a.collisionActive,C=r.length,P=0,A=0,w=0,L,B,F;for(F=0;F<C;F++)L=r[F],B=L.pair,B?(B.isActive&&(T[w++]=B),n(B,L,i)):(B=h(L,i),o[B.id]=B,p[P++]=B,u[d++]=B);for(d=0,f=u.length,F=0;F<f;F++)B=u[F],B.timeUpdated>=i?u[d++]=B:(s(B,!1,i),B.collision.bodyA.sleepCounter>0&&B.collision.bodyB.sleepCounter>0?u[d++]=B:(y[A++]=B,delete o[B.id]));u.length!==d&&(u.length=d),p.length!==P&&(p.length=P),y.length!==A&&(y.length=A),T.length!==w&&(T.length=w)},c.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},73296:(x,M,t)=>{var c={};x.exports=c;var m=t(31725),l=t(52284),a=t(15647),r=t(66280),i=t(41598);(function(){c.collides=function(n,h){for(var s=[],o=h.length,u=n.bounds,f=l.collides,d=a.overlaps,p=0;p<o;p++){var y=h[p],T=y.parts.length,C=T===1?0:1;if(n!==y&&d(y.bounds,u))for(var P=C;P<T;P++){var A=y.parts[P];if(d(A.bounds,u)){var w=f(A,n);if(w){s.push(w);break}}}}return s},c.ray=function(n,h,s,o){o=o||1e-100;for(var u=m.angle(h,s),f=m.magnitude(m.sub(h,s)),d=(s.x+h.x)*.5,p=(s.y+h.y)*.5,y=r.rectangle(d,p,f,o,{angle:u}),T=c.collides(y,n),C=0;C<T.length;C+=1){var P=T[C];P.body=P.bodyB=P.bodyA}return T},c.region=function(n,h,s){for(var o=[],u=0;u<n.length;u++){var f=n[u],d=a.overlaps(f.bounds,h);(d&&!s||!d&&s)&&o.push(f)}return o},c.point=function(n,h){for(var s=[],o=0;o<n.length;o++){var u=n[o];if(a.contains(u.bounds,h))for(var f=u.parts.length===1?0:1;f<u.parts.length;f++){var d=u.parts[f];if(a.contains(d.bounds,h)&&i.contains(d.vertices,h)){s.push(u);break}}}return s}})()},66272:(x,M,t)=>{var c={};x.exports=c;var m=t(41598),l=t(53402),a=t(15647);(function(){c._restingThresh=2,c._restingThreshTangent=Math.sqrt(6),c._positionDampen=.9,c._positionWarming=.8,c._frictionNormalMultiplier=5,c._frictionMaxStatic=Number.MAX_VALUE,c.preSolvePosition=function(r){var i,n,h,s=r.length;for(i=0;i<s;i++)n=r[i],n.isActive&&(h=n.contactCount,n.collision.parentA.totalContacts+=h,n.collision.parentB.totalContacts+=h)},c.solvePosition=function(r,i,n){var h,s,o,u,f,d,p,y,T=c._positionDampen*(n||1),C=l.clamp(i/l._baseDelta,0,1),P=r.length;for(h=0;h<P;h++)s=r[h],!(!s.isActive||s.isSensor)&&(o=s.collision,u=o.parentA,f=o.parentB,d=o.normal,s.separation=o.depth+d.x*(f.positionImpulse.x-u.positionImpulse.x)+d.y*(f.positionImpulse.y-u.positionImpulse.y));for(h=0;h<P;h++)s=r[h],!(!s.isActive||s.isSensor)&&(o=s.collision,u=o.parentA,f=o.parentB,d=o.normal,y=s.separation-s.slop*C,(u.isStatic||f.isStatic)&&(y*=2),u.isStatic||u.isSleeping||(p=T/u.totalContacts,u.positionImpulse.x+=d.x*y*p,u.positionImpulse.y+=d.y*y*p),f.isStatic||f.isSleeping||(p=T/f.totalContacts,f.positionImpulse.x-=d.x*y*p,f.positionImpulse.y-=d.y*y*p))},c.postSolvePosition=function(r){for(var i=c._positionWarming,n=r.length,h=m.translate,s=a.update,o=0;o<n;o++){var u=r[o],f=u.positionImpulse,d=f.x,p=f.y,y=u.velocity;if(u.totalContacts=0,d!==0||p!==0){for(var T=0;T<u.parts.length;T++){var C=u.parts[T];h(C.vertices,f),s(C.bounds,C.vertices,y),C.position.x+=d,C.position.y+=p}u.positionPrev.x+=d,u.positionPrev.y+=p,d*y.x+p*y.y<0?(f.x=0,f.y=0):(f.x*=i,f.y*=i)}}},c.preSolveVelocity=function(r){var i=r.length,n,h;for(n=0;n<i;n++){var s=r[n];if(!(!s.isActive||s.isSensor)){var o=s.contacts,u=s.contactCount,f=s.collision,d=f.parentA,p=f.parentB,y=f.normal,T=f.tangent;for(h=0;h<u;h++){var C=o[h],P=C.vertex,A=C.normalImpulse,w=C.tangentImpulse;if(A!==0||w!==0){var L=y.x*A+T.x*w,B=y.y*A+T.y*w;d.isStatic||d.isSleeping||(d.positionPrev.x+=L*d.inverseMass,d.positionPrev.y+=B*d.inverseMass,d.anglePrev+=d.inverseInertia*((P.x-d.position.x)*B-(P.y-d.position.y)*L)),p.isStatic||p.isSleeping||(p.positionPrev.x-=L*p.inverseMass,p.positionPrev.y-=B*p.inverseMass,p.anglePrev-=p.inverseInertia*((P.x-p.position.x)*B-(P.y-p.position.y)*L))}}}}},c.solveVelocity=function(r,i){var n=i/l._baseDelta,h=n*n,s=h*n,o=-c._restingThresh*n,u=c._restingThreshTangent,f=c._frictionNormalMultiplier*n,d=c._frictionMaxStatic,p=r.length,y,T,C,P;for(C=0;C<p;C++){var A=r[C];if(!(!A.isActive||A.isSensor)){var w=A.collision,L=w.parentA,B=w.parentB,F=w.normal.x,b=w.normal.y,G=w.tangent.x,N=w.tangent.y,U=A.inverseMass,W=A.friction*A.frictionStatic*f,H=A.contacts,k=A.contactCount,z=1/k,$=L.position.x-L.positionPrev.x,X=L.position.y-L.positionPrev.y,Q=L.angle-L.anglePrev,Z=B.position.x-B.positionPrev.x,K=B.position.y-B.positionPrev.y,J=B.angle-B.anglePrev;for(P=0;P<k;P++){var q=H[P],tt=q.vertex,it=tt.x-L.position.x,nt=tt.y-L.position.y,rt=tt.x-B.position.x,ht=tt.y-B.position.y,dt=$-nt*Q,lt=X+it*Q,vt=Z-ht*J,Mt=K+rt*J,At=dt-vt,wt=lt-Mt,ct=F*At+b*wt,gt=G*At+N*wt,xt=A.separation+ct,Ft=Math.min(xt,1);Ft=xt<0?0:Ft;var bt=Ft*W;gt<-bt||gt>bt?(T=gt>0?gt:-gt,y=A.friction*(gt>0?1:-1)*s,y<-T?y=-T:y>T&&(y=T)):(y=gt,T=d);var kt=it*b-nt*F,Gt=rt*b-ht*F,Ot=z/(U+L.inverseInertia*kt*kt+B.inverseInertia*Gt*Gt),Bt=(1+A.restitution)*ct*Ot;if(y*=Ot,ct<o)q.normalImpulse=0;else{var re=q.normalImpulse;q.normalImpulse+=Bt,q.normalImpulse>0&&(q.normalImpulse=0),Bt=q.normalImpulse-re}if(gt<-u||gt>u)q.tangentImpulse=0;else{var Vt=q.tangentImpulse;q.tangentImpulse+=y,q.tangentImpulse<-T&&(q.tangentImpulse=-T),q.tangentImpulse>T&&(q.tangentImpulse=T),y=q.tangentImpulse-Vt}var jt=F*Bt+G*y,ie=b*Bt+N*y;L.isStatic||L.isSleeping||(L.positionPrev.x+=jt*L.inverseMass,L.positionPrev.y+=ie*L.inverseMass,L.anglePrev+=(it*ie-nt*jt)*L.inverseInertia),B.isStatic||B.isSleeping||(B.positionPrev.x-=jt*B.inverseMass,B.positionPrev.y-=ie*B.inverseMass,B.anglePrev-=(rt*ie-ht*jt)*B.inverseInertia)}}}}})()},48140:(x,M,t)=>{var c={};x.exports=c;var m=t(41598),l=t(31725),a=t(53614),r=t(15647),i=t(66615),n=t(53402);(function(){c._warming=.4,c._torqueDampen=1,c._minLength=1e-6,c.create=function(h){var s=h;s.bodyA&&!s.pointA&&(s.pointA={x:0,y:0}),s.bodyB&&!s.pointB&&(s.pointB={x:0,y:0});var o=s.bodyA?l.add(s.bodyA.position,s.pointA):s.pointA,u=s.bodyB?l.add(s.bodyB.position,s.pointB):s.pointB,f=l.magnitude(l.sub(o,u));s.length=typeof s.length<"u"?s.length:f,s.id=s.id||n.nextId(),s.label=s.label||"Constraint",s.type="constraint",s.stiffness=s.stiffness||(s.length>0?1:.7),s.damping=s.damping||0,s.angularStiffness=s.angularStiffness||0,s.angleA=s.bodyA?s.bodyA.angle:s.angleA,s.angleB=s.bodyB?s.bodyB.angle:s.angleB,s.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return s.length===0&&s.stiffness>.1?(d.type="pin",d.anchors=!1):s.stiffness<.9&&(d.type="spring"),s.render=n.extend(d,s.render),s},c.preSolveAll=function(h){for(var s=0;s<h.length;s+=1){var o=h[s],u=o.constraintImpulse;o.isStatic||u.x===0&&u.y===0&&u.angle===0||(o.position.x+=u.x,o.position.y+=u.y,o.angle+=u.angle)}},c.solveAll=function(h,s){for(var o=n.clamp(s/n._baseDelta,0,1),u=0;u<h.length;u+=1){var f=h[u],d=!f.bodyA||f.bodyA&&f.bodyA.isStatic,p=!f.bodyB||f.bodyB&&f.bodyB.isStatic;(d||p)&&c.solve(h[u],o)}for(u=0;u<h.length;u+=1)f=h[u],d=!f.bodyA||f.bodyA&&f.bodyA.isStatic,p=!f.bodyB||f.bodyB&&f.bodyB.isStatic,!d&&!p&&c.solve(h[u],o)},c.solve=function(h,s){var o=h.bodyA,u=h.bodyB,f=h.pointA,d=h.pointB;if(!(!o&&!u)){o&&!o.isStatic&&(l.rotate(f,o.angle-h.angleA,f),h.angleA=o.angle),u&&!u.isStatic&&(l.rotate(d,u.angle-h.angleB,d),h.angleB=u.angle);var p=f,y=d;if(o&&(p=l.add(o.position,f)),u&&(y=l.add(u.position,d)),!(!p||!y)){var T=l.sub(p,y),C=l.magnitude(T);C<c._minLength&&(C=c._minLength);var P=(C-h.length)/C,A=h.stiffness>=1||h.length===0,w=A?h.stiffness*s:h.stiffness*s*s,L=h.damping*s,B=l.mult(T,P*w),F=(o?o.inverseMass:0)+(u?u.inverseMass:0),b=(o?o.inverseInertia:0)+(u?u.inverseInertia:0),G=F+b,N,U,W,H,k;if(L>0){var z=l.create();W=l.div(T,C),k=l.sub(u&&l.sub(u.position,u.positionPrev)||z,o&&l.sub(o.position,o.positionPrev)||z),H=l.dot(W,k)}o&&!o.isStatic&&(U=o.inverseMass/F,o.constraintImpulse.x-=B.x*U,o.constraintImpulse.y-=B.y*U,o.position.x-=B.x*U,o.position.y-=B.y*U,L>0&&(o.positionPrev.x-=L*W.x*H*U,o.positionPrev.y-=L*W.y*H*U),N=l.cross(f,B)/G*c._torqueDampen*o.inverseInertia*(1-h.angularStiffness),o.constraintImpulse.angle-=N,o.angle-=N),u&&!u.isStatic&&(U=u.inverseMass/F,u.constraintImpulse.x+=B.x*U,u.constraintImpulse.y+=B.y*U,u.position.x+=B.x*U,u.position.y+=B.y*U,L>0&&(u.positionPrev.x+=L*W.x*H*U,u.positionPrev.y+=L*W.y*H*U),N=l.cross(d,B)/G*c._torqueDampen*u.inverseInertia*(1-h.angularStiffness),u.constraintImpulse.angle+=N,u.angle+=N)}}},c.postSolveAll=function(h){for(var s=0;s<h.length;s++){var o=h[s],u=o.constraintImpulse;if(!(o.isStatic||u.x===0&&u.y===0&&u.angle===0)){a.set(o,!1);for(var f=0;f<o.parts.length;f++){var d=o.parts[f];m.translate(d.vertices,u),f>0&&(d.position.x+=u.x,d.position.y+=u.y),u.angle!==0&&(m.rotate(d.vertices,u.angle,o.position),i.rotate(d.axes,u.angle),f>0&&l.rotateAbout(d.position,u.angle,o.position,d.position)),r.update(d.bounds,d.vertices,o.velocity)}u.angle*=c._warming,u.x*=c._warming,u.y*=c._warming}}},c.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},c.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},c.currentLength=function(h){var s=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),o=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),u=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),f=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),d=s-u,p=o-f;return Math.sqrt(d*d+p*p)}})()},53402:(x,M,t)=>{var c={};x.exports=c,function(){c._baseDelta=16.666666666666668,c._nextId=0,c._seed=0,c._nowStartTime=+new Date,c._warnedOnce={},c._decomp=null,c.extend=function(l,a){var r,i;typeof a=="boolean"?(r=2,i=a):(r=1,i=!0);for(var n=r;n<arguments.length;n++){var h=arguments[n];if(h)for(var s in h)i&&h[s]&&h[s].constructor===Object&&(!l[s]||l[s].constructor===Object)?(l[s]=l[s]||{},c.extend(l[s],i,h[s])):l[s]=h[s]}return l},c.clone=function(l,a){return c.extend({},a,l)},c.keys=function(l){if(Object.keys)return Object.keys(l);var a=[];for(var r in l)a.push(r);return a},c.values=function(l){var a=[];if(Object.keys){for(var r=Object.keys(l),i=0;i<r.length;i++)a.push(l[r[i]]);return a}for(var n in l)a.push(l[n]);return a},c.get=function(l,a,r,i){a=a.split(".").slice(r,i);for(var n=0;n<a.length;n+=1)l=l[a[n]];return l},c.set=function(l,a,r,i,n){var h=a.split(".").slice(i,n);return c.get(l,a,0,-1)[h[h.length-1]]=r,r},c.shuffle=function(l){for(var a=l.length-1;a>0;a--){var r=Math.floor(c.random()*(a+1)),i=l[a];l[a]=l[r],l[r]=i}return l},c.choose=function(l){return l[Math.floor(c.random()*l.length)]},c.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},c.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},c.isFunction=function(l){return typeof l=="function"},c.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},c.isString=function(l){return toString.call(l)==="[object String]"},c.clamp=function(l,a,r){return l<a?a:l>r?r:l},c.sign=function(l){return l<0?-1:1},c.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-c._nowStartTime},c.random=function(l,a){return l=typeof l<"u"?l:0,a=typeof a<"u"?a:1,l+m()*(a-l)};var m=function(){return c._seed=(c._seed*9301+49297)%233280,c._seed/233280};c.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},c.logLevel=1,c.log=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.info=function(){console&&c.logLevel>0&&c.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warn=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");c._warnedOnce[l]||(c.warn(l),c._warnedOnce[l]=!0)},c.deprecated=function(l,a,r){l[a]=c.chain(function(){c.warnOnce("🔅 deprecated 🔅",r)},l[a])},c.nextId=function(){return c._nextId++},c.indexOf=function(l,a){if(l.indexOf)return l.indexOf(a);for(var r=0;r<l.length;r++)if(l[r]===a)return r;return-1},c.map=function(l,a){if(l.map)return l.map(a);for(var r=[],i=0;i<l.length;i+=1)r.push(a(l[i]));return r},c.topologicalSort=function(l){var a=[],r=[],i=[];for(var n in l)!r[n]&&!i[n]&&c._topologicalSort(n,r,i,l,a);return a},c._topologicalSort=function(l,a,r,i,n){var h=i[l]||[];r[l]=!0;for(var s=0;s<h.length;s+=1){var o=h[s];r[o]||a[o]||c._topologicalSort(o,a,r,i,n)}r[l]=!1,a[l]=!0,n.push(l)},c.chain=function(){for(var l=[],a=0;a<arguments.length;a+=1){var r=arguments[a];r._chained?l.push.apply(l,r._chained):l.push(r)}var i=function(){for(var n,h=new Array(arguments.length),s=0,o=arguments.length;s<o;s++)h[s]=arguments[s];for(s=0;s<l.length;s+=1){var u=l[s].apply(n,h);typeof u<"u"&&(n=u)}return n};return i._chained=l,i},c.chainPathBefore=function(l,a,r){return c.set(l,a,c.chain(r,c.get(l,a)))},c.chainPathAfter=function(l,a,r){return c.set(l,a,c.chain(c.get(l,a),r))},c.setDecomp=function(l){c._decomp=l},c.getDecomp=function(){var l=c._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof t.g<"u"&&(l=t.g.decomp)}catch{l=null}return l}}()},48413:(x,M,t)=>{var c={};x.exports=c;var m=t(53614),l=t(66272),a=t(81388),r=t(99561),i=t(35810),n=t(69351),h=t(48140),s=t(53402),o=t(22562);(function(){c._deltaMax=16.666666666666668,c.create=function(u){u=u||{};var f={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},d=s.extend(f,u);return d.world=u.world||n.create({label:"World"}),d.pairs=u.pairs||r.create(),d.detector=u.detector||a.create(),d.detector.pairs=d.pairs,d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},c.update=function(u,f){var d=s.now(),p=u.world,y=u.detector,T=u.pairs,C=u.timing,P=C.timestamp,A;f>c._deltaMax&&s.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",c._deltaMax.toFixed(3),"ms."),f=typeof f<"u"?f:s._baseDelta,f*=C.timeScale,C.timestamp+=f,C.lastDelta=f;var w={timestamp:C.timestamp,delta:f};i.trigger(u,"beforeUpdate",w);var L=n.allBodies(p),B=n.allConstraints(p),F=n.allComposites(p);for(p.isModified&&(a.setBodies(y,L),n.setModified(p,!1,!1,!0)),u.enableSleeping&&m.update(L,f),c._bodiesApplyGravity(L,u.gravity),c.wrap(L,F),c.attractors(L),f>0&&c._bodiesUpdate(L,f),i.trigger(u,"beforeSolve",w),h.preSolveAll(L),A=0;A<u.constraintIterations;A++)h.solveAll(B,f);h.postSolveAll(L);var b=a.collisions(y);r.update(T,b,P),u.enableSleeping&&m.afterCollisions(T.list),T.collisionStart.length>0&&i.trigger(u,"collisionStart",{pairs:T.collisionStart,timestamp:C.timestamp,delta:f});var G=s.clamp(20/u.positionIterations,0,1);for(l.preSolvePosition(T.list),A=0;A<u.positionIterations;A++)l.solvePosition(T.list,f,G);for(l.postSolvePosition(L),h.preSolveAll(L),A=0;A<u.constraintIterations;A++)h.solveAll(B,f);for(h.postSolveAll(L),l.preSolveVelocity(T.list),A=0;A<u.velocityIterations;A++)l.solveVelocity(T.list,f);return c._bodiesUpdateVelocities(L),T.collisionActive.length>0&&i.trigger(u,"collisionActive",{pairs:T.collisionActive,timestamp:C.timestamp,delta:f}),T.collisionEnd.length>0&&i.trigger(u,"collisionEnd",{pairs:T.collisionEnd,timestamp:C.timestamp,delta:f}),c._bodiesClearForces(L),i.trigger(u,"afterUpdate",w),u.timing.lastElapsed=s.now()-d,u},c.merge=function(u,f){if(s.extend(u,f),f.world){u.world=f.world,c.clear(u);for(var d=n.allBodies(u.world),p=0;p<d.length;p++){var y=d[p];m.set(y,!1),y.id=s.nextId()}}},c.clear=function(u){r.clear(u.pairs),a.clear(u.detector)},c._bodiesClearForces=function(u){for(var f=u.length,d=0;d<f;d++){var p=u[d];p.force.x=0,p.force.y=0,p.torque=0}},c._bodiesApplyGravity=function(u,f){var d=typeof f.scale<"u"?f.scale:.001,p=u.length;if(!(f.x===0&&f.y===0||d===0))for(var y=0;y<p;y++){var T=u[y];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.y+=T.mass*f.y*d,T.force.x+=T.mass*f.x*d)}},c._bodiesUpdate=function(u,f){for(var d=u.length,p=0;p<d;p++){var y=u[p];y.isStatic||y.isSleeping||o.update(y,f)}},c._bodiesUpdateVelocities=function(u){for(var f=u.length,d=0;d<f;d++)o.updateVelocities(u[d])},c.wrap=function(u,f){for(var d=0;d<u.length;d+=1){var p=u[d];p.wrapBounds!==null&&o.wrap(p,p.wrapBounds)}for(d=0;d<f.length;d+=1){var y=f[d];y.wrapBounds!==null&&n.wrap(y,y.wrapBounds)}},c.attractors=function(u){for(var f=0;f<u.length;f++){var d=u[f],p=d.attractors;if(p&&p.length>0)for(var y=0;y<u.length;y++){var T=u[y];if(f!==y)for(var C=0;C<p.length;C++){var P=p[C],A=P;s.isFunction(P)&&(A=P(d,T)),A&&o.applyForce(T,T.position,A)}}}}})()},35810:(x,M,t)=>{var c={};x.exports=c;var m=t(53402);(function(){c.on=function(l,a,r){for(var i=a.split(" "),n,h=0;h<i.length;h++)n=i[h],l.events=l.events||{},l.events[n]=l.events[n]||[],l.events[n].push(r);return r},c.off=function(l,a,r){if(!a){l.events={};return}typeof a=="function"&&(r=a,a=m.keys(l.events).join(" "));for(var i=a.split(" "),n=0;n<i.length;n++){var h=l.events[i[n]],s=[];if(r&&h)for(var o=0;o<h.length;o++)h[o]!==r&&s.push(h[o]);l.events[i[n]]=s}},c.trigger=function(l,a,r){var i,n,h,s,o=l.events;if(o&&m.keys(o).length>0){r||(r={}),i=a.split(" ");for(var u=0;u<i.length;u++)if(n=i[u],h=o[n],h){s=m.clone(r,!1),s.name=n,s.source=l;for(var f=0;f<h.length;f++)h[f].apply(l,[s])}}}})()},6790:(x,M,t)=>{var c={};x.exports=c;var m=t(73832),l=t(53402);(function(){c.name="matter-js",c.version="0.20.0",c.uses=[],c.used=[],c.use=function(){m.use(c,Array.prototype.slice.call(arguments))},c.before=function(a,r){return a=a.replace(/^Matter./,""),l.chainPathBefore(c,a,r)},c.after=function(a,r){return a=a.replace(/^Matter./,""),l.chainPathAfter(c,a,r)}})()},73832:(x,M,t)=>{var c={};x.exports=c;var m=t(53402);(function(){c._registry={},c.register=function(l){if(c.isPlugin(l)||m.warn("Plugin.register:",c.toString(l),"does not implement all required fields."),l.name in c._registry){var a=c._registry[l.name],r=c.versionParse(l.version).number,i=c.versionParse(a.version).number;r>i?(m.warn("Plugin.register:",c.toString(a),"was upgraded to",c.toString(l)),c._registry[l.name]=l):r<i?m.warn("Plugin.register:",c.toString(a),"can not be downgraded to",c.toString(l)):l!==a&&m.warn("Plugin.register:",c.toString(l),"is already registered to different plugin object")}else c._registry[l.name]=l;return l},c.resolve=function(l){return c._registry[c.dependencyParse(l).name]},c.toString=function(l){return typeof l=="string"?l:(l.name||"anonymous")+"@"+(l.version||l.range||"0.0.0")},c.isPlugin=function(l){return l&&l.name&&l.version&&l.install},c.isUsed=function(l,a){return l.used.indexOf(a)>-1},c.isFor=function(l,a){var r=l.for&&c.dependencyParse(l.for);return!l.for||a.name===r.name&&c.versionSatisfies(a.version,r.range)},c.use=function(l,a){if(l.uses=(l.uses||[]).concat(a||[]),l.uses.length===0){m.warn("Plugin.use:",c.toString(l),"does not specify any dependencies to install.");return}for(var r=c.dependencies(l),i=m.topologicalSort(r),n=[],h=0;h<i.length;h+=1)if(i[h]!==l.name){var s=c.resolve(i[h]);if(!s){n.push("❌ "+i[h]);continue}c.isUsed(l,s.name)||(c.isFor(s,l)||(m.warn("Plugin.use:",c.toString(s),"is for",s.for,"but installed on",c.toString(l)+"."),s._warned=!0),s.install?s.install(l):(m.warn("Plugin.use:",c.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(n.push("🔶 "+c.toString(s)),delete s._warned):n.push("✅ "+c.toString(s)),l.used.push(s.name))}n.length>0&&!s.silent&&m.info(n.join("  "))},c.dependencies=function(l,a){var r=c.dependencyParse(l),i=r.name;if(a=a||{},!(i in a)){l=c.resolve(l)||l,a[i]=m.map(l.uses||[],function(h){c.isPlugin(h)&&c.register(h);var s=c.dependencyParse(h),o=c.resolve(h);return o&&!c.versionSatisfies(o.version,s.range)?(m.warn("Plugin.dependencies:",c.toString(o),"does not satisfy",c.toString(s),"used by",c.toString(r)+"."),o._warned=!0,l._warned=!0):o||(m.warn("Plugin.dependencies:",c.toString(h),"used by",c.toString(r),"could not be resolved."),l._warned=!0),s.name});for(var n=0;n<a[i].length;n+=1)c.dependencies(a[i][n],a);return a}},c.dependencyParse=function(l){if(m.isString(l)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(l)||m.warn("Plugin.dependencyParse:",l,"is not a valid dependency string."),{name:l.split("@")[0],range:l.split("@")[1]||"*"}}return{name:l.name,range:l.range||l.version}},c.versionParse=function(l){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(l)||m.warn("Plugin.versionParse:",l,"is not a valid version or range.");var r=a.exec(l),i=Number(r[4]),n=Number(r[5]),h=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:l,operator:r[1]||r[2]||"",major:i,minor:n,patch:h,parts:[i,n,h],prerelease:r[7],number:i*1e8+n*1e4+h}},c.versionSatisfies=function(l,a){a=a||"*";var r=c.versionParse(a),i=c.versionParse(l);if(r.isRange){if(r.operator==="*"||l==="*")return!0;if(r.operator===">")return i.number>r.number;if(r.operator===">=")return i.number>=r.number;if(r.operator==="~")return i.major===r.major&&i.minor===r.minor&&i.patch>=r.patch;if(r.operator==="^")return r.major>0?i.major===r.major&&i.number>=r.number:r.minor>0?i.minor===r.minor&&i.patch>=r.patch:i.patch===r.patch}return l===a||l==="*"}})()},13037:(x,M,t)=>{var c={};x.exports=c;var m=t(35810),l=t(48413),a=t(53402);(function(){c._maxFrameDelta=66.66666666666667,c._frameDeltaFallback=16.666666666666668,c._timeBufferMargin=1.5,c._elapsedNextEstimate=1,c._smoothingLowerBound=.1,c._smoothingUpperBound=.9,c.create=function(i){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},h=a.extend(n,i);return h.fps=0,h},c.run=function(i,n){return i.timeBuffer=c._frameDeltaFallback,function h(s){i.frameRequestId=c._onNextFrame(i,h),s&&i.enabled&&c.tick(i,n,s)}(),i},c.tick=function(i,n,h){var s=a.now(),o=i.delta,u=0,f=h-i.timeLastTick;if((!f||!i.timeLastTick||f>Math.max(c._maxFrameDelta,i.maxFrameTime))&&(f=i.frameDelta||c._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(f),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var d=i.frameDeltaHistory.slice(0).sort(),p=i.frameDeltaHistory.slice(d.length*c._smoothingLowerBound,d.length*c._smoothingUpperBound),y=r(p);f=y||f}i.frameDeltaSnapping&&(f=1e3/Math.round(1e3/f)),i.frameDelta=f,i.timeLastTick=h,i.timeBuffer+=i.frameDelta,i.timeBuffer=a.clamp(i.timeBuffer,0,i.frameDelta+o*c._timeBufferMargin),i.lastUpdatesDeferred=0;var T=i.maxUpdates||Math.ceil(i.maxFrameTime/o),C={timestamp:n.timing.timestamp};m.trigger(i,"beforeTick",C),m.trigger(i,"tick",C);for(var P=a.now();o>0&&i.timeBuffer>=o*c._timeBufferMargin;){m.trigger(i,"beforeUpdate",C),l.update(n,o),m.trigger(i,"afterUpdate",C),i.timeBuffer-=o,u+=1;var A=a.now()-s,w=a.now()-P,L=A+c._elapsedNextEstimate*w/u;if(u>=T||L>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/o-c._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=u,m.trigger(i,"afterTick",C),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/o)>T?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},c.stop=function(i){c._cancelNextFrame(i)},c._onNextFrame=function(i,n){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},c._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(i){for(var n=0,h=i.length,s=0;s<h;s+=1)n+=i[s];return n/h||0}})()},53614:(x,M,t)=>{var c={};x.exports=c;var m=t(22562),l=t(35810),a=t(53402);(function(){c._motionWakeThreshold=.18,c._motionSleepThreshold=.08,c._minBias=.9,c.update=function(r,i){for(var n=i/a._baseDelta,h=c._motionSleepThreshold,s=0;s<r.length;s++){var o=r[s],u=m.getSpeed(o),f=m.getAngularSpeed(o),d=u*u+f*f;if(o.force.x!==0||o.force.y!==0){c.set(o,!1);continue}var p=Math.min(o.motion,d),y=Math.max(o.motion,d);o.motion=c._minBias*p+(1-c._minBias)*y,o.sleepThreshold>0&&o.motion<h?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/n&&c.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},c.afterCollisions=function(r){for(var i=c._motionSleepThreshold,n=0;n<r.length;n++){var h=r[n];if(h.isActive){var s=h.collision,o=s.bodyA.parent,u=s.bodyB.parent;if(!(o.isSleeping&&u.isSleeping||o.isStatic||u.isStatic)&&(o.isSleeping||u.isSleeping)){var f=o.isSleeping&&!o.isStatic?o:u,d=f===o?u:o;!f.isStatic&&d.motion>i&&c.set(f,!1)}}}},c.set=function(r,i){var n=r.isSleeping;i?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||l.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&l.trigger(r,"sleepEnd"))}})()},66280:(x,M,t)=>{var c={};x.exports=c;var m=t(41598),l=t(53402),a=t(22562),r=t(15647),i=t(31725);(function(){c.rectangle=function(n,h,s,o,u){u=u||{};var f={label:"Rectangle Body",position:{x:n,y:h},vertices:m.fromPath("L 0 0 L "+s+" 0 L "+s+" "+o+" L 0 "+o)};if(u.chamfer){var d=u.chamfer;f.vertices=m.chamfer(f.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete u.chamfer}return a.create(l.extend({},f,u))},c.trapezoid=function(n,h,s,o,u,f){f=f||{},u>=1&&l.warn("Bodies.trapezoid: slope parameter must be < 1."),u*=.5;var d=(1-u*2)*s,p=s*u,y=p+d,T=y+p,C;u<.5?C="L 0 0 L "+p+" "+-o+" L "+y+" "+-o+" L "+T+" 0":C="L 0 0 L "+y+" "+-o+" L "+T+" 0";var P={label:"Trapezoid Body",position:{x:n,y:h},vertices:m.fromPath(C)};if(f.chamfer){var A=f.chamfer;P.vertices=m.chamfer(P.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete f.chamfer}return a.create(l.extend({},P,f))},c.circle=function(n,h,s,o,u){o=o||{};var f={label:"Circle Body",circleRadius:s};u=u||25;var d=Math.ceil(Math.max(10,Math.min(u,s)));return d%2===1&&(d+=1),c.polygon(n,h,d,s,l.extend({},f,o))},c.polygon=function(n,h,s,o,u){if(u=u||{},s<3)return c.circle(n,h,o,u);for(var f=2*Math.PI/s,d="",p=f*.5,y=0;y<s;y+=1){var T=p+y*f,C=Math.cos(T)*o,P=Math.sin(T)*o;d+="L "+C.toFixed(3)+" "+P.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:n,y:h},vertices:m.fromPath(d)};if(u.chamfer){var w=u.chamfer;A.vertices=m.chamfer(A.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete u.chamfer}return a.create(l.extend({},A,u))},c.fromVertices=function(n,h,s,o,u,f,d,p){var y=l.getDecomp(),T,C,P,A,w,L,B,F,b,G,N;for(T=!!(y&&y.quickDecomp),o=o||{},P=[],u=typeof u<"u"?u:!1,f=typeof f<"u"?f:.01,d=typeof d<"u"?d:10,p=typeof p<"u"?p:.01,l.isArray(s[0])||(s=[s]),G=0;G<s.length;G+=1)if(L=s[G],A=m.isConvex(L),w=!A,w&&!T&&l.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!T)A?L=m.clockwiseSort(L):L=m.hull(L),P.push({position:{x:n,y:h},vertices:L});else{var U=L.map(function(q){return[q.x,q.y]});y.makeCCW(U),f!==!1&&y.removeCollinearPoints(U,f),p!==!1&&y.removeDuplicatePoints&&y.removeDuplicatePoints(U,p);var W=y.quickDecomp(U);for(B=0;B<W.length;B++){var H=W[B],k=H.map(function(q){return{x:q[0],y:q[1]}});d>0&&m.area(k)<d||P.push({position:m.centre(k),vertices:k})}}for(B=0;B<P.length;B++)P[B]=a.create(l.extend(P[B],o));if(u){var z=5;for(B=0;B<P.length;B++){var $=P[B];for(F=B+1;F<P.length;F++){var X=P[F];if(r.overlaps($.bounds,X.bounds)){var Q=$.vertices,Z=X.vertices;for(b=0;b<$.vertices.length;b++)for(N=0;N<X.vertices.length;N++){var K=i.magnitudeSquared(i.sub(Q[(b+1)%Q.length],Z[N])),J=i.magnitudeSquared(i.sub(Q[b],Z[(N+1)%Z.length]));K<z&&J<z&&(Q[b].isInternal=!0,Z[N].isInternal=!0)}}}}}return P.length>1?(C=a.create(l.extend({parts:P.slice(0)},o)),a.setPosition(C,{x:n,y:h}),C):P[0]},c.flagCoincidentParts=function(n,h){h===void 0&&(h=5);for(var s=0;s<n.length;s++)for(var o=n[s],u=s+1;u<n.length;u++){var f=n[u];if(r.overlaps(o.bounds,f.bounds))for(var d=o.vertices,p=f.vertices,y=0;y<o.vertices.length;y++)for(var T=0;T<f.vertices.length;T++){var C=i.magnitudeSquared(i.sub(d[(y+1)%d.length],p[T])),P=i.magnitudeSquared(i.sub(d[y],p[(T+1)%p.length]));C<h&&P<h&&(d[y].isInternal=!0,p[T].isInternal=!0)}}return n}})()},74116:(x,M,t)=>{var c={};x.exports=c;var m=t(69351),l=t(48140),a=t(53402),r=t(22562),i=t(66280);(function(){c.stack=function(n,h,s,o,u,f,d){for(var p=m.create({label:"Stack"}),y=n,T=h,C,P=0,A=0;A<o;A++){for(var w=0,L=0;L<s;L++){var B=d(y,T,L,A,C,P);if(B){var F=B.bounds.max.y-B.bounds.min.y,b=B.bounds.max.x-B.bounds.min.x;F>w&&(w=F),r.translate(B,{x:b*.5,y:F*.5}),y=B.bounds.max.x+u,m.addBody(p,B),C=B,P+=1}else y+=u}T+=w+f,y=n}return p},c.chain=function(n,h,s,o,u,f){for(var d=n.bodies,p=1;p<d.length;p++){var y=d[p-1],T=d[p],C=y.bounds.max.y-y.bounds.min.y,P=y.bounds.max.x-y.bounds.min.x,A=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,L={bodyA:y,pointA:{x:P*h,y:C*s},bodyB:T,pointB:{x:w*o,y:A*u}},B=a.extend(L,f);m.addConstraint(n,l.create(B))}return n.label+=" Chain",n},c.mesh=function(n,h,s,o,u){var f=n.bodies,d,p,y,T,C;for(d=0;d<s;d++){for(p=1;p<h;p++)y=f[p-1+d*h],T=f[p+d*h],m.addConstraint(n,l.create(a.extend({bodyA:y,bodyB:T},u)));if(d>0)for(p=0;p<h;p++)y=f[p+(d-1)*h],T=f[p+d*h],m.addConstraint(n,l.create(a.extend({bodyA:y,bodyB:T},u))),o&&p>0&&(C=f[p-1+(d-1)*h],m.addConstraint(n,l.create(a.extend({bodyA:C,bodyB:T},u)))),o&&p<h-1&&(C=f[p+1+(d-1)*h],m.addConstraint(n,l.create(a.extend({bodyA:C,bodyB:T},u))))}return n.label+=" Mesh",n},c.pyramid=function(n,h,s,o,u,f,d){return c.stack(n,h,s,o,u,f,function(p,y,T,C,P,A){var w=Math.min(o,Math.ceil(s/2)),L=P?P.bounds.max.x-P.bounds.min.x:0;if(!(C>w)){C=w-C;var B=C,F=s-1-C;if(!(T<B||T>F)){A===1&&r.translate(P,{x:(T+(s%2===1?1:-1))*L,y:0});var b=P?T*L:0;return d(n+b+T*u,y,T,C,P,A)}}})},c.newtonsCradle=function(n,h,s,o,u){for(var f=m.create({label:"Newtons Cradle"}),d=0;d<s;d++){var p=1.9,y=i.circle(n+d*(o*p),h+u,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=l.create({pointA:{x:n+d*(o*p),y:h},bodyB:y});m.addBody(f,y),m.addConstraint(f,T)}return f},c.car=function(n,h,s,o,u){var f=r.nextGroup(!0),d=20,p=-s*.5+d,y=s*.5-d,T=0,C=m.create({label:"Car"}),P=i.rectangle(n,h,s,o,{collisionFilter:{group:f},chamfer:{radius:o*.5},density:2e-4}),A=i.circle(n+p,h+T,u,{collisionFilter:{group:f},friction:.8}),w=i.circle(n+y,h+T,u,{collisionFilter:{group:f},friction:.8}),L=l.create({bodyB:P,pointB:{x:p,y:T},bodyA:A,stiffness:1,length:0}),B=l.create({bodyB:P,pointB:{x:y,y:T},bodyA:w,stiffness:1,length:0});return m.addBody(C,P),m.addBody(C,A),m.addBody(C,w),m.addConstraint(C,L),m.addConstraint(C,B),C},c.softBody=function(n,h,s,o,u,f,d,p,y,T){y=a.extend({inertia:1/0},y),T=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var C=c.stack(n,h,s,o,u,f,function(P,A){return i.circle(P,A,p,y)});return c.mesh(C,s,o,d,T),C.label="Soft Body",C}})()},66615:(x,M,t)=>{var c={};x.exports=c;var m=t(31725),l=t(53402);(function(){c.fromVertices=function(a){for(var r={},i=0;i<a.length;i++){var n=(i+1)%a.length,h=m.normalise({x:a[n].y-a[i].y,y:a[i].x-a[n].x}),s=h.y===0?1/0:h.x/h.y;s=s.toFixed(3).toString(),r[s]=h}return l.values(r)},c.rotate=function(a,r){if(r!==0)for(var i=Math.cos(r),n=Math.sin(r),h=0;h<a.length;h++){var s=a[h],o;o=s.x*i-s.y*n,s.y=s.x*n+s.y*i,s.x=o}}})()},15647:x=>{var M={};x.exports=M,function(){M.create=function(t){var c={min:{x:0,y:0},max:{x:0,y:0}};return t&&M.update(c,t),c},M.update=function(t,c,m){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var l=0;l<c.length;l++){var a=c[l];a.x>t.max.x&&(t.max.x=a.x),a.x<t.min.x&&(t.min.x=a.x),a.y>t.max.y&&(t.max.y=a.y),a.y<t.min.y&&(t.min.y=a.y)}m&&(m.x>0?t.max.x+=m.x:t.min.x+=m.x,m.y>0?t.max.y+=m.y:t.min.y+=m.y)},M.contains=function(t,c){return c.x>=t.min.x&&c.x<=t.max.x&&c.y>=t.min.y&&c.y<=t.max.y},M.overlaps=function(t,c){return t.min.x<=c.max.x&&t.max.x>=c.min.x&&t.max.y>=c.min.y&&t.min.y<=c.max.y},M.translate=function(t,c){t.min.x+=c.x,t.max.x+=c.x,t.min.y+=c.y,t.max.y+=c.y},M.shift=function(t,c){var m=t.max.x-t.min.x,l=t.max.y-t.min.y;t.min.x=c.x,t.max.x=c.x+m,t.min.y=c.y,t.max.y=c.y+l},M.wrap=function(t,c,m){var l=null,a=null;if(typeof c.min.x<"u"&&typeof c.max.x<"u"&&(t.min.x>c.max.x?l=c.min.x-t.max.x:t.max.x<c.min.x&&(l=c.max.x-t.min.x)),typeof c.min.y<"u"&&typeof c.max.y<"u"&&(t.min.y>c.max.y?a=c.min.y-t.max.y:t.max.y<c.min.y&&(a=c.max.y-t.min.y)),l!==null||a!==null)return{x:l||0,y:a||0}}}()},74058:(x,M,t)=>{var c={};x.exports=c,t(15647);var m=t(53402);(function(){c.pathToVertices=function(l,a){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,i,n,h,s,o,u,f,d,p,y=[],T,C,P=0,A=0,w=0;a=a||15;var L=function(F,b,G){var N=G%2===1&&G>1;if(!d||F!=d.x||b!=d.y){d&&N?(T=d.x,C=d.y):(T=0,C=0);var U={x:T+F,y:C+b};(N||!d)&&(d=U),y.push(U),A=T+F,w=C+b}},B=function(F){var b=F.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":A=F.x,w=F.y;break;case"H":A=F.x;break;case"V":w=F.y;break}L(A,w,F.pathSegType)}};for(c._svgPathToAbsolute(l),n=l.getTotalLength(),o=[],r=0;r<l.pathSegList.numberOfItems;r+=1)o.push(l.pathSegList.getItem(r));for(u=o.concat();P<n;){if(p=l.getPathSegAtLength(P),s=o[p],s!=f){for(;u.length&&u[0]!=s;)B(u.shift());f=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":h=l.getPointAtLength(P),L(h.x,h.y,0);break}P+=a}for(r=0,i=u.length;r<i;++r)B(u[r]);return y},c._svgPathToAbsolute=function(l){for(var a,r,i,n,h,s,o=l.pathSegList,u=0,f=0,d=o.numberOfItems,p=0;p<d;++p){var y=o.getItem(p),T=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in y&&(u=y.x),"y"in y&&(f=y.y);else switch("x1"in y&&(i=u+y.x1),"x2"in y&&(h=u+y.x2),"y1"in y&&(n=f+y.y1),"y2"in y&&(s=f+y.y2),"x"in y&&(u+=y.x),"y"in y&&(f+=y.y),T){case"m":o.replaceItem(l.createSVGPathSegMovetoAbs(u,f),p);break;case"l":o.replaceItem(l.createSVGPathSegLinetoAbs(u,f),p);break;case"h":o.replaceItem(l.createSVGPathSegLinetoHorizontalAbs(u),p);break;case"v":o.replaceItem(l.createSVGPathSegLinetoVerticalAbs(f),p);break;case"c":o.replaceItem(l.createSVGPathSegCurvetoCubicAbs(u,f,i,n,h,s),p);break;case"s":o.replaceItem(l.createSVGPathSegCurvetoCubicSmoothAbs(u,f,h,s),p);break;case"q":o.replaceItem(l.createSVGPathSegCurvetoQuadraticAbs(u,f,i,n),p);break;case"t":o.replaceItem(l.createSVGPathSegCurvetoQuadraticSmoothAbs(u,f),p);break;case"a":o.replaceItem(l.createSVGPathSegArcAbs(u,f,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),p);break;case"z":case"Z":u=a,f=r;break}(T=="M"||T=="m")&&(a=u,r=f)}}})()},31725:x=>{var M={};x.exports=M,function(){M.create=function(t,c){return{x:t||0,y:c||0}},M.clone=function(t){return{x:t.x,y:t.y}},M.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},M.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},M.rotate=function(t,c,m){var l=Math.cos(c),a=Math.sin(c);m||(m={});var r=t.x*l-t.y*a;return m.y=t.x*a+t.y*l,m.x=r,m},M.rotateAbout=function(t,c,m,l){var a=Math.cos(c),r=Math.sin(c);l||(l={});var i=m.x+((t.x-m.x)*a-(t.y-m.y)*r);return l.y=m.y+((t.x-m.x)*r+(t.y-m.y)*a),l.x=i,l},M.normalise=function(t){var c=M.magnitude(t);return c===0?{x:0,y:0}:{x:t.x/c,y:t.y/c}},M.dot=function(t,c){return t.x*c.x+t.y*c.y},M.cross=function(t,c){return t.x*c.y-t.y*c.x},M.cross3=function(t,c,m){return(c.x-t.x)*(m.y-t.y)-(c.y-t.y)*(m.x-t.x)},M.add=function(t,c,m){return m||(m={}),m.x=t.x+c.x,m.y=t.y+c.y,m},M.sub=function(t,c,m){return m||(m={}),m.x=t.x-c.x,m.y=t.y-c.y,m},M.mult=function(t,c){return{x:t.x*c,y:t.y*c}},M.div=function(t,c){return{x:t.x/c,y:t.y/c}},M.perp=function(t,c){return c=c===!0?-1:1,{x:c*-t.y,y:c*t.x}},M.neg=function(t){return{x:-t.x,y:-t.y}},M.angle=function(t,c){return Math.atan2(c.y-t.y,c.x-t.x)},M._temp=[M.create(),M.create(),M.create(),M.create(),M.create(),M.create()]}()},41598:(x,M,t)=>{var c={};x.exports=c;var m=t(31725),l=t(53402);(function(){c.create=function(a,r){for(var i=[],n=0;n<a.length;n++){var h=a[n],s={x:h.x,y:h.y,index:n,body:r,isInternal:!1};i.push(s)}return i},c.fromPath=function(a,r){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return a.replace(i,function(h,s,o){n.push({x:parseFloat(s),y:parseFloat(o)})}),c.create(n,r)},c.centre=function(a){for(var r=c.area(a,!0),i={x:0,y:0},n,h,s,o=0;o<a.length;o++)s=(o+1)%a.length,n=m.cross(a[o],a[s]),h=m.mult(m.add(a[o],a[s]),n),i=m.add(i,h);return m.div(i,6*r)},c.mean=function(a){for(var r={x:0,y:0},i=0;i<a.length;i++)r.x+=a[i].x,r.y+=a[i].y;return m.div(r,a.length)},c.area=function(a,r){for(var i=0,n=a.length-1,h=0;h<a.length;h++)i+=(a[n].x-a[h].x)*(a[n].y+a[h].y),n=h;return r?i/2:Math.abs(i)/2},c.inertia=function(a,r){for(var i=0,n=0,h=a,s,o,u=0;u<h.length;u++)o=(u+1)%h.length,s=Math.abs(m.cross(h[o],h[u])),i+=s*(m.dot(h[o],h[o])+m.dot(h[o],h[u])+m.dot(h[u],h[u])),n+=s;return r/6*(i/n)},c.translate=function(a,r,i){i=typeof i<"u"?i:1;var n=a.length,h=r.x*i,s=r.y*i,o;for(o=0;o<n;o++)a[o].x+=h,a[o].y+=s;return a},c.rotate=function(a,r,i){if(r!==0){var n=Math.cos(r),h=Math.sin(r),s=i.x,o=i.y,u=a.length,f,d,p,y;for(y=0;y<u;y++)f=a[y],d=f.x-s,p=f.y-o,f.x=s+(d*n-p*h),f.y=o+(d*h+p*n);return a}},c.contains=function(a,r){for(var i=r.x,n=r.y,h=a.length,s=a[h-1],o,u=0;u<h;u++){if(o=a[u],(i-s.x)*(o.y-s.y)+(n-s.y)*(s.x-o.x)>0)return!1;s=o}return!0},c.scale=function(a,r,i,n){if(r===1&&i===1)return a;n=n||c.centre(a);for(var h,s,o=0;o<a.length;o++)h=a[o],s=m.sub(h,n),a[o].x=n.x+s.x*r,a[o].y=n.y+s.y*i;return a},c.chamfer=function(a,r,i,n,h){typeof r=="number"?r=[r]:r=r||[8],i=typeof i<"u"?i:-1,n=n||2,h=h||14;for(var s=[],o=0;o<a.length;o++){var u=a[o-1>=0?o-1:a.length-1],f=a[o],d=a[(o+1)%a.length],p=r[o<r.length?o:r.length-1];if(p===0){s.push(f);continue}var y=m.normalise({x:f.y-u.y,y:u.x-f.x}),T=m.normalise({x:d.y-f.y,y:f.x-d.x}),C=Math.sqrt(2*Math.pow(p,2)),P=m.mult(l.clone(y),p),A=m.normalise(m.mult(m.add(y,T),.5)),w=m.sub(f,m.mult(A,C)),L=i;i===-1&&(L=Math.pow(p,.32)*1.75),L=l.clamp(L,n,h),L%2===1&&(L+=1);for(var B=Math.acos(m.dot(y,T)),F=B/L,b=0;b<L;b++)s.push(m.add(m.rotate(P,F*b),w))}return s},c.clockwiseSort=function(a){var r=c.mean(a);return a.sort(function(i,n){return m.angle(r,i)-m.angle(r,n)}),a},c.isConvex=function(a){var r=0,i=a.length,n,h,s,o;if(i<3)return null;for(n=0;n<i;n++)if(h=(n+1)%i,s=(n+2)%i,o=(a[h].x-a[n].x)*(a[s].y-a[h].y),o-=(a[h].y-a[n].y)*(a[s].x-a[h].x),o<0?r|=1:o>0&&(r|=2),r===3)return!1;return r!==0?!0:null},c.hull=function(a){var r=[],i=[],n,h;for(a=a.slice(0),a.sort(function(s,o){var u=s.x-o.x;return u!==0?u:s.y-o.y}),h=0;h<a.length;h+=1){for(n=a[h];i.length>=2&&m.cross3(i[i.length-2],i[i.length-1],n)<=0;)i.pop();i.push(n)}for(h=a.length-1;h>=0;h-=1){for(n=a[h];r.length>=2&&m.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),i.pop(),r.concat(i)}})()},55973:x=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={decomp:B,quickDecomp:N,isSimple:b,removeCollinearPoints:U,removeDuplicatePoints:W,makeCCW:d};function M(z,$,X){X=X||0;var Q=[0,0],Z,K,J,q,tt,it,nt;return Z=z[1][1]-z[0][1],K=z[0][0]-z[1][0],J=Z*z[0][0]+K*z[0][1],q=$[1][1]-$[0][1],tt=$[0][0]-$[1][0],it=q*$[0][0]+tt*$[0][1],nt=Z*tt-q*K,H(nt,0,X)||(Q[0]=(tt*J-K*it)/nt,Q[1]=(Z*it-q*J)/nt),Q}function t(z,$,X,Q){var Z=$[0]-z[0],K=$[1]-z[1],J=Q[0]-X[0],q=Q[1]-X[1];if(J*K-q*Z===0)return!1;var tt=(Z*(X[1]-z[1])+K*(z[0]-X[0]))/(J*K-q*Z),it=(J*(z[1]-X[1])+q*(X[0]-z[0]))/(q*Z-J*K);return tt>=0&&tt<=1&&it>=0&&it<=1}function c(z,$,X){return($[0]-z[0])*(X[1]-z[1])-(X[0]-z[0])*($[1]-z[1])}function m(z,$,X){return c(z,$,X)>0}function l(z,$,X){return c(z,$,X)>=0}function a(z,$,X){return c(z,$,X)<0}function r(z,$,X){return c(z,$,X)<=0}var i=[],n=[];function h(z,$,X,Q){if(Q){var Z=i,K=n;Z[0]=$[0]-z[0],Z[1]=$[1]-z[1],K[0]=X[0]-$[0],K[1]=X[1]-$[1];var J=Z[0]*K[0]+Z[1]*K[1],q=Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1]),tt=Math.sqrt(K[0]*K[0]+K[1]*K[1]),it=Math.acos(J/(q*tt));return it<Q}else return c(z,$,X)===0}function s(z,$){var X=$[0]-z[0],Q=$[1]-z[1];return X*X+Q*Q}function o(z,$){var X=z.length;return z[$<0?$%X+X:$%X]}function u(z){z.length=0}function f(z,$,X,Q){for(var Z=X;Z<Q;Z++)z.push($[Z])}function d(z){for(var $=0,X=z,Q=1;Q<z.length;++Q)(X[Q][1]<X[$][1]||X[Q][1]===X[$][1]&&X[Q][0]>X[$][0])&&($=Q);return m(o(z,$-1),o(z,$),o(z,$+1))?!1:(p(z),!0)}function p(z){for(var $=[],X=z.length,Q=0;Q!==X;Q++)$.push(z.pop());for(var Q=0;Q!==X;Q++)z[Q]=$[Q]}function y(z,$){return a(o(z,$-1),o(z,$),o(z,$+1))}var T=[],C=[];function P(z,$,X){var Q,Z,K=T,J=C;if(l(o(z,$+1),o(z,$),o(z,X))&&r(o(z,$-1),o(z,$),o(z,X)))return!1;Z=s(o(z,$),o(z,X));for(var q=0;q!==z.length;++q)if(!((q+1)%z.length===$||q===$)&&l(o(z,$),o(z,X),o(z,q+1))&&r(o(z,$),o(z,X),o(z,q))&&(K[0]=o(z,$),K[1]=o(z,X),J[0]=o(z,q),J[1]=o(z,q+1),Q=M(K,J),s(o(z,$),Q)<Z))return!1;return!0}function A(z,$,X){for(var Q=0;Q!==z.length;++Q)if(!(Q===$||Q===X||(Q+1)%z.length===$||(Q+1)%z.length===X)&&t(o(z,$),o(z,X),o(z,Q),o(z,Q+1)))return!1;return!0}function w(z,$,X,Q){var Z=Q||[];if(u(Z),$<X)for(var K=$;K<=X;K++)Z.push(z[K]);else{for(var K=0;K<=X;K++)Z.push(z[K]);for(var K=$;K<z.length;K++)Z.push(z[K])}return Z}function L(z){for(var $=[],X=[],Q=[],Z=[],K=Number.MAX_VALUE,J=0;J<z.length;++J)if(y(z,J)){for(var q=0;q<z.length;++q)if(P(z,J,q)){X=L(w(z,J,q,Z)),Q=L(w(z,q,J,Z));for(var tt=0;tt<Q.length;tt++)X.push(Q[tt]);X.length<K&&($=X,K=X.length,$.push([o(z,J),o(z,q)]))}}return $}function B(z){var $=L(z);return $.length>0?F(z,$):[z]}function F(z,$){if($.length===0)return[z];if($ instanceof Array&&$.length&&$[0]instanceof Array&&$[0].length===2&&$[0][0]instanceof Array){for(var X=[z],Q=0;Q<$.length;Q++)for(var Z=$[Q],K=0;K<X.length;K++){var J=X[K],q=F(J,Z);if(q){X.splice(K,1),X.push(q[0],q[1]);break}}return X}else{var Z=$,Q=z.indexOf(Z[0]),K=z.indexOf(Z[1]);return Q!==-1&&K!==-1?[w(z,Q,K),w(z,K,Q)]:!1}}function b(z){var $=z,X;for(X=0;X<$.length-1;X++)for(var Q=0;Q<X-1;Q++)if(t($[X],$[X+1],$[Q],$[Q+1]))return!1;for(X=1;X<$.length-2;X++)if(t($[0],$[$.length-1],$[X],$[X+1]))return!1;return!0}function G(z,$,X,Q,Z){Z=Z||0;var K=$[1]-z[1],J=z[0]-$[0],q=K*z[0]+J*z[1],tt=Q[1]-X[1],it=X[0]-Q[0],nt=tt*X[0]+it*X[1],rt=K*it-tt*J;return H(rt,0,Z)?[0,0]:[(it*q-J*nt)/rt,(K*nt-tt*q)/rt]}function N(z,$,X,Q,Z,K,J){K=K||100,J=J||0,Z=Z||25,$=typeof $<"u"?$:[],X=X||[],Q=Q||[];var q=[0,0],tt=[0,0],it=[0,0],nt=0,rt=0,ht=0,dt=0,lt=0,vt=0,Mt=0,At=[],wt=[],ct=z,gt=z;if(gt.length<3)return $;if(J++,J>K)return console.warn("quickDecomp: max level ("+K+") reached."),$;for(var xt=0;xt<z.length;++xt)if(y(ct,xt)){X.push(ct[xt]),nt=rt=Number.MAX_VALUE;for(var Ft=0;Ft<z.length;++Ft)m(o(ct,xt-1),o(ct,xt),o(ct,Ft))&&r(o(ct,xt-1),o(ct,xt),o(ct,Ft-1))&&(it=G(o(ct,xt-1),o(ct,xt),o(ct,Ft),o(ct,Ft-1)),a(o(ct,xt+1),o(ct,xt),it)&&(ht=s(ct[xt],it),ht<rt&&(rt=ht,tt=it,vt=Ft))),m(o(ct,xt+1),o(ct,xt),o(ct,Ft+1))&&r(o(ct,xt+1),o(ct,xt),o(ct,Ft))&&(it=G(o(ct,xt+1),o(ct,xt),o(ct,Ft),o(ct,Ft+1)),m(o(ct,xt-1),o(ct,xt),it)&&(ht=s(ct[xt],it),ht<nt&&(nt=ht,q=it,lt=Ft)));if(vt===(lt+1)%z.length)it[0]=(tt[0]+q[0])/2,it[1]=(tt[1]+q[1])/2,Q.push(it),xt<lt?(f(At,ct,xt,lt+1),At.push(it),wt.push(it),vt!==0&&f(wt,ct,vt,ct.length),f(wt,ct,0,xt+1)):(xt!==0&&f(At,ct,xt,ct.length),f(At,ct,0,lt+1),At.push(it),wt.push(it),f(wt,ct,vt,xt+1));else{if(vt>lt&&(lt+=z.length),dt=Number.MAX_VALUE,lt<vt)return $;for(var Ft=vt;Ft<=lt;++Ft)l(o(ct,xt-1),o(ct,xt),o(ct,Ft))&&r(o(ct,xt+1),o(ct,xt),o(ct,Ft))&&(ht=s(o(ct,xt),o(ct,Ft)),ht<dt&&A(ct,xt,Ft)&&(dt=ht,Mt=Ft%z.length));xt<Mt?(f(At,ct,xt,Mt+1),Mt!==0&&f(wt,ct,Mt,gt.length),f(wt,ct,0,xt+1)):(xt!==0&&f(At,ct,xt,gt.length),f(At,ct,0,Mt+1),f(wt,ct,Mt,xt+1))}return At.length<wt.length?(N(At,$,X,Q,Z,K,J),N(wt,$,X,Q,Z,K,J)):(N(wt,$,X,Q,Z,K,J),N(At,$,X,Q,Z,K,J)),$}return $.push(z),$}function U(z,$){for(var X=0,Q=z.length-1;z.length>3&&Q>=0;--Q)h(o(z,Q-1),o(z,Q),o(z,Q+1),$)&&(z.splice(Q%z.length,1),X++);return X}function W(z,$){for(var X=z.length-1;X>=1;--X)for(var Q=z[X],Z=X-1;Z>=0;--Z)if(k(Q,z[Z],$)){z.splice(X,1);continue}}function H(z,$,X){return X=X||0,Math.abs(z-$)<=X}function k(z,$,X){return H(z[0],$[0],X)&&H(z[1],$[1],X)}},52018:(x,M,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var c=t(83419),m=new c({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});x.exports=m},42363:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};x.exports=M},37277:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={},t={},c={};c.register=function(m,l,a,r){r===void 0&&(r=!1),M[m]={plugin:l,mapping:a,custom:r}},c.registerCustom=function(m,l,a,r){t[m]={plugin:l,mapping:a,data:r}},c.hasCore=function(m){return M.hasOwnProperty(m)},c.hasCustom=function(m){return t.hasOwnProperty(m)},c.getCore=function(m){return M[m]},c.getCustom=function(m){return t[m]},c.getCustomClass=function(m){return t.hasOwnProperty(m)?t[m].plugin:null},c.remove=function(m){M.hasOwnProperty(m)&&delete M[m]},c.removeCustom=function(m){t.hasOwnProperty(m)&&delete t[m]},c.destroyCorePlugins=function(){for(var m in M)M.hasOwnProperty(m)&&delete M[m]},c.destroyCustomPlugins=function(){for(var m in t)t.hasOwnProperty(m)&&delete t[m]},x.exports=c},77332:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(8443),l=t(50792),a=t(74099),r=t(44603),i=t(39429),n=t(95540),h=t(37277),s=t(72905),o=new c({Extends:l,initialize:function(f){l.call(this),this.game=f,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],f.isBooted?this.boot():f.events.once(m.BOOT,this.boot,this)},boot:function(){var u,f,d,p,y,T,C,P=this.game.config,A=P.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),u=0;u<A.length;u++)f=A[u],d=n(f,"key",null),p=n(f,"plugin",null),y=n(f,"start",!1),T=n(f,"mapping",null),C=n(f,"data",null),d&&(p?this.install(d,p,y,T,C):console.warn("Missing `plugin` for key: "+d));for(A=P.installScenePlugins,A=A.concat(this._pendingScene),u=0;u<A.length;u++)f=A[u],d=n(f,"key",null),p=n(f,"plugin",null),T=n(f,"mapping",null),d&&(p?this.installScenePlugin(d,p,T):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(u,f,d){var p,y,T,C=this.game,P=u.scene,A=u.settings.map,w=u.settings.isBooted;for(p=0;p<f.length;p++)y=f[p],C[y]?(u[y]=C[y],A.hasOwnProperty(y)&&(P[A[y]]=u[y])):y==="game"&&A.hasOwnProperty(y)&&(P[A[y]]=C);for(var L=0;L<d.length;L++)for(T=d[L],p=0;p<T.length;p++)if(y=T[p],!!h.hasCore(y)){var B=h.getCore(y),F=B.mapping,b=new B.plugin(P,this,F);u[F]=b,B.custom?P[F]=b:A.hasOwnProperty(F)&&(P[A[F]]=b),w&&b.boot()}for(T=this.plugins,p=0;p<T.length;p++){var G=T[p];G.mapping&&(P[G.mapping]=G.plugin)}},getDefaultScenePlugins:function(){var u=this.game.config.defaultPlugins;return u=u.concat(this.scenePlugins),u},installScenePlugin:function(u,f,d,p,y){if(y===void 0&&(y=!1),typeof f!="function"){console.warn("Invalid Scene Plugin: "+u);return}if(h.hasCore(u)||h.register(u,f,d,!0),this.scenePlugins.indexOf(u)===-1)this.scenePlugins.push(u);else if(!y&&h.hasCore(u)){console.warn("Scene Plugin key in use: "+u);return}if(p){var T=new f(p,this,u);p.sys[u]=T,d&&d!==""&&(p[d]=T),T.boot()}},install:function(u,f,d,p,y){if(d===void 0&&(d=!1),p===void 0&&(p=null),y===void 0&&(y=null),typeof f!="function")return console.warn("Invalid Plugin: "+u),null;if(h.hasCustom(u))return console.warn("Plugin key in use: "+u),null;if(p!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:u,plugin:f,start:d,mapping:p,data:y});else if(h.registerCustom(u,f,p,y),d)return this.start(u);return null},getIndex:function(u){for(var f=this.plugins,d=0;d<f.length;d++){var p=f[d];if(p.key===u)return d}return-1},getEntry:function(u){var f=this.getIndex(u);if(f!==-1)return this.plugins[f]},isActive:function(u){var f=this.getEntry(u);return f&&f.active},start:function(u,f){f===void 0&&(f=u);var d=this.getEntry(f);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(u,f)),d?d.plugin:null},createEntry:function(u,f){var d=h.getCustom(u);if(d){var p=new d.plugin(this);d={key:f,plugin:p,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),p.init(d.data),p.start()}return d},stop:function(u){var f=this.getEntry(u);return f&&f.active&&(f.active=!1,f.plugin.stop()),this},get:function(u,f){f===void 0&&(f=!0);var d=this.getEntry(u);if(d)return d.plugin;var p=this.getClass(u);return p&&f?(d=this.createEntry(u,u),d?d.plugin:null):p||null},getClass:function(u){return h.getCustomClass(u)},removeGlobalPlugin:function(u){var f=this.getEntry(u);f&&s(this.plugins,f),h.removeCustom(u)},removeScenePlugin:function(u){s(this.scenePlugins,u),h.remove(u)},registerGameObject:function(u,f,d){return f&&i.register(u,f),d&&r.register(u,d),this},removeGameObject:function(u,f,d){return f===void 0&&(f=!0),d===void 0&&(d=!0),f&&i.remove(u),d&&r.remove(u),this},registerFileType:function(u,f,d){a.register(u,f),d&&d.sys.load&&(d.sys.load[u]=f)},destroy:function(){for(var u=0;u<this.plugins.length;u++)this.plugins[u].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});x.exports=o},45145:(x,M,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var c=t(52018),m=t(83419),l=t(44594),a=new m({Extends:c,initialize:function(i,n,h){c.call(this,n),this.scene=i,this.systems=i.sys,this.pluginKey=h,i.sys.events.once(l.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});x.exports=a},18922:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(x){const M=performance.now(),t=this.getVideoPlaybackQuality(),c=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,m=(l,a)=>{const r=this.getVideoPlaybackQuality(),i=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(i>c){const n=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,h=a-l;x(a,{presentationTime:a+n*1e3,expectedDisplayTime:a+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:i,processingDuration:n}),delete this._rvfcpolyfillmap[M]}else this._rvfcpolyfillmap[M]=requestAnimationFrame(n=>m(a,n))};return this._rvfcpolyfillmap[M]=requestAnimationFrame(l=>m(M,l)),M},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(x){cancelAnimationFrame(this._rvfcpolyfillmap[x]),delete this._rvfcpolyfillmap[x]})},10312:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={DEFAULT:0,LINEAR:0,NEAREST:1};x.exports=M},68627:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(19715),m=t(32880),l=t(83419),a=t(8054),r=t(50792),i=t(92503),n=t(56373),h=t(97480),s=t(69442),o=t(61340),u=new l({Extends:r,initialize:function(d){r.call(this);var p=d.config;this.config={clearBeforeRender:p.clearBeforeRender,backgroundColor:p.backgroundColor,antialias:p.antialias,roundPixels:p.roundPixels},this.game=d,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var y={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=p.context?p.context:this.gameCanvas.getContext("2d",y),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(s.READY,this.boot,this)},boot:function(){var f=this.game,d=f.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,f.scale.on(h.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(f,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(f,d){this.width=f,this.height=d,this.emit(i.RESIZE,f,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(f){return this.currentContext.globalCompositeOperation=f,this},setContext:function(f){return this.currentContext=f||this.gameContext,this},setAlpha:function(f){return this.currentContext.globalAlpha=f,this},preRender:function(){var f=this.gameContext,d=this.config,p=this.width,y=this.height;f.globalAlpha=1,f.globalCompositeOperation="source-over",f.setTransform(1,0,0,1,0,0),this.emit(i.PRE_RENDER_CLEAR),d.clearBeforeRender&&(f.clearRect(0,0,p,y),d.transparent||(f.fillStyle=d.backgroundColor.rgba,f.fillRect(0,0,p,y))),f.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(f,d,p){var y=d.length;this.emit(i.RENDER,f,p);var T=p.x,C=p.y,P=p.width,A=p.height,w=p.renderToTexture?p.context:f.sys.context;w.save(),this.game.scene.customViewports&&(w.beginPath(),w.rect(T,C,P,A),w.clip()),p.emit(c.PRE_RENDER,p),this.currentContext=w;var L=p.mask;L&&L.preRenderCanvas(this,null,p._maskCamera),p.transparent||(w.fillStyle=p.backgroundColor.rgba,w.fillRect(T,C,P,A)),w.globalAlpha=p.alpha,w.globalCompositeOperation="source-over",this.drawCount+=y,p.renderToTexture&&p.emit(c.PRE_RENDER,p),p.matrix.copyToContext(w);for(var B=0;B<y;B++){var F=d[B];F.mask&&F.mask.preRenderCanvas(this,F,p),F.renderCanvas(this,F,p),F.mask&&F.mask.postRenderCanvas(this,F,p)}w.setTransform(1,0,0,1,0,0),w.globalCompositeOperation="source-over",w.globalAlpha=1,p.flashEffect.postRenderCanvas(w),p.fadeEffect.postRenderCanvas(w),p.dirty=!1,L&&L.postRenderCanvas(this),w.restore(),p.renderToTexture&&(p.emit(c.POST_RENDER,p),p.renderToGame&&f.sys.context.drawImage(p.canvas,T,C)),p.emit(c.POST_RENDER,p)},postRender:function(){var f=this.gameContext;f.restore(),this.emit(i.POST_RENDER);var d=this.snapshotState;d.callback&&(m(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(f,d,p,y,T,C,P,A,w){p===void 0&&(p=!1),this.snapshotArea(y,T,C,P,d,A,w);var L=this.snapshotState;return L.getPixel=p,m(f,L),L.callback=null,this},snapshot:function(f,d,p){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,f,d,p)},snapshotArea:function(f,d,p,y,T,C,P){var A=this.snapshotState;return A.callback=T,A.type=C,A.encoder=P,A.getPixel=!1,A.x=f,A.y=d,A.width=Math.min(p,this.gameCanvas.width),A.height=Math.min(y,this.gameCanvas.height),this},snapshotPixel:function(f,d,p){return this.snapshotArea(f,d,1,1,p),this.snapshotState.getPixel=!0,this},batchSprite:function(f,d,p,y){var T=p.alpha*f.alpha;if(T!==0){var C=this.currentContext,P=this._tempMatrix1,A=this._tempMatrix2,w=d.canvasData,L=w.x,B=w.y,F=d.cutWidth,b=d.cutHeight,G=d.customPivot,N=d.source.resolution,U=f.displayOriginX,W=f.displayOriginY,H=-U+d.x,k=-W+d.y;if(f.isCropped){var z=f._crop;(z.flipX!==f.flipX||z.flipY!==f.flipY)&&d.updateCropUVs(z,f.flipX,f.flipY),F=z.cw,b=z.ch,L=z.cx,B=z.cy,H=-U+z.x,k=-W+z.y,f.flipX&&(H>=0?H=-(H+F):H<0&&(H=Math.abs(H)-F)),f.flipY&&(k>=0?k=-(k+b):k<0&&(k=Math.abs(k)-b))}var $=1,X=1;f.flipX&&(G||(H+=-d.realWidth+U*2),$=-1),f.flipY&&(G||(k+=-d.realHeight+W*2),X=-1);var Q=f.x,Z=f.y;if(p.roundPixels&&(Q=Math.floor(Q),Z=Math.floor(Z)),A.applyITRS(Q,Z,f.rotation,f.scaleX*$,f.scaleY*X),P.copyFrom(p.matrix),y?(P.multiplyWithOffset(y,-p.scrollX*f.scrollFactorX,-p.scrollY*f.scrollFactorY),A.e=Q,A.f=Z):(A.e-=p.scrollX*f.scrollFactorX,A.f-=p.scrollY*f.scrollFactorY),P.multiply(A),p.renderRoundPixels&&(P.e=Math.floor(P.e+.5),P.f=Math.floor(P.f+.5)),C.save(),P.setToContext(C),C.globalCompositeOperation=this.blendModes[f.blendMode],C.globalAlpha=T,C.imageSmoothingEnabled=!d.source.scaleMode,f.mask&&f.mask.preRenderCanvas(this,f,p),F>0&&b>0){var K=F/N,J=b/N;p.roundPixels&&(H=Math.floor(H+.5),k=Math.floor(k+.5),K+=.5,J+=.5),C.drawImage(d.source.image,L,B,F,b,H,k,K,J)}f.mask&&f.mask.postRenderCanvas(this,f,p),C.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});x.exports=u},55830:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10312),m=t(89289),l=function(){var a=[],r=m.supportNewBlendModes,i="source-over";return a[c.NORMAL]=i,a[c.ADD]="lighter",a[c.MULTIPLY]=r?"multiply":i,a[c.SCREEN]=r?"screen":i,a[c.OVERLAY]=r?"overlay":i,a[c.DARKEN]=r?"darken":i,a[c.LIGHTEN]=r?"lighten":i,a[c.COLOR_DODGE]=r?"color-dodge":i,a[c.COLOR_BURN]=r?"color-burn":i,a[c.HARD_LIGHT]=r?"hard-light":i,a[c.SOFT_LIGHT]=r?"soft-light":i,a[c.DIFFERENCE]=r?"difference":i,a[c.EXCLUSION]=r?"exclusion":i,a[c.HUE]=r?"hue":i,a[c.SATURATION]=r?"saturation":i,a[c.COLOR]=r?"color":i,a[c.LUMINOSITY]=r?"luminosity":i,a[c.ERASE]="destination-out",a[c.SOURCE_IN]="source-in",a[c.SOURCE_OUT]="source-out",a[c.SOURCE_ATOP]="source-atop",a[c.DESTINATION_OVER]="destination-over",a[c.DESTINATION_IN]="destination-in",a[c.DESTINATION_OUT]="destination-out",a[c.DESTINATION_ATOP]="destination-atop",a[c.LIGHTER]="lighter",a[c.COPY]="copy",a[c.XOR]="xor",a};x.exports=l},20926:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91296),m=function(l,a,r,i,n){var h=i.alpha*r.alpha;if(h<=0)return!1;var s=c(r,i,n).calc;return a.globalCompositeOperation=l.blendModes[r.blendMode],a.globalAlpha=h,a.save(),s.setToContext(a),a.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:l.antialias,!0};x.exports=m},63899:x=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="losewebgl"},6119:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="postrender"},48070:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="prerender"},15640:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="render"},8912:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resize"},87124:x=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="restorewebgl"},92503:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Events:t(92503),Snapshot:t(89966)},x.exports.Canvas=t(55830),x.exports.WebGL=t(4159)},32880:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(27919),m=t(40987),l=t(95540),a=function(r,i){var n=l(i,"callback"),h=l(i,"type","image/png"),s=l(i,"encoder",.92),o=Math.abs(Math.round(l(i,"x",0))),u=Math.abs(Math.round(l(i,"y",0))),f=Math.floor(l(i,"width",r.width)),d=Math.floor(l(i,"height",r.height)),p=l(i,"getPixel",!1);if(p){var y=r.getContext("2d",{willReadFrequently:!1}),T=y.getImageData(o,u,1,1),C=T.data;n.call(null,new m(C[0],C[1],C[2],C[3]))}else if(o!==0||u!==0||f!==r.width||d!==r.height){var P=c.createWebGL(this,f,d),A=P.getContext("2d",{willReadFrequently:!0});f>0&&d>0&&A.drawImage(r,o,u,f,d,0,0,f,d);var w=new Image;w.onerror=function(){n.call(null),c.remove(P)},w.onload=function(){n.call(null,w),c.remove(P)},w.src=P.toDataURL(h,s)}else{var L=new Image;L.onerror=function(){n.call(null)},L.onload=function(){n.call(null,L)},L.src=r.toDataURL(h,s)}};x.exports=a},88815:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(27919),m=t(40987),l=t(95540),a=function(r,i){var n=r,h=l(i,"callback"),s=l(i,"type","image/png"),o=l(i,"encoder",.92),u=Math.abs(Math.round(l(i,"x",0))),f=Math.abs(Math.round(l(i,"y",0))),d=l(i,"getPixel",!1),p=l(i,"isFramebuffer",!1),y=p?l(i,"bufferWidth",1):n.drawingBufferWidth,T=p?l(i,"bufferHeight",1):n.drawingBufferHeight;if(d){var C=new Uint8Array(4),P=p?f:T-f;n.readPixels(u,P,1,1,n.RGBA,n.UNSIGNED_BYTE,C),h.call(null,new m(C[0],C[1],C[2],C[3]))}else{var A=Math.floor(l(i,"width",y)),w=Math.floor(l(i,"height",T)),L=A*w*4,B=new Uint8Array(L);n.readPixels(u,T-f-w,A,w,n.RGBA,n.UNSIGNED_BYTE,B);for(var F=c.createWebGL(this,A,w),b=F.getContext("2d",{willReadFrequently:!0}),G=b.getImageData(0,0,A,w),N=G.data,U=0;U<w;U++)for(var W=0;W<A;W++){var H=((w-U-1)*A+W)*4,k=p?L-(U*A+(A-W))*4:(U*A+W)*4;N[k+0]=B[H+0],N[k+1]=B[H+1],N[k+2]=B[H+2],N[k+3]=B[H+3]}b.putImageData(G,0,0);var z=new Image;z.onerror=function(){h.call(null),c.remove(F)},z.onload=function(){h.call(null,z),c.remove(F)},z.src=F.toDataURL(s,o)}};x.exports=a},89966:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(36060),l=t(90330),a=t(82264),r=t(95540),i=t(32302),n=t(63448),h=t(31302),s=t(58918),o=t(14811),u=t(92651),f=t(96569),d=t(56527),p=t(57516),y=t(43439),T=t(81041),C=t(12385),P=t(7589),A=t(95428),w=t(72905),L=new c({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new l([[m.UTILITY_PIPELINE,P],[m.MULTI_PIPELINE,p],[m.BITMAPMASK_PIPELINE,h],[m.SINGLE_PIPELINE,C],[m.ROPE_PIPELINE,T],[m.LIGHT_PIPELINE,f],[m.POINTLIGHT_PIPELINE,y],[m.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new l,this.pipelines=new l,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(B,F,b){var G=this.renderer,N=this.renderTargets;this.frameInc=Math.floor(r(B,"frameInc",32));var U=G.width,W=G.height,H=this.game.config.disablePreFX,k=this.game.config.disablePostFX;if(k||this.postPipelineClasses.setAll([[String(o.BARREL),s.Barrel],[String(o.BLOOM),s.Bloom],[String(o.BLUR),s.Blur],[String(o.BOKEH),s.Bokeh],[String(o.CIRCLE),s.Circle],[String(o.COLOR_MATRIX),s.ColorMatrix],[String(o.DISPLACEMENT),s.Displacement],[String(o.GLOW),s.Glow],[String(o.GRADIENT),s.Gradient],[String(o.PIXELATE),s.Pixelate],[String(o.SHADOW),s.Shadow],[String(o.SHINE),s.Shine],[String(o.VIGNETTE),s.Vignette],[String(o.WIPE),s.Wipe]]),!H){this.classes.set(m.FX_PIPELINE,u);for(var z=Math.min(U,W),$=Math.ceil(z/this.frameInc),X=1;X<$;X++){var Q=X*this.frameInc;N.push(new i(G,Q,Q)),N.push(new i(G,Q,Q)),N.push(new i(G,Q,Q)),this.maxDimension=Q}N.push(new i(G,U,W,1,0,!0,!0)),N.push(new i(G,U,W,1,0,!0,!0)),N.push(new i(G,U,W,1,0,!0,!0))}var Z,K,J=this,q=this.game;if(this.classes.each(function(it,nt){Z=J.add(it,new nt({game:q})),it===m.UTILITY_PIPELINE&&(J.UTILITY_PIPELINE=Z,J.fullFrame1=Z.fullFrame1,J.fullFrame2=Z.fullFrame2,J.halfFrame1=Z.halfFrame1,J.halfFrame2=Z.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(m.FX_PIPELINE)),B)for(K in B){var tt=B[K];Z=new tt(q),Z.name=K,Z.isPostFX?this.postPipelineClasses.set(K,tt):this.has(K)||(this.classes.set(K,tt),this.add(K,Z))}this.default=this.get(F),b&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(B){var F=this.get(B);return F&&(this.default=F),F},add:function(B,F){if(F.isPostFX){console.warn(B+" is a Post Pipeline. Use `addPostPipeline` instead");return}var b=this.pipelines,G=this.renderer;return b.has(B)?console.warn("Pipeline exists: "+B):(F.name=B,F.manager=this,b.set(B,F)),F.hasBooted||F.boot(),G.width!==0&&G.height!==0&&!F.isPreFX&&F.resize(G.width,G.height),F},addPostPipeline:function(B,F){this.postPipelineClasses.has(B)||this.postPipelineClasses.set(B,F)},flush:function(){this.current&&this.current.flush()},has:function(B){var F=this.pipelines;return typeof B=="string"?F.has(B):!!F.contains(B)},get:function(B){var F=this.pipelines;if(typeof B=="string")return F.get(B);if(F.contains(B))return B},getPostPipeline:function(B,F,b){var G=this.postPipelineClasses,N,U="",W=typeof B;if(W==="string"||W==="number"?(N=G.get(B),U=B):W==="function"?(G.contains(B)&&(N=B),U=B.name):W==="object"&&(N=G.get(B.name),U=B.name),N){var H=new N(this.game,b);return H.name=U,F&&(H.gameObject=F),this.postPipelineInstances.push(H),H}},removePostPipeline:function(B){w(this.postPipelineInstances,B)},remove:function(B,F,b){F===void 0&&(F=!0),b===void 0&&(b=!0),this.pipelines.delete(B),F&&this.classes.delete(B),b&&this.postPipelineClasses.delete(B)},set:function(B,F,b){if(!B.isPostFX)return this.isCurrent(B,b)||(this.flush(),this.current&&this.current.unbind(),this.current=B,B.bind(b)),B.updateProjectionMatrix(),B.onBind(F),B},preBatch:function(B){if(B.hasPostPipeline){this.flush();for(var F=B.postPipelines,b=F.length-1;b>=0;b--){var G=F[b];G.active&&G.preBatch(B)}}},postBatch:function(B){if(B.hasPostPipeline){this.flush();for(var F=B.postPipelines,b=0;b<F.length;b++){var G=F[b];G.active&&G.postBatch(B)}}},preBatchCamera:function(B){if(B.hasPostPipeline){this.flush();for(var F=B.postPipelines,b=F.length-1;b>=0;b--){var G=F[b];G.active&&G.preBatch(B)}}},postBatchCamera:function(B){if(B.hasPostPipeline){this.flush();for(var F=B.postPipelines,b=0;b<F.length;b++){var G=F[b];G.active&&G.postBatch(B)}}},isCurrent:function(B,F){var b=this.renderer,G=this.current;return G&&!F&&(F=G.currentShader),!(G!==B||F.program!==b.currentProgram)},copyFrame:function(B,F,b,G,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(B,F,b,G,N),this},copyToGame:function(B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(B),this},drawFrame:function(B,F,b,G){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(B,F,b,G),this},blendFrames:function(B,F,b,G,N){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(B,F,b,G,N),this},blendFramesAdditive:function(B,F,b,G,N){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(B,F,b,G,N),this},clearFrame:function(B,F){return this.UTILITY_PIPELINE.clearFrame(B,F),this},blitFrame:function(B,F,b,G,N,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(B,F,b,G,N,U),this},copyFrameRect:function(B,F,b,G,N,U,W,H){return this.UTILITY_PIPELINE.copyFrameRect(B,F,b,G,N,U,W,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(B){return this.UTILITY_PIPELINE.bind(B)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(B,F){F.restoreContext()}),A(this.postPipelineInstances,function(B){B.restoreContext()})},rebind:function(B){B===void 0&&this.previous&&(B=this.previous);var F=this.renderer,b=F.gl;b.disable(b.DEPTH_TEST),b.disable(b.CULL_FACE),F.hasActiveStencilMask()?b.clear(b.DEPTH_BUFFER_BIT):(b.disable(b.STENCIL_TEST),b.clear(b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)),b.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var G=F.vaoExtension;G&&G.bindVertexArrayOES(null);var N=this.pipelines.entries;for(var U in N)N[U].glReset=!0;B&&(this.current=B,B.rebind())},clear:function(){var B=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,B.currentProgram=null,B.setBlendMode(0,!0);var F=B.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(B){var F=this.renderTargets,b=3;if(B>this.maxDimension)return this.targetIndex=F.length-b,F[this.targetIndex];var G=(n(B,this.frameInc,0,!0)-1)*b;return this.targetIndex=G,F[G]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});x.exports=L},32302:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(92503),l=new c({initialize:function(r,i,n,h,s,o,u,f,d){h===void 0&&(h=1),s===void 0&&(s=0),o===void 0&&(o=!0),u===void 0&&(u=!1),f===void 0&&(f=!0),d===void 0&&(d=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=s,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=f,this.forceClamp=d,this.init(i,n),u?this.renderer.on(m.RESIZE,this.resize,this):this.autoResize=!1},init:function(a,r){var i=this.renderer;this.texture=i.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,r){if(this.autoResize&&this.willResize(a,r)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.texture=i.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r}return this},willResize:function(a,r){return typeof a!="number"||typeof r!="number"?!1:(a=Math.round(a*this.scale),r=Math.round(r*this.scale),a=Math.max(a,1),r=Math.max(r,1),a!==this.width||r!==this.height)},bind:function(a,r,i){a===void 0&&(a=!1);var n=this.renderer;if(a&&n.flush(),r&&i&&this.resize(r,i),n.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(a,r,i,n){var h=this.renderer,s=h.gl;h.pushFramebuffer(this.framebuffer),a!==void 0&&r!==void 0&&i!==void 0&&n!==void 0?(s.enable(s.SCISSOR_TEST),s.scissor(a,r,i,n)):s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),h.popFramebuffer(),h.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var r=this.renderer;return a&&r.flush(),r.popFramebuffer()},destroy:function(){var a=this.renderer;a.off(m.RESIZE,this.resize,this),a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});x.exports=l},70554:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={getTintFromFloats:function(M,t,c,m){var l=(M*255|0)&255,a=(t*255|0)&255,r=(c*255|0)&255,i=(m*255|0)&255;return(i<<24|l<<16|a<<8|r)>>>0},getTintAppendFloatAlpha:function(M,t){var c=(t*255|0)&255;return(c<<24|M)>>>0},getTintAppendFloatAlphaAndSwap:function(M,t){var c=(M>>16|0)&255,m=(M>>8|0)&255,l=(M|0)&255,a=(t*255|0)&255;return(a<<24|l<<16|m<<8|c)>>>0},getFloatsFromUintRGB:function(M){var t=(M>>16|0)&255,c=(M>>8|0)&255,m=(M|0)&255;return[t/255,c/255,m/255]},checkShaderMax:function(M,t){var c=Math.min(16,M.getParameter(M.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?c:Math.min(c,t)},parseFragmentShaderMaxTextures:function(M,t){if(!M)return"";for(var c="",m=0;m<t;m++)m>0&&(c+=`
	else `),m<t-1&&(c+="if (outTexId < "+m+".5)"),c+=`
	{`,c+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",c+=`
	}`;return M=M.replace(/%count%/gi,t.toString()),M.replace(/%forloop%/gi,c)},setGlowQuality:function(M,t,c,m){return c===void 0&&(c=t.config.glowFXQuality),m===void 0&&(m=t.config.glowFXDistance),M=M.replace(/__SIZE__/gi,(1/c/m).toFixed(7)),M=M.replace(/__DIST__/gi,m.toFixed(0)+".0"),M}}},29100:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(62644),l=t(50792),a=t(77085),r=t(95540),i=t(37867),n=t(92503),h=t(32302),s=t(70554),o=t(38683),u=new c({Extends:l,initialize:function(d){l.call(this);var p=d.game,y=p.renderer,T=y.gl;this.name=r(d,"name","WebGLPipeline"),this.game=p,this.renderer=y,this.manager,this.gl=T,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(d,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(d,"resizeUniform","")},boot:function(){var f,d=this.gl,p=this.config,y=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var T=this.renderTargets,C=r(p,"renderTarget",!1);typeof C=="boolean"&&C&&(C=1);var P=y.width,A=y.height;if(typeof C=="number")for(f=0;f<C;f++)T.push(new h(y,P,A,1,0,!0));else if(Array.isArray(C))for(f=0;f<C.length;f++){var w=r(C[f],"scale",1),L=r(C[f],"minFilter",0),B=r(C[f],"autoClear",1),F=r(C[f],"autoResize",!1),b=r(C[f],"width",null),G=r(C[f],"height",b);b?T.push(new h(y,b,G,1,L,B,F)):T.push(new h(y,P,A,w,L,B,F))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(p);var N=this.shaders,U=0;for(f=0;f<N.length;f++)N[f].vertexSize>U&&(U=N[f].vertexSize);var W=r(p,"batchSize",y.config.batchSize);this.vertexCapacity=W*6;var H=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var k=r(p,"vertices",null);for(k?(this.vertexViewF32.set(k),this.vertexBuffer=y.createVertexBuffer(H,d.STATIC_DRAW)):this.vertexBuffer=y.createVertexBuffer(H.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),f=N.length-1;f>=0;f--)N[f].rebind();this.hasBooted=!0,y.on(n.RESIZE,this.resize,this),y.on(n.PRE_RENDER,this.onPreRender,this),y.on(n.RENDER,this.onRender,this),y.on(n.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(f,d,p){var y=this.renderer;if(f!==this.currentShader||y.currentProgram!==this.currentShader.program){this.flush();var T=this.setVertexBuffer(p);T&&!d&&(d=!0),f.bind(d,!1),this.currentShader=f}return this},getShaderByName:function(f){for(var d=this.shaders,p=0;p<d.length;p++)if(d[p].name===f)return d[p]},setShadersFromConfig:function(f){var d,p=this.shaders,y=this.renderer;for(d=0;d<p.length;d++)p[d].destroy();var T="vertShader",C="fragShader",P="attributes",A=r(f,T,null),w=s.parseFragmentShaderMaxTextures(r(f,C,null),y.maxTextures),L=r(f,P,null),B=r(f,"shaders",[]),F=B.length;if(F===0)A&&w&&(this.shaders=[new o(this,"default",A,w,m(L))]);else{var b=[];for(d=0;d<F;d++){var G=B[d],N,U,W,H;if(typeof G=="string"?(N="default",U=A,W=s.parseFragmentShaderMaxTextures(G,y.maxTextures),H=L):(N=r(G,"name","default"),U=r(G,T,A),W=s.parseFragmentShaderMaxTextures(r(G,C,w),y.maxTextures),H=r(G,P,L)),N==="default"){var k=W.split(`
`),z=k[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(N=z.substring(20))}U&&W&&b.push(new o(this,N,U,W,m(H)))}this.shaders=b}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(f){return this.currentBatch={start:this.vertexCount,count:0,texture:[f],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=f,this.batch.push(this.currentBatch),0},addTextureToBatch:function(f){var d=this.currentBatch;d&&(d.texture.push(f),d.unit++,d.maxUnit++)},pushBatch:function(f){if(!this.currentBatch||this.forceZero&&f!==this.currentTexture)return this.createBatch(f);if(f===this.currentTexture)return this.currentUnit;var d=this.currentBatch,p=d.texture.indexOf(f);return p===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(f):(d.unit++,d.maxUnit++,d.texture.push(f),this.currentUnit=d.unit,this.currentTexture=f,d.unit):(this.currentUnit=p,this.currentTexture=f,p)},setGameObject:function(f,d){return d===void 0&&(d=f.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(f){return f===void 0&&(f=0),this.vertexCount+f>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(f,d){(f!==this.width||d!==this.height)&&this.flush(),this.width=f,this.height=d;for(var p=this.renderTargets,y=0;y<p.length;y++)p[y].resize(f,d);return this.setProjectionMatrix(f,d),this.resizeUniform&&this.set2f(this.resizeUniform,f,d),this.emit(a.RESIZE,f,d,this),this.onResize(f,d),this},setProjectionMatrix:function(f,d){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=f,this.projectionHeight=d,p.ortho(0,f,d,0,-1e3,1e3);for(var y=this.shaders,T="uProjectionMatrix",C=0;C<y.length;C++){var P=y[C];P.hasUniform(T)&&(P.resetUniform(T),P.setMatrix4fv(T,!1,p.val,P))}return this},flipProjectionMatrix:function(f){f===void 0&&(f=!0);var d=this.projectionMatrix;if(!d)return this;var p=this.projectionWidth,y=this.projectionHeight;f?d.ortho(0,p,0,y,-1e3,1e3):d.ortho(0,p,y,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var f=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==f||this.projectionHeight!==d)&&this.setProjectionMatrix(f,d)}},bind:function(f){if(f===void 0&&(f=this.currentShader),this.glReset)return this.rebind(f);var d=!1,p=this.gl;return p.getParameter(p.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(p.bindBuffer(p.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),f.bind(d),this.currentShader=f,this.activeTextures.length=0,this.emit(a.BIND,this,f),this.onActive(f),this},rebind:function(f){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,p=d.length-1;p>=0;p--){var y=d[p].rebind();(!f||y===f)&&(this.currentShader=y)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var f=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var p=0;p<f.length;p++){var y=f[p];y.syncUniforms(),d&&y.rebind()}},setVertexBuffer:function(f){if(f===void 0&&(f=this.vertexBuffer),f!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,f.webGLBuffer),this.activeBuffer=f,!0}return!1},preBatch:function(f){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(f),this},postBatch:function(f){return this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(f){if(f===void 0&&(f=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,f),this.onBeforeFlush(f);var d=this.gl,p=this.vertexCount,y=this.currentShader.vertexSize,T=this.topology;if(this.active){this.setVertexBuffer(),p===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,p*y));var C,P,A,w=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||d.activeTexture(d.TEXTURE0),C=0;C<w.length;C++)P=w[C],A=P.texture[0],L[0]!==A&&(d.bindTexture(d.TEXTURE_2D,A.webGLTexture),L[0]=A),d.drawArrays(T,P.start,P.count);else for(C=0;C<w.length;C++){P=w[C];for(var B=0;B<=P.maxUnit;B++)A=P.texture[B],L[B]!==A&&(d.activeTexture(d.TEXTURE0+B),d.bindTexture(d.TEXTURE_2D,A.webGLTexture),L[B]=A);d.drawArrays(T,P.start,P.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,f),this.onAfterFlush(f)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(f,d,p,y,T,C,P){var A=this.vertexViewF32,w=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++L]=f,A[++L]=d,A[++L]=p,A[++L]=y,A[++L]=T,A[++L]=C,w[++L]=P,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(f,d,p,y,T,C,P,A,w,L,B,F,b,G,N,U,W,H,k,z){z===void 0&&(z=this.currentUnit);var $=!1;this.shouldFlush(6)&&(this.flush(),$=!0),this.currentBatch||(z=this.setTexture2D(k));var X=this.vertexViewF32,Q=this.vertexViewU32,Z=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++Z]=d,X[++Z]=p,X[++Z]=L,X[++Z]=B,X[++Z]=z,X[++Z]=H,Q[++Z]=G,X[++Z]=y,X[++Z]=T,X[++Z]=L,X[++Z]=b,X[++Z]=z,X[++Z]=H,Q[++Z]=U,X[++Z]=C,X[++Z]=P,X[++Z]=F,X[++Z]=b,X[++Z]=z,X[++Z]=H,Q[++Z]=W,X[++Z]=d,X[++Z]=p,X[++Z]=L,X[++Z]=B,X[++Z]=z,X[++Z]=H,Q[++Z]=G,X[++Z]=C,X[++Z]=P,X[++Z]=F,X[++Z]=b,X[++Z]=z,X[++Z]=H,Q[++Z]=W,X[++Z]=A,X[++Z]=w,X[++Z]=F,X[++Z]=B,X[++Z]=z,X[++Z]=H,Q[++Z]=N,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),$},batchTri:function(f,d,p,y,T,C,P,A,w,L,B,F,b,G,N,U,W){W===void 0&&(W=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(W=this.setTexture2D(U));var k=this.vertexViewF32,z=this.vertexViewU32,$=this.vertexCount*this.currentShader.vertexComponentCount-1;return k[++$]=d,k[++$]=p,k[++$]=A,k[++$]=w,k[++$]=W,k[++$]=N,z[++$]=F,k[++$]=y,k[++$]=T,k[++$]=A,k[++$]=B,k[++$]=W,k[++$]=N,z[++$]=b,k[++$]=C,k[++$]=P,k[++$]=L,k[++$]=B,k[++$]=W,k[++$]=N,z[++$]=G,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),H},drawFillRect:function(f,d,p,y,T,C,P,A){P===void 0&&(P=this.renderer.whiteTexture),A===void 0&&(A=!0),f=Math.floor(f),d=Math.floor(d);var w=Math.floor(f+p),L=Math.floor(d+y),B=this.setTexture2D(P),F=s.getTintAppendFloatAlphaAndSwap(T,C),b=0,G=0,N=1,U=1;A&&(G=1,U=0),this.batchQuad(null,f,d,f,L,w,L,w,d,b,G,N,U,F,F,F,F,0,P,B)},setTexture2D:function(f){return f===void 0&&(f=this.renderer.whiteTexture),this.pushBatch(f)},bindTexture:function(f,d){d===void 0&&(d=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+d),p.bindTexture(p.TEXTURE_2D,f.webGLTexture),this},bindRenderTarget:function(f,d){return this.bindTexture(f.texture,d)},setTime:function(f,d){return this.set1f(f,this.game.loop.getDuration(),d),this},setBoolean:function(f,d,p){return p===void 0&&(p=this.currentShader),p.setBoolean(f,d),this},set1f:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set1f(f,d),this},set2f:function(f,d,p,y){return y===void 0&&(y=this.currentShader),y.set2f(f,d,p),this},set3f:function(f,d,p,y,T){return T===void 0&&(T=this.currentShader),T.set3f(f,d,p,y),this},set4f:function(f,d,p,y,T,C){return C===void 0&&(C=this.currentShader),C.set4f(f,d,p,y,T),this},set1fv:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set1fv(f,d),this},set2fv:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set2fv(f,d),this},set3fv:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set3fv(f,d),this},set4fv:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set4fv(f,d),this},set1iv:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set1iv(f,d),this},set2iv:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set2iv(f,d),this},set3iv:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set3iv(f,d),this},set4iv:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set4iv(f,d),this},set1i:function(f,d,p){return p===void 0&&(p=this.currentShader),p.set1i(f,d),this},set2i:function(f,d,p,y){return y===void 0&&(y=this.currentShader),y.set2i(f,d,p),this},set3i:function(f,d,p,y,T){return T===void 0&&(T=this.currentShader),T.set3i(f,d,p,y),this},set4i:function(f,d,p,y,T,C){return C===void 0&&(C=this.currentShader),C.set4i(f,d,p,y,T),this},setMatrix2fv:function(f,d,p,y){return y===void 0&&(y=this.currentShader),y.setMatrix2fv(f,d,p),this},setMatrix3fv:function(f,d,p,y){return y===void 0&&(y=this.currentShader),y.setMatrix3fv(f,d,p),this},setMatrix4fv:function(f,d,p,y){return y===void 0&&(y=this.currentShader),y.setMatrix4fv(f,d,p),this},destroy:function(){this.emit(a.DESTROY,this);var f,d=this.shaders;for(f=0;f<d.length;f++)d[f].destroy();var p=this.renderTargets;for(f=0;f<p.length;f++)p[f].destroy();var y=this.renderer;return y.deleteBuffer(this.vertexBuffer),y.off(n.RESIZE,this.resize,this),y.off(n.PRE_RENDER,this.onPreRender,this),y.off(n.RENDER,this.onRender,this),y.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});x.exports=u},74797:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95428),m=t(72905),l=t(19715),a=t(83419),r=t(8054),i=t(50792),n=t(92503),h=t(50030),s=t(37867),o=t(29747),u=t(7530),f=t(32302),d=t(97480),p=t(69442),y=t(70554),T=t(88815),C=t(26128),P=t(1482),A=t(82751),w=t(84387),L=t(93567),B=t(57183),F=new a({Extends:i,initialize:function(G){i.call(this);var N=G.config,U={alpha:N.transparent,desynchronized:N.desynchronized,depth:!0,antialias:N.antialiasGL,premultipliedAlpha:N.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:N.failIfMajorPerformanceCaveat,powerPreference:N.powerPreference,preserveDrawingBuffer:N.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:N.clearBeforeRender,antialias:N.antialias,backgroundColor:N.backgroundColor,contextCreation:U,roundPixels:N.roundPixels,maxTextures:N.maxTextures,maxTextureSize:N.maxTextureSize,batchSize:N.batchSize,maxLights:N.maxLights,mipmapFilter:N.mipmapFilter},this.game=G,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=G.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=o,this.contextRestoredHandler=o,this.previousContextLostHandler=o,this.previousContextRestoredHandler=o,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(b){var G,N=this.game,U=this.canvas,W=b.backgroundColor;if(N.config.context?G=N.config.context:G=U.getContext("webgl",b.contextCreation)||U.getContext("experimental-webgl",b.contextCreation),!G||G.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=G,this.setExtensions(),this.setContextHandlers(),N.context=G;for(var H=0;H<=27;H++)this.blendModes.push({func:[G.ONE,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_ADD});this.blendModes[1].func=[G.ONE,G.DST_ALPHA],this.blendModes[2].func=[G.DST_COLOR,G.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[G.ONE,G.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[G.ZERO,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_REVERSE_SUBTRACT},this.glFormats=[G.BYTE,G.SHORT,G.UNSIGNED_BYTE,G.UNSIGNED_SHORT,G.FLOAT],this.glFuncMap={mat2:{func:G.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:G.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:G.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:G.uniform1f,length:1},"1fv":{func:G.uniform1fv,length:1},"1i":{func:G.uniform1i,length:1},"1iv":{func:G.uniform1iv,length:1},"2f":{func:G.uniform2f,length:2},"2fv":{func:G.uniform2fv,length:1},"2i":{func:G.uniform2i,length:2},"2iv":{func:G.uniform2iv,length:1},"3f":{func:G.uniform3f,length:3},"3fv":{func:G.uniform3fv,length:1},"3i":{func:G.uniform3i,length:3},"3iv":{func:G.uniform3iv,length:1},"4f":{func:G.uniform4f,length:4},"4fv":{func:G.uniform4fv,length:1},"4i":{func:G.uniform4i,length:4},"4iv":{func:G.uniform4iv,length:1}},(!b.maxTextures||b.maxTextures===-1)&&(b.maxTextures=G.getParameter(G.MAX_TEXTURE_IMAGE_UNITS)),b.maxTextureSize||(b.maxTextureSize=G.getParameter(G.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),G.enable(G.BLEND),G.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL);var k=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return k.indexOf(b.mipmapFilter)!==-1&&(this.mipmapFilter=G[b.mipmapFilter]),this.maxTextures=y.checkShaderMax(G,b.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new s().identity(),N.textures.once(p.READY,this.boot,this),this},boot:function(){var b=this.game,G=this.pipelines,N=b.scale.baseSize,U=N.width,W=N.height;this.width=U,this.height=W,this.isBooted=!0,this.renderTarget=new f(this,U,W,1,0,!0,!0),this.maskTarget=new f(this,U,W,1,0,!0,!0),this.maskSource=new f(this,U,W,1,0,!0,!0);var H=b.config;G.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=b.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=b.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=b.textures.getFrame("__WHITE").glTexture;var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,null),k.enable(k.SCISSOR_TEST),b.scale.on(d.RESIZE,this.onResize,this),this.resize(U,W)},setExtensions:function(){var b=this.gl,G=b.getSupportedExtensions();this.supportedExtensions=G;var N="ANGLE_instanced_arrays";this.instancedArraysExtension=G.indexOf(N)>-1?b.getExtension(N):null;var U="OES_vertex_array_object";this.vaoExtension=G.indexOf(U)>-1?b.getExtension(U):null},setContextHandlers:function(b,G){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof b=="function"?this.contextLostHandler=b.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof G=="function"?this.contextRestoredHandler=G.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(b){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),b.preventDefault()},dispatchContextRestored:function(b){var G=this.gl;if(G.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),G.disable(G.BLEND),G.disable(G.DEPTH_TEST),G.enable(G.CULL_FACE),this.compression=this.getCompressedTextures();var N=function(U){U.createResource()};c(this.glTextureWrappers,N),c(this.glBufferWrappers,N),c(this.glFramebufferWrappers,N),c(this.glProgramWrappers,N),c(this.glAttribLocationWrappers,N),c(this.glUniformLocationWrappers,N),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),b.preventDefault()},createTemporaryTextures:function(){for(var b=this.gl,G=0;G<this.maxTextures;G++){var N=b.createTexture();b.activeTexture(b.TEXTURE0+G),b.bindTexture(b.TEXTURE_2D,N),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(G)}},captureFrame:function(b,G){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(b,G,N){},stopCapture:function(){},onCapture:function(b){},onResize:function(b,G){(G.width!==this.width||G.height!==this.height)&&this.resize(G.width,G.height)},beginCapture:function(b,G){b===void 0&&(b=this.width),G===void 0&&(G=this.height),this.renderTarget.bind(!0,b,G),this.setProjectionMatrix(b,G)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(b,G){var N=this.gl;return this.width=b,this.height=G,this.setProjectionMatrix(b,G),N.viewport(0,0,b,G),this.drawingBufferHeight=N.drawingBufferHeight,N.scissor(0,N.drawingBufferHeight-G,b,G),this.defaultScissor[2]=b,this.defaultScissor[3]=G,this.emit(n.RESIZE,b,G),this},getCompressedTextures:function(){var b="WEBGL_compressed_texture_",G="WEBKIT_"+b,N="EXT_texture_compression_",U=function(H,k){var z=H.getExtension(b+k)||H.getExtension(G+k)||H.getExtension(N+k);if(z){var $={};for(var X in z)$[z[X]]=X;return $}},W=this.gl;return{ETC:U(W,"etc"),ETC1:U(W,"etc1"),ATC:U(W,"atc"),ASTC:U(W,"astc"),BPTC:U(W,"bptc"),RGTC:U(W,"rgtc"),PVRTC:U(W,"pvrtc"),S3TC:U(W,"s3tc"),S3TCSRGB:U(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(b,G){var N=this.compression[b.toUpperCase()];if(G in N)return N[G]},supportsCompressedTexture:function(b,G){var N=this.compression[b.toUpperCase()];return N?G?G in N:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(b,G){return(b!==this.projectionWidth||G!==this.projectionHeight)&&(this.projectionWidth=b,this.projectionHeight=G,this.projectionMatrix.ortho(0,b,G,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(b){return this.supportedExtensions?this.supportedExtensions.indexOf(b):!1},getExtension:function(b){return this.hasExtension(b)?(b in this.extensions||(this.extensions[b]=this.gl.getExtension(b)),this.extensions[b]):null},flush:function(){this.pipelines.flush()},pushScissor:function(b,G,N,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.scissorStack,k=[b,G,N,U];return H.push(k),this.setScissor(b,G,N,U,W),this.currentScissor=k,k},setScissor:function(b,G,N,U,W){W===void 0&&(W=this.drawingBufferHeight);var H=this.gl,k=this.currentScissor,z=N>0&&U>0;if(k&&z){var $=k[0],X=k[1],Q=k[2],Z=k[3];z=$!==b||X!==G||Q!==N||Z!==U}z&&(this.flush(),H.scissor(b,W-G-U,N,U))},resetScissor:function(){var b=this.gl;b.enable(b.SCISSOR_TEST);var G=this.currentScissor;if(G){var N=G[0],U=G[1],W=G[2],H=G[3];W>0&&H>0&&b.scissor(N,this.drawingBufferHeight-U-H,W,H)}},popScissor:function(){var b=this.scissorStack;b.pop();var G=b[b.length-1];G&&this.setScissor(G[0],G[1],G[2],G[3]),this.currentScissor=G},hasActiveStencilMask:function(){var b=this.currentMask.mask,G=this.currentCameraMask.mask;return b&&b.isStencil||G&&G.isStencil},resetViewport:function(){var b=this.gl;b.viewport(0,0,this.width,this.height),this.drawingBufferHeight=b.drawingBufferHeight},setBlendMode:function(b,G){G===void 0&&(G=!1);var N=this.gl,U=this.blendModes[b];return G||b!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==b?(this.flush(),N.enable(N.BLEND),N.blendEquation(U.equation),U.func.length>2?N.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):N.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=b,!0):!1},addBlendMode:function(b,G){var N=this.blendModes.push({func:b,equation:G});return N-1},updateBlendMode:function(b,G,N){return this.blendModes[b]&&(this.blendModes[b].func=G,N&&(this.blendModes[b].equation=N)),this},removeBlendMode:function(b){return b>17&&this.blendModes[b]&&this.blendModes.splice(b,1),this},pushFramebuffer:function(b,G,N,U,W){return b===this.currentFramebuffer?this:(this.fboStack.push(b),this.setFramebuffer(b,G,N,U,W))},setFramebuffer:function(b,G,N,U,W){if(G===void 0&&(G=!1),N===void 0&&(N=!0),U===void 0&&(U=null),W===void 0&&(W=!1),b===this.currentFramebuffer)return this;var H=this.gl,k=this.width,z=this.height;return b&&b.renderTexture&&N?(k=b.renderTexture.width,z=b.renderTexture.height):this.flush(),b?H.bindFramebuffer(H.FRAMEBUFFER,b.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),N&&H.viewport(0,0,k,z),U&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,U.webGLTexture,0),W&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),G&&(b?(this.drawingBufferHeight=z,this.pushScissor(0,0,k,z)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=b,this},popFramebuffer:function(b,G){b===void 0&&(b=!1),G===void 0&&(G=!0);var N=this.fboStack;N.pop();var U=N[N.length-1];return U||(U=null),this.setFramebuffer(U,b,G),U},restoreFramebuffer:function(b,G){b===void 0&&(b=!1),G===void 0&&(G=!0);var N=this.fboStack,U=N[N.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,b,G)},setProgram:function(b){return b!==this.currentProgram?(this.flush(),this.gl.useProgram(b.webGLProgram),this.currentProgram=b,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(b,G,N,U,W){W===void 0&&(W=!1);var H=this.gl,k=H.NEAREST,z=H.NEAREST,$=H.CLAMP_TO_EDGE,X=null;G=b?b.width:G,N=b?b.height:N;var Q=h(G,N);if(Q&&!W&&($=H.REPEAT),U===r.ScaleModes.LINEAR&&this.config.antialias){var Z=b&&b.compressed,K=!Z&&Q||Z&&b.mipmaps.length>1;k=this.mipmapFilter&&K?this.mipmapFilter:H.LINEAR,z=H.LINEAR}return!b&&typeof G=="number"&&typeof N=="number"?X=this.createTexture2D(0,k,z,$,$,H.RGBA,null,G,N):X=this.createTexture2D(0,k,z,$,$,H.RGBA,b),X},createTexture2D:function(b,G,N,U,W,H,k,z,$,X,Q,Z){typeof z!="number"&&(z=k?k.width:1),typeof $!="number"&&($=k?k.height:1);var K=new A(this.gl,b,G,N,U,W,H,k,z,$,X,Q,Z);return this.glTextureWrappers.push(K),K},createFramebuffer:function(b,G,N,U){this.currentFramebuffer=null;var W=new w(this.gl,b,G,N,U);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(b,G){var N=this.gl;N&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==b&&(this.currentMask.mask=b,this.currentMask.camera=G))},drawBitmapMask:function(b,G,N){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),b.renderWebGL(this,b,G),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,W=this.getCurrentStencilMask();W?(U.enable(U.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(N),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(b,G){var N=new P(this.gl,b,G);return this.glProgramWrappers.push(N),N},createVertexBuffer:function(b,G){var N=this.gl,U=new C(N,b,N.ARRAY_BUFFER,G);return this.glBufferWrappers.push(U),U},createAttribLocation:function(b,G){var N=new L(this.gl,b,G);return this.glAttribLocationWrappers.push(N),N},createUniformLocation:function(b,G){var N=new B(this.gl,b,G);return this.glUniformLocationWrappers.push(N),N},createIndexBuffer:function(b,G){var N=this.gl,U=new C(N,b,N.ELEMENT_ARRAY_BUFFER,G);return this.glBufferWrappers.push(U),U},deleteTexture:function(b){if(b)return m(this.glTextureWrappers,b),b.destroy(),this},deleteFramebuffer:function(b){return b?(m(this.fboStack,b),m(this.glFramebufferWrappers,b),b.destroy(),this):this},deleteProgram:function(b){return b&&(m(this.glProgramWrappers,b),b.destroy()),this},deleteAttribLocation:function(b){return b&&(m(this.glAttribLocationWrappers,b),b.destroy()),this},deleteUniformLocation:function(b){return b&&(m(this.glUniformLocationWrappers,b),b.destroy()),this},deleteBuffer:function(b){return b?(m(this.glBufferWrappers,b),b.destroy(),this):this},preRenderCamera:function(b){var G=b.x,N=b.y,U=b.width,W=b.height,H=b.backgroundColor;if(b.emit(l.PRE_RENDER,b),this.pipelines.preBatchCamera(b),this.pushScissor(G,N,U,W),b.mask&&(this.currentCameraMask.mask=b.mask,this.currentCameraMask.camera=b._maskCamera,b.mask.preRenderWebGL(this,b,b._maskCamera)),H.alphaGL>0){var k=this.pipelines.setMulti();k.drawFillRect(G,N,U,W,y.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},getCurrentStencilMask:function(){var b=null,G=this.maskStack,N=this.currentCameraMask;return G.length>0?b=G[G.length-1]:N.mask&&N.mask.isStencil&&(b=N),b},postRenderCamera:function(b){var G=b.flashEffect,N=b.fadeEffect;if(G.isRunning||N.isRunning||N.isComplete){var U=this.pipelines.setMulti();G.postRenderWebGL(U,y.getTintFromFloats),N.postRenderWebGL(U,y.getTintFromFloats)}b.dirty=!1,this.popScissor(),b.mask&&(this.currentCameraMask.mask=null,b.mask.postRenderWebGL(this,b._maskCamera)),this.pipelines.postBatchCamera(b),b.emit(l.POST_RENDER,b)},preRender:function(){if(!this.contextLost){var b=this.gl;if(b.bindFramebuffer(b.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var G=this.config.backgroundColor;b.clearColor(G.redGL,G.greenGL,G.blueGL,G.alphaGL),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)}b.enable(b.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&b.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(b,G,N){if(!this.contextLost){var U=G.length;if(this.emit(n.RENDER,b,N),this.preRenderCamera(N),U===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(N);return}this.currentType="";for(var W=this.currentMask,H=0;H<U;H++){this.finalType=H===U-1;var k=G[H],z=k.mask;W=this.currentMask,W.mask&&W.mask!==z&&W.mask.postRenderWebGL(this,W.camera),z&&W.mask!==z&&z.preRenderWebGL(this,k,N),k.blendMode!==this.currentBlendMode&&this.setBlendMode(k.blendMode);var $=k.type;$!==this.currentType&&(this.newType=!0,this.currentType=$),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=G[H+1].type===this.currentType,k.renderWebGL(this,k,N),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(N)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var b=this.snapshotState;b.callback&&(T(this.gl,b),b.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var b=this.gl,G=this.getCurrentStencilMask();if(G){var N=G.mask;b.enable(b.STENCIL_TEST),N.invertAlpha?b.stencilFunc(b.NOTEQUAL,N.level,255):b.stencilFunc(b.EQUAL,N.level,255)}},snapshot:function(b,G,N){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,b,G,N)},snapshotArea:function(b,G,N,U,W,H,k){var z=this.snapshotState;return z.callback=W,z.type=H,z.encoder=k,z.getPixel=!1,z.x=b,z.y=G,z.width=N,z.height=U,this},snapshotPixel:function(b,G,N){return this.snapshotArea(b,G,1,1,N),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(b,G,N,U,W,H,k,z,$,X,Q){W===void 0&&(W=!1),H===void 0&&(H=0),k===void 0&&(k=0),z===void 0&&(z=G),$===void 0&&($=N),X==="pixel"&&(W=!0,X="image/png");var Z=this.currentFramebuffer;this.snapshotArea(H,k,z,$,U,X,Q);var K=this.snapshotState;return K.getPixel=W,K.isFramebuffer=!0,K.bufferWidth=G,K.bufferHeight=N,K.width=Math.min(K.width,G),K.height=Math.min(K.height,N),this.setFramebuffer(b),T(this.gl,K),this.setFramebuffer(Z),K.callback=null,K.isFramebuffer=!1,this},canvasToTexture:function(b,G,N,U){N===void 0&&(N=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,k=W.NEAREST,z=b.width,$=b.height,X=W.CLAMP_TO_EDGE,Q=h(z,$);return!N&&Q&&(X=W.REPEAT),this.config.antialias&&(H=Q&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,k=W.LINEAR),G?(G.update(b,z,$,U,X,X,H,k,G.format),G):this.createTexture2D(0,H,k,X,X,W.RGBA,b,z,$,!0,!1,U)},createCanvasTexture:function(b,G,N){return G===void 0&&(G=!1),N===void 0&&(N=!1),this.canvasToTexture(b,null,G,N)},updateCanvasTexture:function(b,G,N,U){return N===void 0&&(N=!1),U===void 0&&(U=!1),this.canvasToTexture(b,G,U,N)},videoToTexture:function(b,G,N,U){N===void 0&&(N=!1),U===void 0&&(U=!1);var W=this.gl,H=W.NEAREST,k=W.NEAREST,z=b.videoWidth,$=b.videoHeight,X=W.CLAMP_TO_EDGE,Q=h(z,$);return!N&&Q&&(X=W.REPEAT),this.config.antialias&&(H=Q&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,k=W.LINEAR),G?(G.update(b,z,$,U,X,X,H,k,G.format),G):this.createTexture2D(0,H,k,X,X,W.RGBA,b,z,$,!0,!0,U)},createVideoTexture:function(b,G,N){return G===void 0&&(G=!1),N===void 0&&(N=!1),this.videoToTexture(b,null,G,N)},updateVideoTexture:function(b,G,N,U){return N===void 0&&(N=!1),U===void 0&&(U=!1),this.videoToTexture(b,G,U,N)},createUint8ArrayTexture:function(b,G,N){var U=this.gl,W=U.NEAREST,H=U.NEAREST,k=U.CLAMP_TO_EDGE,z=h(G,N);return z&&(k=U.REPEAT),this.createTexture2D(0,W,H,k,k,U.RGBA,b,G,N)},setTextureFilter:function(b,G){var N=this.gl,U=G===0?N.LINEAR:N.NEAREST;N.activeTexture(N.TEXTURE0);var W=N.getParameter(N.TEXTURE_BINDING_2D);return N.bindTexture(N.TEXTURE_2D,b.webGLTexture),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,U),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,U),b.minFilter=U,b.magFilter=U,W&&N.bindTexture(N.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var b=function(G){G.destroy()};c(this.glAttribLocationWrappers,b),c(this.glBufferWrappers,b),c(this.glFramebufferWrappers,b),c(this.glProgramWrappers,b),c(this.glTextureWrappers,b),c(this.glUniformLocationWrappers,b),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});x.exports=F},38683:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95428),l=t(95540),a=t(14500),r=new c({initialize:function(n,h,s,o,u){this.pipeline=n,this.name=h,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=o,this.vertSrc=s,this.program=this.renderer.createProgram(s,o),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(i){var n=0,h=0,s=[];this.vertexComponentCount=0;for(var o=0;o<i.length;o++){var u=i[o],f=u.name,d=l(u,"size",1),p=l(u,"type",a.FLOAT),y=p.enum,T=p.size,C=!!u.normalized;s.push({name:f,size:d,type:y,normalized:C,offset:h,enabled:!1,location:-1}),T===4?n+=d:n++,h+=d*T}this.vertexSize=h,this.vertexComponentCount=n,this.attributes=s},bind:function(i,n){return i===void 0&&(i=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),i&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(i){i===void 0&&(i=!1);for(var n=this.gl,h=this.renderer,s=this.vertexSize,o=this.attributes,u=this.program,f=0;f<o.length;f++){var d=o[f],p=d.size,y=d.type,T=d.offset,C=d.enabled,P=d.location,A=!!d.normalized;if(i){P!==-1&&h.deleteAttribLocation(P);var w=this.renderer.createAttribLocation(u,d.name);w.webGLAttribLocation>=0?(n.enableVertexAttribArray(w.webGLAttribLocation),n.vertexAttribPointer(w.webGLAttribLocation,p,y,A,s,T),d.enabled=!0,d.location=w):w.webGLAttribLocation!==-1&&n.disableVertexAttribArray(w.webGLAttribLocation)}else C?n.vertexAttribPointer(P.webGLAttribLocation,p,y,A,s,T):!C&&P!==-1&&P.webGLAttribLocation>-1&&(n.disableVertexAttribArray(P.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var i=this.gl,n=this.program,h=this.uniforms,s,o,u,f=i.getProgramParameter(n.webGLProgram,i.ACTIVE_UNIFORMS);for(s=0;s<f;s++){var d=i.getActiveUniform(n.webGLProgram,s);if(d){o=d.name,u=this.renderer.createUniformLocation(n,o),u!==null&&(h[o]={name:o,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var p=o.indexOf("[");p>0&&(o=o.substr(0,p),h.hasOwnProperty(o)||(u=this.renderer.createUniformLocation(n,o),u!==null&&(h[o]={name:o,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var i=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var h=this.uniforms[n];h.setter&&h.setter.call(i,h.location.webGLUniformLocation,h.value1,h.value2,h.value3,h.value4)}},hasUniform:function(i){return this.uniforms.hasOwnProperty(i)},resetUniform:function(i){var n=this.uniforms[i];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(i,n,h,s){var o=this.uniforms[n];return o?((s||o.value1!==h)&&(o.setter||(o.setter=i),o.value1=h,this.renderer.setProgram(this.program),i.call(this.gl,o.location.webGLUniformLocation,h),this.pipeline.currentShader=this),this):this},setUniform2:function(i,n,h,s,o){var u=this.uniforms[n];return u?((o||u.value1!==h||u.value2!==s)&&(u.setter||(u.setter=i),u.value1=h,u.value2=s,this.renderer.setProgram(this.program),i.call(this.gl,u.location.webGLUniformLocation,h,s),this.pipeline.currentShader=this),this):this},setUniform3:function(i,n,h,s,o,u){var f=this.uniforms[n];return f?((u||f.value1!==h||f.value2!==s||f.value3!==o)&&(f.setter||(f.setter=i),f.value1=h,f.value2=s,f.value3=o,this.renderer.setProgram(this.program),i.call(this.gl,f.location.webGLUniformLocation,h,s,o),this.pipeline.currentShader=this),this):this},setUniform4:function(i,n,h,s,o,u,f){var d=this.uniforms[n];return d?((f||d.value1!==h||d.value2!==s||d.value3!==o||d.value4!==u)&&(d.setter||(d.setter=i),d.value1=h,d.value2=s,d.value3=o,d.value4=u,this.renderer.setProgram(this.program),i.call(this.gl,d.location.webGLUniformLocation,h,s,o,u),this.pipeline.currentShader=this),this):this},setBoolean:function(i,n){return this.setUniform1(this.gl.uniform1i,i,Number(n))},set1f:function(i,n){return this.setUniform1(this.gl.uniform1f,i,n)},set2f:function(i,n,h){return this.setUniform2(this.gl.uniform2f,i,n,h)},set3f:function(i,n,h,s){return this.setUniform3(this.gl.uniform3f,i,n,h,s)},set4f:function(i,n,h,s,o){return this.setUniform4(this.gl.uniform4f,i,n,h,s,o)},set1fv:function(i,n){return this.setUniform1(this.gl.uniform1fv,i,n,!0)},set2fv:function(i,n){return this.setUniform1(this.gl.uniform2fv,i,n,!0)},set3fv:function(i,n){return this.setUniform1(this.gl.uniform3fv,i,n,!0)},set4fv:function(i,n){return this.setUniform1(this.gl.uniform4fv,i,n,!0)},set1iv:function(i,n){return this.setUniform1(this.gl.uniform1iv,i,n,!0)},set2iv:function(i,n){return this.setUniform1(this.gl.uniform2iv,i,n,!0)},set3iv:function(i,n){return this.setUniform1(this.gl.uniform3iv,i,n,!0)},set4iv:function(i,n){return this.setUniform1(this.gl.uniform4iv,i,n,!0)},set1i:function(i,n){return this.setUniform1(this.gl.uniform1i,i,n)},set2i:function(i,n,h){return this.setUniform2(this.gl.uniform2i,i,n,h)},set3i:function(i,n,h,s){return this.setUniform3(this.gl.uniform3i,i,n,h,s)},set4i:function(i,n,h,s,o){return this.setUniform4(this.gl.uniform4i,i,n,h,s,o)},setMatrix2fv:function(i,n,h){return this.setUniform2(this.gl.uniformMatrix2fv,i,n,h,!0)},setMatrix3fv:function(i,n,h){return this.setUniform2(this.gl.uniformMatrix3fv,i,n,h,!0)},setMatrix4fv:function(i,n,h){return this.setUniform2(this.gl.uniformMatrix4fv,i,n,h,!0)},createProgram:function(i,n){return i===void 0&&(i=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=i,this.fragSrc=n,this.program=this.renderer.createProgram(i,n),this.createUniforms(),this.rebind()},destroy:function(){var i=this.renderer;m(this.uniforms,function(n){i.deleteUniformLocation(n.location)}),this.uniforms=null,m(this.attributes,function(n){i.deleteAttribLocation(n.location)}),this.attributes=null,i.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});x.exports=r},14500:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};x.exports=M},4159:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(14500),m=t(79291),l={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};l=m(!1,l,c),x.exports=l},31302:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=t(78908),a=t(85191),r=t(14500),i=t(29100),n=new c({Extends:i,initialize:function(s){s.fragShader=m(s,"fragShader",l),s.vertShader=m(s,"vertShader",a),s.batchSize=m(s,"batchSize",1),s.vertices=m(s,"vertices",[-1,1,-1,-7,7,1]),s.attributes=m(s,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),i.call(this,s)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,s){i.prototype.resize.call(this,h,s),this.set2f("uResolution",h,s)},beginMask:function(h,s,o){this.renderer.beginBitmapMask(h,o)},endMask:function(h,s,o){var u=this.gl,f=this.renderer,d=h.bitmapMask;d&&u&&(f.drawBitmapMask(d,s,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),u.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});x.exports=n},92651:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(58918),l=t(14811),a=t(95540),r=t(43558),i=t(89350),n=t(70554),h=new c({Extends:r,initialize:function(o){o.shaders=[n.setGlowQuality(i.FXGlowFrag,o.game),i.FXShadowFrag,i.FXPixelateFrag,i.FXVignetteFrag,i.FXShineFrag,i.FXBlurLowFrag,i.FXBlurMedFrag,i.FXBlurHighFrag,i.FXGradientFrag,i.FXBloomFrag,i.ColorMatrixFrag,i.FXCircleFrag,i.FXBarrelFrag,i.FXDisplacementFrag,i.FXWipeFrag,i.FXBokehFrag],r.call(this,o);var u=this.game;this.glow=new m.Glow(u),this.shadow=new m.Shadow(u),this.pixelate=new m.Pixelate(u),this.vignette=new m.Vignette(u),this.shine=new m.Shine(u),this.gradient=new m.Gradient(u),this.circle=new m.Circle(u),this.barrel=new m.Barrel(u),this.wipe=new m.Wipe(u),this.bokeh=new m.Bokeh(u);var f=[];f[l.GLOW]=this.onGlow,f[l.SHADOW]=this.onShadow,f[l.PIXELATE]=this.onPixelate,f[l.VIGNETTE]=this.onVignette,f[l.SHINE]=this.onShine,f[l.BLUR]=this.onBlur,f[l.GRADIENT]=this.onGradient,f[l.BLOOM]=this.onBloom,f[l.COLOR_MATRIX]=this.onColorMatrix,f[l.CIRCLE]=this.onCircle,f[l.BARREL]=this.onBarrel,f[l.DISPLACEMENT]=this.onDisplacement,f[l.WIPE]=this.onWipe,f[l.BOKEH]=this.onBokeh,this.fxHandlers=f,this.source,this.target,this.swap},onDraw:function(s,o,u){this.source=s,this.target=o,this.swap=u;var f=s.width,d=s.height,p=this.tempSprite,y=this.fxHandlers;if(p&&p.preFX)for(var T=p.preFX.list,C=0;C<T.length;C++){var P=T[C];P.active&&y[P.type].call(this,P,f,d)}this.drawToGame(this.source)},runDraw:function(){var s=this.source,o=this.target;this.copy(s,o),this.source=o,this.target=s},onGlow:function(s,o,u){var f=this.shaders[l.GLOW];this.setShader(f),this.glow.onPreRender(s,f,o,u),this.runDraw()},onShadow:function(s){var o=this.shaders[l.SHADOW];this.setShader(o),this.shadow.onPreRender(s,o),this.runDraw()},onPixelate:function(s,o,u){var f=this.shaders[l.PIXELATE];this.setShader(f),this.pixelate.onPreRender(s,f,o,u),this.runDraw()},onVignette:function(s){var o=this.shaders[l.VIGNETTE];this.setShader(o),this.vignette.onPreRender(s,o),this.runDraw()},onShine:function(s,o,u){var f=this.shaders[l.SHINE];this.setShader(f),this.shine.onPreRender(s,f,o,u),this.runDraw()},onBlur:function(s,o,u){var f=a(s,"quality"),d=this.shaders[l.BLUR+f];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",o,u),this.set1f("strength",a(s,"strength")),this.set3fv("color",a(s,"glcolor"));for(var p=a(s,"x"),y=a(s,"y"),T=a(s,"steps"),C=0;C<T;C++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw()},onGradient:function(s){var o=this.shaders[l.GRADIENT];this.setShader(o),this.gradient.onPreRender(s,o),this.runDraw()},onBloom:function(s,o,u){var f=this.shaders[l.BLOOM];this.copySprite(this.source,this.swap),this.setShader(f),this.set1i("uMainSampler",0),this.set1f("strength",a(s,"blurStrength")),this.set3fv("color",a(s,"glcolor"));for(var d=2/o*a(s,"offsetX"),p=2/u*a(s,"offsetY"),y=a(s,"steps"),T=0;T<y;T++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,p),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(s,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(s){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),this.runDraw()},onCircle:function(s,o,u){var f=this.shaders[l.CIRCLE];this.setShader(f),this.circle.onPreRender(s,f,o,u),this.runDraw()},onBarrel:function(s){var o=this.shaders[l.BARREL];this.setShader(o),this.barrel.onPreRender(s,o),this.runDraw()},onDisplacement:function(s){this.setShader(this.shaders[l.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.runDraw()},onWipe:function(s){var o=this.shaders[l.WIPE];this.setShader(o),this.wipe.onPreRender(s,o),this.runDraw()},onBokeh:function(s,o,u){var f=this.shaders[l.BOKEH];this.setShader(f),this.bokeh.onPreRender(s,f,o,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});x.exports=h},96569:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=t(31063),a=t(57516),r=t(61340),i=t(26099),n=t(29100),h=new c({Extends:a,initialize:function(o){var u=m(o,"fragShader",l);o.fragShader=u.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),a.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new i,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(s,o){var u=s.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var f=u.getLights(o),d=f.length;this.lightsActive=!0;var p,y=this.renderer,T=y.height,C=o.matrix,P=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",d),p=0;p<d;p++){var A=f[p].light,w=A.color,L="uLights["+p+"].";C.transformPoint(A.x,A.y,P),this.set2f(L+"position",P.x-o.scrollX*A.scrollFactorX*o.zoom,T-(P.y-o.scrollY*A.scrollFactorY*o.zoom)),this.set3f(L+"color",w.r,w.g,w.b),this.set1f(L+"intensity",A.intensity),this.set1f(L+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(s){if(s!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(s){var u=-s,f=Math.cos(u),d=Math.sin(u);o[1]=d,o[3]=-d,o[0]=o[4]=f}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=s}},setTexture2D:function(s,o){var u=this.renderer;s===void 0&&(s=u.whiteTexture);var f=this.getNormalMap(o);this.isNewNormalMap(s,f)&&(this.flush(),this.createBatch(s),this.addTextureToBatch(f),this.currentNormalMap=f);var d=0;if(o&&o.parentContainer){var p=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=p.rotationNormalized}else o&&(d=o.rotation);return this.currentBatch===null&&(this.createBatch(s),this.addTextureToBatch(f)),this.setNormalMapRotation(d),0},setGameObject:function(s,o){o===void 0&&(o=s.frame);var u=o.glTexture,f=this.getNormalMap(s);if(this.isNewNormalMap(u,f)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(f),this.currentNormalMap=f),s.parentContainer){var d=s.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(s.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(f)),0},isNewNormalMap:function(s,o){return this.currentTexture!==s||this.currentNormalMap!==o},getNormalMap:function(s){var o;if(s)s.displayTexture?o=s.displayTexture.dataSource[s.displayFrame.sourceIndex]:s.texture?o=s.texture.dataSource[s.frame.sourceIndex]:s.tileset&&(Array.isArray(s.tileset)?o=s.tileset[0].image.dataSource[0]:o=s.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return o?o.glTexture:this.renderer.normalTexture},batchSprite:function(s,o,u){this.lightsActive&&a.prototype.batchSprite.call(this,s,o,u)},batchTexture:function(s,o,u,f,d,p,y,T,C,P,A,w,L,B,F,b,G,N,U,W,H,k,z,$,X,Q,Z,K,J,q,tt,it){this.lightsActive&&a.prototype.batchTexture.call(this,s,o,u,f,d,p,y,T,C,P,A,w,L,B,F,b,G,N,U,W,H,k,z,$,X,Q,Z,K,J,q,tt,it)},batchTextureFrame:function(s,o,u,f,d,p,y){this.lightsActive&&a.prototype.batchTextureFrame.call(this,s,o,u,f,d,p,y)}});x.exports=h},56527:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=t(57516),a=t(45561),r=t(60722),i=t(14500),n=t(29100),h=new c({Extends:l,initialize:function(o){o.fragShader=m(o,"fragShader",a),o.vertShader=m(o,"vertShader",r),o.attributes=m(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:i.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,o.resizeUniform="uResolution",l.call(this,o)},boot:function(){n.prototype.boot.call(this);var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height)}});x.exports=h},57516:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(94811),l=t(95540),a=t(98840),r=t(44667),i=t(61340),n=t(70554),h=t(14500),s=t(29100),o=new c({Extends:s,initialize:function(f){var d=f.game.renderer,p=l(f,"fragShader",a);f.fragShader=n.parseFragmentShaderMaxTextures(p,d.maxTextures),f.vertShader=l(f,"vertShader",r),f.attributes=l(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),f.resizeUniform="uResolution",s.call(this,f),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){s.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height)},batchSprite:function(u,f,d){this.manager.set(this,u);var p=this._tempMatrix1,y=this._tempMatrix2,T=this._tempMatrix3,C=u.frame,P=C.glTexture,A=C.u0,w=C.v0,L=C.u1,B=C.v1,F=C.x,b=C.y,G=C.cutWidth,N=C.cutHeight,U=C.customPivot,W=u.displayOriginX,H=u.displayOriginY,k=-W+F,z=-H+b;if(u.isCropped){var $=u._crop;($.flipX!==u.flipX||$.flipY!==u.flipY)&&C.updateCropUVs($,u.flipX,u.flipY),A=$.u0,w=$.v0,L=$.u1,B=$.v1,G=$.width,N=$.height,F=$.x,b=$.y,k=-W+F,z=-H+b}var X=1,Q=1;u.flipX&&(U||(k+=-C.realWidth+W*2),X=-1),u.flipY&&(U||(z+=-C.realHeight+H*2),Q=-1);var Z=u.x,K=u.y;f.roundPixels&&(Z=Math.floor(Z),K=Math.floor(K)),y.applyITRS(Z,K,u.rotation,u.scaleX*X,u.scaleY*Q),p.copyFrom(f.matrix),d?(p.multiplyWithOffset(d,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),y.e=Z,y.f=K):(y.e-=f.scrollX*u.scrollFactorX,y.f-=f.scrollY*u.scrollFactorY),p.multiply(y,T);var J=T.setQuad(k,z,k+G,z+N,f.renderRoundPixels),q=n.getTintAppendFloatAlpha,tt=f.alpha,it=q(u.tintTopLeft,tt*u._alphaTL),nt=q(u.tintTopRight,tt*u._alphaTR),rt=q(u.tintBottomLeft,tt*u._alphaBL),ht=q(u.tintBottomRight,tt*u._alphaBR);this.shouldFlush(6)&&this.flush();var dt=this.setGameObject(u,C);this.manager.preBatch(u),this.batchQuad(u,J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],A,w,L,B,it,nt,rt,ht,u.tintFill,P,dt),this.manager.postBatch(u)},batchTexture:function(u,f,d,p,y,T,C,P,A,w,L,B,F,b,G,N,U,W,H,k,z,$,X,Q,Z,K,J,q,tt,it,nt,rt,ht){ht===void 0&&(ht=!1),this.manager.set(this,u);var dt=this._tempMatrix1,lt=this._tempMatrix2,vt=this._tempMatrix3,Mt=W/d+J,At=H/p+q,wt=(W+k)/d+J,ct=(H+z)/p+q,gt=C,xt=P,Ft=-N,bt=-U;if(u.isCropped){var kt=u._crop,Gt=kt.width,Ot=kt.height;gt=Gt,xt=Ot,C=Gt,P=Ot,W=kt.x,H=kt.y;var Bt=W,re=H;B&&(Bt=k-kt.x-Gt),F&&(re=z-kt.y-Ot),Mt=Bt/d+J,At=re/p+q,wt=(Bt+Gt)/d+J,ct=(re+Ot)/p+q,Ft=-N+W,bt=-U+H}F=F^(!nt&&f.isRenderTexture?1:0),B&&(gt*=-1,Ft+=C),F&&(xt*=-1,bt+=P),tt.roundPixels&&(y=Math.floor(y),T=Math.floor(T)),lt.applyITRS(y,T,L,A,w),dt.copyFrom(tt.matrix),it?(dt.multiplyWithOffset(it,-tt.scrollX*b,-tt.scrollY*G),lt.e=y,lt.f=T):(lt.e-=tt.scrollX*b,lt.f-=tt.scrollY*G),dt.multiply(lt,vt);var Vt=vt.setQuad(Ft,bt,Ft+gt,bt+xt,tt.renderRoundPixels);rt==null&&(rt=this.setTexture2D(f)),u&&!ht&&this.manager.preBatch(u),this.batchQuad(u,Vt[0],Vt[1],Vt[2],Vt[3],Vt[4],Vt[5],Vt[6],Vt[7],Mt,At,wt,ct,$,X,Q,Z,K,f,rt),u&&!ht&&this.manager.postBatch(u)},batchTextureFrame:function(u,f,d,p,y,T,C){this.manager.set(this);var P=this._tempMatrix1.copyFrom(T),A=this._tempMatrix2;C?P.multiply(C,A):A=P;var w=A.setQuad(f,d,f+u.width,d+u.height),L=this.setTexture2D(u.source.glTexture);p=n.getTintAppendFloatAlpha(p,y),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],u.u0,u.v0,u.u1,u.v1,p,p,p,p,0,u.glTexture,L)},batchFillRect:function(u,f,d,p,y,T){this.renderer.pipelines.set(this);var C=this.calcMatrix;T&&T.multiply(y,C);var P=C.setQuad(u,f,u+d,f+p),A=this.fillTint;this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(u,f,d,p,y,T,C,P){this.renderer.pipelines.set(this);var A=this.calcMatrix;P&&P.multiply(C,A);var w=A.getX(u,f),L=A.getY(u,f),B=A.getX(d,p),F=A.getY(d,p),b=A.getX(y,T),G=A.getY(y,T),N=this.fillTint;this.batchTri(null,w,L,B,F,b,G,0,0,1,1,N.TL,N.TR,N.BL,2)},batchStrokeTriangle:function(u,f,d,p,y,T,C,P,A){var w=this.tempTriangle;w[0].x=u,w[0].y=f,w[0].width=C,w[1].x=d,w[1].y=p,w[1].width=C,w[2].x=y,w[2].y=T,w[2].width=C,w[3].x=u,w[3].y=f,w[3].width=C,this.batchStrokePath(w,C,!1,P,A)},batchFillPath:function(u,f,d){this.renderer.pipelines.set(this);var p=this.calcMatrix;d&&d.multiply(f,p);for(var y=u.length,T=this.polygonCache,C,P,A=this.fillTint.TL,w=this.fillTint.TR,L=this.fillTint.BL,B=0;B<y;++B)P=u[B],T.push(P.x,P.y);C=m(T),y=C.length;for(var F=0;F<y;F+=3){var b=C[F+0]*2,G=C[F+1]*2,N=C[F+2]*2,U=T[b+0],W=T[b+1],H=T[G+0],k=T[G+1],z=T[N+0],$=T[N+1],X=p.getX(U,W),Q=p.getY(U,W),Z=p.getX(H,k),K=p.getY(H,k),J=p.getX(z,$),q=p.getY(z,$);this.batchTri(null,X,Q,Z,K,J,q,0,0,1,1,A,w,L,2)}T.length=0},batchStrokePath:function(u,f,d,p,y){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=u.length-1,C=0;C<T;C++){var P=u[C],A=u[C+1];this.batchLine(P.x,P.y,A.x,A.y,P.width/2,A.width/2,f,C,!d&&C===T-1,p,y)}},batchLine:function(u,f,d,p,y,T,C,P,A,w,L){this.renderer.pipelines.set(this);var B=this.calcMatrix;L&&L.multiply(w,B);var F=d-u,b=p-f,G=Math.sqrt(F*F+b*b);if(G!==0){var N=y*(p-f)/G,U=y*(u-d)/G,W=T*(p-f)/G,H=T*(u-d)/G,k=d-W,z=p-H,$=u-N,X=f-U,Q=d+W,Z=p+H,K=u+N,J=f+U,q=B.getX(k,z),tt=B.getY(k,z),it=B.getX($,X),nt=B.getY($,X),rt=B.getX(Q,Z),ht=B.getY(Q,Z),dt=B.getX(K,J),lt=B.getY(K,J),vt=this.strokeTint,Mt=vt.TL,At=vt.TR,wt=vt.BL,ct=vt.BR;if(this.batchQuad(null,dt,lt,it,nt,q,tt,rt,ht,0,0,1,1,Mt,At,wt,ct,2),!(C<=2)){var gt=this.prevQuad,xt=this.firstQuad;P>0&&gt[4]?this.batchQuad(null,dt,lt,it,nt,gt[0],gt[1],gt[2],gt[3],0,0,1,1,Mt,At,wt,ct,2):(xt[0]=dt,xt[1]=lt,xt[2]=it,xt[3]=nt,xt[4]=1),A&&xt[4]?this.batchQuad(null,q,tt,rt,ht,xt[0],xt[1],xt[2],xt[3],0,0,1,1,Mt,At,wt,ct,2):(gt[0]=q,gt[1]=tt,gt[2]=rt,gt[3]=ht,gt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,s.prototype.destroy.call(this),this}});x.exports=o},43439:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=t(4127),a=t(89924),r=t(29100),i=new c({Extends:r,initialize:function(h){h.vertShader=m(h,"vertShader",a),h.fragShader=m(h,"fragShader",l),h.attributes=m(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,h)},onRender:function(n,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(n,h,s,o,u,f,d,p,y,T,C,P){var A=n.color,w=n.intensity,L=n.radius,B=n.attenuation,F=A.r*w,b=A.g*w,G=A.b*w,N=h.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(s,o,C,P,L,B,F,b,G,N),this.batchLightVert(u,f,C,P,L,B,F,b,G,N),this.batchLightVert(d,p,C,P,L,B,F,b,G,N),this.batchLightVert(s,o,C,P,L,B,F,b,G,N),this.batchLightVert(d,p,C,P,L,B,F,b,G,N),this.batchLightVert(y,T,C,P,L,B,F,b,G,N),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,h,s,o,u,f,d,p,y,T){var C=this.vertexViewF32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++P]=n,C[++P]=h,C[++P]=s,C[++P]=o,C[++P]=u,C[++P]=f,C[++P]=d,C[++P]=p,C[++P]=y,C[++P]=T,this.vertexCount++}});x.exports=i},84057:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(89422),l=t(95540),a=t(27681),r=t(49627),i=t(29100),n=new c({Extends:i,initialize:function(s){s.renderTarget=l(s,"renderTarget",1),s.fragShader=l(s,"fragShader",a),s.vertShader=l(s,"vertShader",r),s.attributes=l(s,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),s.batchSize=1,s.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,s),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){i.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2;var s=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",s.width,s.height);for(var o=this.renderTargets,u=0;u<o.length;u++)o[u].autoResize=!0},postBatch:function(h){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,s,o){o===void 0&&(o=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,h.texture.webGLTexture);var f=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,s.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),o&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,f))},copyFrame:function(h,s,o,u,f){this.manager.copyFrame(h,s,o,u,f)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,s,o){this.manager.drawFrame(h,s,o,this.colorMatrix)},blendFrames:function(h,s,o,u,f){this.manager.blendFrames(h,s,o,u,f)},blendFramesAdditive:function(h,s,o,u,f){this.manager.blendFramesAdditive(h,s,o,u,f)},clearFrame:function(h,s){this.manager.clearFrame(h,s)},blitFrame:function(h,s,o,u,f,d){this.manager.blitFrame(h,s,o,u,f,d)},copyFrameRect:function(h,s,o,u,f,d,p,y){this.manager.copyFrameRect(h,s,o,u,f,d,p,y)},bindAndDraw:function(h,s,o,u,f){o===void 0&&(o=!0),u===void 0&&(u=!0);var d=this.gl,p=this.renderer;this.bind(f),this.set1i("uMainSampler",0),s?(d.viewport(0,0,s.width,s.height),d.bindFramebuffer(d.FRAMEBUFFER,s.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s.texture.webGLTexture,0),o&&(u?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1),p.currentFramebuffer||d.viewport(0,0,p.width,p.height)),p.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,h.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),s&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,p.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),i.prototype.destroy.call(this),this}});x.exports=n},43558:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10312),m=t(67502),l=t(83419),a=t(96293),r=t(95540),i=t(57516),n=t(27681),h=t(87841),s=t(32302),o=t(45561),u=t(60722),f=t(29100),d=new l({Extends:i,initialize:function(y){var T=r(y,"fragShader",n),C=r(y,"vertShader",u),P=r(y,"drawShader",n),A=[{name:"DrawSprite",fragShader:o,vertShader:u},{name:"CopySprite",fragShader:T,vertShader:C},{name:"DrawGame",fragShader:P,vertShader:u},{name:"ColorMatrix",fragShader:a}],w=r(y,"shaders",[]);y.shaders=A.concat(w),y.vertShader||(y.vertShader=C),y.batchSize=1,i.call(this,y),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){f.prototype.boot.call(this);var p=this.shaders,y=this.renderer;this.drawSpriteShader=p[0],this.copyShader=p[1],this.gameShader=p[2],this.colorMatrixShader=p[3],this.fsTarget=new s(y,y.width,y.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var T=new ArrayBuffer(168);this.quadVertexData=T,this.quadVertexViewF32=new Float32Array(T),this.quadVertexBuffer=y.createVertexBuffer(T,this.gl.STATIC_DRAW),this.onResize(y.width,y.height),this.currentShader=this.copyShader,this.set2f("uResolution",y.width,y.height)},onResize:function(p,y){var T=this.quadVertexViewF32;T[1]=y,T[22]=y,T[14]=p,T[28]=p,T[35]=p,T[36]=y},batchQuad:function(p,y,T,C,P,A,w,L,B,F,b,G,N,U,W,H,k,z,$){var X=Math.min(y,C,A,L),Q=Math.min(T,P,w,B),Z=Math.max(y,C,A,L),K=Math.max(T,P,w,B),J=Z-X,q=K-Q,tt=this.spriteBounds.setTo(X,Q,J,q),it=p?p.preFX.padding:0,nt=J+it*2,rt=q+it*2,ht=Math.abs(Math.max(nt,rt)),dt=this.manager.getRenderTarget(ht),lt=this.targetBounds.setTo(0,0,dt.width,dt.height);m(lt,Math.round(tt.centerX),Math.round(tt.centerY)),this.tempSprite=p;var vt=this.gl,Mt=this.renderer;Mt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Mt.width,Mt.height),this.flipProjectionMatrix(!0),p&&(this.onDrawSprite(p,dt),p.preFX.onFX(this));var At=this.fsTarget;return this.flush(),vt.viewport(0,0,Mt.width,Mt.height),vt.bindFramebuffer(vt.FRAMEBUFFER,At.framebuffer.webGLFramebuffer),vt.framebufferTexture2D(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,vt.TEXTURE_2D,At.texture.webGLTexture,0),vt.clearColor(0,0,0,0),vt.clear(vt.COLOR_BUFFER_BIT),this.setTexture2D($),this.batchVert(y,T,F,b,0,z,U),this.batchVert(C,P,F,N,0,z,H),this.batchVert(A,w,G,N,0,z,k),this.batchVert(y,T,F,b,0,z,U),this.batchVert(A,w,G,N,0,z,k),this.batchVert(L,B,G,b,0,z,W),this.flush(),this.flipProjectionMatrix(!1),vt.activeTexture(vt.TEXTURE0),vt.bindTexture(vt.TEXTURE_2D,dt.texture.webGLTexture),vt.copyTexSubImage2D(vt.TEXTURE_2D,0,0,0,lt.x,lt.y,lt.width,lt.height),vt.bindFramebuffer(vt.FRAMEBUFFER,null),vt.bindTexture(vt.TEXTURE_2D,null),this.onBatch(p),this.currentShader=this.copyShader,this.onDraw(dt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(p,y,T,C,P,A,w){T===void 0&&(T=!0),C===void 0&&(C=!0),P===void 0&&(P=!1),w===void 0&&(w=this.copyShader);var L=this.gl,B=this.tempSprite;A&&(w=this.colorMatrixShader),this.currentShader=w;var F=this.setVertexBuffer(this.quadVertexBuffer);w.bind(F,!1);var b=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",b.width,b.height),B.preFX.onFXCopy(this),this.onCopySprite(p,y,B),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,p.texture.webGLTexture),p.height>y.height)L.viewport(0,0,p.width,p.height),this.setTargetUVs(p,y);else{var G=y.height-p.height;L.viewport(0,G,p.width,p.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,y.texture.webGLTexture,0),T&&(L.clearColor(0,0,0,+!C),L.clear(L.COLOR_BUFFER_BIT)),P){var N=this.renderer.currentBlendMode;this.renderer.setBlendMode(c.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),P&&this.renderer.setBlendMode(N),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(p,y){var T=this.gl;this.set1i("uMainSampler",0),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,p.texture.webGLTexture),T.viewport(0,0,p.width,p.height),this.setUVs(0,0,0,1,1,1,1,0),T.bindFramebuffer(T.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,y.texture.webGLTexture,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.quadVertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null)},blendFrames:function(p,y,T,C,P){this.manager.blendFrames(p,y,T,C,P)},blendFramesAdditive:function(p,y,T,C,P){this.manager.blendFramesAdditive(p,y,T,C,P)},drawToGame:function(p){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(p)},copyToGame:function(p){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(p)},bindAndDraw:function(p){var y=this.gl,T=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(p.texture);var C=this._tempMatrix1.loadIdentity(),P=this.targetBounds.x,A=this.targetBounds.y,w=P+p.width,L=A+p.height,B=C.getX(P,A),F=C.getX(P,L),b=C.getX(w,L),G=C.getX(w,A),N=C.getY(P,A),U=C.getY(P,L),W=C.getY(w,L),H=C.getY(w,A),k=16777215;this.batchVert(B,N,0,0,0,0,k),this.batchVert(F,U,0,1,0,0,k),this.batchVert(b,W,1,1,0,0,k),this.batchVert(B,N,0,0,0,0,k),this.batchVert(b,W,1,1,0,0,k),this.batchVert(G,H,1,0,0,0,k),T.restoreFramebuffer(!1,!0),T.currentFramebuffer||y.viewport(0,0,T.width,T.height),T.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(p){this.drawToGame(p)},setUVs:function(p,y,T,C,P,A,w,L){var B=this.quadVertexViewF32;B[2]=p,B[3]=y,B[9]=T,B[10]=C,B[16]=P,B[17]=A,B[23]=p,B[24]=y,B[30]=P,B[31]=A,B[37]=w,B[38]=L},setTargetUVs:function(p,y){var T=y.height/p.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,i.prototype.destroy.call(this),this}});x.exports=d},81041:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=t(57516),a=new c({Extends:l,initialize:function(i){i.topology=5,i.batchSize=m(i,"batchSize",256),l.call(this,i)}});x.exports=a},12385:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=t(57516),a=t(45561),r=t(60722),i=t(29100),n=new c({Extends:l,initialize:function(s){s.fragShader=m(s,"fragShader",a),s.vertShader=m(s,"vertShader",r),s.forceZero=!0,l.call(this,s)},boot:function(){i.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height)}});x.exports=n},7589:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35407),m=t(10312),l=t(83419),a=t(89422),r=t(96293),i=t(36682),n=t(95540),h=t(48247),s=t(49627),o=t(29100),u=new l({Extends:o,initialize:function(d){d.renderTarget=n(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=n(d,"vertShader",s),d.shaders=n(d,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:c},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:r}]),d.attributes=n(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,o.call(this,d),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var f=this.shaders,d=this.renderTargets;this.copyShader=f[0],this.addShader=f[1],this.linearShader=f[2],this.colorMatrixShader=f[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(f,d,p,y,T){p===void 0&&(p=1),y===void 0&&(y=!0),T===void 0&&(T=!0);var C=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,f.texture.webGLTexture),d?(C.viewport(0,0,d.width,d.height),C.bindFramebuffer(C.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,d.texture.webGLTexture,0)):C.viewport(0,0,f.width,f.height),y&&(T?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blitFrame:function(f,d,p,y,T,C,P){p===void 0&&(p=1),y===void 0&&(y=!0),T===void 0&&(T=!0),C===void 0&&(C=!1),P===void 0&&(P=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,f.texture.webGLTexture),f.height>d.height)A.viewport(0,0,f.width,f.height),this.setTargetUVs(f,d);else{var w=d.height-f.height;A.viewport(0,w,f.width,f.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,d.texture.webGLTexture,0),y&&(T?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),C){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}P&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),C&&this.renderer.setBlendMode(L),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(f,d,p,y,T,C,P,A){P===void 0&&(P=!0),A===void 0&&(A=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,f.texture.webGLTexture,0),P&&(A?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,d.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,p,y,T,C),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},copyToGame:function(f){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,f.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(f,d,p,y){p===void 0&&(p=!0),y===void 0&&(y=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",y.getData()),this.set1f("uAlpha",y.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,f.texture.webGLTexture),d?(T.viewport(0,0,d.width,d.height),T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture.webGLTexture,0)):T.viewport(0,0,f.width,f.height),p?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(f,d,p,y,T,C){y===void 0&&(y=1),T===void 0&&(T=!0),C===void 0&&(C=this.linearShader);var P=this.gl;this.setShader(C),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",y),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,f.texture.webGLTexture),P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,d.texture.webGLTexture),p?(P.bindFramebuffer(P.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,p.texture.webGLTexture,0),P.viewport(0,0,p.width,p.height)):P.viewport(0,0,f.width,f.height),T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFramesAdditive:function(f,d,p,y,T){this.blendFrames(f,d,p,y,T,this.addShader)},clearFrame:function(f,d){d===void 0&&(d=!0);var p=this.gl;p.viewport(0,0,f.width,f.height),p.bindFramebuffer(p.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),d?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var y=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,y.webGLFramebuffer)},setUVs:function(f,d,p,y,T,C,P,A){var w=this.vertexViewF32;w[2]=f,w[3]=d,w[6]=p,w[7]=y,w[10]=T,w[11]=C,w[14]=f,w[15]=d,w[18]=T,w[19]=C,w[22]=P,w[23]=A},setTargetUVs:function(f,d){var p=d.height/f.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});x.exports=u},36060:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};x.exports=M},84817:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pipelineafterflush"},36712:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pipelinebeforeflush"},40285:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pipelinebind"},65918:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pipelineboot"},92852:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pipelinedestroy"},56072:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pipelinerebind"},57566:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pipelineresize"},77085:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(99155),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.amount=1},onPreRender:function(r,i){r=this.getController(r),this.set1f("amount",r.amount,i)}});x.exports=a},67329:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(24400),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var i=this.getController(),n=this.fullFrame1,h=this.fullFrame2;this.copyFrame(r,h);for(var s=2/r.width*i.offsetX,o=2/r.height*i.offsetY,u=0;u<i.steps;u++)this.set2f("offset",s,0),this.copySprite(r,n),this.set2f("offset",0,o),this.copySprite(n,r);this.blendFrames(h,r,n,i.strength),this.copyToGame(n)}});x.exports=a},8861:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(41514),l=t(51078),a=t(94328),r=t(84057),i=new c({Extends:r,initialize:function(h){r.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:l},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var h=this.getController(),s=this.gl,o=this.fullFrame1,u=s.getParameter(s.FRAMEBUFFER_BINDING);this.bind(this.shaders[h.quality]),s.activeTexture(s.TEXTURE0),s.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var f=0;f<h.steps;f++)this.set2f("offset",h.x,0),this.copySprite(n,o),this.set2f("offset",0,h.y),this.copySprite(o,n);s.bindFramebuffer(s.FRAMEBUFFER,u),s.bindTexture(s.TEXTURE_2D,null),this.copyToGame(n)}});x.exports=i},51051:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(90610),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,i,n,h){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("amount",r.amount,i),this.set1f("contrast",r.contrast,i),this.set1f("strength",r.strength,i),this.set2f("blur",r.blurX,r.blurY,i),this.setBoolean("isTiltShift",r.isTiltShift,i),n&&h&&this.set2f("resolution",n,h,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});x.exports=a},89428:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(91899),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,i,n,h){r=this.getController(r),this.set1f("scale",r.scale,i),this.set1f("feather",r.feather,i),this.set1f("thickness",r.thickness,i),this.set3fv("color",r.glcolor,i),this.set4fv("backgroundColor",r.glcolor2,i),n&&h&&this.set2f("resolution",n,h,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});x.exports=a},88904:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(84057),l=new c({Extends:m,initialize:function(r){m.call(this,{game:r})},onDraw:function(a){var r=this.fullFrame1;this.controller?this.manager.drawFrame(a,r,!0,this.controller):this.drawFrame(a,r),this.copyToGame(r)}});x.exports=l},63563:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(47838),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var i=this.game.textures.getFrame(r);i&&(this.glTexture=i.glTexture)},onDraw:function(r){var i=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});x.exports=a},94045:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=t(98656),a=t(84057),r=t(70554),i=new c({Extends:a,initialize:function(h,s){var o=m(s,"quality",.1),u=m(s,"distance",10);a.call(this,{game:h,fragShader:r.setGlowQuality(l,h,o,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,h,s,o){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,h),this.set1f("innerStrength",n.innerStrength,h),this.set4fv("glowColor",n.glcolor,h),this.setBoolean("knockout",n.knockout,h),s&&o&&this.set2f("resolution",s,o,h)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});x.exports=i},74088:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(70463),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,i){r=this.getController(r),this.set1f("alpha",r.alpha,i),this.set1i("size",r.size,i),this.set3fv("color1",r.glcolor1,i),this.set3fv("color2",r.glcolor2,i),this.set2f("positionFrom",r.fromX,r.fromY,i),this.set2f("positionTo",r.toX,r.toY,i)}});x.exports=a},99636:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50831),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.amount=1},onPreRender:function(r,i,n,h){r=this.getController(r),this.set1f("amount",r.amount,i),n&&h&&this.set2f("resolution",n,h,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});x.exports=a},34700:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(92595),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,i){r=this.getController(r);var n=r.samples;this.set1i("samples",n,i),this.set1f("intensity",r.intensity,i),this.set1f("decay",r.decay,i),this.set1f("power",r.power/n,i),this.set2f("lightPosition",r.x,r.y,i),this.set4fv("color",r.glcolor,i)}});x.exports=a},91157:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(72464),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,i,n,h){r=this.getController(r),this.setTime("time",i),this.set1f("speed",r.speed,i),this.set1f("lineWidth",r.lineWidth,i),this.set1f("gradient",r.gradient,i),this.setBoolean("reveal",r.reveal,i),n&&h&&this.set2f("resolution",n,h,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});x.exports=a},27797:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(39249),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,i){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("strength",r.strength,i),this.set2f("position",r.x,r.y,i)}});x.exports=a},67603:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(2878),l=t(84057),a=new c({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,i){r=this.getController(r);var n=r.progress,h=r.wipeWidth,s=r.direction,o=r.axis;this.set4f("config",n,h,s,o,i),this.setBoolean("reveal",r.reveal,i)}});x.exports=a},58918:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};x.exports=c},96615:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(36060),m=t(79291),l={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};l=m(!1,l,c),x.exports=l},35407:x=>{x.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:x=>{x.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:x=>{x.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:x=>{x.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:x=>{x.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:x=>{x.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:x=>{x.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:x=>{x.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:x=>{x.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:x=>{x.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:x=>{x.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:x=>{x.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:x=>{x.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:x=>{x.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:x=>{x.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:x=>{x.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:x=>{x.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:x=>{x.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:x=>{x.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:x=>{x.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:x=>{x.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:x=>{x.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:x=>{x.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:x=>{x.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:x=>{x.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:x=>{x.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:x=>{x.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:x=>{x.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:x=>{x.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:x=>{x.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:x=>{x.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:x=>{x.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:x=>{x.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:x=>{x.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(x,M,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(x,M,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i){this.webGLAttribLocation=-1,this.gl=a,this.program=r,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var l=this.gl;l.isContextLost()||(this.webGLAttribLocation=l.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});x.exports=m},26128:(x,M,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i,n){this.webGLBuffer=null,this.gl=a,this.initialDataOrSize=r,this.bufferType=i,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var l=this.gl;if(!l.isContextLost()){var a=this.bufferType,r=l.createBuffer();this.webGLBuffer=r,l.bindBuffer(a,this.webGLBuffer),l.bufferData(a,this.initialDataOrSize,this.bufferUsage),l.bindBuffer(a,null)}}},destroy:function(){var l=this.gl;l.isContextLost()||l.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});x.exports=m},84387:(x,M,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},l=new c({initialize:function(r,i,n,h,s){this.webGLFramebuffer=null,this.gl=r,this.width=i,this.height=n,this.renderTexture=h,this.addDepthStencilBuffer=!!s,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=this.renderTexture,i=0,n=a.createFramebuffer();if(this.webGLFramebuffer=n,a.bindFramebuffer(a.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,r.webGLTexture,0),i=a.checkFramebufferStatus(a.FRAMEBUFFER),i!==a.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(m[i]||i));if(this.addDepthStencilBuffer){var h=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,h),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,h)}a.bindFramebuffer(a.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var a=this.gl;if(!a.isContextLost()){a.bindFramebuffer(a.FRAMEBUFFER,this.webGLFramebuffer);var r=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.deleteTexture(r));var i=a.getFramebufferAttachmentParameter(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);i!==null&&a.deleteRenderbuffer(i),a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});x.exports=l},1482:(x,M,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i){this.webGLProgram=null,this.gl=a,this.vertexSource=r,this.fragmentSource=i,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var a=l.createProgram(),r=l.createShader(l.VERTEX_SHADER),i=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(r,this.vertexSource),l.shaderSource(i,this.fragmentSource),l.compileShader(r),l.compileShader(i);var n=`Shader failed:
`;if(!l.getShaderParameter(r,l.COMPILE_STATUS))throw new Error("Vertex "+n+l.getShaderInfoLog(r));if(!l.getShaderParameter(i,l.COMPILE_STATUS))throw new Error("Fragment "+n+l.getShaderInfoLog(i));if(l.attachShader(a,r),l.attachShader(a,i),l.linkProgram(a),!l.getProgramParameter(a,l.LINK_STATUS))throw new Error("Link "+n+l.getProgramInfoLog(a));l.useProgram(a),this.webGLProgram=a}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});x.exports=m},82751:(x,M,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50030),l=new c({initialize:function(r,i,n,h,s,o,u,f,d,p,y,T,C){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=i,this.minFilter=n,this.magFilter=h,this.wrapT=s,this.wrapS=o,this.format=u,this.pixels=f,this.width=d,this.height=p,this.pma=y??!0,this.forceSize=!!T,this.flipY=!!C,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){if(this.pixels instanceof l){this.webGLTexture=this.pixels.webGLTexture;return}var r=a.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(a,r,i,n,h,s,o,u,f){if(!(r===0||i===0)){this.pixels=a,this.width=r,this.height=i,this.flipY=n,this.wrapS=h,this.wrapT=s,this.minFilter=o,this.magFilter=u,this.format=f;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var a=this.gl;a.activeTexture(a.TEXTURE0);var r=a.getParameter(a.TEXTURE_BINDING_2D);a.bindTexture(a.TEXTURE_2D,this.webGLTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.minFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.magFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this.wrapS),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this.wrapT),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels,n=this.mipLevel,h=this.width,s=this.height,o=this.format,u=!1;if(i==null)a.texImage2D(a.TEXTURE_2D,n,o,h,s,0,o,a.UNSIGNED_BYTE,null),u=m(h,s);else if(i.compressed){h=i.width,s=i.height,u=i.generateMipmap;for(var f=0;f<i.mipmaps.length;f++)a.compressedTexImage2D(a.TEXTURE_2D,f,i.internalFormat,i.mipmaps[f].width,i.mipmaps[f].height,0,i.mipmaps[f].data)}else i instanceof Uint8Array?(a.texImage2D(a.TEXTURE_2D,n,o,h,s,0,o,a.UNSIGNED_BYTE,i),u=m(h,s)):(this.forceSize||(h=i.width,s=i.height),a.texImage2D(a.TEXTURE_2D,n,o,o,a.UNSIGNED_BYTE,i),u=m(h,s));u&&a.generateMipmap(a.TEXTURE_2D),r?a.bindTexture(a.TEXTURE_2D,r):a.bindTexture(a.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(a){this.__SPECTOR_Metadata=a,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=a)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof l||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});x.exports=l},57183:(x,M,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i){this.webGLUniformLocation=null,this.gl=a,this.program=r,this.name=i,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var l=this.gl;l.isContextLost()||(this.webGLUniformLocation=l.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});x.exports=m},9503:(x,M,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};x.exports=c},76531:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(13560),m=t(83419),l=t(50792),a=t(97480),r=t(8443),i=t(57811),n=t(74403),h=t(45818),s=t(29747),o=t(87841),u=t(86555),f=t(56583),d=t(26099),p=t(38058),y=new m({Extends:l,initialize:function(C){l.call(this),this.game=C,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=c.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=c.CENTER.NO_CENTER,this.orientation=c.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:s,windowResize:s,fullScreenChange:s,fullScreenError:s}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var T=this.game;this.canvas=T.canvas,this.fullscreen=T.device.fullscreen;var C=this.scaleMode;C!==c.SCALE_MODE.RESIZE&&C!==c.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(C),C===c.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),T.events.on(r.PRE_STEP,this.step,this),T.events.once(r.READY,this.refresh,this),T.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(T){this.getParent(T),this.getParentBounds();var C=T.width,P=T.height,A=T.scaleMode,w=T.zoom,L=T.autoRound;if(typeof C=="string")if(C.substr(-1)!=="%")C=parseInt(C,10);else{var B=this.parentSize.width;B===0&&(B=window.innerWidth);var F=parseInt(C,10)/100;C=Math.floor(B*F)}if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var b=this.parentSize.height;b===0&&(b=window.innerHeight);var G=parseInt(P,10)/100;P=Math.floor(b*G)}this.scaleMode=A,this.autoRound=L,this.autoCenter=T.autoCenter,this.resizeInterval=T.resizeInterval,L&&(C=Math.floor(C),P=Math.floor(P)),this.gameSize.setSize(C,P),w===c.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(C,P),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),T.minWidth>0&&this.displaySize.setMin(T.minWidth*w,T.minHeight*w),T.maxWidth>0&&this.displaySize.setMax(T.maxWidth*w,T.maxHeight*w),this.displaySize.setSize(C,P),(T.snapWidth>0||T.snapHeight>0)&&this.displaySize.setSnap(T.snapWidth,T.snapHeight),this.orientation=h(C,P)},getParent:function(T){var C=T.parent;if(C!==null){if(this.parent=n(C),this.parentIsWindow=this.parent===document.body,T.expandParent&&T.scaleMode!==c.SCALE_MODE.NONE){var P=this.parent.getBoundingClientRect();(this.parentIsWindow||P.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",P=this.parent.getBoundingClientRect(),!this.parentIsWindow&&P.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}T.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(T.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var T=this.parentSize,C=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(C.height=i(!0));var P=C.width,A=C.height;if(T.width!==P||T.height!==A)return T.setSize(P,A),!0;if(this.canvas){var w=this.canvasBounds,L=this.canvas.getBoundingClientRect();if(L.x!==w.x||L.y!==w.y)return!0}return!1},lockOrientation:function(T){var C=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return C?C.call(screen,T):!1},setParentSize:function(T,C){return this.parentSize.setSize(T,C),this.refresh()},setGameSize:function(T,C){var P=this.autoRound;P&&(T=Math.floor(T),C=Math.floor(C));var A=this.width,w=this.height;return this.gameSize.resize(T,C),this.baseSize.resize(T,C),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(T/C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,w)},resize:function(T,C){var P=this.zoom,A=this.autoRound;A&&(T=Math.floor(T),C=Math.floor(C));var w=this.width,L=this.height;this.gameSize.resize(T,C),this.baseSize.resize(T,C),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(T*P,C*P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var B=this.canvas.style,F=T*P,b=C*P;return A&&(F=Math.floor(F),b=Math.floor(b)),(F!==T||b!==C)&&(B.width=F+"px",B.height=b+"px"),this.refresh(w,L)},setZoom:function(T){return this.zoom=T,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(T,C){return T===void 0&&(T=0),C===void 0&&(C=T),this.displaySize.setSnap(T,C),this.refresh()},refresh:function(T,C){T===void 0&&(T=this.width),C===void 0&&(C=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var P=this.game.domContainer;if(P){this.baseSize.setCSS(P);var A=this.canvas.style,w=P.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=A.marginLeft,w.marginTop=A.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,T,C),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var T=h(this.width,this.height);T!==this.orientation&&(this.orientation=T,this.emit(a.ORIENTATION_CHANGE,T))}},updateScale:function(){var T=this.canvas.style,C=this.gameSize.width,P=this.gameSize.height,A,w,L=this.zoom,B=this.autoRound;if(this.scaleMode===c.SCALE_MODE.NONE)this.displaySize.setSize(C*L,P*L),A=this.displaySize.width,w=this.displaySize.height,B&&(A=Math.floor(A),w=Math.floor(w)),this._resetZoom&&(T.width=A+"px",T.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===c.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,w=this.displaySize.height,B&&(A=Math.floor(A),w=Math.floor(w)),this.canvas.width=A,this.canvas.height=w;else if(this.scaleMode===c.SCALE_MODE.EXPAND){var F=this.game.config.width,b=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,w=this.displaySize.height,B&&(A=Math.floor(A),w=Math.floor(w)),T.width=A+"px",T.height=w+"px";var G=this.parentSize.width/F,N=this.parentSize.height/b;G<N&&G!==0?this.baseSize.setSize(F,this.parentSize.height/G):N!==0&&this.baseSize.setSize(this.displaySize.width/N,b),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),A=this.baseSize.width,w=this.baseSize.height,B&&(A=Math.floor(A),w=Math.floor(w)),this.canvas.width=A,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,w=this.displaySize.height,B&&(A=Math.floor(A),w=Math.floor(w)),T.width=A+"px",T.height=w+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var T=f(this.parentSize.width,this.gameSize.width,0,!0),C=f(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(T,C),1)},updateCenter:function(){var T=this.autoCenter;if(T!==c.CENTER.NO_CENTER){var C=this.canvas,P=C.style,A=C.getBoundingClientRect(),w=A.width,L=A.height,B=Math.floor((this.parentSize.width-w)/2),F=Math.floor((this.parentSize.height-L)/2);T===c.CENTER.CENTER_HORIZONTALLY?F=0:T===c.CENTER.CENTER_VERTICALLY&&(B=0),P.marginLeft=B+"px",P.marginTop=F+"px"}},updateBounds:function(){var T=this.canvasBounds,C=this.canvas.getBoundingClientRect();T.x=C.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),T.y=C.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),T.width=C.width,T.height=C.height},transformX:function(T){return(T-this.canvasBounds.left)*this.displayScale.x},transformY:function(T){return(T-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(T){T===void 0&&(T={navigationUI:"hide"});var C=this.fullscreen;if(!C.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!C.active){var P=this.getFullscreenTarget();C.keyboard?P[C.request](Element.ALLOW_KEYBOARD_INPUT):P[C.request](T)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(T){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,T)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var T=document.createElement("div");T.style.margin="0",T.style.padding="0",T.style.width="100%",T.style.height="100%",this.fullscreenTarget=T,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var C=this.canvas.parentNode;C.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var T=this.fullscreenTarget;if(T&&T.parentNode){var C=T.parentNode;C.insertBefore(this.canvas,T),C.removeChild(T)}}},stopFullscreen:function(){var T=this.fullscreen;if(!T.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;T.active&&document[T.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(T){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(T)},startListeners:function(){var T=this,C=this.domlisteners;if(C.orientationChange=function(){T.updateBounds(),T._checkOrientation=!0,T.dirty=!0,T.refresh()},C.windowResize=function(){T.updateBounds(),T.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",C.orientationChange,!1):window.addEventListener("orientationchange",C.orientationChange,!1),window.addEventListener("resize",C.windowResize,!1),this.fullscreen.available){C.fullScreenChange=function(A){return T.onFullScreenChange(A)},C.fullScreenError=function(A){return T.onFullScreenError(A)};var P=["webkit","moz",""];P.forEach(function(A){document.addEventListener(A+"fullscreenchange",C.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",C.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.addEventListener("MSFullscreenError",C.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(T,C){T instanceof p||(C=T,T=void 0),C===void 0&&(C=new o);var P=this.baseSize,A=this.parentSize,w=this.canvasBounds,L=this.displayScale,B=w.x>=0?0:-(w.x*L.x),F=w.y>=0?0:-(w.y*L.y),b;A.width>=w.width?b=P.width:b=P.width-(w.width-A.width)*L.x;var G;return A.height>=w.height?G=P.height:G=P.height-(w.height-A.height)*L.y,C.setTo(B,F,b,G),T&&(C.width/=T.zoomX,C.height/=T.zoomY,C.centerX=T.centerX+T.scrollX,C.centerY=T.centerY+T.scrollY),C},step:function(T,C){this.parent&&(this._lastCheck+=C,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var T=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",T.orientationChange,!1):window.removeEventListener("orientationchange",T.orientationChange,!1),window.removeEventListener("resize",T.windowResize,!1);var C=["webkit","moz",""];C.forEach(function(P){document.removeEventListener(P+"fullscreenchange",T.fullScreenChange,!1),document.removeEventListener(P+"fullscreenerror",T.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",T.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===c.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===c.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});x.exports=y},64743:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};x.exports=c},56139:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="enterfullscreen"},2336:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="fullscreenfailed"},47412:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="fullscreenunsupported"},51452:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="leavefullscreen"},20666:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="orientationchange"},47945:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resize"},97480:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(79291),m=t(13560),l={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};l=c(!1,l,m.CENTER),l=c(!1,l,m.ORIENTATION),l=c(!1,l,m.SCALE_MODE),l=c(!1,l,m.ZOOM),x.exports=l},27397:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m=t(35355),l=function(a){var r=a.game.config.defaultPhysicsSystem,i=c(a.settings,"physics",!1);if(!(!r&&!i)){var n=[];if(r&&n.push(m(r+"Physics")),i)for(var h in i)h=m(h.concat("Physics")),n.indexOf(h)===-1&&n.push(h);return n}};x.exports=l},52106:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m=function(l){var a=l.plugins.getDefaultScenePlugins(),r=c(l.settings,"plugins",!1);return Array.isArray(r)?r:a||[]};x.exports=m},87033:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};x.exports=M},97482:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(2368),l=new c({initialize:function(r){this.sys=new m(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});x.exports=l},60903:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(89993),l=t(44594),a=t(8443),r=t(35154),i=t(54899),n=t(29747),h=t(97482),s=t(2368),o=new c({initialize:function(f,d){if(this.game=f,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)this._pending.push({key:"default",scene:d[p],autoStart:p===0,data:{}})}f.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h),this.game.events.emit(a.SYSTEM_READY,this.systemScene,this);var u,f,d,p;for(u=0;u<this._pending.length;u++){f=this._pending[u],d=f.key,p=f.scene;var y;p instanceof h?y=this.createSceneFromInstance(d,p):typeof p=="object"?y=this.createSceneFromObject(d,p):typeof p=="function"&&(y=this.createSceneFromFunction(d,p)),d=y.sys.settings.key,this.keys[d]=y,this.scenes.push(y),this._data[d]&&(y.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(f.autoStart=!0)),(f.autoStart||y.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)f=this._start[u],this.start(f);this._start.length=0}},processQueue:function(){var u=this._pending.length,f=this._queue.length;if(!(u===0&&f===0)){var d,p;if(u){for(d=0;d<u;d++)p=this._pending[d],this.add(p.key,p.scene,p.autoStart,p.data);for(d=0;d<this._start.length;d++)p=this._start[d],this.start(p);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)p=this._queue[d],this[p.op](p.keyA,p.keyB,p.data);this._queue.length=0}},add:function(u,f,d,p){if(d===void 0&&(d=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:f,autoStart:d,data:p}),this.isBooted||(this._data[u]={data:p}),null;u=this.getKey(u,f);var y;return f instanceof h?y=this.createSceneFromInstance(u,f):typeof f=="object"?(f.key=u,y=this.createSceneFromObject(u,f)):typeof f=="function"&&(y=this.createSceneFromFunction(u,f)),y.sys.settings.data=p,u=y.sys.settings.key,this.keys[u]=y,this.scenes.push(y),(d||y.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),y},remove:function(u){if(this.isProcessing)return this.queueOp("remove",u);var f=this.getScene(u);if(!f||f.sys.isTransitioning())return this;var d=this.scenes.indexOf(f),p=f.sys.settings.key;return d>-1&&(delete this.keys[p],this.scenes.splice(d,1),this._start.indexOf(p)>-1&&(d=this._start.indexOf(p),this._start.splice(d,1)),f.sys.destroy()),this},bootScene:function(u){var f=u.sys,d=f.settings;f.sceneUpdate=n,u.init&&(u.init.call(u,d.data),d.status=m.INIT,d.isTransition&&f.events.emit(l.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var p;f.load&&(p=f.load,p.reset()),p&&u.preload?(u.preload.call(u),d.status=m.LOADING,p.once(i.COMPLETE,this.loadComplete,this),p.start()):this.create(u)},loadComplete:function(u){this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,f){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var p=this.scenes[d].sys;p.settings.status>m.START&&p.settings.status<=m.RUNNING&&p.step(u,f),p.scenePlugin&&p.scenePlugin._target&&p.scenePlugin.step(u,f)}},render:function(u){for(var f=0;f<this.scenes.length;f++){var d=this.scenes[f].sys;d.settings.visible&&d.settings.status>=m.LOADING&&d.settings.status<m.SLEEPING&&d.render(u)}this.isProcessing=!1},create:function(u){var f=u.sys,d=f.settings;u.create&&(d.status=m.CREATING,u.create.call(u,d.data),d.status===m.DESTROYED)||(d.isTransition&&f.events.emit(l.TRANSITION_START,d.transitionFrom,d.transitionDuration),u.update&&(f.sceneUpdate=u.update),d.status=m.RUNNING,f.events.emit(l.CREATE,u))},createSceneFromFunction:function(u,f){var d=new f;if(d instanceof h){var p=d.sys.settings.key;if(p!==""&&(u=p),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return this.createSceneFromInstance(u,d)}else return d.sys=new s(d),d.sys.settings.key=u,d.sys.init(this.game),d},createSceneFromInstance:function(u,f){var d=f.sys.settings.key;return d===""&&(f.sys.settings.key=u),f.sys.init(this.game),f},createSceneFromObject:function(u,f){var d=new h(f),p=d.sys.settings.key;p!==""?u=p:d.sys.settings.key=u,d.sys.init(this.game);for(var y=["init","preload","create","update","render"],T=0;T<y.length;T++){var C=r(f,y[T],null);C&&(d[y[T]]=C)}if(f.hasOwnProperty("extend")){for(var P in f.extend)if(f.extend.hasOwnProperty(P)){var A=f.extend[P];P==="data"&&d.hasOwnProperty("data")&&typeof A=="object"?d.data.merge(A):P!=="sys"&&(d[P]=A)}}return d},getKey:function(u,f){if(u||(u="default"),typeof f=="function")return u;if(f instanceof h?u=f.sys.settings.key:typeof f=="object"&&f.hasOwnProperty("key")&&(u=f.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return u},getScenes:function(u,f){u===void 0&&(u=!0),f===void 0&&(f=!1);for(var d=[],p=this.scenes,y=0;y<p.length;y++){var T=p[y];T&&(!u||u&&T.sys.isActive())&&d.push(T)}return f?d.reverse():d},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var f=0;f<this.scenes.length;f++)if(u===this.scenes[f])return u;return null},isActive:function(u){var f=this.getScene(u);return f?f.sys.isActive():null},isPaused:function(u){var f=this.getScene(u);return f?f.sys.isPaused():null},isVisible:function(u){var f=this.getScene(u);return f?f.sys.isVisible():null},isSleeping:function(u){var f=this.getScene(u);return f?f.sys.isSleeping():null},pause:function(u,f){var d=this.getScene(u);return d&&d.sys.pause(f),this},resume:function(u,f){var d=this.getScene(u);return d&&d.sys.resume(f),this},sleep:function(u,f){var d=this.getScene(u);return d&&!d.sys.isTransitioning()&&d.sys.sleep(f),this},wake:function(u,f){var d=this.getScene(u);return d&&d.sys.wake(f),this},run:function(u,f){var d=this.getScene(u);if(!d){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===u){this.queueOp("start",u,f);break}return this}d.sys.isSleeping()?d.sys.wake(f):d.sys.isPaused()?d.sys.resume(f):this.start(u,f)},start:function(u,f){if(!this.isBooted)return this._data[u]={autoStart:!0,data:f},this;var d=this.getScene(u);if(!d)return console.warn("Scene key not found: "+u),this;var p=d.sys,y=p.settings.status;if(y>=m.START&&y<=m.CREATING)return this;if(y>=m.RUNNING&&y<=m.SLEEPING)p.shutdown(),p.sceneUpdate=n,p.start(f);else{p.sceneUpdate=n,p.start(f);var T;if(p.load&&(T=p.load),T&&p.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:p.settings.pack})))return p.settings.status=m.LOADING,T.once(i.COMPLETE,this.payloadComplete,this),T.start(),this}return this.bootScene(d),this},stop:function(u,f){var d=this.getScene(u);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==m.SHUTDOWN){var p=d.sys.load;p&&(p.off(i.COMPLETE,this.loadComplete,this),p.off(i.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(f)}return this},switch:function(u,f,d){var p=this.getScene(u),y=this.getScene(f);return p&&y&&p!==y&&(this.sleep(u),this.isSleeping(f)?this.wake(f,d):this.start(f,d)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var f=this.getScene(u);return this.scenes.indexOf(f)},bringToTop:function(u){if(this.isProcessing)return this.queueOp("bringToTop",u);var f=this.getIndex(u),d=this.scenes;if(f!==-1&&f<d.length){var p=this.getScene(u);d.splice(f,1),d.push(p)}return this},sendToBack:function(u){if(this.isProcessing)return this.queueOp("sendToBack",u);var f=this.getIndex(u);if(f!==-1&&f>0){var d=this.getScene(u);this.scenes.splice(f,1),this.scenes.unshift(d)}return this},moveDown:function(u){if(this.isProcessing)return this.queueOp("moveDown",u);var f=this.getIndex(u);if(f>0){var d=f-1,p=this.getScene(u),y=this.getAt(d);this.scenes[f]=y,this.scenes[d]=p}return this},moveUp:function(u){if(this.isProcessing)return this.queueOp("moveUp",u);var f=this.getIndex(u);if(f<this.scenes.length-1){var d=f+1,p=this.getScene(u),y=this.getAt(d);this.scenes[f]=y,this.scenes[d]=p}return this},moveAbove:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("moveAbove",u,f);var d=this.getIndex(u),p=this.getIndex(f);if(d!==-1&&p!==-1&&p<d){var y=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(d+(p>d),0,y)}return this},moveBelow:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("moveBelow",u,f);var d=this.getIndex(u),p=this.getIndex(f);if(d!==-1&&p!==-1&&p>d){var y=this.getAt(p);this.scenes.splice(p,1),d===0?this.scenes.unshift(y):this.scenes.splice(d-(p<d),0,y)}return this},queueOp:function(u,f,d,p){return this._queue.push({op:u,keyA:f,keyB:d,data:p}),this},swapPosition:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("swapPosition",u,f);var d=this.getIndex(u),p=this.getIndex(f);if(d!==p&&d!==-1&&p!==-1){var y=this.getAt(d);this.scenes[d]=this.scenes[p],this.scenes[p]=y}return this},dump:function(){for(var u=[],f=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var p=this.scenes[d].sys,y=p.settings.visible&&(p.settings.status===m.RUNNING||p.settings.status===m.PAUSED)?"[*] ":"[-] ";y+=p.settings.key+" ("+f[p.settings.status]+")",u.push(y)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var f=this.scenes[u].sys;f.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});x.exports=o},52209:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(44594),a=t(95540),r=t(37277),i=new m({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(l.BOOT,this.boot,this),h.sys.events.on(l.START,this.pluginStart,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(l.SHUTDOWN,this.shutdown,this)},start:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,h),this},restart:function(n){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,n),this},transition:function(n){n===void 0&&(n={});var h=a(n,"target",!1),s=this.manager.getScene(h);if(!h||!this.checkValidTransition(s))return!1;var o=a(n,"duration",1e3);this._elapsed=0,this._target=s,this._duration=o,this._willSleep=a(n,"sleep",!1),this._willRemove=a(n,"remove",!1);var u=a(n,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=a(n,"onUpdateScope",this.scene));var f=a(n,"allowInput",!1);this.settings.transitionAllowInput=f;var d=s.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=o,d.transitionAllowInput=f,a(n,"moveAbove",!1)?this.manager.moveAbove(this.key,h):a(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),s.sys.isSleeping()?s.sys.wake(a(n,"data")):this.manager.start(h,a(n,"data"));var p=a(n,"onStart",null),y=a(n,"onStartScope",this.scene);return p&&p.call(y,this.scene,s,o),this.systems.events.emit(l.TRANSITION_OUT,s,o),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,h){this._elapsed+=h,this.transitionProgress=c(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,h=this._target.sys.settings;n.events.emit(l.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,h,s,o){return this.manager.add(n,h,s,o)},launch:function(n,h){return n&&n!==this.key&&this.manager.queueOp("start",n,h),this},run:function(n,h){return n&&n!==this.key&&this.manager.queueOp("run",n,h),this},pause:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,h),this},resume:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,h),this},sleep:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,h),this},wake:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,h),this},switch:function(n,h){return n!==this.key&&this.manager.queueOp("switch",this.key,n,h),this},stop:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,h),this},setActive:function(n,h,s){h===void 0&&(h=this.key);var o=this.manager.getScene(h);return o&&o.sys.setActive(n,s),this},setVisible:function(n,h){h===void 0&&(h=this.key);var s=this.manager.getScene(h);return s&&s.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.swapPosition(n,h),this},moveAbove:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.moveAbove(n,h),this},moveBelow:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.moveBelow(n,h),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var h=this.manager.getScene(n);if(h)return h.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(l.SHUTDOWN,this.shutdown,this),n.off(l.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",i,"scenePlugin"),x.exports=i},55681:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(89993),m=t(35154),l=t(46975),a=t(87033),r={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:c.PENDING,key:m(i,"key",""),active:m(i,"active",!1),visible:m(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(i,"pack",!1),cameras:m(i,"cameras",null),map:m(i,"map",l(a,m(i,"mapAdd",{}))),physics:m(i,"physics",{}),loader:m(i,"loader",{}),plugins:m(i,"plugins",!1),input:m(i,"input",{})}}};x.exports=r},2368:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(89993),l=t(42363),a=t(44594),r=t(27397),i=t(52106),n=t(29747),h=t(55681),s=new c({initialize:function(u,f){this.scene=u,this.game,this.renderer,this.config=f,this.settings=h.create(f),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(o){this.settings.status=m.INIT,this.sceneUpdate=n,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var u=o.plugins;this.plugins=u,u.addToScene(this,l.Global,[l.CoreScene,i(this),r(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(o,u){var f=this.events;f.emit(a.PRE_UPDATE,o,u),f.emit(a.UPDATE,o,u),this.sceneUpdate.call(this.scene,o,u),f.emit(a.POST_UPDATE,o,u)},render:function(o){var u=this.displayList;u.depthSort(),this.events.emit(a.PRE_RENDER,o),this.cameras.render(o,u),this.events.emit(a.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var u=this.settings,f=this.getStatus();return f!==m.CREATING&&f!==m.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=m.PAUSED,u.active=!1,this.events.emit(a.PAUSE,this,o)),this},resume:function(o){var u=this.events,f=this.settings;return this.settings.active||(f.status=m.RUNNING,f.active=!0,u.emit(a.RESUME,this,o)),this},sleep:function(o){var u=this.settings,f=this.getStatus();return f!==m.CREATING&&f!==m.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=m.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(a.SLEEP,this,o)),this},wake:function(o){var u=this.events,f=this.settings;return f.status=m.RUNNING,f.active=!0,f.visible=!0,u.emit(a.WAKE,this,o),f.isTransition&&u.emit(a.TRANSITION_WAKE,f.transitionFrom,f.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>m.PENDING&&o<=m.RUNNING},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,u){return o?this.resume(u):this.pause(u)},start:function(o){var u=this.events,f=this.settings;o&&(f.data=o),f.status=m.START,f.active=!0,f.visible=!0,u.emit(a.START,this),u.emit(a.READY,this,o)},shutdown:function(o){var u=this.events,f=this.settings;u.off(a.TRANSITION_INIT),u.off(a.TRANSITION_START),u.off(a.TRANSITION_COMPLETE),u.off(a.TRANSITION_OUT),f.status=m.SHUTDOWN,f.active=!1,f.visible=!1,u.emit(a.SHUTDOWN,this,o)},destroy:function(){var o=this.events,u=this.settings;u.status=m.DESTROYED,u.active=!1,u.visible=!1,o.emit(a.DESTROY,this),o.removeAllListeners();for(var f=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<f.length;d++)this[f[d]]=null}});x.exports=s},89993:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};x.exports=M},69830:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="addedtoscene"},7919:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="boot"},46763:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="create"},11763:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="destroy"},71555:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pause"},36735:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="postupdate"},3809:x=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="prerender"},90716:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="preupdate"},58262:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="ready"},91633:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="removedfromscene"},10319:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="render"},87132:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resume"},81961:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="shutdown"},90194:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="sleep"},6265:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="start"},33178:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="transitioncomplete"},43063:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="transitioninit"},11259:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="transitionout"},61611:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="transitionstart"},45209:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="transitionwake"},22966:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="update"},21747:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="wake"},44594:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(89993),m=t(79291),l={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};l=m(!1,l,c),x.exports=l},30341:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50792),l=t(14463),a=t(79291),r=t(29747),i=new c({Extends:m,initialize:function(h,s,o){m.call(this),this.manager=h,this.key=s,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=a(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=a(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var h=this.markers[n];return h?(this.markers[n]=null,h):null},play:function(n,h){if(n===void 0&&(n=""),typeof n=="object"&&(h=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,s=Math.pow(n,h);this.totalRate=this.currentConfig.rate*this.manager.rate*s},destroy:function(){this.pendingRemove||(this.stop(),this.emit(l.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});x.exports=i},85034:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(41786),l=t(50792),a=t(14463),r=t(8443),i=t(46710),n=t(58731),h=t(29747),s=t(26099),o=new c({Extends:l,initialize:function(f){l.call(this),this.game=f,this.jsonCache=f.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new s,f.events.on(r.BLUR,this.onGameBlur,this),f.events.on(r.FOCUS,this.onGameFocus,this),f.events.on(r.PRE_STEP,this.update,this),f.events.once(r.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(u,f){f===void 0&&(f={});var d=this.add(u,f);d.spritemap=this.jsonCache.get(u).spritemap;for(var p in d.spritemap)if(d.spritemap.hasOwnProperty(p)){var y=m(f),T=d.spritemap[p];y.loop=T.hasOwnProperty("loop")?T.loop:!1,d.addMarker({name:p,start:T.start,duration:T.end-T.start,config:y})}return d},get:function(u){return n(this.sounds,"key",u)},getAll:function(u){return u?i(this.sounds,"key",u):i(this.sounds)},getAllPlaying:function(){return i(this.sounds,"isPlaying",!0)},play:function(u,f){var d=this.add(u);return d.once(a.COMPLETE,d.destroy,d),f?f.name?(d.addMarker(f),d.play(f.name)):d.play(f):d.play()},playAudioSprite:function(u,f,d){var p=this.addAudioSprite(u);return p.once(a.COMPLETE,p.destroy,p),p.play(f,d)},remove:function(u){var f=this.sounds.indexOf(u);return f!==-1?(u.destroy(),this.sounds.splice(f,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var f=0,d=this.sounds.length-1;d>=0;d--){var p=this.sounds[d];p.key===u&&(p.destroy(),this.sounds.splice(d,1),f++)}return f},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(u){var f=0;return this.getAll(u).forEach(function(d){d.stop()&&f++}),f},isPlaying:function(u){var f=this.sounds,d=f.length-1,p;if(u===void 0){for(;d>=0;d--)if(p=this.sounds[d],p.isPlaying)return!0}else for(;d>=0;d--)if(p=this.sounds[d],p.key===u&&p.isPlaying)return!0;return!1},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,f){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(p){p.update(u,f)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,f){var d=this;this.sounds.forEach(function(p,y){p&&!p.pendingRemove&&u.call(f||d,p,y,d.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(a.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,u)}}});x.exports=o},14747:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(33684),m=t(25960),l=t(57490),a={create:function(r){var i=r.config.audio,n=r.device.audio;return i.noAudio||!n.webAudio&&!n.audioData?new m(r):n.webAudio&&!i.disableWebAudio?new l(r):new c(r)}};x.exports=a},19723:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="complete"},98882:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="decodedall"},57506:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="decoded"},73146:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="destroy"},11305:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="detune"},40577:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="detune"},30333:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="mute"},20394:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="rate"},21802:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="volume"},1299:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="looped"},99190:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="loop"},97125:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="mute"},89259:x=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pan"},79986:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pauseall"},17586:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pause"},19618:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="play"},42306:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="rate"},10387:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resumeall"},48959:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resume"},9960:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="seek"},19180:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="stopall"},98328:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="stop"},50401:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="unlocked"},52498:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="volume"},14463:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(30341),m=t(83419),l=t(14463),a=t(45319),r=new m({Extends:c,initialize:function(n,h,s){if(s===void 0&&(s={}),this.tags=n.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,c.call(this,n,h,s)},play:function(i,n){return this.manager.isLocked(this,"play",[i,n])||!c.prototype.play.call(this,i,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!c.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!c.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!c.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(l.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,n=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var n=this.tags[i];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&h.push(o)},this),h.sort(function(o,u){return o.loop===u.loop?u.seek/u.duration-o.seek/o.duration:o.loop?1:-1});var s=h[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){c.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,h=n+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=h-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,s-h),s=this.audio.currentTime):s<n&&(this.audio.currentTime+=n,s=this.audio.currentTime),s<this.previousTime&&this.emit(l.LOOPED,this);else if(s>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(l.COMPLETE,this);return}this.previousTime=s}},destroy:function(){c.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){c.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(l.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(l.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,l.RATE,i)&&(this.calculateRate(),this.emit(l.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,l.DETUNE,i)&&(this.calculateRate(),this.emit(l.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(l.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(l.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(l.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});x.exports=r},33684:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(85034),m=t(83419),l=t(14463),a=t(64895),r=new m({Extends:c,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,c.call(this,n)},add:function(i,n){var h=new a(this,i,n);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(o,u){for(var f=0;f<u.length;f++)if(u[f].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var n=!1,h=function(){n=!0},s=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",s);var o=[];if(i.game.cache.audio.entries.each(function(f,d){for(var p=0;p<d.length;p++){var y=d[p];y.dataset.locked==="true"&&o.push(y)}return!0}),o.length!==0){var u=o[o.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,o.forEach(function(f){f.dataset.locked="false"}),i.unlocked=!0},o.forEach(function(f){f.load()})}};this.once(l.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){c.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,n,h){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:n,value:h}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(l.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(l.GLOBAL_VOLUME,this,i)}}});x.exports=r},23717:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(30341),m=t(83419),l=t(50792),a=t(79291),r=t(29747),i=function(){return!1},n=function(){return null},h=function(){return this},s=new m({Extends:l,initialize:function(u,f,d){d===void 0&&(d={}),l.call(this),this.manager=u,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:i,updateMarker:i,removeMarker:n,play:i,pause:i,resume:i,stop:i,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){c.prototype.destroy.call(this)}});x.exports=s},25960:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(85034),m=t(83419),l=t(50792),a=t(4603),r=t(29747),i=new m({Extends:l,initialize:function(h){l.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,h){var s=new a(this,n,h);return this.sounds.push(s),s},addAudioSprite:function(n,h){var s=this.add(n,h);return s.spritemap={},s},get:function(n){return c.prototype.get.call(this,n)},getAll:function(n){return c.prototype.getAll.call(this,n)},play:function(n,h){return!1},playAudioSprite:function(n,h,s){return!1},remove:function(n){return c.prototype.remove.call(this,n)},removeAll:function(){return c.prototype.removeAll.call(this)},removeByKey:function(n){return c.prototype.removeByKey.call(this,n)},stopByKey:function(n){return c.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,h){c.prototype.forEachActiveSound.call(this,n,h)},destroy:function(){c.prototype.destroy.call(this)}});x.exports=i},71741:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(30341),m=t(83419),l=t(14463),a=t(95540),r=new m({Extends:c,initialize:function(n,h,s){if(s===void 0&&(s={}),this.audioBuffer=n.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,c.call(this,n,h,s)},play:function(i,n){return c.prototype.play.call(this,i,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(l.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!c.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!c.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(l.RESUME,this),!0)},stop:function(){return c.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(l.STOP,this),!0):!1},createAndStartBufferSource:function(){var i=this.currentConfig.seek,n=this.currentConfig.delay,h=this.manager.context.currentTime+n,s=(this.currentMarker?this.currentMarker.start:0)+i,o=this.duration-i;this.playTime=h-i,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,s),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var i=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=i,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,i),Math.max(0,n),Math.max(0,h))},createBufferSource:function(){var i=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(h){var s=h.target;(s===i.source||s===i.loopSource)&&(i.currentConfig.loop?i.hasLooped=!0:i.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var i=this.source;this.source=null,i.stop(),i.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var i=this.currentConfig.source;if(i&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=a(i,"panningModel","equalpower"),n.distanceModel=a(i,"distanceModel","inverse"),n.orientationX.value=a(i,"orientationX",0),n.orientationY.value=a(i,"orientationY",0),n.orientationZ.value=a(i,"orientationZ",-1),n.refDistance=a(i,"refDistance",1),n.maxDistance=a(i,"maxDistance",1e4),n.rolloffFactor=a(i,"rolloffFactor",1),n.coneInnerAngle=a(i,"coneInnerAngle",360),n.coneOuterAngle=a(i,"coneOuterAngle",0),n.coneOuterGain=a(i,"coneOuterGain",0),this.spatialSource=a(i,"follow",null),this.spatialSource||(n.positionX.value=a(i,"x",0),n.positionY.value=a(i,"y",0),n.positionZ.value=a(i,"z",0))}c.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(i){this.spatialNode&&(this.spatialNode.positionX.value=i)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(i){this.spatialNode&&(this.spatialNode.positionY.value=i)}},update:function(){if(this.isPlaying&&this.spatialSource){var i=a(this.spatialSource,"x",null),n=a(this.spatialSource,"y",null);i&&i!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=i),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(c.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(l.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(l.LOOPED,this))},destroy:function(){this.pendingRemove||(c.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){c.prototype.calculateRate.call(this);var i=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,i),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,i)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var i=0,n=0;n<this.rateUpdates.length;n++){var h=0;n<this.rateUpdates.length-1?h=this.rateUpdates[n+1].time:h=this.manager.context.currentTime-this.playTime,i+=(h-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return i},getLoopTime:function(){for(var i=0,n=0;n<this.rateUpdates.length-1;n++)i+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-i)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,this.calculateRate(),this.emit(l.RATE,this,i)}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,this.calculateRate(),this.emit(l.DETUNE,this,i)}},setDetune:function(i){return this.detune=i,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(i){this.currentConfig.mute=i,this.muteNode.gain.setValueAtTime(i?0:1,0),this.emit(l.MUTE,this,i)}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(i){this.currentConfig.volume=i,this.volumeNode.gain.setValueAtTime(i,0),this.emit(l.VOLUME,this,i)}},setVolume:function(i){return this.volume=i,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.currentConfig.seek=i,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(l.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),i&&this.createAndStartLoopBufferSource()),this.emit(l.LOOP,this,i)}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(i){this.currentConfig.pan=i,this.pannerNode&&this.pannerNode.pan.setValueAtTime(i,this.manager.context.currentTime),this.emit(l.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});x.exports=r},57490:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(53134),m=t(85034),l=t(83419),a=t(14463),r=t(8443),i=t(71741),n=t(95540),h=new l({Extends:m,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),m.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(s){var o=s.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(s){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=s,this.masterMuteNode=s.createGain(),this.masterVolumeNode=s.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(s.destination),this.destination=this.masterMuteNode,this},add:function(s,o){var u=new i(this,s,o);return this.sounds.push(u),u},decodeAudio:function(s,o){var u;Array.isArray(s)?u=s:u=[{key:s,data:o}];for(var f=this.game.cache.audio,d=u.length,p=0;p<u.length;p++){var y=u[p],T=y.key,C=y.data;typeof C=="string"&&(C=c(C));var P=(function(w,L){f.add(w,L),this.emit(a.DECODED,w),d--,d===0&&this.emit(a.DECODED_ALL)}).bind(this,T),A=(function(w,L){console.error("Error decoding audio: "+w+" - ",L?L.message:""),d--,d===0&&this.emit(a.DECODED_ALL)}).bind(this,T);this.context.decodeAudioData(C,P,A)}},setListenerPosition:function(s,o){return s===void 0&&(s=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(s,o),this},unlock:function(){var s=this,o=document.body,u=function f(){if(s.context&&o){var d=o.removeEventListener.bind(o);s.context.resume().then(function(){d("touchstart",f),d("touchend",f),d("click",f),d("keydown",f),s.unlocked=!0},function(){d("touchstart",f),d("touchend",f),d("click",f),d("keydown",f)})}};o&&(o.addEventListener("touchstart",u,!1),o.addEventListener("touchend",u,!1),o.addEventListener("click",u,!1),o.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var s=this.context;s&&!this.locked&&(s.state==="suspended"||s.state==="interrupted")&&s.resume()},update:function(s,o){var u=this.context.listener;if(u&&u.positionX!==void 0){var f=n(this.listenerPosition,"x",null),d=n(this.listenerPosition,"y",null);f&&f!==this._spatialx&&(this._spatialx=u.positionX.value=f),d&&d!==this._spatialy&&(this._spatialy=u.positionY.value=d)}m.prototype.update.call(this,s,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var s=this;this.context.close().then(function(){s.context=null})}m.prototype.destroy.call(this)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(s){this.masterMuteNode.gain.setValueAtTime(s?0:1,0),this.emit(a.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(s){this.masterVolumeNode.gain.setValueAtTime(s,0),this.emit(a.GLOBAL_VOLUME,this,s)}}});x.exports=h},73162:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37105),m=t(83419),l=t(29747),a=t(19186),r=new m({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=l,this.removeCallback=l,this._sortKey=""},add:function(i,n){return n?c.Add(this.list,i):c.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,n,h){return h?c.AddAt(this.list,i,n):c.AddAt(this.list,i,n,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,n){return i?(n===void 0&&(n=function(h,s){return h[i]-s[i]}),a(this.list,n),this):this},getByName:function(i){return c.GetFirst(this.list,"name",i)},getRandom:function(i,n){return c.GetRandom(this.list,i,n)},getFirst:function(i,n,h,s){return c.GetFirst(this.list,i,n,h,s)},getAll:function(i,n,h,s){return c.GetAll(this.list,i,n,h,s)},count:function(i,n){return c.CountAllMatching(this.list,i,n)},swap:function(i,n){c.Swap(this.list,i,n)},moveTo:function(i,n){return c.MoveTo(this.list,i,n)},moveAbove:function(i,n){return c.MoveAbove(this.list,i,n)},moveBelow:function(i,n){return c.MoveBelow(this.list,i,n)},remove:function(i,n){return n?c.Remove(this.list,i):c.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,n){return n?c.RemoveAt(this.list,i):c.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,n,h){return h?c.RemoveBetween(this.list,i,n):c.RemoveBetween(this.list,i,n,this.removeCallback,this)},removeAll:function(i){for(var n=this.list.length;n--;)this.remove(this.list[n],i);return this},bringToTop:function(i){return c.BringToTop(this.list,i)},sendToBack:function(i){return c.SendToBack(this.list,i)},moveUp:function(i){return c.MoveUp(this.list,i),i},moveDown:function(i){return c.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return c.Shuffle(this.list),this},replace:function(i,n){return c.Replace(this.list,i,n)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,n,h,s){return c.SetAll(this.list,i,n,h,s),this},each:function(i,n){for(var h=[null],s=2;s<arguments.length;s++)h.push(arguments[s]);for(s=0;s<this.list.length;s++)h[0]=this.list[s],i.apply(n,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});x.exports=r},90330:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a){this.entries={},this.size=0,this.setAll(a)},setAll:function(l){if(Array.isArray(l))for(var a=0;a<l.length;a++)this.set(l[a][0],l[a][1]);return this},set:function(l,a){return this.has(l)||this.size++,this.entries[l]=a,this},get:function(l){if(this.has(l))return this.entries[l]},getArray:function(){var l=[],a=this.entries;for(var r in a)l.push(a[r]);return l},has:function(l){return this.entries.hasOwnProperty(l)},delete:function(l){return this.has(l)&&(delete this.entries[l],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(l){delete this.entries[l]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var l=[],a=this.entries;for(var r in a)l.push(a[r]);return l},dump:function(){var l=this.entries;console.group("Map");for(var a in l)console.log(a,l[a]);console.groupEnd()},each:function(l){var a=this.entries;for(var r in a)if(l(r,a[r])===!1)break;return this},contains:function(l){var a=this.entries;for(var r in a)if(a[r]===l)return!0;return!1},merge:function(l,a){a===void 0&&(a=!1);var r=this.entries,i=l.entries;for(var n in i)r.hasOwnProperty(n)&&a?r[n]=i[n]:this.set(n,i[n]);return this}});x.exports=m},25774:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50792),l=t(82348),a=new c({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var i=this._pending,n=i.indexOf(r);n!==-1&&i.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,i=this._destroy,n=r.length;n--;)i.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,i=this._active,n,h;for(n=0;n<r.length;n++){h=r[n];var s=i.indexOf(h);s!==-1&&(i.splice(s,1),this.emit(l.PROCESS_QUEUE_REMOVE,h))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)h=r[n],(!this.checkQueue||this.checkQueue&&i.indexOf(h)===-1)&&(i.push(h),this.emit(l.PROCESS_QUEUE_ADD,h));return r.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});x.exports=a},59542:(x,M,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(43886);function m(C){if(!(this instanceof m))return new m(C);this._maxEntries=Math.max(4,C||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}m.prototype={all:function(){return this._all(this.data,[])},search:function(C){var P=this.data,A=[],w=this.toBBox;if(!p(C,P))return A;for(var L=[],B,F,b,G;P;){for(B=0,F=P.children.length;B<F;B++)b=P.children[B],G=P.leaf?w(b):b,p(C,G)&&(P.leaf?A.push(b):d(C,G)?this._all(b,A):L.push(b));P=L.pop()}return A},collides:function(C){var P=this.data,A=this.toBBox;if(!p(C,P))return!1;for(var w=[],L,B,F,b;P;){for(L=0,B=P.children.length;L<B;L++)if(F=P.children[L],b=P.leaf?A(F):F,p(C,b)){if(P.leaf||d(C,b))return!0;w.push(F)}P=w.pop()}return!1},load:function(C){if(!(C&&C.length))return this;if(C.length<this._minEntries){for(var P=0,A=C.length;P<A;P++)this.insert(C[P]);return this}var w=this._build(C.slice(),0,C.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var L=this.data;this.data=w,w=L}this._insert(w,this.data.height-w.height-1,!0)}return this},insert:function(C){return C&&this._insert(C,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(C,P){if(!C)return this;for(var A=this.data,w=this.toBBox(C),L=[],B=[],F,b,G,N;A||L.length;){if(A||(A=L.pop(),b=L[L.length-1],F=B.pop(),N=!0),A.leaf&&(G=l(C,A.children,P),G!==-1))return A.children.splice(G,1),L.push(A),this._condense(L),this;!N&&!A.leaf&&d(A,w)?(L.push(A),B.push(F),F=0,b=A,A=A.children[0]):b?(F++,A=b.children[F],N=!1):A=null}return this},toBBox:function(C){return C},compareMinX:n,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(C){return this.data=C,this},_all:function(C,P){for(var A=[];C;)C.leaf?P.push.apply(P,C.children):A.push.apply(A,C.children),C=A.pop();return P},_build:function(C,P,A,w){var L=A-P+1,B=this._maxEntries,F;if(L<=B)return F=y(C.slice(P,A+1)),a(F,this.toBBox),F;w||(w=Math.ceil(Math.log(L)/Math.log(B)),B=Math.ceil(L/Math.pow(B,w-1))),F=y([]),F.leaf=!1,F.height=w;var b=Math.ceil(L/B),G=b*Math.ceil(Math.sqrt(B)),N,U,W,H;for(T(C,P,A,G,this.compareMinX),N=P;N<=A;N+=G)for(W=Math.min(N+G-1,A),T(C,N,W,b,this.compareMinY),U=N;U<=W;U+=b)H=Math.min(U+b-1,W),F.children.push(this._build(C,U,H,w-1));return a(F,this.toBBox),F},_chooseSubtree:function(C,P,A,w){for(var L,B,F,b,G,N,U,W;w.push(P),!(P.leaf||w.length-1===A);){for(U=W=1/0,L=0,B=P.children.length;L<B;L++)F=P.children[L],G=s(F),N=u(C,F)-G,N<W?(W=N,U=G<U?G:U,b=F):N===W&&G<U&&(U=G,b=F);P=b||P.children[0]}return P},_insert:function(C,P,A){var w=this.toBBox,L=A?C:w(C),B=[],F=this._chooseSubtree(L,this.data,P,B);for(F.children.push(C),i(F,L);P>=0&&B[P].children.length>this._maxEntries;)this._split(B,P),P--;this._adjustParentBBoxes(L,B,P)},_split:function(C,P){var A=C[P],w=A.children.length,L=this._minEntries;this._chooseSplitAxis(A,L,w);var B=this._chooseSplitIndex(A,L,w),F=y(A.children.splice(B,A.children.length-B));F.height=A.height,F.leaf=A.leaf,a(A,this.toBBox),a(F,this.toBBox),P?C[P-1].children.push(F):this._splitRoot(A,F)},_splitRoot:function(C,P){this.data=y([C,P]),this.data.height=C.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(C,P,A){var w,L,B,F,b,G,N,U;for(G=N=1/0,w=P;w<=A-P;w++)L=r(C,0,w,this.toBBox),B=r(C,w,A,this.toBBox),F=f(L,B),b=s(L)+s(B),F<G?(G=F,U=w,N=b<N?b:N):F===G&&b<N&&(N=b,U=w);return U},_chooseSplitAxis:function(C,P,A){var w=C.leaf?this.compareMinX:n,L=C.leaf?this.compareMinY:h,B=this._allDistMargin(C,P,A,w),F=this._allDistMargin(C,P,A,L);B<F&&C.children.sort(w)},_allDistMargin:function(C,P,A,w){C.children.sort(w);var L=this.toBBox,B=r(C,0,P,L),F=r(C,A-P,A,L),b=o(B)+o(F),G,N;for(G=P;G<A-P;G++)N=C.children[G],i(B,C.leaf?L(N):N),b+=o(B);for(G=A-P-1;G>=P;G--)N=C.children[G],i(F,C.leaf?L(N):N),b+=o(F);return b},_adjustParentBBoxes:function(C,P,A){for(var w=A;w>=0;w--)i(P[w],C)},_condense:function(C){for(var P=C.length-1,A;P>=0;P--)C[P].children.length===0?P>0?(A=C[P-1].children,A.splice(A.indexOf(C[P]),1)):this.clear():a(C[P],this.toBBox)},compareMinX:function(C,P){return C.left-P.left},compareMinY:function(C,P){return C.top-P.top},toBBox:function(C){return{minX:C.left,minY:C.top,maxX:C.right,maxY:C.bottom}}};function l(C,P,A){if(!A)return P.indexOf(C);for(var w=0;w<P.length;w++)if(A(C,P[w]))return w;return-1}function a(C,P){r(C,0,C.children.length,P,C)}function r(C,P,A,w,L){L||(L=y(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var B=P,F;B<A;B++)F=C.children[B],i(L,C.leaf?w(F):F);return L}function i(C,P){return C.minX=Math.min(C.minX,P.minX),C.minY=Math.min(C.minY,P.minY),C.maxX=Math.max(C.maxX,P.maxX),C.maxY=Math.max(C.maxY,P.maxY),C}function n(C,P){return C.minX-P.minX}function h(C,P){return C.minY-P.minY}function s(C){return(C.maxX-C.minX)*(C.maxY-C.minY)}function o(C){return C.maxX-C.minX+(C.maxY-C.minY)}function u(C,P){return(Math.max(P.maxX,C.maxX)-Math.min(P.minX,C.minX))*(Math.max(P.maxY,C.maxY)-Math.min(P.minY,C.minY))}function f(C,P){var A=Math.max(C.minX,P.minX),w=Math.max(C.minY,P.minY),L=Math.min(C.maxX,P.maxX),B=Math.min(C.maxY,P.maxY);return Math.max(0,L-A)*Math.max(0,B-w)}function d(C,P){return C.minX<=P.minX&&C.minY<=P.minY&&P.maxX<=C.maxX&&P.maxY<=C.maxY}function p(C,P){return P.minX<=C.maxX&&P.minY<=C.maxY&&P.maxX>=C.minX&&P.maxY>=C.minY}function y(C){return{children:C,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(C,P,A,w,L){for(var B=[P,A],F;B.length;)A=B.pop(),P=B.pop(),!(A-P<=w)&&(F=P+Math.ceil((A-P)/w/2)*w,c(C,F,P,A,L),B.push(P,F,F,A))}x.exports=m},35072:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r])},set:function(l){return this.entries.indexOf(l)===-1&&this.entries.push(l),this},get:function(l,a){for(var r=0;r<this.entries.length;r++){var i=this.entries[r];if(i[l]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(l){var a=this.entries.indexOf(l);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var l=0;l<this.entries.length;l++){var a=this.entries[l];console.log(a)}console.groupEnd()},each:function(l,a){var r,i=this.entries.slice(),n=i.length;if(a)for(r=0;r<n&&l.call(a,i[r],r)!==!1;r++);else for(r=0;r<n&&l(i[r],r)!==!1;r++);return this},iterate:function(l,a){var r,i=this.entries.length;if(a)for(r=0;r<i&&l.call(a,this.entries[r],r)!==!1;r++);else for(r=0;r<i&&l(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(l){var a,r=[];for(a=1;a<arguments.length;a++)r.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var n=this.entries[a];n[l].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(l){return this.entries.indexOf(l)>-1},union:function(l){var a=new m;return l.entries.forEach(function(r){a.set(r)}),this.entries.forEach(function(r){a.set(r)}),a},intersect:function(l){var a=new m;return this.entries.forEach(function(r){l.contains(r)&&a.set(r)}),a},difference:function(l){var a=new m;return this.entries.forEach(function(r){l.contains(r)||a.set(r)}),a},size:{get:function(){return this.entries.length},set:function(l){return l<this.entries.length?this.entries.length=l:this.entries.length}}});x.exports=m},86555:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45319),m=t(83419),l=t(56583),a=t(26099),r=new m({initialize:function(n,h,s,o){n===void 0&&(n=0),h===void 0&&(h=n),s===void 0&&(s=0),o===void 0&&(o=null),this._width=n,this._height=h,this._parent=o,this.aspectMode=s,this.aspectRatio=h===0?1:n/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.snapTo.set(i,n),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,n){return i===void 0&&(i=0),n===void 0&&(n=i),this.minWidth=c(i,0,this.maxWidth),this.minHeight=c(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,n){return i===void 0&&(i=Number.MAX_VALUE),n===void 0&&(n=i),this.maxWidth=c(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=c(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,n){switch(i===void 0&&(i=0),n===void 0&&(n=i),this.aspectMode){case r.NONE:this._width=this.getNewWidth(l(i,this.snapTo.x)),this._height=this.getNewHeight(l(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(l(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(l(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(i,n,!0);break;case r.ENVELOP:this.constrain(i,n,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,n){return this._width=this.getNewWidth(l(i,this.snapTo.x)),this._height=this.getNewHeight(l(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,n){return n===void 0&&(n=!0),i=c(i,this.minWidth,this.maxWidth),n&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,n){return n===void 0&&(n=!0),i=c(i,this.minHeight,this.maxHeight),n&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,n,h){i===void 0&&(i=0),n===void 0&&(n=i),h===void 0&&(h=!0),i=this.getNewWidth(i),n=this.getNewHeight(n);var s=this.snapTo,o=n===0?1:i/n;return h&&this.aspectRatio>o||!h&&this.aspectRatio<o?(i=l(i,s.x),n=i/this.aspectRatio,s.y>0&&(n=l(n,s.y),i=n*this.aspectRatio)):(h&&this.aspectRatio<o||!h&&this.aspectRatio>o)&&(n=l(n,s.y),i=n*this.aspectRatio,s.x>0&&(i=l(i,s.x),n=i*(1/this.aspectRatio))),this._width=i,this._height=n,this},fitTo:function(i,n){return this.constrain(i,n,!0)},envelop:function(i,n){return this.constrain(i,n,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,x.exports=r},15238:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="add"},56187:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="remove"},82348:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(45319),l=t(40987),a=t(8054),r=t(50030),i=t(79237),n=new c({Extends:i,initialize:function(s,o,u,f,d){i.call(this,s,o,u,f,d),this.add("__BASE",0,0,0,f,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=f,this.height=d,this.imageData=this.context.getImageData(0,0,f,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(h,s,o,u){return u===void 0&&(u=!0),this.context.drawImage(o,h,s),u&&this.update(),this},drawFrame:function(h,s,o,u,f){o===void 0&&(o=0),u===void 0&&(u=0),f===void 0&&(f=!0);var d=this.manager.getFrame(h,s);if(d){var p=d.canvasData,y=d.cutWidth,T=d.cutHeight,C=d.source.resolution;this.context.drawImage(d.source.image,p.x,p.y,y,T,o,u,y/C,T/C),f&&this.update()}return this},setPixel:function(h,s,o,u,f,d){d===void 0&&(d=255),h=Math.abs(Math.floor(h)),s=Math.abs(Math.floor(s));var p=this.getIndex(h,s);if(p>-1){var y=this.context.getImageData(h,s,1,1);y.data[0]=o,y.data[1]=u,y.data[2]=f,y.data[3]=d,this.context.putImageData(y,h,s)}return this},putData:function(h,s,o,u,f,d,p){return u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=h.width),p===void 0&&(p=h.height),this.context.putImageData(h,s,o,u,f,d,p),this},getData:function(h,s,o,u){h=m(Math.floor(h),0,this.width-1),s=m(Math.floor(s),0,this.height-1),o=m(o,1,this.width-h),u=m(u,1,this.height-s);var f=this.context.getImageData(h,s,o,u);return f},getPixel:function(h,s,o){o||(o=new l);var u=this.getIndex(h,s);if(u>-1){var f=this.data,d=f[u+0],p=f[u+1],y=f[u+2],T=f[u+3];o.setTo(d,p,y,T)}return o},getPixels:function(h,s,o,u){h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=this.width),u===void 0&&(u=o),h=Math.abs(Math.round(h)),s=Math.abs(Math.round(s));for(var f=m(h,0,this.width),d=m(h+o,0,this.width),p=m(s,0,this.height),y=m(s+u,0,this.height),T=new l,C=[],P=p;P<y;P++){for(var A=[],w=f;w<d;w++)T=this.getPixel(w,P,T),A.push({x:w,y:P,color:T.color,alpha:T.alphaGL});C.push(A)}return C},getIndex:function(h,s){return h=Math.abs(Math.round(h)),s=Math.abs(Math.round(s)),h<this.width&&s<this.height?(h+s*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,s,o,u,f){return h===void 0&&(h=0),s===void 0&&(s=0),o===void 0&&(o=this.width),u===void 0&&(u=this.height),f===void 0&&(f=!0),this.context.clearRect(h,s,o,u),f&&this.update(),this},setSize:function(h,s){return s===void 0&&(s=h),(h!==this.width||s!==this.height)&&(this.canvas.width=h,this.canvas.height=s,this._source.width=h,this._source.height=s,this._source.isPowerOf2=r(h,s),this.frames.__BASE.setSize(h,s,0,0),this.width=h,this.height=s,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});x.exports=n},81320:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(10312),m=t(38058),l=t(27919),a=t(83419),r=t(8054),i=t(4327),n=t(95540),h=t(36060),s=t(32302),o=t(79237),u=t(70554),f=new a({Extends:o,initialize:function(p,y,T,C){T===void 0&&(T=256),C===void 0&&(C=256),this.type="DynamicTexture";var P=p.game.renderer,A=P&&P.type===r.CANVAS,w=A?l.create2D(this,T,C):[this];o.call(this,p,y,w,T,C),this.add("__BASE",0,0,0,T,C),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?w:null,this.context=A?w.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,T,C).setScene(p.game.scene.systemScene,!1),this.renderTarget=A?null:new s(P,T,C,1,0,!1,!1,!0,!1),this.pipeline=A?null:P.pipelines.get(h.SINGLE_PIPELINE),this.setSize(T,C)},setSize:function(d,p){p===void 0&&(p=d);var y=this.get(),T=y.source;if(d!==this.width||p!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=p);var C=this.renderTarget;C&&(C.willResize(d,p)&&C.resize(d,p),C.texture!==T.glTexture&&this.renderer.deleteTexture(T.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,p),T.width=d,T.height=p,y.setSize(d,p),this.width=d,this.height=p}else{var P=this.getSourceImage();y.cutX+d>P.width&&(d=P.width-y.cutX),y.cutY+p>P.height&&(p=P.height-y.cutY),y.setSize(d,p,y.cutX,y.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),p=d.source,y=this.renderTarget;return p.isRenderTexture=!0,p.isGLTexture=!0,p.glTexture=y.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,p,y,T,C,P){var A=this.camera,w=this.renderer;p===void 0&&(p=1),y===void 0&&(y=0),T===void 0&&(T=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height);var L=d>>16&255,B=d>>8&255,F=d&255,b=this.renderTarget;if(A.preRender(),b){b.bind(!0);var G=this.pipeline.manager.set(this.pipeline),N=w.width/b.width,U=w.height/b.height,W=b.height-(T+P);G.drawFillRect(y*N,W*U,C*N,P*U,u.getTintFromFloats(F/255,B/255,L/255,1),p),b.unbind(!0)}else{var H=this.context;w.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+L+","+B+","+F+","+p+")",H.fillRect(y,T,C,P),w.setContext()}return this.dirty=!0,this},clear:function(d,p,y,T){if(this.dirty){var C=this.context,P=this.renderTarget;P?P.clear(d,p,y,T):C&&(d!==void 0&&p!==void 0&&y!==void 0&&T!==void 0?C.clearRect(d,p,y,T):(C.save(),C.setTransform(1,0,0,1,0,0),C.clearRect(0,0,this.width,this.height),C.restore())),this.dirty=!1}return this},stamp:function(d,p,y,T,C){y===void 0&&(y=0),T===void 0&&(T=0);var P=n(C,"alpha",1),A=n(C,"tint",16777215),w=n(C,"angle",0),L=n(C,"rotation",0),B=n(C,"scale",1),F=n(C,"scaleX",B),b=n(C,"scaleY",B),G=n(C,"originX",.5),N=n(C,"originY",.5),U=n(C,"blendMode",0),W=n(C,"erase",!1),H=n(C,"skipBatch",!1),k=this.manager.resetStamp(P,A);return k.setAngle(0),w!==0?k.setAngle(w):L!==0&&k.setRotation(L),k.setScale(F,b),k.setTexture(d,p),k.setOrigin(G,N),k.setBlendMode(U),W&&(this._eraseMode=!0),H?this.batchGameObject(k,y,T):this.draw(k,y,T),W&&(this._eraseMode=!1),this},erase:function(d,p,y){return this._eraseMode=!0,this.draw(d,p,y),this._eraseMode=!1,this},draw:function(d,p,y,T,C){return this.beginDraw(),this.batchDraw(d,p,y,T,C),this.endDraw(),this},drawFrame:function(d,p,y,T,C,P){return this.beginDraw(),this.batchDrawFrame(d,p,y,T,C,P),this.endDraw(),this},repeat:function(d,p,y,T,C,P,A,w,L){if(y===void 0&&(y=0),T===void 0&&(T=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height),A===void 0&&(A=1),w===void 0&&(w=16777215),L===void 0&&(L=!1),d instanceof i?p=d:p=this.manager.getFrame(d,p),!p)return this;var B=this.manager.resetStamp(A,w);B.setFrame(p),B.setOrigin(0);var F=p.width,b=p.height;C=Math.floor(C),P=Math.floor(P);var G=Math.ceil(C/F),N=Math.ceil(P/b),U=G*F-C,W=N*b-P;U>0&&(U=F-U),W>0&&(W=b-W),y<0&&(G+=Math.ceil(Math.abs(y)/F)),T<0&&(N+=Math.ceil(Math.abs(T)/b));var H=y,k=T,z=!1,$=this.manager.stampCrop.setTo(0,0,F,b);L||this.beginDraw();for(var X=0;X<N;X++){if(k+b<0){k+=b;continue}for(var Q=0;Q<G;Q++){if(z=!1,H+F<0){H+=F;continue}else H<0&&(z=!0,$.width=F+H,$.x=F-$.width);k<0&&(z=!0,$.height=b+k,$.y=b-$.height),U>0&&Q===G-1&&(z=!0,$.width=U),W>0&&X===N-1&&(z=!0,$.height=W),z&&B.setCrop($),this.batchGameObject(B,H,k),B.isCropped=!1,$.setTo(0,0,F,b),H+=F}H=y,k+=b}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,p=this.renderer,y=this.renderTarget;d.preRender(),y?p.beginCapture(y.width,y.height):p.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,p,y,T,C){return Array.isArray(d)||(d=[d]),this.batchList(d,p,y,T,C),this},batchDrawFrame:function(d,p,y,T,C,P){y===void 0&&(y=0),T===void 0&&(T=0),C===void 0&&(C=1),P===void 0&&(P=16777215);var A=this.manager.getFrame(d,p);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,y,T,P,C,this.camera.matrix,null):this.batchTextureFrame(A,y,T,C,P)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var p=this.renderer,y=this.renderTarget;if(y){var T=p.endCapture(),C=p.pipelines.setUtility();C.blitFrame(T,y,1,!1,!1,d,this.isSpriteTexture),p.resetScissor(),p.resetViewport()}else p.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,p,y,T,C){var P=d.length;if(P!==0)for(var A=0;A<P;A++){var w=d[A];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,p,y):w.isParent||w.list?this.batchGroup(w.getChildren(),p,y):typeof w=="string"?this.batchTextureFrameKey(w,null,p,y,T,C):w instanceof i?this.batchTextureFrame(w,p,y,T,C):Array.isArray(w)&&this.batchList(w,p,y,T,C))}},batchGroup:function(d,p,y){p===void 0&&(p=0),y===void 0&&(y=0);for(var T=0;T<d.length;T++){var C=d[T];C.willRender(this.camera)&&this.batchGameObject(C,C.x+p,C.y+y)}},batchGameObject:function(d,p,y){p===void 0&&(p=d.x),y===void 0&&(y=d.y);var T=d.x,C=d.y,P=this.camera,A=this.renderer,w=this._eraseMode,L=d.mask;if(d.setPosition(p,y),this.canvas){if(w){var B=d.blendMode;d.blendMode=c.ERASE}L&&L.preRenderCanvas(A,d,P),d.renderCanvas(A,d,P,null),L&&L.postRenderCanvas(A,d,P),w&&(d.blendMode=B)}else A&&(L&&L.preRenderWebGL(A,d,P),w||A.setBlendMode(d.blendMode),d.renderWebGL(A,d,P),L&&L.postRenderWebGL(A,P,this.renderTarget));d.setPosition(T,C)},batchTextureFrameKey:function(d,p,y,T,C,P){var A=this.manager.getFrame(d,p);A&&this.batchTextureFrame(A,y,T,C,P)},batchTextureFrame:function(d,p,y,T,C){p===void 0&&(p=0),y===void 0&&(y=0),T===void 0&&(T=1),C===void 0&&(C=16777215);var P=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(d,p,y,C,T,P,null);else{var w=this.context,L=d.canvasData,B=d.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=T,P.setToContext(w),L.width>0&&L.height>0&&w.drawImage(B,L.x,L.y,L.width,L.height,p,y,L.width,L.height),w.restore()}},snapshotArea:function(d,p,y,T,C,P,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,C,!1,d,p,y,T,P,A):this.renderer.snapshotCanvas(this.canvas,C,!1,d,p,y,T,P,A),this},snapshot:function(d,p,y){return this.snapshotArea(0,0,this.width,this.height,d,p,y)},snapshotPixel:function(d,p,y){return this.snapshotArea(d,p,1,1,y,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,p,y,T){var C=this.manager.resetStamp();C.setTexture(this),C.setOrigin(0),C.renderWebGL(d,C,y,T)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),o.prototype.destroy.call(this),l.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});x.exports=f},4327:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(45319),l=t(79291),a=new c({initialize:function(i,n,h,s,o,u,f){this.texture=i,this.name=n,this.source=i.source[h],this.sourceIndex=h,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,f,s,o)},setCutPosition:function(r,i){return r===void 0&&(r=0),i===void 0&&(i=0),this.cutX=r,this.cutY=i,this.updateUVs()},setCutSize:function(r,i){return this.cutWidth=r,this.cutHeight=i,this.updateUVs()},setSize:function(r,i,n,h){n===void 0&&(n=0),h===void 0&&(h=0),this.setCutPosition(n,h),this.setCutSize(r,i),this.width=r,this.height=i,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(i/2);var s=this.data,o=s.cut;o.x=n,o.y=h,o.w=r,o.h=i,o.r=n+r,o.b=h+i,s.sourceSize.w=r,s.sourceSize.h=i,s.spriteSourceSize.w=r,s.spriteSourceSize.h=i,s.radius=.5*Math.sqrt(r*r+i*i);var u=s.drawImage;return u.x=n,u.y=h,u.width=r,u.height=i,this.updateUVs()},setTrim:function(r,i,n,h,s,o){var u=this.data,f=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=r,u.sourceSize.h=i,f.x=n,f.y=h,f.w=s,f.h=o,f.r=n+s,f.b=h+o,this.x=n,this.y=h,this.width=s,this.height=o,this.halfWidth=s*.5,this.halfHeight=o*.5,this.centerX=Math.floor(s/2),this.centerY=Math.floor(o/2),this.updateUVs()},setScale9:function(r,i,n,h){var s=this.data;return s.scale9=!0,s.is3Slice=i===0&&h===this.height,s.scale9Borders.x=r,s.scale9Borders.y=i,s.scale9Borders.w=n,s.scale9Borders.h=h,this},setCropUVs:function(r,i,n,h,s,o,u){var f=this.cutX,d=this.cutY,p=this.cutWidth,y=this.cutHeight,T=this.realWidth,C=this.realHeight;i=m(i,0,T),n=m(n,0,C),h=m(h,0,T-i),s=m(s,0,C-n);var P=f+i,A=d+n,w=h,L=s,B=this.data;if(B.trim){var F=B.spriteSourceSize;h=m(h,0,p-i),s=m(s,0,y-n);var b=i+h,G=n+s,N=!(F.r<i||F.b<n||F.x>b||F.y>G);if(N){var U=Math.max(F.x,i),W=Math.max(F.y,n),H=Math.min(F.r,b)-U,k=Math.min(F.b,G)-W;w=H,L=k,o?P=f+(p-(U-F.x)-H):P=f+(U-F.x),u?A=d+(y-(W-F.y)-k):A=d+(W-F.y),i=U,n=W,h=H,s=k}else P=0,A=0,w=0,L=0}else o&&(P=f+(p-i-h)),u&&(A=d+(y-n-s));var z=this.source.width,$=this.source.height;return r.u0=Math.max(0,P/z),r.v0=Math.max(0,A/$),r.u1=Math.min(1,(P+w)/z),r.v1=Math.min(1,(A+L)/$),r.x=i,r.y=n,r.cx=P,r.cy=A,r.cw=w,r.ch=L,r.width=h,r.height=s,r.flipX=o,r.flipY=u,r},updateCropUVs:function(r,i,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,i,n)},setUVs:function(r,i,n,h,s,o){var u=this.data.drawImage;return u.width=r,u.height=i,this.u0=n,this.v0=h,this.u1=s,this.v1=o,this},updateUVs:function(){var r=this.cutX,i=this.cutY,n=this.cutWidth,h=this.cutHeight,s=this.data.drawImage;s.width=n,s.height=h;var o=this.source.width,u=this.source.height;return this.u0=r/o,this.v0=i/u,this.u1=(r+n)/o,this.v1=(i+h)/u,this},updateUVsInverted:function(){var r=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/i,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var r=new a(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=l(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});x.exports=a},79237:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(4327),l=t(11876),a='Texture "%s" has no frame "%s"',r=new c({initialize:function(n,h,s,o,u){Array.isArray(s)||(s=[s]),this.manager=n,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var f=0;f<s.length;f++)this.source.push(new l(this,s[f],o,u))},add:function(i,n,h,s,o,u){if(this.has(i))return null;var f=new m(this,i,n,h,s,o,u);return this.frames[i]=f,this.firstFrame==="__BASE"&&(this.firstFrame=i),this.frameTotal++,f},remove:function(i){if(this.has(i)){var n=this.get(i);return n.destroy(),delete this.frames[i],!0}return!1},has:function(i){return this.frames.hasOwnProperty(i)},get:function(i){i||(i=this.firstFrame);var n=this.frames[i];return n||(console.warn(a,this.key,i),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(i){for(var n=0;n<this.source.length;n++)if(this.source[n]===i)return n;return-1},getFramesFromTextureSource:function(i,n){n===void 0&&(n=!1);var h=[];for(var s in this.frames)if(!(s==="__BASE"&&!n)){var o=this.frames[s];o.sourceIndex===i&&h.push(o)}return h},getFrameBounds:function(i){i===void 0&&(i=0);for(var n=this.getFramesFromTextureSource(i,!0),h=n[0],s=h.cutX,o=h.cutY,u=h.cutX+h.cutWidth,f=h.cutY+h.cutHeight,d=1;d<n.length;d++){var p=n[d];p.cutX<s&&(s=p.cutX),p.cutY<o&&(o=p.cutY),p.cutX+p.cutWidth>u&&(u=p.cutX+p.cutWidth),p.cutY+p.cutHeight>f&&(f=p.cutY+p.cutHeight)}return{x:s,y:o,width:u-s,height:f-o}},getFrameNames:function(i){i===void 0&&(i=!1);var n=Object.keys(this.frames);if(!i){var h=n.indexOf("__BASE");h!==-1&&n.splice(h,1)}return n},getSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i];return n?n.source.image:(console.warn(a,this.key,i),this.frames.__BASE.source.image)},getDataSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var n=this.frames[i],h;return n?h=n.sourceIndex:(console.warn(a,this.key,i),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var h=this.source[n];this.dataSource.push(new l(this,i[n],h.width,h.height))}},setFilter:function(i){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(i);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(i)},destroy:function(){var i,n=this.source,h=this.dataSource;for(i=0;i<n.length;i++)n[i]&&n[i].destroy();for(i=0;i<h.length;i++)h[i]&&h[i].destroy();for(var s in this.frames){var o=this.frames[s];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});x.exports=r},17130:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(27919),m=t(57382),l=t(83419),a=t(40987),r=t(8054),i=t(81320),n=t(50792),h=t(69442),s=t(4327),o=t(8443),u=t(99584),f=t(35154),d=t(88571),p=t(41212),y=t(61309),T=t(87841),C=t(79237),P=new l({Extends:n,initialize:function(w){n.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=c.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new T,this.silentWarnings=!1,w.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var A=this.game.config;A.defaultImage!==null&&this.addBase64("__DEFAULT",A.defaultImage),A.missingImage!==null&&this.addBase64("__MISSING",A.missingImage),A.whiteImage!==null&&this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(o.DESTROY,this.destroy,this),this.game.events.once(o.SYSTEM_READY,function(w){this.stamp=new d(w).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(A){return!A||typeof A!="string"||this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var w=A.key;return this.list.hasOwnProperty(w)&&(A.destroy(),this.emit(h.REMOVE,w),this.emit(h.REMOVE_KEY+w)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,w){if(this.checkKey(A)){var L=this,B=new Image;B.onerror=function(){L.emit(h.ERROR,A)},B.onload=function(){var F=L.create(A,B);y.Image(F,0),L.emit(h.ADD,A,F),L.emit(h.ADD_KEY+A,F),L.emit(h.LOAD,A,F)},B.src=w}return this},getBase64:function(A,w,L,B){L===void 0&&(L="image/png"),B===void 0&&(B=.92);var F="",b=this.getFrame(A,w);if(b&&(b.source.isRenderTexture||b.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(b){var G=b.canvasData,N=c.create2D(this,G.width,G.height),U=N.getContext("2d",{willReadFrequently:!0});G.width>0&&G.height>0&&U.drawImage(b.source.image,G.x,G.y,G.width,G.height,0,0,G.width,G.height),F=N.toDataURL(L,B),c.remove(N)}return F},addImage:function(A,w,L){var B=null;return this.checkKey(A)&&(B=this.create(A,w),y.Image(B,0),L&&B.setDataSource(L),this.emit(h.ADD,A,B),this.emit(h.ADD_KEY+A,B)),B},addGLTexture:function(A,w){var L=null;if(this.checkKey(A)){var B=w.width,F=w.height;L=this.create(A,w,B,F),L.add("__BASE",0,0,0,B,F),this.emit(h.ADD,A,L),this.emit(h.ADD_KEY+A,L)}return L},addCompressedTexture:function(A,w,L){var B=null;if(this.checkKey(A)){if(B=this.create(A,w),B.add("__BASE",0,0,0,w.width,w.height),L){var F=function(G,N,U){Array.isArray(U.textures)||Array.isArray(U.frames)?y.JSONArray(G,N,U):y.JSONHash(G,N,U)};if(Array.isArray(L))for(var b=0;b<L.length;b++)F(B,b,L[b]);else F(B,0,L)}this.emit(h.ADD,A,B),this.emit(h.ADD_KEY+A,B)}return B},addRenderTexture:function(A,w){var L=null;return this.checkKey(A)&&(L=this.create(A,w),L.add("__BASE",0,0,0,w.width,w.height),this.emit(h.ADD,A,L),this.emit(h.ADD_KEY+A,L)),L},generate:function(A,w){if(this.checkKey(A)){var L=c.create(this,1,1);return w.canvas=L,u(w),this.addCanvas(A,L)}else return null},createCanvas:function(A,w,L){if(w===void 0&&(w=256),L===void 0&&(L=256),this.checkKey(A)){var B=c.create(this,w,L,r.CANVAS,!0);return this.addCanvas(A,B)}return null},addCanvas:function(A,w,L){L===void 0&&(L=!1);var B=null;return L?B=new m(this,A,w,w.width,w.height):this.checkKey(A)&&(B=new m(this,A,w,w.width,w.height),this.list[A]=B,this.emit(h.ADD,A,B),this.emit(h.ADD_KEY+A,B)),B},addDynamicTexture:function(A,w,L){var B=null;return typeof A=="string"&&!this.exists(A)?B=new i(this,A,w,L):(B=A,A=B.key),this.checkKey(A)?(this.list[A]=B,this.emit(h.ADD,A,B),this.emit(h.ADD_KEY+A,B)):B=null,B},addAtlas:function(A,w,L,B){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(A,w,L,B):this.addAtlasJSONHash(A,w,L,B)},addAtlasJSONArray:function(A,w,L,B){var F=null;if(w instanceof C?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){if(Array.isArray(L))for(var b=L.length===1,G=0;G<F.source.length;G++){var N=b?L[0]:L[G];y.JSONArray(F,G,N)}else y.JSONArray(F,0,L);B&&F.setDataSource(B),this.emit(h.ADD,A,F),this.emit(h.ADD_KEY+A,F)}return F},addAtlasJSONHash:function(A,w,L,B){var F=null;if(w instanceof C?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){if(Array.isArray(L))for(var b=0;b<L.length;b++)y.JSONHash(F,b,L[b]);else y.JSONHash(F,0,L);B&&F.setDataSource(B),this.emit(h.ADD,A,F),this.emit(h.ADD_KEY+A,F)}return F},addAtlasXML:function(A,w,L,B){var F=null;return w instanceof C?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F&&(y.AtlasXML(F,0,L),B&&F.setDataSource(B),this.emit(h.ADD,A,F),this.emit(h.ADD_KEY+A,F)),F},addUnityAtlas:function(A,w,L,B){var F=null;return w instanceof C?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F&&(y.UnityYAML(F,0,L),B&&F.setDataSource(B),this.emit(h.ADD,A,F),this.emit(h.ADD_KEY+A,F)),F},addSpriteSheet:function(A,w,L,B){var F=null;if(w instanceof C?(A=w.key,F=w):this.checkKey(A)&&(F=this.create(A,w)),F){var b=F.source[0].width,G=F.source[0].height;y.SpriteSheet(F,0,0,0,b,G,L),B&&F.setDataSource(B),this.emit(h.ADD,A,F),this.emit(h.ADD_KEY+A,F)}return F},addSpriteSheetFromAtlas:function(A,w){if(!this.checkKey(A))return null;var L=f(w,"atlas",null),B=f(w,"frame",null);if(!(!L||!B)){var F=this.get(L),b=F.get(B);if(b){var G=b.source.image;G||(G=b.source.glTexture);var N=this.create(A,G);return b.trimmed?y.SpriteSheetFromAtlas(N,b,w):y.SpriteSheet(N,0,b.cutX,b.cutY,b.cutWidth,b.cutHeight,w),this.emit(h.ADD,A,N),this.emit(h.ADD_KEY+A,N),N}}},addUint8Array:function(A,w,L,B){if(!this.checkKey(A)||w.length/4!==L*B)return null;var F=this.create(A,w,L,B);return F.add("__BASE",0,0,0,L,B),this.emit(h.ADD,A,F),this.emit(h.ADD_KEY+A,F),F},create:function(A,w,L,B){var F=null;return this.checkKey(A)&&(F=new C(this,A,w,L,B),this.list[A]=F),F},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof C?A:A instanceof s?A.texture:this.list.__MISSING},cloneFrame:function(A,w){if(this.list[A])return this.list[A].get(w).clone()},getFrame:function(A,w){if(this.list[A])return this.list[A].get(w)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(p(A))return this.getFrame(A.key,A.frame);if(A instanceof C)return A.get();if(A instanceof s)return A}else return},getTextureKeys:function(){var A=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&A.push(w);return A},getPixel:function(A,w,L,B){var F=this.getFrame(L,B);if(F){A-=F.x,w-=F.y;var b=F.data.cut;if(A+=b.x,w+=b.y,A>=b.x&&A<b.r&&w>=b.y&&w<b.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(F.source.image,A,w,1,1,0,0,1,1);var N=G.getImageData(0,0,1,1);return new a(N.data[0],N.data[1],N.data[2],N.data[3])}}return null},getPixelAlpha:function(A,w,L,B){var F=this.getFrame(L,B);if(F){A-=F.x,w-=F.y;var b=F.data.cut;if(A+=b.x,w+=b.y,A>=b.x&&A<b.r&&w>=b.y&&w<b.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(F.source.image,A,w,1,1,0,0,1,1);var N=G.getImageData(0,0,1,1);return N.data[3]}}return null},setTexture:function(A,w,L){return this.list[w]&&(A.texture=this.list[w],A.frame=A.texture.get(L)),A},renameTexture:function(A,w){var L=this.get(A);return L&&A!==w?(L.key=w,this.list[w]=L,delete this.list[A],!0):!1},each:function(A,w){for(var L=[null],B=1;B<arguments.length;B++)L.push(arguments[B]);for(var F in this.list)L[0]=this.list[F],A.apply(w,L)},resetStamp:function(A,w){A===void 0&&(A=1),w===void 0&&(w=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(A),L.setTint(w),L.setTexture("__WHITE"),L},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,c.remove(this._tempCanvas)}});x.exports=P},11876:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(27919),m=t(83419),l=t(50030),a=t(29795),r=t(82751),i=new m({initialize:function(h,s,o,u,f){f===void 0&&(f=!1);var d=h.manager.game;this.renderer=d.renderer,this.texture=h,this.source=s,this.image=s.compressed?null:s,this.compressionAlgorithm=s.compressed?s.format:null,this.resolution=1,this.width=o||s.naturalWidth||s.videoWidth||s.width||0,this.height=u||s.naturalHeight||s.videoHeight||s.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=s instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&s instanceof HTMLVideoElement,this.isRenderTexture=s.type==="RenderTexture"||s.type==="DynamicTexture",this.isGLTexture=s instanceof r,this.isPowerOf2=l(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(d)},init:function(n){var h=this.renderer;if(h){var s=this.source;if(h.gl){var o=this.image,u=this.flipY,f=this.width,d=this.height,p=this.scaleMode;this.isCanvas?this.glTexture=h.createCanvasTexture(o,!1,u):this.isVideo?this.glTexture=h.createVideoTexture(o,!1,u):this.isRenderTexture?this.glTexture=h.createTextureFromSource(null,f,d,p):this.isGLTexture?this.glTexture=s:this.compressionAlgorithm?this.glTexture=h.createTextureFromSource(s,void 0,void 0,p):s instanceof Uint8Array?this.glTexture=h.createUint8ArrayTexture(s,f,d,p):this.glTexture=h.createTextureFromSource(o,f,d,p)}else this.isRenderTexture&&(this.image=s.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,h=this.image,s=this.flipY,o=n.gl;o&&this.isCanvas?n.updateCanvasTexture(h,this.glTexture,s):o&&this.isVideo&&n.updateVideoTexture(h,this.glTexture,s)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&c.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});x.exports=i},19673:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={LINEAR:0,NEAREST:1};x.exports=M},44538:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="addtexture"},63486:x=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="addtexture-"},94851:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="onerror"},29099:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="onload"},8678:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="ready"},86415:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="removetexture"},30879:x=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="removetexture-"},69442:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(79291),m=t(19673),l={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:m,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};l=c(!1,l,m),x.exports=l},89905:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var l=t.source[c];t.add("__BASE",c,0,0,l.width,l.height);for(var a=m.getElementsByTagName("SubTexture"),r,i=0;i<a.length;i++){var n=a[i].attributes,h=n.name.value,s=parseInt(n.x.value,10),o=parseInt(n.y.value,10),u=parseInt(n.width.value,10),f=parseInt(n.height.value,10);if(r=t.add(h,c,s,o,u,f),n.frameX){var d=Math.abs(parseInt(n.frameX.value,10)),p=Math.abs(parseInt(n.frameY.value,10)),y=parseInt(n.frameWidth.value,10),T=parseInt(n.frameHeight.value,10);r.setTrim(u,f,d,p,y,T)}}return t};x.exports=M},72893:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.source[c];return t.add("__BASE",c,0,0,m.width,m.height),t};x.exports=M},4832:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.source[c];return t.add("__BASE",c,0,0,m.width,m.height),t};x.exports=M},78566:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(41786),m=function(l,a,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=l.source[a];l.add("__BASE",a,0,0,i.width,i.height);for(var n=Array.isArray(r.textures)?r.textures[a].frames:r.frames,h,s=0;s<n.length;s++){var o=n[s];if(h=l.add(o.filename,a,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&h.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=o.anchor||o.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),o.scale9Borders&&h.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),h.customData=c(o)}for(var f in r)f!=="frames"&&(Array.isArray(r[f])?l.customData[f]=r[f].slice(0):l.customData[f]=r[f]);return l};x.exports=m},39711:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(41786),m=function(l,a,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=l.source[a];l.add("__BASE",a,0,0,i.width,i.height);var n=r.frames,h;for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];if(h=l.add(s,a,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+s);continue}o.trimmed&&h.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=o.anchor||o.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),o.scale9Borders&&h.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),h.customData=c(o)}for(var f in r)f!=="frames"&&(Array.isArray(r[f])?l.customData[f]=r[f].slice(0):l.customData[f]=r[f]);return l};x.exports=m},31403:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=[171,75,84,88,32,49,49,187,13,10,26,10],m,l=new Uint8Array(t,0,12);for(m=0;m<l.length;m++)if(l[m]!==c[m]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*a),i=r.getUint32(0,!0)===67305985,n=r.getUint32(1*a,i);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=r.getUint32(4*a,i),s=r.getUint32(6*a,i),o=r.getUint32(7*a,i),u=Math.max(1,r.getUint32(11*a,i)),f=r.getUint32(12*a,i),d=new Array(u),p=12+13*4+f,y=s,T=o;for(m=0;m<u;m++){var C=new Int32Array(t,p,1)[0];p+=4,d[m]={data:new Uint8Array(t,p,C),width:y,height:T},y=Math.max(1,y>>1),T=Math.max(1,T>>1),p+=C}return{mipmaps:d,width:s,height:o,internalFormat:h,compressed:!0,generateMipmap:!1}};x.exports=M},82038:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(w,L,B,F,b,G,N){return N===void 0&&(N=16),Math.floor((w+B)/b)*Math.floor((L+F)/G)*N}function t(w,L){return w=Math.max(w,16),L=Math.max(L,8),w*L/4}function c(w,L){return w=Math.max(w,8),L=Math.max(L,8),w*L/2}function m(w,L){return Math.ceil(w/4)*Math.ceil(L/4)*16}function l(w,L){return M(w,L,3,3,4,4,8)}function a(w,L){return M(w,L,3,3,4,4)}function r(w,L){return M(w,L,4,3,5,4)}function i(w,L){return M(w,L,4,4,5,5)}function n(w,L){return M(w,L,5,4,6,5)}function h(w,L){return M(w,L,5,5,6,6)}function s(w,L){return M(w,L,7,4,8,5)}function o(w,L){return M(w,L,7,5,8,6)}function u(w,L){return M(w,L,7,7,8,8)}function f(w,L){return M(w,L,9,4,10,5)}function d(w,L){return M(w,L,9,5,10,6)}function p(w,L){return M(w,L,9,7,10,8)}function y(w,L){return M(w,L,9,9,10,10)}function T(w,L){return M(w,L,11,9,12,10)}function C(w,L){return M(w,L,11,11,12,12)}var P={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:c,glFormat:[35840]},3:{sizeFunc:c,glFormat:[35842]},6:{sizeFunc:l,glFormat:[36196]},7:{sizeFunc:l,glFormat:[33776,35916]},8:{sizeFunc:a,glFormat:[33777,35917]},9:{sizeFunc:a,glFormat:[33778,35918]},11:{sizeFunc:a,glFormat:[33779,35919]},14:{sizeFunc:m,glFormat:[36494,36495]},15:{sizeFunc:m,glFormat:[36492,36493]},22:{sizeFunc:l,glFormat:[37492,37493]},23:{sizeFunc:a,glFormat:[37496,37497]},24:{sizeFunc:l,glFormat:[37494,37495]},25:{sizeFunc:l,glFormat:[37488]},26:{sizeFunc:a,glFormat:[37490]},27:{sizeFunc:a,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:i,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:h,glFormat:[37812,37844]},32:{sizeFunc:s,glFormat:[37813,37845]},33:{sizeFunc:o,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:f,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:p,glFormat:[37818,37850]},38:{sizeFunc:y,glFormat:[37819,37851]},39:{sizeFunc:T,glFormat:[37820,37852]},40:{sizeFunc:C,glFormat:[37821,37853]}},A=function(w){for(var L=new Uint32Array(w,0,13),B=L[0],F=B===55727696,b=F?L[2]:L[3],G=L[4],N=P[b].glFormat[G],U=P[b].sizeFunc,W=L[11],H=L[7],k=L[6],z=52+L[12],$=new Uint8Array(w,z),X=new Array(W),Q=0,Z=H,K=k,J=0;J<W;J++){var q=U(Z,K);X[J]={data:new Uint8Array($.buffer,$.byteOffset+Q,q),width:Z,height:K},Z=Math.max(1,Z>>1),K=Math.max(1,K>>1),Q+=q}return{mipmaps:X,width:H,height:k,internalFormat:N,compressed:!0,generateMipmap:!1}};x.exports=A},75549:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m=function(l,a,r,i,n,h,s){var o=c(s,"frameWidth",null),u=c(s,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var f=l.source[a];l.add("__BASE",a,0,0,f.width,f.height);var d=c(s,"startFrame",0),p=c(s,"endFrame",-1),y=c(s,"margin",0),T=c(s,"spacing",0),C=Math.floor((n-y+T)/(o+T)),P=Math.floor((h-y+T)/(u+T)),A=C*P;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",l.key),(d>A||d<-A)&&(d=0),d<0&&(d=A+d),(p===-1||p>A||p<d)&&(p=A);for(var w=y,L=y,B=0,F=0,b=0,G=0;G<A;G++){B=0,F=0;var N=w+o,U=L+u;N>n&&(B=N-n),U>h&&(F=U-h),G>=d&&G<=p&&(l.add(b,a,r+w,i+L,o-B,u-F),b++),w+=o+T,w+o>n&&(w=y,L+=u+T)}return l};x.exports=m},47534:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m=function(l,a,r){var i=c(r,"frameWidth",null),n=c(r,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=l.source[0];l.add("__BASE",0,0,0,h.width,h.height),c(r,"startFrame",0),c(r,"endFrame",-1);for(var s=c(r,"margin",0),o=c(r,"spacing",0),u=a.cutX,f=a.cutY,d=a.cutWidth,p=a.cutHeight,y=a.realWidth,T=a.realHeight,C=Math.floor((y-s+o)/(i+o)),P=Math.floor((T-s+o)/(n+o)),A=a.x,w=i-A,L=i-(y-d-A),B=a.y,F=n-B,b=n-(T-p-B),G,N=s,U=s,W=0,H=0,k=0;k<P;k++){for(var z=k===0,$=k===P-1,X=0;X<C;X++){var Q=X===0,Z=X===C-1;if(G=l.add(W,H,u+N,f+U,i,n),Q||z||Z||$){var K=Q?A:0,J=z?B:0,q=0,tt=0;Q&&(q+=i-w),Z&&(q+=i-L),z&&(tt+=n-F),$&&(tt+=n-b);var it=i-q,nt=n-tt;G.cutWidth=it,G.cutHeight=nt,G.setTrim(i,n,K,J,it,nt)}N+=o,Q?N+=w:Z?N+=L:N+=i,W++}N=s,U+=o,z?U+=F:$?U+=b:U+=n}return l};x.exports=m},86147:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=0,t=function(m,l,a,r){var i=M-r.y-r.height;m.add(a,l,r.x,i,r.width,r.height)},c=function(m,l,a){var r=m.source[l];m.add("__BASE",l,0,0,r.width,r.height),M=r.height;for(var i=a.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",s="",o={x:0,y:0,width:0,height:0},u=0;u<i.length;u++){var f=i[u].match(n);if(f){var d=f[1]==="- ",p=f[2],y=f[3];if(d&&(s!==h&&(t(m,l,s,o),h=s),o={x:0,y:0,width:0,height:0}),p==="name"){s=y;continue}switch(p){case"x":case"y":case"width":case"height":o[p]=parseInt(y,10);break}}}return s!==h&&t(m,l,s,o),m};x.exports=c},55222:(x,M,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(50030),m=function(h){for(var s=h.mipmaps,o=1;o<s.length;o++){var u=s[o].width,f=s[o].height;if(!c(u,f))return console.warn("Mip level "+o+" is not a power-of-two size: "+u+"x"+f),!1}var d=n[h.internalFormat];return d?d(h):(console.warn("No format checker found for internal format "+h.internalFormat+". Assuming valid."),!0)};function l(h){for(var s=h.mipmaps,o=0;o<s.length;o++){var u=s[o].width,f=s[o].height;if((u<<o)%4!==0||(f<<o)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+o+" is "+u+"x"+f),!1}return!0}function a(){return!0}function r(h){var s=h.mipmaps,o=s[0];return c(o.width,o.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+o.width+"x"+o.height),!1)}function i(h){var s=h.mipmaps,o=s[0];return o.width%4!==0||o.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+o.width+"x"+o.height+" pixels"),!1):!0}var n={37488:a,37489:a,37490:a,37491:a,37492:a,37493:a,37494:a,37495:a,37496:a,37497:a,36196:a,37808:a,37809:a,37810:a,37811:a,37812:a,37813:a,37814:a,37815:a,37816:a,37817:a,37818:a,37819:a,37820:a,37821:a,37840:a,37841:a,37842:a,37843:a,37844:a,37845:a,37846:a,37847:a,37848:a,37849:a,37850:a,37851:a,37852:a,37853:a,36492:l,36493:l,36494:l,36495:l,36283:l,36284:l,36285:l,36286:l,35840:r,35841:r,35842:r,35843:r,33776:l,33777:l,33778:l,33779:l,35916:i,35917:i,35918:i,35919:i};x.exports=m},61309:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a,r,i,n,h,s,o){(i===void 0||i<=0)&&(i=32),(n===void 0||n<=0)&&(n=32),h===void 0&&(h=0),s===void 0&&(s=0),this.name=a,this.firstgid=r|0,this.imageWidth=i|0,this.imageHeight=n|0,this.imageMargin=h|0,this.imageSpacing=s|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},addImage:function(l,a){return this.images.push({gid:l,image:a}),this.total++,this}});x.exports=m},27462:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=new c({initialize:function(a){if(this.gids=[],a!==void 0)for(var r=0;r<a.length;++r)for(var i=a[r],n=0;n<i.total;++n)this.gids[i.firstgid+n]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(l){this.gids=l?this._gids:void 0}},getTypeIncludingTile:function(l){if(l.type!==void 0&&l.type!=="")return l.type;if(!(!this.gids||l.gid===void 0)){var a=this.gids[l.gid];if(a){var r=a.getTileData(l.gid);if(r)return r.type}}},setTextureAndFrame:function(l,a,r,i){if(a===null&&this.gids&&i.gid!==void 0){var n=this.gids[i.gid];n&&(a===null&&n.image!==void 0&&(a=n.image.key),r===null&&(r=i.gid-n.firstgid),l.scene.textures.getFrame(a,r)||(a=null,r=null))}l.setTexture(a,r)},setPropertiesFromTiledObject:function(l,a){if(this.gids!==void 0&&a.gid!==void 0){var r=this.gids[a.gid];r!==void 0&&this.setFromJSON(l,r.getTileProperties(a.gid))}this.setFromJSON(l,a.properties)},setFromJSON:function(l,a){if(a){if(Array.isArray(a)){for(var r=0;r<a.length;r++){var i=a[r];l[i.name]!==void 0?l[i.name]=i.value:l.setData(i.name,i.value)}return}for(var n in a)l[n]!==void 0?l[n]=a[n]:l.setData(n,a[n])}}});x.exports=m},31989:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(80341),m=t(87010),l=t(46177),a=t(49075),r=function(i,n,h,s,o,u,f,d){h===void 0&&(h=32),s===void 0&&(s=32),o===void 0&&(o=10),u===void 0&&(u=10),d===void 0&&(d=!1);var p=null;if(Array.isArray(f)){var y=n!==void 0?n:"map";p=l(y,c.ARRAY_2D,f,h,s,d)}else if(n!==void 0){var T=i.cache.tilemap.get(n);T?p=l(n,T.format,T.data,h,s,d):console.warn("No map data found for key "+n)}return p===null&&(p=new m({tileWidth:h,tileHeight:s,width:o,height:u})),new a(i,p)};x.exports=r},23029:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(31401),l=t(91907),a=t(62644),r=t(93232),i=new c({Mixins:[m.AlphaSingle,m.Flip,m.Visible],initialize:function(h,s,o,u,f,d,p,y){this.layer=h,this.index=s,this.x=o,this.y=u,this.width=f,this.height=d,this.right,this.bottom,this.baseWidth=p!==void 0?p:f,this.baseHeight=y!==void 0?y:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,h){return!(n<this.pixelX||h<this.pixelY||n>this.right||h>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=a(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var h=this.tilemapLayer;if(h){var s=h.tileToWorldXY(this.x,this.y,void 0,n);return s.x}return this.x*this.baseWidth},getRight:function(n){var h=this.tilemapLayer;return h?this.getLeft(n)+this.width*h.scaleX:this.getLeft(n)+this.width},getTop:function(n){var h=this.tilemapLayer;if(h){var s=h.tileToWorldXY(this.x,this.y,void 0,n);return s.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var h=this.tilemapLayer;return h?this.getTop(n)+this.height*h.scaleY:this.getTop(n)+this.height},getBounds:function(n,h){return h===void 0&&(h=new r),h.x=this.getLeft(n),h.y=this.getTop(n),h.width=this.getRight(n)-h.x,h.height=this.getBottom(n)-h.y,h},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,h,s,o){return!(s<=this.pixelX||o<=this.pixelY||n>=this.right||h>=this.bottom)},isInteresting:function(n,h){return n&&h?this.canCollide||this.hasInterestingFace:n?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,h,s,o,u){if(h===void 0&&(h=n),s===void 0&&(s=n),o===void 0&&(o=n),u===void 0&&(u=!0),this.collideLeft=n,this.collideRight=h,this.collideUp=s,this.collideDown=o,this.faceLeft=n,this.faceRight=h,this.faceTop=s,this.faceBottom=o,u){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,h){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=h),this},setSize:function(n,h,s,o){return n!==void 0&&(this.width=n),h!==void 0&&(this.height=h),s!==void 0&&(this.baseWidth=s),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===l.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===l.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===l.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===l.HEXAGONAL){var h=this.layer.staggerAxis,s=this.layer.staggerIndex,o=this.layer.hexSideLength,u,f;h==="y"?(f=(this.baseHeight-o)/2+o,s==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*f):h==="x"&&(u=(this.baseWidth-o)/2+o,this.pixelX=this.x*u,s==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var h=n.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});x.exports=i},49075:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(84101),m=t(83419),l=t(39506),a=t(80341),r=t(95540),i=t(14977),n=t(27462),h=t(91907),s=t(36305),o=t(19133),u=t(68287),f=t(23029),d=t(81086),p=t(20442),y=t(33629),T=new m({initialize:function(P,A){this.scene=P,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(w),WorldToTileX:d.GetWorldToTileXFunction(w),WorldToTileY:d.GetWorldToTileYFunction(w),TileToWorldXY:d.GetTileToWorldXYFunction(w),TileToWorldX:d.GetTileToWorldXFunction(w),TileToWorldY:d.GetTileToWorldYFunction(w),GetTileCorners:d.GetTileCornersFunction(w)}},setRenderOrder:function(C){var P=["right-down","left-down","right-up","left-up"];return typeof C=="number"&&(C=P[C]),P.indexOf(C)>-1&&(this.renderOrder=C),this},addTilesetImage:function(C,P,A,w,L,B,F,b){if(C===void 0)return null;P==null&&(P=C);var G=this.scene.sys.textures;if(!G.exists(P))return console.warn('Texture key "%s" not found',P),null;var N=G.get(P),U=this.getTilesetIndex(C);if(U===null&&this.format===a.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',C,this.tilesets),null;var W=this.tilesets[U];return W?((A||w)&&W.setTileSize(A,w),(L||B)&&W.setSpacing(L,B),W.setImage(N),W):(A===void 0&&(A=this.tileWidth),w===void 0&&(w=this.tileHeight),L===void 0&&(L=0),B===void 0&&(B=0),F===void 0&&(F=0),b===void 0&&(b={x:0,y:0}),W=new y(C,F,A,w,L,B,void 0,void 0,b),W.setImage(N),this.tilesets.push(W),this.tiles=c(this),W)},copy:function(C,P,A,w,L,B,F,b){return b=this.getLayer(b),b!==null?(d.Copy(C,P,A,w,L,B,F,b),this):null},createBlankLayer:function(C,P,A,w,L,B,F,b){A===void 0&&(A=0),w===void 0&&(w=0),L===void 0&&(L=this.width),B===void 0&&(B=this.height),F===void 0&&(F=this.tileWidth),b===void 0&&(b=this.tileHeight);var G=this.getLayerIndex(C);if(G!==null)return console.warn("Invalid Tilemap Layer ID: "+C),null;for(var N=new i({name:C,tileWidth:F,tileHeight:b,width:L,height:B,orientation:this.orientation}),U,W=0;W<B;W++){U=[];for(var H=0;H<L;H++)U.push(new f(N,-1,H,W,F,b,this.tileWidth,this.tileHeight));N.data.push(U)}this.layers.push(N),this.currentLayerIndex=this.layers.length-1;var k=new p(this.scene,this,this.currentLayerIndex,P,A,w);return k.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(k),k},createLayer:function(C,P,A,w){var L=this.getLayerIndex(C);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+C),typeof C=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var B=this.layers[L];if(B.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+C),null;this.currentLayerIndex=L,A===void 0&&(A=B.x),w===void 0&&(w=B.y);var F=new p(this.scene,this,L,P,A,w);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(C,P,A){A===void 0&&(A=!0);var w=[],L=this.getObjectLayer(C);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+C),w;var B=new n(A?this.tilesets:void 0);Array.isArray(P)||(P=[P]);for(var F=L.objects,b=0;b<P.length;b++){var G=P[b],N=r(G,"id",null),U=r(G,"gid",null),W=r(G,"name",null),H=r(G,"type",null);B.enabled=!r(G,"ignoreTileset",null);for(var k,z=[],$=0;$<F.length;$++)k=F[$],(N===null&&U===null&&W===null&&H===null||N!==null&&k.id===N||U!==null&&k.gid===U||W!==null&&k.name===W||H!==null&&B.getTypeIncludingTile(k)===H)&&z.push(k);for(var X=r(G,"classType",u),Q=r(G,"scene",this.scene),Z=r(G,"container",null),K=r(G,"key",null),J=r(G,"frame",null),q=0;q<z.length;q++){k=z[q];var tt=new X(Q);if(tt.setName(k.name),tt.setPosition(k.x,k.y),B.setTextureAndFrame(tt,K,J,k),k.width&&(tt.displayWidth=k.width),k.height&&(tt.displayHeight=k.height),this.orientation===h.ISOMETRIC){var it=this.tileWidth/this.tileHeight,nt={x:tt.x-tt.y,y:(tt.x+tt.y)/it};tt.x=nt.x,tt.y=nt.y}var rt={x:tt.originX*k.width,y:(tt.originY-(k.gid?1:0))*k.height};if(k.rotation){var ht=l(k.rotation);s(rt,ht),tt.rotation=ht}tt.x+=rt.x,tt.y+=rt.y,(k.flippedHorizontal!==void 0||k.flippedVertical!==void 0)&&tt.setFlip(k.flippedHorizontal,k.flippedVertical),k.visible||(tt.visible=!1),B.setPropertiesFromTiledObject(tt,k),Z?Z.add(tt):Q.add.existing(tt),w.push(tt)}}return w},createFromTiles:function(C,P,A,w,L,B){return B=this.getLayer(B),B===null?null:d.CreateFromTiles(C,P,A,w,L,B)},fill:function(C,P,A,w,L,B,F){return B===void 0&&(B=!0),F=this.getLayer(F),F===null?null:(d.Fill(C,P,A,w,L,B,F),this)},filterObjects:function(C,P,A){if(typeof C=="string"){var w=C;if(C=this.getObjectLayer(C),!C)return console.warn("No object layer found with the name: "+w),null}return C.objects.filter(P,A)},filterTiles:function(C,P,A,w,L,B,F,b){return b=this.getLayer(b),b===null?null:d.FilterTiles(C,P,A,w,L,B,F,b)},findByIndex:function(C,P,A,w){return w=this.getLayer(w),w===null?null:d.FindByIndex(C,P,A,w)},findObject:function(C,P,A){if(typeof C=="string"){var w=C;if(C=this.getObjectLayer(C),!C)return console.warn("No object layer found with the name: "+w),null}return C.objects.find(P,A)||null},findTile:function(C,P,A,w,L,B,F,b){return b=this.getLayer(b),b===null?null:d.FindTile(C,P,A,w,L,B,F,b)},forEachTile:function(C,P,A,w,L,B,F,b){return b=this.getLayer(b),b===null?null:(d.ForEachTile(C,P,A,w,L,B,F,b),this)},getImageIndex:function(C){return this.getIndex(this.images,C)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(C){return C.name})},getIndex:function(C,P){for(var A=0;A<C.length;A++)if(C[A].name===P)return A;return null},getLayer:function(C){var P=this.getLayerIndex(C);return P!==null?this.layers[P]:null},getObjectLayer:function(C){var P=this.getIndex(this.objects,C);return P!==null?this.objects[P]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(C){return C.name})},getLayerIndex:function(C){return C===void 0?this.currentLayerIndex:typeof C=="string"?this.getLayerIndexByName(C):typeof C=="number"&&C<this.layers.length?C:C instanceof p&&C.tilemap===this?C.layerIndex:null},getLayerIndexByName:function(C){return this.getIndex(this.layers,C)},getTileAt:function(C,P,A,w){return w=this.getLayer(w),w===null?null:d.GetTileAt(C,P,A,w)},getTileAtWorldXY:function(C,P,A,w,L){return L=this.getLayer(L),L===null?null:d.GetTileAtWorldXY(C,P,A,w,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(C){return C.name})},getTilesWithin:function(C,P,A,w,L,B){return B=this.getLayer(B),B===null?null:d.GetTilesWithin(C,P,A,w,L,B)},getTilesWithinShape:function(C,P,A,w){return w=this.getLayer(w),w===null?null:d.GetTilesWithinShape(C,P,A,w)},getTilesWithinWorldXY:function(C,P,A,w,L,B,F){return F=this.getLayer(F),F===null?null:d.GetTilesWithinWorldXY(C,P,A,w,L,B,F)},getTileset:function(C){var P=this.getIndex(this.tilesets,C);return P!==null?this.tilesets[P]:null},getTilesetIndex:function(C){return this.getIndex(this.tilesets,C)},hasTileAt:function(C,P,A){return A=this.getLayer(A),A===null?null:d.HasTileAt(C,P,A)},hasTileAtWorldXY:function(C,P,A,w){return w=this.getLayer(w),w===null?null:d.HasTileAtWorldXY(C,P,A,w)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(C){this.setLayer(C)}},putTileAt:function(C,P,A,w,L){return w===void 0&&(w=!0),L=this.getLayer(L),L===null?null:d.PutTileAt(C,P,A,w,L)},putTileAtWorldXY:function(C,P,A,w,L,B){return w===void 0&&(w=!0),B=this.getLayer(B),B===null?null:d.PutTileAtWorldXY(C,P,A,w,L,B)},putTilesAt:function(C,P,A,w,L){return w===void 0&&(w=!0),L=this.getLayer(L),L===null?null:(d.PutTilesAt(C,P,A,w,L),this)},randomize:function(C,P,A,w,L,B){return B=this.getLayer(B),B===null?null:(d.Randomize(C,P,A,w,L,B),this)},calculateFacesAt:function(C,P,A){return A=this.getLayer(A),A===null?null:(d.CalculateFacesAt(C,P,A),this)},calculateFacesWithin:function(C,P,A,w,L){return L=this.getLayer(L),L===null?null:(d.CalculateFacesWithin(C,P,A,w,L),this)},removeLayer:function(C){var P=this.getLayerIndex(C);if(P!==null){o(this.layers,P);for(var A=P;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===P&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(C){var P=this.getLayerIndex(C);return P!==null?(C=this.layers[P],C.tilemapLayer.destroy(),o(this.layers,P),this.currentLayerIndex===P&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var C=this.layers,P=0;P<C.length;P++)C[P].tilemapLayer&&C[P].tilemapLayer.destroy(!1);return C.length=0,this.currentLayerIndex=0,this},removeTile:function(C,P,A){P===void 0&&(P=-1),A===void 0&&(A=!0);var w=[];Array.isArray(C)||(C=[C]);for(var L=0;L<C.length;L++){var B=C[L];w.push(this.removeTileAt(B.x,B.y,!0,A,B.tilemapLayer)),P>-1&&this.putTileAt(P,B.x,B.y,A,B.tilemapLayer)}return w},removeTileAt:function(C,P,A,w,L){return A===void 0&&(A=!0),w===void 0&&(w=!0),L=this.getLayer(L),L===null?null:d.RemoveTileAt(C,P,A,w,L)},removeTileAtWorldXY:function(C,P,A,w,L,B){return A===void 0&&(A=!0),w===void 0&&(w=!0),B=this.getLayer(B),B===null?null:d.RemoveTileAtWorldXY(C,P,A,w,L,B)},renderDebug:function(C,P,A){return A=this.getLayer(A),A===null?null:(this.orientation===h.ORTHOGONAL&&d.RenderDebug(C,P,A),this)},renderDebugFull:function(C,P){for(var A=this.layers,w=0;w<A.length;w++)d.RenderDebug(C,P,A[w]);return this},replaceByIndex:function(C,P,A,w,L,B,F){return F=this.getLayer(F),F===null?null:(d.ReplaceByIndex(C,P,A,w,L,B,F),this)},setCollision:function(C,P,A,w,L){return P===void 0&&(P=!0),A===void 0&&(A=!0),L===void 0&&(L=!0),w=this.getLayer(w),w===null?null:(d.SetCollision(C,P,A,w,L),this)},setCollisionBetween:function(C,P,A,w,L){return A===void 0&&(A=!0),w===void 0&&(w=!0),L=this.getLayer(L),L===null?null:(d.SetCollisionBetween(C,P,A,w,L),this)},setCollisionByProperty:function(C,P,A,w){return P===void 0&&(P=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(d.SetCollisionByProperty(C,P,A,w),this)},setCollisionByExclusion:function(C,P,A,w){return P===void 0&&(P=!0),A===void 0&&(A=!0),w=this.getLayer(w),w===null?null:(d.SetCollisionByExclusion(C,P,A,w),this)},setCollisionFromCollisionGroup:function(C,P,A){return C===void 0&&(C=!0),P===void 0&&(P=!0),A=this.getLayer(A),A===null?null:(d.SetCollisionFromCollisionGroup(C,P,A),this)},setTileIndexCallback:function(C,P,A,w){return w=this.getLayer(w),w===null?null:(d.SetTileIndexCallback(C,P,A,w),this)},setTileLocationCallback:function(C,P,A,w,L,B,F){return F=this.getLayer(F),F===null?null:(d.SetTileLocationCallback(C,P,A,w,L,B,F),this)},setLayer:function(C){var P=this.getLayerIndex(C);return P!==null&&(this.currentLayerIndex=P),this},setBaseTileSize:function(C,P){this.tileWidth=C,this.tileHeight=P,this.widthInPixels=this.width*C,this.heightInPixels=this.height*P;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=C,this.layers[A].baseTileHeight=P;for(var w=this.layers[A].data,L=this.layers[A].width,B=this.layers[A].height,F=0;F<B;F++)for(var b=0;b<L;b++){var G=w[F][b];G!==null&&G.setSize(void 0,void 0,C,P)}}return this},setLayerTileSize:function(C,P,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=C,A.tileHeight=P;for(var w=A.data,L=A.width,B=A.height,F=0;F<B;F++)for(var b=0;b<L;b++){var G=w[F][b];G!==null&&G.setSize(C,P)}return this},shuffle:function(C,P,A,w,L){return L=this.getLayer(L),L===null?null:(d.Shuffle(C,P,A,w,L),this)},swapByIndex:function(C,P,A,w,L,B,F){return F=this.getLayer(F),F===null?null:(d.SwapByIndex(C,P,A,w,L,B,F),this)},tileToWorldX:function(C,P,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(C,P,A)},tileToWorldY:function(C,P,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(C,P,A)},tileToWorldXY:function(C,P,A,w,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(C,P,A,w,L)},getTileCorners:function(C,P,A,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(C,P,A,w)},weightedRandomize:function(C,P,A,w,L,B){return B=this.getLayer(B),B===null?null:(d.WeightedRandomize(P,A,w,L,C,B),this)},worldToTileX:function(C,P,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(C,P,A,w)},worldToTileY:function(C,P,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(C,P,A,w)},worldToTileXY:function(C,P,A,w,L,B){return B=this.getLayer(B),B===null?null:this._convert.WorldToTileXY(C,P,A,w,L,B)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});x.exports=T},45939:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(44603),m=t(31989);c.register("tilemap",function(l){var a=l!==void 0?l:{};return m(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},46029:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(39429),m=t(31989);c.register("tilemap",function(l,a,r,i,n,h,s){return l===null&&(l=void 0),a===null&&(a=void 0),r===null&&(r=void 0),i===null&&(i=void 0),n===null&&(n=void 0),m(this.scene,l,a,r,i,n,h,s)})},20442:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(78389),l=t(31401),a=t(95643),r=t(81086),i=t(19218),n=t(26099),h=new c({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,m,i],initialize:function(o,u,f,d,p,y){a.call(this,o,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=f,this.layer=u.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(p,y),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(s){var o=[],u=[],f=this.tilemap;Array.isArray(s)||(s=[s]);for(var d=0;d<s.length;d++){var p=s[d];if(typeof p=="string"&&(p=f.getTileset(p)),p){u.push(p);for(var y=p.firstgid,T=0;T<p.total;T++)o[y+T]=p}}this.gidMap=o,this.tileset=u},setRenderOrder:function(s){var o=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=o.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,o){return r.CalculateFacesAt(s,o,this.layer),this},calculateFacesWithin:function(s,o,u,f){return r.CalculateFacesWithin(s,o,u,f,this.layer),this},createFromTiles:function(s,o,u,f,d){return r.CreateFromTiles(s,o,u,f,d,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,o,u,f,d,p,y){return r.Copy(s,o,u,f,d,p,y,this.layer),this},fill:function(s,o,u,f,d,p){return r.Fill(s,o,u,f,d,p,this.layer),this},filterTiles:function(s,o,u,f,d,p,y){return r.FilterTiles(s,o,u,f,d,p,y,this.layer)},findByIndex:function(s,o,u){return r.FindByIndex(s,o,u,this.layer)},findTile:function(s,o,u,f,d,p,y){return r.FindTile(s,o,u,f,d,p,y,this.layer)},forEachTile:function(s,o,u,f,d,p,y){return r.ForEachTile(s,o,u,f,d,p,y,this.layer),this},setTint:function(s,o,u,f,d,p){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!1};return this.forEachTile(y,this,o,u,f,d,p)},setTintFill:function(s,o,u,f,d,p){s===void 0&&(s=16777215);var y=function(T){T.tint=s,T.tintFill=!0};return this.forEachTile(y,this,o,u,f,d,p)},getTileAt:function(s,o,u){return r.GetTileAt(s,o,u,this.layer)},getTileAtWorldXY:function(s,o,u,f){return r.GetTileAtWorldXY(s,o,u,f,this.layer)},getIsoTileAtWorldXY:function(s,o,u,f,d){u===void 0&&(u=!0);var p=this.tempVec;return r.IsometricWorldToTileXY(s,o,!0,p,d,this.layer,u),this.getTileAt(p.x,p.y,f)},getTilesWithin:function(s,o,u,f,d){return r.GetTilesWithin(s,o,u,f,d,this.layer)},getTilesWithinShape:function(s,o,u){return r.GetTilesWithinShape(s,o,u,this.layer)},getTilesWithinWorldXY:function(s,o,u,f,d,p){return r.GetTilesWithinWorldXY(s,o,u,f,d,p,this.layer)},hasTileAt:function(s,o){return r.HasTileAt(s,o,this.layer)},hasTileAtWorldXY:function(s,o,u){return r.HasTileAtWorldXY(s,o,u,this.layer)},putTileAt:function(s,o,u,f){return r.PutTileAt(s,o,u,f,this.layer)},putTileAtWorldXY:function(s,o,u,f,d){return r.PutTileAtWorldXY(s,o,u,f,d,this.layer)},putTilesAt:function(s,o,u,f){return r.PutTilesAt(s,o,u,f,this.layer),this},randomize:function(s,o,u,f,d){return r.Randomize(s,o,u,f,d,this.layer),this},removeTileAt:function(s,o,u,f){return r.RemoveTileAt(s,o,u,f,this.layer)},removeTileAtWorldXY:function(s,o,u,f,d){return r.RemoveTileAtWorldXY(s,o,u,f,d,this.layer)},renderDebug:function(s,o){return r.RenderDebug(s,o,this.layer),this},replaceByIndex:function(s,o,u,f,d,p){return r.ReplaceByIndex(s,o,u,f,d,p,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,o){return s===void 0&&(s=1),o===void 0&&(o=1),this.cullPaddingX=s,this.cullPaddingY=o,this},setCollision:function(s,o,u,f){return r.SetCollision(s,o,u,this.layer,f),this},setCollisionBetween:function(s,o,u,f){return r.SetCollisionBetween(s,o,u,f,this.layer),this},setCollisionByProperty:function(s,o,u){return r.SetCollisionByProperty(s,o,u,this.layer),this},setCollisionByExclusion:function(s,o,u){return r.SetCollisionByExclusion(s,o,u,this.layer),this},setCollisionFromCollisionGroup:function(s,o){return r.SetCollisionFromCollisionGroup(s,o,this.layer),this},setTileIndexCallback:function(s,o,u){return r.SetTileIndexCallback(s,o,u,this.layer),this},setTileLocationCallback:function(s,o,u,f,d,p){return r.SetTileLocationCallback(s,o,u,f,d,p,this.layer),this},shuffle:function(s,o,u,f){return r.Shuffle(s,o,u,f,this.layer),this},swapByIndex:function(s,o,u,f,d,p){return r.SwapByIndex(s,o,u,f,d,p,this.layer),this},tileToWorldX:function(s,o){return this.tilemap.tileToWorldX(s,o,this)},tileToWorldY:function(s,o){return this.tilemap.tileToWorldY(s,o,this)},tileToWorldXY:function(s,o,u,f){return this.tilemap.tileToWorldXY(s,o,u,f,this)},getTileCorners:function(s,o,u){return this.tilemap.getTileCorners(s,o,u,this)},weightedRandomize:function(s,o,u,f,d){return r.WeightedRandomize(o,u,f,d,s,this.layer),this},worldToTileX:function(s,o,u){return this.tilemap.worldToTileX(s,o,u,this)},worldToTileY:function(s,o,u){return this.tilemap.worldToTileY(s,o,u,this)},worldToTileXY:function(s,o,u,f,d){return this.tilemap.worldToTileXY(s,o,u,f,d,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});x.exports=h},16153:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(61340),m=new c,l=new c,a=new c,r=function(i,n,h,s){var o=n.cull(h),u=o.length,f=h.alpha*n.alpha;if(!(u===0||f<=0)){var d=m,p=l,y=a;p.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),d.copyFrom(h.matrix);var T=i.currentContext,C=n.gidMap;T.save(),s?(d.multiplyWithOffset(s,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),p.e=n.x,p.f=n.y,d.multiply(p,y),y.copyToContext(T)):(p.e-=h.scrollX*n.scrollFactorX,p.f-=h.scrollY*n.scrollFactorY,p.copyToContext(T)),(!i.antialias||n.scaleX>1||n.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var P=0;P<u;P++){var A=o[P],w=C[A.index];if(w){var L=w.image.getSourceImage(),B=w.getTileTextureCoordinates(A.index),F=w.tileWidth,b=w.tileHeight;if(!(B===null||F===0||b===0)){var G=F*.5,N=b*.5;B.x+=w.tileOffset.x,B.y+=w.tileOffset.y,T.save(),T.translate(A.pixelX+G,A.pixelY+N),A.rotation!==0&&T.rotate(A.rotation),(A.flipX||A.flipY)&&T.scale(A.flipX?-1:1,A.flipY?-1:1),T.globalAlpha=f*A.alpha,T.drawImage(L,B.x,B.y,F,b,-G,-N,F,b),T.restore()}}}T.restore()}};x.exports=r},19218:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(29747),m=c,l=c;m=t(99558),l=t(16153),x.exports={renderWebGL:m,renderCanvas:l}},99558:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70554),m=function(l,a,r){var i=a.cull(r),n=i.length,h=r.alpha*a.alpha;if(!(n===0||h<=0)){var s=a.gidMap,o=l.pipelines.set(a.pipeline,a),u=c.getTintAppendFloatAlpha,f=a.scrollFactorX,d=a.scrollFactorY,p=a.x,y=a.y,T=a.scaleX,C=a.scaleY;l.pipelines.preBatch(a);for(var P=0;P<n;P++){var A=i[P],w=s[A.index];if(w){var L=w.getTileTextureCoordinates(A.index),B=w.tileWidth,F=w.tileHeight;if(!(!L||B===0||F===0)){var b=B*.5,G=F*.5,N=w.glTexture,U=o.setTexture2D(N,a),W=B,H=F,k=L.x,z=L.y,$=w.tileOffset.x,X=w.tileOffset.y,Q=u(A.tint,h*A.alpha);o.batchTexture(a,N,N.width,N.height,p+A.pixelX*T+(b*T-$),y+A.pixelY*C+(G*C-X),B,F,T,C,A.rotation,A.flipX,A.flipY,f,d,b,G,k,z,W,H,Q,Q,Q,Q,A.tintFill,0,0,r,null,!0,U,!0)}}}l.pipelines.postBatch(a)}};x.exports=m},33629:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(26099),l=new c({initialize:function(r,i,n,h,s,o,u,f,d){(n===void 0||n<=0)&&(n=32),(h===void 0||h<=0)&&(h=32),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u={}),f===void 0&&(f={}),this.name=r,this.firstgid=i,this.tileWidth=n,this.tileHeight=h,this.tileMargin=s,this.tileSpacing=o,this.tileProperties=u,this.tileData=f,this.tileOffset=new m,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var r=this.getTileData(a);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){this.image=a;var r=a.get(),i=a.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>i.width||r.height>i.height?this.updateTileData(r.width,r.height):this.updateTileData(i.width,i.height,i.x,i.y),this},setTileSize:function(a,r){return a!==void 0&&(this.tileWidth=a),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,r){return a!==void 0&&(this.tileMargin=a),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=0);var h=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(h%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),h=Math.floor(h),s=Math.floor(s),this.rows=h,this.columns=s,this.total=h*s,this.texCoordinates.length=0;for(var o=this.tileMargin+i,u=this.tileMargin+n,f=0;f<this.rows;f++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:o,y:u}),o+=this.tileWidth+this.tileSpacing;o=this.tileMargin+i,u+=this.tileHeight+this.tileSpacing}return this}});x.exports=l},72023:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7423),m=function(l,a,r){var i=c(l,a,!0,r),n=c(l,a-1,!0,r),h=c(l,a+1,!0,r),s=c(l-1,a,!0,r),o=c(l+1,a,!0,r),u=i&&i.collides;return u&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),n&&n.collides&&(u&&(i.faceTop=!1),n.faceBottom=!u),h&&h.collides&&(u&&(i.faceBottom=!1),h.faceTop=!u),s&&s.collides&&(u&&(i.faceLeft=!1),s.faceRight=!u),o&&o.collides&&(u&&(i.faceRight=!1),o.faceLeft=!u),i&&!i.collides&&i.resetFaces(),i};x.exports=m},42573:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7423),m=t(7386),l=function(a,r,i,n,h){for(var s=null,o=null,u=null,f=null,d=m(a,r,i,n,null,h),p=0;p<d.length;p++){var y=d[p];y&&(y.collides?(s=c(y.x,y.y-1,!0,h),o=c(y.x,y.y+1,!0,h),u=c(y.x-1,y.y,!0,h),f=c(y.x+1,y.y,!0,h),y.faceTop=!(s&&s.collides),y.faceBottom=!(o&&o.collides),y.faceLeft=!(u&&u.collides),y.faceRight=!(f&&f.collides)):y.resetFaces())}};x.exports=l},33528:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=new c,l=function(a,r,i,n){var h=i.tilemapLayer,s=h.cullPaddingX,o=h.cullPaddingY,u=h.tilemap.tileToWorldXY(a,r,m,n,h);return u.x>n.worldView.x+h.scaleX*i.tileWidth*(-s-.5)&&u.x<n.worldView.right+h.scaleX*i.tileWidth*(s-.5)&&u.y>n.worldView.y+h.scaleY*i.tileHeight*(-o-1)&&u.y<n.worldView.bottom+h.scaleY*i.tileHeight*(o-.5)};x.exports=l},1785:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(42573),m=t(7386),l=t(62991),a=t(23029),r=function(i,n,h,s,o,u,f,d){f===void 0&&(f=!0);var p=m(i,n,h,s,null,d),y=[];p.forEach(function(B){var F=new a(B.layer,B.index,B.x,B.y,B.width,B.height,B.baseWidth,B.baseHeight);F.copy(B),y.push(F)});for(var T=o-i,C=u-n,P=0;P<y.length;P++){var A=y[P],w=A.x+T,L=A.y+C;l(w,L,d)&&d.data[L][w]&&(A.x=w,A.y=L,A.updatePixelXY(),d.data[L][w]=A)}f&&c(o-1,u-1,h+2,s+2,d),p.length=0,y.length=0};x.exports=r},78419:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62644),m=t(7386),l=t(27987),a=function(r,i,n,h,s,o){n||(n={}),Array.isArray(r)||(r=[r]);var u=o.tilemapLayer;h||(h=u.scene),s||(s=h.cameras.main);var f=o.width,d=o.height,p=m(0,0,f,d,null,o),y=[],T,C=function(L,B,F){for(var b=0;b<F.length;b++){var G=F[b];L.hasOwnProperty(G)||(L[G]=B[G])}};for(T=0;T<p.length;T++){var P=p[T],A=c(n);if(r.indexOf(P.index)!==-1){var w=u.tileToWorldXY(P.x,P.y,void 0,s,o);A.x=w.x,A.y=w.y,C(A,P,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=P.width*.5,A.y+=P.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=P.tileset.image,A.frame=P.index-1),y.push(h.make.sprite(A))}}if(Array.isArray(i))for(T=0;T<r.length;T++)l(r[T],i[T],0,0,f,d,o);else if(i!==null)for(T=0;T<r.length;T++)l(r[T],i,0,0,f,d,o);return y};x.exports=a},19545:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(87841),m=t(63448),l=t(56583),a=new c,r=function(i,n){var h=i.tilemapLayer.tilemap,s=i.tilemapLayer,o=Math.floor(h.tileWidth*s.scaleX),u=Math.floor(h.tileHeight*s.scaleY),f=l(n.worldView.x-s.x,o,0,!0)-s.cullPaddingX,d=m(n.worldView.right-s.x,o,0,!0)+s.cullPaddingX,p=l(n.worldView.y-s.y,u,0,!0)-s.cullPaddingY,y=m(n.worldView.bottom-s.y,u,0,!0)+s.cullPaddingY;return a.setTo(f,p,d-f,y-p)};x.exports=r},30003:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(19545),m=t(32483),l=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var h=a.tilemapLayer,s=c(a,r);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),m(a,s,n,i),i};x.exports=l},35137:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=t(42573),l=t(20576),a=function(r,i,n,h,s,o,u){for(var f=u.collideIndexes.indexOf(r)!==-1,d=c(i,n,h,s,null,u),p=0;p<d.length;p++)d[p].index=r,l(d[p],f);o&&m(i-1,n-1,h+2,s+2,u)};x.exports=a},40253:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=function(l,a,r,i,n,h,s,o){var u=c(r,i,n,h,s,o);return u.filter(l,a)};x.exports=m},52692:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){c===void 0&&(c=0),m===void 0&&(m=!1);var a=0,r,i,n;if(m){for(i=l.height-1;i>=0;i--)for(r=l.width-1;r>=0;r--)if(n=l.data[i][r],n&&n.index===t){if(a===c)return n;a+=1}}else for(i=0;i<l.height;i++)for(r=0;r<l.width;r++)if(n=l.data[i][r],n&&n.index===t){if(a===c)return n;a+=1}return null};x.exports=M},66151:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=function(l,a,r,i,n,h,s,o){var u=c(r,i,n,h,s,o);return u.find(l,a)||null};x.exports=m},97560:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=function(l,a,r,i,n,h,s,o){var u=c(r,i,n,h,s,o);u.forEach(l,a)};x.exports=m},43305:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=t(30003),l=t(9474),a=t(14018),r=t(29747),i=t(54503),n=function(h){return h===c.ORTHOGONAL?m:h===c.HEXAGONAL?l:h===c.STAGGERED?i:h===c.ISOMETRIC?a:r};x.exports=n},7423:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62991),m=function(l,a,r,i){if(c(l,a,i)){var n=i.data[a][l]||null;return n?n.index===-1?r?n:null:n:null}else return null};x.exports=m},60540:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7423),m=t(26099),l=new m,a=function(r,i,n,h,s){return s.tilemapLayer.worldToTileXY(r,i,!0,l,h),c(l.x,l.y,n,s)};x.exports=a},55826:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i){var n=i.baseTileWidth,h=i.baseTileHeight,s=i.tilemapLayer,o=0,u=0;s&&(r||(r=s.scene.cameras.main),o=s.x+r.scrollX*(1-s.scrollFactorX),u=s.y+r.scrollY*(1-s.scrollFactorY),n*=s.scaleX,h*=s.scaleY);var f=o+l*n,d=u+a*h;return[new c(f,d),new c(f+n,d),new c(f+n,d+h),new c(f,d+h)]};x.exports=m},11758:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=t(27229),l=t(29747),a=t(55826),r=function(i){return i===c.ORTHOGONAL?a:i===c.ISOMETRIC?l:i===c.HEXAGONAL?m:(i===c.STAGGERED,l)};x.exports=r},39167:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=t(29747),l=t(97281),a=function(r){return r===c.ORTHOGONAL?l:m};x.exports=a},62e3:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=t(19951),l=t(14127),a=t(29747),r=t(97202),i=t(70326),n=function(h){return h===c.ORTHOGONAL?i:h===c.ISOMETRIC?l:h===c.HEXAGONAL?m:h===c.STAGGERED?r:a};x.exports=n},5984:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=t(29747),l=t(28054),a=t(29650),r=function(i){return i===c.ORTHOGONAL?a:i===c.STAGGERED?l:m};x.exports=r},7386:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m=function(l,a,r,i,n,h){l===void 0&&(l=0),a===void 0&&(a=0),r===void 0&&(r=h.width),i===void 0&&(i=h.height),n||(n={});var s=c(n,"isNotEmpty",!1),o=c(n,"isColliding",!1),u=c(n,"hasInterestingFace",!1);l<0&&(r+=l,l=0),a<0&&(i+=a,a=0),l+r>h.width&&(r=Math.max(h.width-l,0)),a+i>h.height&&(i=Math.max(h.height-a,0));for(var f=[],d=a;d<a+i;d++)for(var p=l;p<l+r;p++){var y=h.data[d][p];if(y!==null){if(s&&y.index===-1||o&&!y.collides||u&&!y.hasInterestingFace)continue;f.push(y)}}return f};x.exports=m},91141:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(55738),m=t(7386),l=t(91865),a=t(29747),r=t(26099),i=function(u,f){return l.RectangleToTriangle(f,u)},n=new r,h=new r,s=new r,o=function(u,f,d,p){if(u===void 0)return[];var y=a;u instanceof c.Circle?y=l.CircleToRectangle:u instanceof c.Rectangle?y=l.RectangleToRectangle:u instanceof c.Triangle?y=i:u instanceof c.Line&&(y=l.LineToRectangle),p.tilemapLayer.worldToTileXY(u.left,u.top,!0,h,d);var T=h.x,C=h.y;p.tilemapLayer.worldToTileXY(u.right,u.bottom,!1,s,d);var P=Math.ceil(s.x),A=Math.ceil(s.y),w=Math.max(P-T,1),L=Math.max(A-C,1),B=m(T,C,w,L,f,p),F=p.tileWidth,b=p.tileHeight;p.tilemapLayer&&(F*=p.tilemapLayer.scaleX,b*=p.tilemapLayer.scaleY);for(var G=[],N=new c.Rectangle(0,0,F,b),U=0;U<B.length;U++){var W=B[U];p.tilemapLayer.tileToWorldXY(W.x,W.y,n,d),N.x=n.x,N.y=n.y,y(u,N)&&G.push(W)}return G};x.exports=o},96523:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=t(26099),l=new m,a=new m,r=function(i,n,h,s,o,u,f){var d=f.tilemapLayer.tilemap._convert.WorldToTileXY;d(i,n,!0,l,u,f);var p=l.x,y=l.y;d(i+h,n+s,!1,a,u,f);var T=Math.ceil(a.x),C=Math.ceil(a.y);return c(p,y,T-p,C-y,o,f)};x.exports=r},96113:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=t(20242),l=t(10095),a=function(r){return r===c.ORTHOGONAL?l:m};x.exports=a},16926:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=t(86625),l=t(96897),a=t(29747),r=t(15108),i=t(85896),n=function(h){return h===c.ORTHOGONAL?i:h===c.ISOMETRIC?l:h===c.HEXAGONAL?m:h===c.STAGGERED?r:a};x.exports=n},55762:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=t(20242),l=t(51900),a=t(63288),r=function(i){return i===c.ORTHOGONAL?a:i===c.STAGGERED?l:m};x.exports=r},45091:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62991),m=function(l,a,r){if(c(l,a,r)){var i=r.data[a][l];return i!==null&&i.index>-1}else return!1};x.exports=m},24152:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(45091),m=t(26099),l=new m,a=function(r,i,n,h){h.tilemapLayer.worldToTileXY(r,i,!0,l,n);var s=l.x,o=l.y;return c(s,o,h)};x.exports=a},90454:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(63448),m=t(56583),l=function(a,r){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,h=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),o=a.hexSideLength,u,f,d,p;if(a.staggerAxis==="y"){var y=(s-o)/2+o;u=m(r.worldView.x-n.x,h,0,!0)-n.cullPaddingX,f=c(r.worldView.right-n.x,h,0,!0)+n.cullPaddingX,d=m(r.worldView.y-n.y,y,0,!0)-n.cullPaddingY,p=c(r.worldView.bottom-n.y,y,0,!0)+n.cullPaddingY}else{var T=(h-o)/2+o;u=m(r.worldView.x-n.x,T,0,!0)-n.cullPaddingX,f=c(r.worldView.right-n.x,T,0,!0)+n.cullPaddingX,d=m(r.worldView.y-n.y,s,0,!0)-n.cullPaddingY,p=c(r.worldView.bottom-n.y,s,0,!0)+n.cullPaddingY}return{left:u,right:f,top:d,bottom:p}};x.exports=l},9474:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(90454),m=t(32483),l=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var h=a.tilemapLayer,s=c(a,r);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),m(a,s,n,i),i};x.exports=l},27229:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(19951),m=t(26099),l=new m,a=function(r,i,n,h){var s=h.baseTileWidth,o=h.baseTileHeight,u=h.tilemapLayer;u&&(s*=u.scaleX,o*=u.scaleY);var f=c(r,i,l,n,h),d=[],p=.5773502691896257,y,T;h.staggerAxis==="y"?(y=p*s,T=o/2):(y=s/2,T=p*o);for(var C=0;C<6;C++){var P=2*Math.PI*(.5-C)/6;d.push(new m(f.x+y*Math.cos(P),f.y+T*Math.sin(P)))}return d};x.exports=a},19951:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n){r||(r=new c);var h=n.baseTileWidth,s=n.baseTileHeight,o=n.tilemapLayer,u=0,f=0;o&&(i||(i=o.scene.cameras.main),u=o.x+i.scrollX*(1-o.scrollFactorX),f=o.y+i.scrollY*(1-o.scrollFactorY),h*=o.scaleX,s*=o.scaleY);var d=h/2,p=s/2,y,T,C=n.staggerAxis,P=n.staggerIndex;return C==="y"?(y=u+h*l+h,T=f+1.5*a*p+p,a%2===0&&(P==="odd"?y-=d:y+=d)):C==="x"&&P==="odd"&&(y=u+1.5*l*d+d,T=f+s*l+s,l%2===0&&(P==="odd"?T-=p:T+=p)),r.set(y,T)};x.exports=m},86625:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n,h){i||(i=new c);var s=h.baseTileWidth,o=h.baseTileHeight,u=h.tilemapLayer;u&&(n||(n=u.scene.cameras.main),l=l-(u.x+n.scrollX*(1-u.scrollFactorX)),a=a-(u.y+n.scrollY*(1-u.scrollFactorY)),s*=u.scaleX,o*=u.scaleY);var f=.5773502691896257,d=-.3333333333333333,p=0,y=.6666666666666666,T=s/2,C=o/2,P,A,w,L,B;h.staggerAxis==="y"?(P=(l-T)/(f*s),A=(a-C)/C,w=f*P+d*A,L=p*P+y*A):(P=(l-T)/T,A=(a-C)/(f*o),w=d*P+f*A,L=y*P+p*A),B=-w-L;var F=Math.round(w),b=Math.round(L),G=Math.round(B),N=Math.abs(F-w),U=Math.abs(b-L),W=Math.abs(G-B);N>U&&N>W?F=-b-G:U>W&&(b=-F-G);var H,k=b;return h.staggerIndex==="odd"?H=k%2===0?b/2+F:b/2+F-.5:H=k%2===0?b/2+F:b/2+F+.5,i.set(H,k)};x.exports=m},62991:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t>=0&&t<m.width&&c>=0&&c<m.height};x.exports=M},14018:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(33528),m=function(l,a,r,i){r===void 0&&(r=[]),i===void 0&&(i=0),r.length=0;var n=l.tilemapLayer,h=l.data,s=l.width,o=l.height,u=n.skipCull,f=0,d=s,p=0,y=o,T,C,P;if(i===0)for(C=p;C<y;C++)for(T=f;T<d;T++)P=h[C][T],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!c(T,C,l,a)||r.push(P));else if(i===1)for(C=p;C<y;C++)for(T=d;T>=f;T--)P=h[C][T],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!c(T,C,l,a)||r.push(P));else if(i===2)for(C=y;C>=p;C--)for(T=f;T<d;T++)P=h[C][T],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!c(T,C,l,a)||r.push(P));else if(i===3)for(C=y;C>=p;C--)for(T=d;T>=f;T--)P=h[C][T],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!u&&!c(T,C,l,a)||r.push(P));return n.tilesDrawn=r.length,n.tilesTotal=s*o,r};x.exports=m},14127:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n){r||(r=new c);var h=n.baseTileWidth,s=n.baseTileHeight,o=n.tilemapLayer,u=0,f=0;o&&(i||(i=o.scene.cameras.main),u=o.x+i.scrollX*(1-o.scrollFactorX),h*=o.scaleX,f=o.y+i.scrollY*(1-o.scrollFactorY),s*=o.scaleY);var d=u+(l-a)*(h/2),p=f+(l+a)*(s/2);return r.set(d,p)};x.exports=m},96897:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n,h,s){i||(i=new c);var o=h.baseTileWidth,u=h.baseTileHeight,f=h.tilemapLayer;f&&(n||(n=f.scene.cameras.main),a=a-(f.y+n.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,l=l-(f.x+n.scrollX*(1-f.scrollFactorX)),o*=f.scaleX);var d=o/2,p=u/2;l=l-d,s||(a=a-u);var y=.5*(l/d+a/p),T=.5*(-l/d+a/p);return r&&(y=Math.floor(y),T=Math.floor(T)),i.set(y,T)};x.exports=m},71558:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(23029),m=t(62991),l=t(72023),a=t(20576),r=function(i,n,h,s,o){if(s===void 0&&(s=!0),!m(n,h,o))return null;var u,f=o.data[h][n],d=f&&f.collides;i instanceof c?(o.data[h][n]===null&&(o.data[h][n]=new c(o,i.index,n,h,o.tileWidth,o.tileHeight)),o.data[h][n].copy(i)):(u=i,o.data[h][n]===null?o.data[h][n]=new c(o,u,n,h,o.tileWidth,o.tileHeight):o.data[h][n].index=u);var p=o.data[h][n],y=o.collideIndexes.indexOf(p.index)!==-1;if(u=i instanceof c?i.index:i,u===-1)p.width=o.tileWidth,p.height=o.tileHeight;else{var T=o.tilemapLayer.tilemap,C=T.tiles,P=C[u][2],A=T.tilesets[P];p.width=A.tileWidth,p.height=A.tileHeight}return a(p,y),s&&d!==p.collides&&l(n,h,o),p};x.exports=r},26303:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(71558),m=t(26099),l=new m,a=function(r,i,n,h,s,o){return o.tilemapLayer.worldToTileXY(i,n,!0,l,s,o),c(r,l.x,l.y,h,o)};x.exports=a},14051:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(42573),m=t(71558),l=function(a,r,i,n,h){if(n===void 0&&(n=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var s=a.length,o=a[0].length,u=0;u<s;u++)for(var f=0;f<o;f++){var d=a[u][f];m(d,r+f,i+u,!1,h)}n&&c(r-1,i-1,o+2,s+2,h)};x.exports=l},77389:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=t(26546),l=function(a,r,i,n,h,s){var o,u=c(a,r,i,n,{},s);if(!h)for(h=[],o=0;o<u.length;o++)h.indexOf(u[o].index)===-1&&h.push(u[o].index);for(o=0;o<u.length;o++)u[o].index=m(h)};x.exports=l},63557:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(23029),m=t(62991),l=t(72023),a=function(r,i,n,h,s){if(n===void 0&&(n=!0),h===void 0&&(h=!0),!m(r,i,s))return null;var o=s.data[i][r];if(o)s.data[i][r]=n?null:new c(s,-1,r,i,s.tileWidth,s.tileHeight);else return null;return h&&o&&o.collides&&l(r,i,s),o};x.exports=a},94178:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(63557),m=t(26099),l=new m,a=function(r,i,n,h,s,o){return o.tilemapLayer.worldToTileXY(r,i,!0,l,s,o),c(l.x,l.y,n,h,o)};x.exports=a},15533:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=t(3956),l=new m(105,210,231,150),a=new m(243,134,48,200),r=new m(40,39,37,150),i=function(n,h,s){h===void 0&&(h={});var o=h.tileColor!==void 0?h.tileColor:l,u=h.collidingTileColor!==void 0?h.collidingTileColor:a,f=h.faceColor!==void 0?h.faceColor:r,d=c(0,0,s.width,s.height,null,s);n.translateCanvas(s.tilemapLayer.x,s.tilemapLayer.y),n.scaleCanvas(s.tilemapLayer.scaleX,s.tilemapLayer.scaleY);for(var p=0;p<d.length;p++){var y=d[p],T=y.width,C=y.height,P=y.pixelX,A=y.pixelY,w=y.collides?u:o;w!==null&&(n.fillStyle(w.color,w.alpha/255),n.fillRect(P,A,T,C)),P+=1,A+=1,T-=2,C-=2,f!==null&&(n.lineStyle(1,f.color,f.alpha/255),y.faceTop&&n.lineBetween(P,A,P+T,A),y.faceRight&&n.lineBetween(P+T,A,P+T,A+C),y.faceBottom&&n.lineBetween(P,A+C,P+T,A+C),y.faceLeft&&n.lineBetween(P,A,P,A+C))}};x.exports=i},27987:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=function(l,a,r,i,n,h,s){for(var o=c(r,i,n,h,null,s),u=0;u<o.length;u++)o[u]&&o[u].index===l&&(o[u].index=a)};x.exports=m},32483:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=t.data,r=t.width,i=t.height,n=t.tilemapLayer,h=Math.max(0,c.left),s=Math.min(r,c.right),o=Math.max(0,c.top),u=Math.min(i,c.bottom),f,d,p;if(m===0)for(d=o;d<u;d++)for(f=h;a[d]&&f<s;f++)p=a[d][f],!(!p||p.index===-1||!p.visible||p.alpha===0)&&l.push(p);else if(m===1)for(d=o;d<u;d++)for(f=s;a[d]&&f>=h;f--)p=a[d][f],!(!p||p.index===-1||!p.visible||p.alpha===0)&&l.push(p);else if(m===2)for(d=u;d>=o;d--)for(f=h;a[d]&&f<s;f++)p=a[d][f],!(!p||p.index===-1||!p.visible||p.alpha===0)&&l.push(p);else if(m===3)for(d=u;d>=o;d--)for(f=s;a[d]&&f>=h;f--)p=a[d][f],!(!p||p.index===-1||!p.visible||p.alpha===0)&&l.push(p);return n.tilesDrawn=l.length,n.tilesTotal=r*i,l};x.exports=M},57068:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20576),m=t(42573),l=t(9589),a=function(r,i,n,h,s){i===void 0&&(i=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++)l(r[o],i,h);if(s)for(var u=0;u<h.height;u++)for(var f=0;f<h.width;f++){var d=h.data[u][f];d&&r.indexOf(d.index)!==-1&&c(d,i)}n&&m(0,0,h.width,h.height,h)};x.exports=a},37266:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20576),m=t(42573),l=t(9589),a=function(r,i,n,h,s,o){if(n===void 0&&(n=!0),h===void 0&&(h=!0),o===void 0&&(o=!0),!(r>i)){for(var u=r;u<=i;u++)l(u,n,s);if(o)for(var f=0;f<s.height;f++)for(var d=0;d<s.width;d++){var p=s.data[f][d];p&&p.index>=r&&p.index<=i&&c(p,n)}h&&m(0,0,s.width,s.height,s)}};x.exports=a},75661:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20576),m=t(42573),l=t(9589),a=function(r,i,n,h){i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var s=0;s<h.height;s++)for(var o=0;o<h.width;o++){var u=h.data[s][o];u&&r.indexOf(u.index)===-1&&(c(u,i),l(u.index,i,h))}n&&m(0,0,h.width,h.height,h)};x.exports=a},64740:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20576),m=t(42573),l=t(97022),a=function(r,i,n,h){i===void 0&&(i=!0),n===void 0&&(n=!0);for(var s=0;s<h.height;s++)for(var o=0;o<h.width;o++){var u=h.data[s][o];if(u){for(var f in r)if(l(u.properties,f)){var d=r[f];Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)u.properties[f]===d[p]&&c(u,i)}}}n&&m(0,0,h.width,h.height,h)};x.exports=a},63307:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(20576),m=t(42573),l=function(a,r,i){a===void 0&&(a=!0),r===void 0&&(r=!0);for(var n=0;n<i.height;n++)for(var h=0;h<i.width;h++){var s=i.data[n][h];if(s){var o=s.getCollisionGroup();o&&o.objects&&o.objects.length>0&&c(s,a)}}r&&m(0,0,i.width,i.height,i)};x.exports=l},9589:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=m.collideIndexes.indexOf(t);c&&l===-1?m.collideIndexes.push(t):!c&&l!==-1&&m.collideIndexes.splice(l,1)};x.exports=M},20576:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};x.exports=M},79583:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){if(typeof t=="number")l.callbacks[t]=c!==null?{callback:c,callbackContext:m}:void 0;else for(var a=0,r=t.length;a<r;a++)l.callbacks[t[a]]=c!==null?{callback:c,callbackContext:m}:void 0};x.exports=M},93254:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=function(l,a,r,i,n,h,s){for(var o=c(l,a,r,i,null,s),u=0;u<o.length;u++)o[u].setCollisionCallback(n,h)};x.exports=m},32903:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=t(33680),l=function(a,r,i,n,h){var s=c(a,r,i,n,null,h),o=s.map(function(f){return f.index});m(o);for(var u=0;u<s.length;u++)s[u].index=o[u]};x.exports=l},61325:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(63448),m=t(56583),l=function(a,r){var i=a.tilemapLayer.tilemap,n=a.tilemapLayer,h=Math.floor(i.tileWidth*n.scaleX),s=Math.floor(i.tileHeight*n.scaleY),o=m(r.worldView.x-n.x,h,0,!0)-n.cullPaddingX,u=c(r.worldView.right-n.x,h,0,!0)+n.cullPaddingX,f=m(r.worldView.y-n.y,s/2,0,!0)-n.cullPaddingY,d=c(r.worldView.bottom-n.y,s/2,0,!0)+n.cullPaddingY;return{left:o,right:u,top:f,bottom:d}};x.exports=l},54503:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(61325),m=t(32483),l=function(a,r,i,n){i===void 0&&(i=[]),n===void 0&&(n=0),i.length=0;var h=a.tilemapLayer,s=c(a,r);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(s.left=0,s.right=a.width,s.top=0,s.bottom=a.height),m(a,s,n,i),i};x.exports=l},97202:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n){r||(r=new c);var h=n.baseTileWidth,s=n.baseTileHeight,o=n.tilemapLayer,u=0,f=0;o&&(i||(i=o.scene.cameras.main),u=o.x+i.scrollX*(1-o.scrollFactorX),h*=o.scaleX,f=o.y+i.scrollY*(1-o.scrollFactorY),s*=o.scaleY);var d=u+l*h+a%2*(h/2),p=f+a*(s/2);return r.set(d,p)};x.exports=m},28054:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=m.baseTileHeight,a=m.tilemapLayer,r=0;return a&&(c===void 0&&(c=a.scene.cameras.main),r=a.y+c.scrollY*(1-a.scrollFactorY),l*=a.scaleY),r+t*(l/2)+l};x.exports=M},15108:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n,h){i||(i=new c);var s=h.baseTileWidth,o=h.baseTileHeight,u=h.tilemapLayer;u&&(n||(n=u.scene.cameras.main),a=a-(u.y+n.scrollY*(1-u.scrollFactorY)),o*=u.scaleY,l=l-(u.x+n.scrollX*(1-u.scrollFactorX)),s*=u.scaleX);var f=r?Math.floor(a/(o/2)):a/(o/2),d=r?Math.floor((l+f%2*.5*s)/s):(l+f%2*.5*s)/s;return i.set(d,f)};x.exports=m},51900:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=l.baseTileHeight,r=l.tilemapLayer;return r&&(m||(m=r.scene.cameras.main),t=t-(r.y+m.scrollY*(1-r.scrollFactorY)),a*=r.scaleY),c?Math.floor(t/(a/2)):t/(a/2)};x.exports=M},86560:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=function(l,a,r,i,n,h,s){for(var o=c(r,i,n,h,null,s),u=0;u<o.length;u++)o[u]&&(o[u].index===l?o[u].index=a:o[u].index===a&&(o[u].index=l))};x.exports=m},97281:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=m.baseTileWidth,a=m.tilemapLayer,r=0;return a&&(c||(c=a.scene.cameras.main),r=a.x+c.scrollX*(1-a.scrollFactorX),l*=a.scaleX),r+t*l};x.exports=M},70326:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(97281),m=t(29650),l=t(26099),a=function(r,i,n,h,s){return n||(n=new l(0,0)),n.x=c(r,h,s),n.y=m(i,h,s),n};x.exports=a},29650:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=m.baseTileHeight,a=m.tilemapLayer,r=0;return a&&(c||(c=a.scene.cameras.main),r=a.y+c.scrollY*(1-a.scrollFactorY),l*=a.scaleY),r+t*l};x.exports=M},77366:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(7386),m=t(75508),l=function(a,r,i,n,h,s){if(h){var o,u=c(a,r,i,n,null,s),f=0;for(o=0;o<h.length;o++)f+=h[o].weight;if(!(f<=0))for(o=0;o<u.length;o++){for(var d=m.RND.frac()*f,p=0,y=-1,T=0;T<h.length;T++)if(p+=h[T].weight,d<=p){var C=h[T].index;y=Array.isArray(C)?C[Math.floor(m.RND.frac()*C.length)]:C;break}u[o].index=y}}};x.exports=l},10095:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(85896),m=t(26099),l=new m,a=function(r,i,n,h){return c(r,0,i,l,n,h),l.x};x.exports=a},85896:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(26099),m=function(l,a,r,i,n,h){r===void 0&&(r=!0),i||(i=new c);var s=h.baseTileWidth,o=h.baseTileHeight,u=h.tilemapLayer;u&&(n||(n=u.scene.cameras.main),l=l-(u.x+n.scrollX*(1-u.scrollFactorX)),a=a-(u.y+n.scrollY*(1-u.scrollFactorY)),s*=u.scaleX,o*=u.scaleY);var f=l/s,d=a/o;return r&&(f=Math.floor(f),d=Math.floor(d)),i.set(f,d)};x.exports=m},63288:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(85896),m=t(26099),l=new m,a=function(r,i,n,h){return c(0,r,i,l,n,h),l.y};x.exports=a},81086:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={ORIENTATION:t(91907)};x.exports=c},62501:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(79291),m=t(21829),l={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};l=c(!1,l,m.ORIENTATION),x.exports=l},14977:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(91907),l=t(95540),a=new c({initialize:function(i){i===void 0&&(i={}),this.name=l(i,"name","layer"),this.id=l(i,"id",0),this.x=l(i,"x",0),this.y=l(i,"y",0),this.width=l(i,"width",0),this.height=l(i,"height",0),this.tileWidth=l(i,"tileWidth",0),this.tileHeight=l(i,"tileHeight",0),this.baseTileWidth=l(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=l(i,"baseTileHeight",this.tileHeight),this.orientation=l(i,"orientation",m.ORTHOGONAL),this.widthInPixels=l(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=l(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=l(i,"alpha",1),this.visible=l(i,"visible",!0),this.properties=l(i,"properties",[]),this.indexes=l(i,"indexes",[]),this.collideIndexes=l(i,"collideIndexes",[]),this.callbacks=l(i,"callbacks",[]),this.bodies=l(i,"bodies",[]),this.data=l(i,"data",[]),this.tilemapLayer=l(i,"tilemapLayer",null),this.hexSideLength=l(i,"hexSideLength",0),this.staggerAxis=l(i,"staggerAxis","y"),this.staggerIndex=l(i,"staggerIndex","odd")}});x.exports=a},87010:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(91907),l=t(95540),a=new c({initialize:function(i){i===void 0&&(i={}),this.name=l(i,"name","map"),this.width=l(i,"width",0),this.height=l(i,"height",0),this.infinite=l(i,"infinite",!1),this.tileWidth=l(i,"tileWidth",0),this.tileHeight=l(i,"tileHeight",0),this.widthInPixels=l(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=l(i,"heightInPixels",this.height*this.tileHeight),this.format=l(i,"format",null),this.orientation=l(i,"orientation",m.ORTHOGONAL),this.renderOrder=l(i,"renderOrder","right-down"),this.version=l(i,"version","1"),this.properties=l(i,"properties",{}),this.layers=l(i,"layers",[]),this.images=l(i,"images",[]),this.objects=l(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=l(i,"collision",{}),this.tilesets=l(i,"tilesets",[]),this.imageCollections=l(i,"imageCollections",[]),this.tiles=l(i,"tiles",[]),this.hexSideLength=l(i,"hexSideLength",0),this.staggerAxis=l(i,"staggerAxis","y"),this.staggerIndex=l(i,"staggerIndex","odd")}});x.exports=a},48700:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=new c({initialize:function(r){r===void 0&&(r={}),this.name=m(r,"name","object layer"),this.id=m(r,"id",0),this.opacity=m(r,"opacity",1),this.properties=m(r,"properties",{}),this.propertyTypes=m(r,"propertytypes",{}),this.type=m(r,"type","objectgroup"),this.visible=m(r,"visible",!0),this.objects=m(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});x.exports=l},6641:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(91907),m=function(l){return l=l.toLowerCase(),l==="isometric"?c.ISOMETRIC:l==="staggered"?c.STAGGERED:l==="hexagonal"?c.HEXAGONAL:c.ORTHOGONAL};x.exports=m},46177:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(80341),m=t(2342),l=t(82593),a=t(46594),r=t(87021),i=function(n,h,s,o,u,f){var d;switch(h){case c.ARRAY_2D:d=m(n,s,o,u,f);break;case c.CSV:d=l(n,s,o,u,f);break;case c.TILED_JSON:d=a(n,s,f);break;case c.WELTMEISTER:d=r(n,s,f);break;default:console.warn("Unrecognized tilemap data format: "+h),d=null}return d};x.exports=i},2342:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(80341),m=t(14977),l=t(87010),a=t(23029),r=function(i,n,h,s,o){for(var u=new m({tileWidth:h,tileHeight:s}),f=new l({name:i,tileWidth:h,tileHeight:s,format:c.ARRAY_2D,layers:[u]}),d=[],p=n.length,y=0,T=0;T<n.length;T++){d[T]=[];for(var C=n[T],P=0;P<C.length;P++){var A=parseInt(C[P],10);isNaN(A)||A===-1?d[T][P]=o?null:new a(u,-1,P,T,h,s):d[T][P]=new a(u,A,P,T,h,s)}y===0&&(y=C.length)}return f.width=u.width=y,f.height=u.height=p,f.widthInPixels=u.widthInPixels=y*h,f.heightInPixels=u.heightInPixels=p*s,u.data=d,f};x.exports=r},82593:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(80341),m=t(2342),l=function(a,r,i,n,h){var s=r.trim().split(`
`).map(function(u){return u.split(",")}),o=m(a,s,i,n,h);return o.format=c.CSV,o};x.exports=l},6656:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(14977),m=t(23029),l=function(a,r){for(var i=[],n=0;n<a.layer.length;n++){for(var h=a.layer[n],s=new c({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),o=[],u=[],f=0;f<h.data.length;f++){for(var d=0;d<h.data[f].length;d++){var p=h.data[f][d]-1,y;p>-1?y=new m(s,p,d,f,h.tilesize,h.tilesize):y=r?null:new m(s,-1,d,f,h.tilesize,h.tilesize),o.push(y)}u.push(o),o=[]}s.data=u,i.push(s)}return i};x.exports=l},96483:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(33629),m=function(l){for(var a=[],r=[],i=0;i<l.layer.length;i++){var n=l.layer[i],h=n.tilesetName;h!==""&&r.indexOf(h)===-1&&(r.push(h),a.push(new c(h,0,n.tilesize,n.tilesize,0,0)))}return a};x.exports=m},87021:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(80341),m=t(87010),l=t(6656),a=t(96483),r=function(i,n,h){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var s=0,o=0,u=0;u<n.layer.length;u++)n.layer[u].width>s&&(s=n.layer[u].width),n.layer[u].height>o&&(o=n.layer[u].height);var f=new m({width:s,height:o,name:i,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:c.WELTMEISTER});return f.layers=l(n,h),f.tilesets=a(n),f};x.exports=r},52833:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(79291),m=function(l){for(var a,r,i,n,h,s=0;s<l.layers.length;s++){a=l.layers[s],n=null;for(var o=0;o<a.data.length;o++){h=a.data[o];for(var u=0;u<h.length;u++)r=h[u],!(r===null||r.index<0)&&(i=l.tiles[r.index][2],n=l.tilesets[i],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=c(r.properties,n.tileProperties[r.index-n.firstgid])))}}};x.exports=m},41868:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){for(var c=window.atob(t),m=c.length,l=new Array(m/4),a=0;a<m;a+=4)l[a/4]=(c.charCodeAt(a)|c.charCodeAt(a+1)<<8|c.charCodeAt(a+2)<<16|c.charCodeAt(a+3)<<24)>>>0;return l};x.exports=M},84101:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(33629),m=function(l){var a,r,i=[];for(a=0;a<l.imageCollections.length;a++)for(var n=l.imageCollections[a],h=n.images,s=0;s<h.length;s++){var o=h[s];r=new c(o.image,o.gid,n.imageWidth,n.imageHeight,0,0),r.updateTileData(n.imageWidth,n.imageHeight),l.tilesets.push(r)}for(a=0;a<l.tilesets.length;a++){r=l.tilesets[a];for(var u=r.tileMargin,f=r.tileMargin,d=0,p=0,y=0,T=r.firstgid;T<r.firstgid+r.total&&(i[T]=[u,f,a],u+=r.tileWidth+r.tileSpacing,d++,!(d===r.total||(p++,p===r.columns&&(u=r.tileMargin,f+=r.tileHeight+r.tileSpacing,p=0,y++,y===r.rows))));T++);}return i};x.exports=m},79677:(x,M,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m=function(l,a,r){if(!a)return{i:0,layers:l.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+c(a,"startx",0)*l.tilewidth+c(a,"offsetx",0),n=a.y+c(a,"starty",0)*l.tileheight+c(a,"offsety",0);return{i:0,layers:a.layers,name:r.name+a.name+"/",opacity:r.opacity*a.opacity,visible:r.visible&&a.visible,x:r.x+i,y:r.y+n}};x.exports=m},29920:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=2147483648,t=1073741824,c=536870912,m=function(l){var a=!!(l&M),r=!!(l&t),i=!!(l&c);l=l&~(M|t|c);var n=0,h=!1;return a&&r&&i?(n=Math.PI/2,h=!0):a&&r&&!i?(n=Math.PI,h=!1):a&&!r&&i?(n=Math.PI/2,h=!1):a&&!r&&!i?(n=0,h=!0):!a&&r&&i?(n=3*Math.PI/2,h=!1):!a&&r&&!i?(n=Math.PI,h=!0):!a&&!r&&i?(n=3*Math.PI/2,h=!0):!a&&!r&&!i&&(n=0,h=!1),{gid:l,flippedHorizontal:a,flippedVertical:r,flippedAntiDiagonal:i,rotation:n,flipped:h}};x.exports=m},12635:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m=t(79677),l=function(a){for(var r=[],i=[],n=m(a);n.i<n.layers.length||i.length>0;){if(n.i>=n.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=i.pop();continue}var h=n.layers[n.i];if(n.i++,h.type!=="imagelayer"){if(h.type==="group"){var s=m(a,h,n);i.push(n),n=s}continue}var o=c(h,"offsetx",0)+c(h,"startx",0),u=c(h,"offsety",0)+c(h,"starty",0);r.push({name:n.name+h.name,image:h.image,x:n.x+o+h.x,y:n.y+u+h.y,alpha:n.opacity*h.opacity,visible:n.visible&&h.visible,properties:c(h,"properties",{})})}return r};x.exports=l},46594:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(51233),m=t(84101),l=t(91907),a=t(62644),r=t(80341),i=t(6641),n=t(87010),h=t(12635),s=t(22611),o=t(28200),u=t(24619),f=function(d,p,y){var T=a(p),C=new n({width:T.width,height:T.height,name:d,tileWidth:T.tilewidth,tileHeight:T.tileheight,orientation:i(T.orientation),format:r.TILED_JSON,version:T.version,properties:T.properties,renderOrder:T.renderorder,infinite:T.infinite});C.orientation===l.HEXAGONAL&&(C.hexSideLength=T.hexsidelength,C.staggerAxis=T.staggeraxis,C.staggerIndex=T.staggerindex),C.layers=o(T,y),C.images=h(T);var P=u(T);return C.tilesets=P.tilesets,C.imageCollections=P.imageCollections,C.objects=s(T),C.tiles=m(C),c(C),C};x.exports=f},52205:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(18254),m=t(29920),l=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(i,n,h){n===void 0&&(n=0),h===void 0&&(h=0);var s=c(i,a);if(s.x+=n,s.y+=h,i.gid){var o=m(i.gid);s.gid=o.gid,s.flippedHorizontal=o.flippedHorizontal,s.flippedVertical=o.flippedVertical,s.flippedAntiDiagonal=o.flippedAntiDiagonal}else i.polyline?s.polyline=i.polyline.map(l):i.polygon?s.polygon=i.polygon.map(l):i.ellipse?s.ellipse=i.ellipse:i.text?s.text=i.text:i.point?s.point=!0:s.rectangle=!0;return s};x.exports=r},22611:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95540),m=t(52205),l=t(48700),a=t(79677),r=function(i){for(var n=[],h=[],s=a(i);s.i<s.layers.length||h.length>0;){if(s.i>=s.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=h.pop();continue}var o=s.layers[s.i];if(s.i++,o.opacity*=s.opacity,o.visible=s.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var u=a(i,o,s);h.push(s),s=u}continue}o.name=s.name+o.name;for(var f=s.x+c(o,"startx",0)+c(o,"offsetx",0),d=s.y+c(o,"starty",0)+c(o,"offsety",0),p=[],y=0;y<o.objects.length;y++){var T=m(o.objects[y],f,d);p.push(T)}var C=new l(o);C.objects=p,n.push(C)}return n};x.exports=r},28200:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(41868),m=t(91907),l=t(79677),a=t(6641),r=t(95540),i=t(14977),n=t(29920),h=t(23029),s=function(o,u){for(var f=r(o,"infinite",!1),d=[],p=[],y=l(o);y.i<y.layers.length||p.length>0;){if(y.i>=y.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}y=p.pop();continue}var T=y.layers[y.i];if(y.i++,T.type!=="tilelayer"){if(T.type==="group"){var C=l(o,T,y);p.push(y),y=C}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var P=0;P<T.chunks.length;P++)T.chunks[P].data=c(T.chunks[P].data);T.data&&(T.data=c(T.data)),delete T.encoding}var A,w,L,B,F=[],b=0;if(f){var G=r(T,"startx",0)+T.x,N=r(T,"starty",0)+T.y;A=new i({name:y.name+T.name,id:T.id,x:y.x+r(T,"offsetx",0)+G*o.tilewidth,y:y.y+r(T,"offsety",0)+N*o.tileheight,width:T.width,height:T.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:r(T,"properties",[]),orientation:a(o.orientation)}),A.orientation===m.HEXAGONAL&&(A.hexSideLength=o.hexsidelength,A.staggerAxis=o.staggeraxis,A.staggerIndex=o.staggerindex);for(var U=0;U<T.height;U++){F[U]=[null];for(var W=0;W<T.width;W++)F[U][W]=null}for(U=0,tt=T.chunks.length;U<tt;U++)for(var H=T.chunks[U],k=H.x-G,z=H.y-N,$=0,X=0,Q=H.data.length;X<Q;X++){var Z=b+k,K=$+z;w=n(H.data[X]),w.gid>0?(L=new h(A,w.gid,Z,K,o.tilewidth,o.tileheight),L.rotation=w.rotation,L.flipX=w.flipped,F[K][Z]=L):(B=u?null:new h(A,-1,Z,K,o.tilewidth,o.tileheight),F[K][Z]=B),b++,b===H.width&&($++,b=0)}}else{A=new i({name:y.name+T.name,id:T.id,x:y.x+r(T,"offsetx",0)+T.x,y:y.y+r(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:r(T,"properties",[]),orientation:a(o.orientation)}),A.orientation===m.HEXAGONAL&&(A.hexSideLength=o.hexsidelength,A.staggerAxis=o.staggeraxis,A.staggerIndex=o.staggerindex);for(var J=[],q=0,tt=T.data.length;q<tt;q++)w=n(T.data[q]),w.gid>0?(L=new h(A,w.gid,b,F.length,o.tilewidth,o.tileheight),L.rotation=w.rotation,L.flipX=w.flipped,J.push(L)):(B=u?null:new h(A,-1,b,F.length,o.tilewidth,o.tileheight),J.push(B)),b++,b===T.width&&(F.push(J),b=0,J=[])}A.data=F,d.push(A)}return d};x.exports=s},24619:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(33629),m=t(16536),l=t(52205),a=t(57880),r=function(i){for(var n=[],h=[],s=null,o,u=0;u<i.tilesets.length;u++){var f=i.tilesets[u];if(f.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(f.image){var d=new c(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,void 0,void 0,f.tileoffset);if(i.version>1){var p=void 0,y=void 0;if(Array.isArray(f.tiles)){p=p||{},y=y||{};for(var T=0;T<f.tiles.length;T++){var C=f.tiles[T];if(C.properties){var P={};C.properties.forEach(function(U){P[U.name]=U.value}),y[C.id]=P}if(C.objectgroup&&((p[C.id]||(p[C.id]={})).objectgroup=C.objectgroup,C.objectgroup.objects)){var A=C.objectgroup.objects.map(function(U){return l(U)});p[C.id].objectgroup.objects=A}C.animation&&((p[C.id]||(p[C.id]={})).animation=C.animation),C.type&&((p[C.id]||(p[C.id]={})).type=C.type)}}Array.isArray(f.wangsets)&&(p=p||{},y=y||{},a(f.wangsets,p)),p&&(d.tileData=p,d.tileProperties=y)}else if(f.tileproperties&&(d.tileProperties=f.tileproperties),f.tiles){d.tileData=f.tiles;for(o in d.tileData){var w=d.tileData[o].objectgroup;if(w&&w.objects){var L=w.objects.map(function(U){return l(U)});d.tileData[o].objectgroup.objects=L}}}d.updateTileData(f.imagewidth,f.imageheight),n.push(d)}else{var B=new m(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,f.properties),F=0;for(T=0;T<f.tiles.length;T++){C=f.tiles[T];var b=C.image,G=parseInt(C.id,10),N=f.firstgid+G;B.addImage(N,b),F=Math.max(G,F)}B.maxId=F,h.push(B)}s&&(s.lastgid=f.firstgid-1),s=f}return{tilesets:n,imageCollections:h}};x.exports=r},57880:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){for(var m=0;m<t.length;m++){var l=t[m],a=m;if(l.name&&l.name!==""&&(a=l.name),Array.isArray(l.wangtiles)&&l.wangtiles.length>0){var r={},i={},n,h,s;if(Array.isArray(l.edgecolors))for(n=0;n<l.edgecolors.length;n++)s=1+n,h=l.edgecolors[n],h.name!==""&&(r[s]=h.name);if(Array.isArray(l.cornercolors))for(n=0;n<l.cornercolors.length;n++)s=1+n,h=l.cornercolors[n],h.name!==""&&(i[s]=h.name);if(Array.isArray(l.colors))for(n=0;n<l.colors.length;n++)h=l.colors[n],s=1+n,h.name!==""&&(r[s]=i[s]=h.name);for(var o=[r,i,r,i,r,i,r,i],u=0;u<l.wangtiles.length;u++){var f=l.wangtiles[u],d=c[f.tileid]||(c[f.tileid]={});d=d.wangid||(d.wangid={});for(var p=[],y=0;y<Math.min(o.length,f.wangid.length);y++){if(h=f.wangid[y],h===0){p.push(void 0);continue}var T=o[y][h];if(T!==void 0){p.push(T);continue}p.push(h)}d[a]=p}}}};x.exports=M},96761:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(37277),l=t(44594),a=t(94880),r=t(72905),i=new c({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(l.BOOT,this.boot,this),h.sys.events.on(l.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(l.PRE_UPDATE,this.preUpdate,this),n.on(l.UPDATE,this.update,this),n.once(l.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var h;return n instanceof a?(h=n,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat):h=new a(n),this._pendingInsertion.push(h),h},delayedCall:function(n,h,s,o){return this.addEvent({delay:n,callback:h,args:s,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var s=n[h];r(this._pendingRemoval,s),r(this._pendingInsertion,s),r(this._active,s)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(n===0&&h===0)){var s,o;for(s=0;s<n;s++){o=this._pendingRemoval[s];var u=this._active.indexOf(o);u>-1&&this._active.splice(u,1),o.destroy()}for(s=0;s<h;s++)o=this._pendingInsertion[s],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,h){if(this.now=n,!this.paused){h*=this.timeScale;for(var s=0;s<this._active.length;s++){var o=this._active[s];if(!o.paused&&(o.elapsed+=h*o.timeScale,o.elapsed>=o.delay)){var u=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,u>=o.delay)for(;u>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),u-=o.delay,o.repeatCount--;o.elapsed=u,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(l.PRE_UPDATE,this.preUpdate,this),h.off(l.UPDATE,this.update,this),h.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",i,"time"),x.exports=i},96120:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50792),l=t(39429),a=t(95540),r=t(44594),i=t(89809),n=new c({Extends:m,initialize:function(s,o){m.call(this),this.scene=s,this.systems=s.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(r.PRE_UPDATE,this.preUpdate,this),u.on(r.UPDATE,this.update,this),u.once(r.SHUTDOWN,this.destroy,this),o&&this.add(o)},preUpdate:function(h,s){this.paused||(this.elapsed+=s*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var h,s=this.events,o=!1,u=this.systems,f;for(h=0;h<s.length;h++){var d=s[h];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,f=d.target?d.target:this,d.if&&!d.if.call(f,d))continue;if(d.once&&(o=!0),d.set&&d.target)for(var p in d.set)d.target[p]=d.set[p];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(f),d.tween&&(d.tweenInstance=u.tweens.add(d.tween)),d.sound&&(typeof d.sound=="string"?u.sound.play(d.sound):u.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,f),d.run&&d.run.call(f),d.stop&&this.stop()}}if(o)for(h=0;h<s.length;h++)s[h].complete&&s[h].once&&(s.splice(h,1),h--);this.totalComplete>=s.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(i.COMPLETE,this)}},play:function(h){return h===void 0&&(h=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,h&&this.reset(),this},pause:function(){this.paused=!0;for(var h=this.events,s=0;s<h.length;s++){var o=h[s];o.tweenInstance&&(o.tweenInstance.paused=!0)}return this},repeat:function(h){return(h===void 0||h===!0)&&(h=-1),h===!1&&(h=0),this.loop=h,this},resume:function(){this.paused=!1;for(var h=this.events,s=0;s<h.length;s++){var o=h[s];o.tweenInstance&&(o.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(h){h===void 0&&(h=!1),this.elapsed=0,h||(this.iteration=0);for(var s=this.events,o=0;o<s.length;o++){var u=s[o];u.complete=!1,h||(u.repeat=0),u.tweenInstance&&u.tweenInstance.stop()}return this.play(!1)},add:function(h){Array.isArray(h)||(h=[h]);var s=this.events,o=0;s.length>0&&(o=s[s.length-1].time);for(var u=0;u<h.length;u++){var f=h[u],d=a(f,"at",0),p=a(f,"in",null);p!==null&&(d=this.elapsed+p);var y=a(f,"from",null);y!==null&&(d=o+y),s.push({complete:!1,time:d,repeat:0,if:a(f,"if",null),run:a(f,"run",null),loop:a(f,"loop",null),event:a(f,"event",null),target:a(f,"target",null),set:a(f,"set",null),tween:a(f,"tween",null),sound:a(f,"sound",null),once:a(f,"once",!1),stop:a(f,"stop",!1)}),o=d}return this.complete=!1,this},clear:function(){for(var h=this.events,s=0;s<h.length;s++){var o=h[s];o.tweenInstance&&o.tweenInstance.stop()}return h=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var h=Math.min(this.totalComplete,this.events.length);return h/this.events.length},destroy:function(){var h=this.systems.events;h.off(r.PRE_UPDATE,this.preUpdate,this),h.off(r.UPDATE,this.update,this),h.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});l.register("timeline",function(h){return new n(this.scene,h)}),x.exports=n},94880:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(95540),l=new c({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(a){if(this.delay=m(a,"delay",0),this.repeat=m(a,"repeat",0),this.loop=m(a,"loop",!1),this.callback=m(a,"callback",void 0),this.callbackScope=m(a,"callbackScope",this),this.args=m(a,"args",[]),this.timeScale=m(a,"timeScale",1),this.startAt=m(a,"startAt",0),this.paused=m(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});x.exports=l},35945:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="complete"},89809:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={COMPLETE:t(35945)}},90291:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(72905),m=t(83419),l=t(43491),a=t(88032),r=t(37277),i=t(44594),n=t(93109),h=t(86081),s=t(8357),o=t(43960),u=t(26012),f=new m({initialize:function(p){this.scene=p,this.events=p.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(i.UPDATE,this.update,this),this.events.once(i.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var p=[],y=0;y<d.length;y++){var T=d[y];T instanceof h||T instanceof o?p.push(T):Array.isArray(T.tweens)?p.push(u(this,T)):p.push(s(this,T))}return p.length===1?p[0]:p},add:function(d){var p=d,y=this.tweens;return p instanceof h||p instanceof o||(Array.isArray(p.tweens)?p=u(this,p):p=s(this,p)),y.push(p.reset()),p},addMultiple:function(d){for(var p,y=[],T=this.tweens,C=0;C<d.length;C++)p=d[C],p instanceof h||p instanceof o||(Array.isArray(p.tweens)?p=u(this,p):p=s(this,p)),T.push(p.reset()),y.push(p);return y},chain:function(d){var p=u(this,d);return this.tweens.push(p.init()),p},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var p=a(this,d);return this.tweens.push(p.reset()),p},stagger:function(d,p){return n(d,p)},setLagSmooth:function(d,p){return d===void 0&&(d=1/1e-8),p===void 0&&(p=0),this.maxLag=d,this.lagSkip=Math.min(p,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var p=Date.now()-this.prevTime;p>this.maxLag&&(this.startTime+=p-this.lagSkip),this.prevTime+=p;var y=this.prevTime-this.startTime,T=y-this.nextTime,C=y-this.time*1e3;return T>0||d?(y/=1e3,this.time=y,this.nextTime+=T+(T>=this.gap?4:this.gap-T)):C=0,C},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var p=this.getDelta(d);if(!(p<=0)){this.processing=!0;var y,T,C=[],P=this.tweens;for(y=0;y<P.length;y++)T=P[y],T.update(p)&&C.push(T);var A=C.length;if(A&&P.length>0){for(y=0;y<A;y++){T=C[y];var w=P.indexOf(T);w>-1&&(T.isPendingRemove()||T.isDestroyed())&&(P.splice(w,1),T.destroy())}C.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(c(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,p){var y,T=[null];for(y=1;y<arguments.length;y++)T.push(arguments[y]);return this.tweens.forEach(function(C){T[0]=C,d.apply(p,T)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var p=[],y=this.tweens;Array.isArray(d)?d=l(d):d=[d];for(var T=d.length,C=0;C<y.length;C++)for(var P=y[C],A=0;A<T;A++)!P.isDestroyed()&&P.hasTarget(d[A])&&p.push(P);return p},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var p=this.tweens,y,T=0;T<p.length;T++)if(y=p[T],y.isPlaying()&&y.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,p=0;p<d.length;p++)d[p].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var p=this.getTweensOf(d),y=0;y<p.length;y++)p[y].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(i.UPDATE,this.update,this),this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",f,"tweens"),x.exports=f},57355:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){return t&&t.hasOwnProperty(c)?t[c]:m};x.exports=M},6113:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(62640),m=t(35355),l=function(a,r){var i=c.Power0;if(typeof a=="string")if(c.hasOwnProperty(a))i=c[a];else{var n="";if(a.indexOf(".")){n=a.substring(a.indexOf(".")+1);var h=n.toLowerCase();h==="in"?n="easeIn":h==="out"?n="easeOut":h==="inout"&&(n="easeInOut")}a=m(a.substring(0,a.indexOf(".")+1)+n),c.hasOwnProperty(a)&&(i=c[a])}else typeof a=="function"&&(i=a);if(!r)return i;var s=r.slice(0);return s.unshift(0),function(o){return s[0]=o,i.apply(this,s)}};x.exports=l},91389:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(89318),m=t(77259),l=t(28392),a={bezier:c,catmull:m,catmullrom:m,linear:l},r=function(i){if(i===null)return null;var n=a.linear;return typeof i=="string"?a.hasOwnProperty(i)&&(n=a[i]):typeof i=="function"&&(n=i),n};x.exports=r},55292:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l;if(t.hasOwnProperty(c)){var a=typeof t[c];a==="function"?l=function(r,i,n,h,s,o){return t[c](r,i,n,h,s,o)}:l=function(){return t[c]}}else typeof m=="function"?l=m:l=function(){return m};return l};x.exports=M},82985:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(81076),m=function(l){var a,r=[];if(l.hasOwnProperty("props"))for(a in l.props)a.substring(0,1)!=="_"&&r.push({key:a,value:l.props[a]});else for(a in l)c.indexOf(a)===-1&&a.substring(0,1)!=="_"&&r.push({key:a,value:l[a]});return r};x.exports=m},62329:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35154),m=function(l){var a=c(l,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};x.exports=m},17777:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(30976),m=t(99472);function l(h){return!!h.getActive&&typeof h.getActive=="function"}function a(h){return!!h.getStart&&typeof h.getStart=="function"}function r(h){return!!h.getEnd&&typeof h.getEnd=="function"}function i(h){return a(h)||r(h)||l(h)}var n=function(h,s){var o,u=function(H,k,z){return z},f=function(H,k,z){return z},d=null,p=typeof s;if(p==="number")u=function(){return s};else if(Array.isArray(s))f=function(){return s[0]},u=function(){return s[s.length-1]};else if(p==="string"){var y=s.toLowerCase(),T=y.substring(0,6)==="random",C=y.substring(0,3)==="int";if(T||C){var P=y.indexOf("("),A=y.indexOf(")"),w=y.indexOf(",");if(P&&A&&w){var L=parseFloat(y.substring(P+1,w)),B=parseFloat(y.substring(w+1,A));T?u=function(){return m(L,B)}:u=function(){return c(L,B)}}else throw new Error("invalid random() format")}else{y=y[0];var F=parseFloat(s.substr(2));switch(y){case"+":u=function(H,k,z){return z+F};break;case"-":u=function(H,k,z){return z-F};break;case"*":u=function(H,k,z){return z*F};break;case"/":u=function(H,k,z){return z/F};break;default:u=function(){return parseFloat(s)}}}}else if(p==="function")u=s;else if(p==="object")if(i(s))l(s)&&(d=s.getActive),r(s)&&(u=s.getEnd),a(s)&&(f=s.getStart);else if(s.hasOwnProperty("value"))o=n(h,s.value);else{var b=s.hasOwnProperty("to"),G=s.hasOwnProperty("from"),N=s.hasOwnProperty("start");if(b&&(G||N)){if(o=n(h,s.to),N){var U=n(h,s.start);o.getActive=U.getEnd}if(G){var W=n(h,s.from);o.getStart=W.getEnd}}}return o||(o={getActive:d,getEnd:u,getStart:f}),o};x.exports=n},88032:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70402),m=t(69902),l=t(23568),a=t(57355),r=t(6113),i=t(55292),n=t(35154),h=t(17777),s=t(269),o=t(86081),u=function(f,d,p){if(d instanceof o)return d.parent=f,d;p===void 0?p=m:p=s(m,p);var y=n(d,"from",0),T=n(d,"to",1),C=[{value:y}],P=n(d,"delay",p.delay),A=n(d,"easeParams",p.easeParams),w=n(d,"ease",p.ease),L=h("value",T),B=new o(f,C),F=B.add(0,"value",L.getEnd,L.getStart,L.getActive,r(n(d,"ease",w),n(d,"easeParams",A)),i(d,"delay",P),n(d,"duration",p.duration),a(d,"yoyo",p.yoyo),n(d,"hold",p.hold),n(d,"repeat",p.repeat),n(d,"repeatDelay",p.repeatDelay),!1,!1);F.start=y,F.current=y,B.completeDelay=l(d,"completeDelay",0),B.loop=Math.round(l(d,"loop",0)),B.loopDelay=Math.round(l(d,"loopDelay",0)),B.paused=a(d,"paused",!1),B.persist=a(d,"persist",!1),B.callbackScope=n(d,"callbackScope",B);for(var b=c.TYPES,G=0;G<b.length;G++){var N=b[G],U=n(d,N,!1);if(U){var W=n(d,N+"Params",[]);B.setCallback(N,U,W)}}return B};x.exports=u},93109:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(6113),m=t(35154),l=t(36383),a=function(r,i){i===void 0&&(i={});var n,h=m(i,"start",0),s=m(i,"ease",null),o=m(i,"grid",null),u=m(i,"from",0),f=u==="first",d=u==="center",p=u==="last",y=typeof u=="number",T=Array.isArray(r),C=parseFloat(T?r[0]:r),P=T?parseFloat(r[1]):0,A=Math.max(C,P);if(T&&(h+=C),o){var w=o[0],L=o[1],B=0,F=0,b=0,G=0,N=[];p?(B=w-1,F=L-1):y?(B=u%w,F=Math.floor(u/w)):d&&(B=(w-1)/2,F=(L-1)/2);for(var U=l.MIN_SAFE_INTEGER,W=0;W<L;W++){N[W]=[];for(var H=0;H<w;H++){b=B-H,G=F-W;var k=Math.sqrt(b*b+G*G);k>U&&(U=k),N[W][H]=k}}}var z=s?c(s):null;return o?n=function($,X,Q,Z){var K=0,J=Z%w,q=Math.floor(Z/w);J>=0&&J<w&&q>=0&&q<L&&(K=N[q][J]);var tt;if(T){var it=P-C;z?tt=K/U*it*z(K/U):tt=K/U*it}else z?tt=K*C*z(K/U):tt=K*C;return tt+h}:n=function($,X,Q,Z,K){K--;var J;f?J=Z:d?J=Math.abs(K/2-Z):p?J=K-Z:y&&(J=Math.abs(u-Z));var q;if(T){var tt;d?tt=(P-C)/K*(J*2):tt=(P-C)/K*J,z?q=tt*z(J/K):q=tt}else z?q=K*A*z(J/K):q=J*C;return q+h},n};x.exports=a},8357:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70402),m=t(69902),l=t(23568),a=t(57355),r=t(6113),i=t(91389),n=t(55292),h=t(82985),s=t(62329),o=t(35154),u=t(17777),f=t(269),d=t(86081),p=function(y,T,C){if(T instanceof d)return T.parent=y,T;C===void 0?C=m:C=f(m,C);var P=s(T);!P&&C.targets&&(P=C.targets);for(var A=h(T),w=o(T,"delay",C.delay),L=o(T,"duration",C.duration),B=o(T,"easeParams",C.easeParams),F=o(T,"ease",C.ease),b=o(T,"hold",C.hold),G=o(T,"repeat",C.repeat),N=o(T,"repeatDelay",C.repeatDelay),U=a(T,"yoyo",C.yoyo),W=a(T,"flipX",C.flipX),H=a(T,"flipY",C.flipY),k=o(T,"interpolation",C.interpolation),z=function(rt,ht,dt,lt){if(dt==="texture"){var vt=lt,Mt=void 0;Array.isArray(lt)?(vt=lt[0],Mt=lt[1]):lt.hasOwnProperty("value")?(vt=lt.value,Array.isArray(lt.value)?(vt=lt.value[0],Mt=lt.value[1]):typeof lt.value=="string"&&(vt=lt.value)):typeof lt=="string"&&(vt=lt),rt.addFrame(ht,vt,Mt,n(lt,"delay",w),o(lt,"duration",L),o(lt,"hold",b),o(lt,"repeat",G),o(lt,"repeatDelay",N),a(lt,"flipX",W),a(lt,"flipY",H))}else{var At=u(dt,lt),wt=i(o(lt,"interpolation",k));rt.add(ht,dt,At.getEnd,At.getStart,At.getActive,r(o(lt,"ease",F),o(lt,"easeParams",B)),n(lt,"delay",w),o(lt,"duration",L),a(lt,"yoyo",U),o(lt,"hold",b),o(lt,"repeat",G),o(lt,"repeatDelay",N),a(lt,"flipX",W),a(lt,"flipY",H),wt,wt?lt:null)}},$=new d(y,P),X=0;X<A.length;X++)for(var Q=A[X].key,Z=A[X].value,K=0;K<P.length;K++)Q==="scale"&&!P[K].hasOwnProperty("scale")?(z($,K,"scaleX",Z),z($,K,"scaleY",Z)):z($,K,Q,Z);$.completeDelay=l(T,"completeDelay",0),$.loop=Math.round(l(T,"loop",0)),$.loopDelay=Math.round(l(T,"loopDelay",0)),$.paused=a(T,"paused",!1),$.persist=a(T,"persist",!1),$.callbackScope=o(T,"callbackScope",$);for(var J=c.TYPES,q=0;q<J.length;q++){var tt=J[q],it=o(T,tt,!1);if(it){var nt=o(T,tt+"Params",[]);$.setCallback(tt,it,nt)}}return $};x.exports=p},26012:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70402),m=t(23568),l=t(57355),a=t(62329),r=t(35154),i=t(8357),n=t(43960),h=function(s,o){if(o instanceof n)return o.parent=s,o;var u=new n(s);u.startDelay=r(o,"delay",0),u.completeDelay=m(o,"completeDelay",0),u.loop=Math.round(m(o,"loop",r(o,"repeat",0))),u.loopDelay=Math.round(m(o,"loopDelay",r(o,"repeatDelay",0))),u.paused=l(o,"paused",!1),u.persist=l(o,"persist",!1),u.callbackScope=r(o,"callbackScope",u);var f,d=c.TYPES;for(f=0;f<d.length;f++){var p=d[f],y=r(o,p,!1);if(y){var T=r(o,p+"Params",[]);u.setCallback(p,y,T)}}var C=r(o,"tweens",null);if(Array.isArray(C)){var P=[],A=a(o),w=void 0;for(A&&(w={targets:A}),f=0;f<C.length;f++)P.push(i(u,C[f],w));u.add(P)}return u};x.exports=h},30231:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="active"},98540:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="complete"},67233:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="loop"},2859:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="pause"},98336:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="repeat"},25764:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="resume"},32193:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="start"},84371:x=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="stop"},70766:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="update"},55659:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports="yoyo"},842:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};x.exports=c},70402:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(50792),l=t(842),a=t(86353),r=new c({Extends:m,initialize:function(n){m.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(i){return this.timeScale=i,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(l.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(l.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(l.TWEEN_COMPLETE,"onComplete")},complete:function(i){return i===void 0&&(i=0),i?(this.setCompleteDelayState(),this.countdown=i):this.onCompleteHandler(),this},completeAfterLoop:function(i){return i===void 0&&(i=0),this.loopCounter>i&&(this.loopCounter=i),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(l.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(i){this.countdown-=i,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(i){return this.countdown-=i,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(l.TWEEN_START,"onStart"),i=0),i},updateCompleteDelay:function(i){this.countdown-=i,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(i,n,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(i)&&(this.callbacks[i]={func:n,params:h}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(i){i.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],x.exports=r},95042:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(83419),m=t(842),l=t(86353),a=new c({initialize:function(i,n,h,s,o,u,f,d,p,y){this.tween=i,this.targetIndex=n,this.duration=s,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=o,this.hold=u,this.repeat=f,this.repeatDelay=d,this.repeatCounter=0,this.flipX=p,this.flipY=y,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=l.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=l.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=l.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=l.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=l.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=l.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=l.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=l.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===l.CREATED},isDelayed:function(){return this.state===l.DELAY},isPendingRender:function(){return this.state===l.PENDING_RENDER},isPlayingForward:function(){return this.state===l.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===l.PLAYING_BACKWARD},isHolding:function(){return this.state===l.HOLD_DELAY},isRepeating:function(){return this.state===l.REPEAT_DELAY},isComplete:function(){return this.state===l.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,i=r.totalTargets,n=this.targetIndex,h=r.targets[n],s=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,s,0,n,i,r),this.repeatCounter=this.repeat===-1?l.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var u=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=u*l.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,i,n){var h=this.tween,s=h.totalTargets,o=this.targetIndex,u=h.targets[o],f=this.key,d=f!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),d&&(i||n)&&(this.start=this.getStartValue(u,f,this.start,o,s,h)),n){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(u,f,this.start,o,s,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,d&&(this.current=this.start,u[f]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});x.exports=a},69902:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};x.exports=M},81076:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(70402),m=t(83419),l=t(842),a=t(44603),r=t(39429),i=t(36383),n=t(86353),h=t(48177),s=t(42220),o=new m({Extends:c,initialize:function(f,d){c.call(this,f),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(u,f,d,p,y,T,C,P,A,w,L,B,F,b,G,N){var U=new h(this,u,f,d,p,y,T,C,P,A,w,L,B,F,b,G,N);return this.totalData=this.data.push(U),U},addFrame:function(u,f,d,p,y,T,C,P,A,w){var L=new s(this,u,f,d,p,y,T,C,P,A,w);return this.totalData=this.data.push(L),L},getValue:function(u){u===void 0&&(u=0);var f=null;return this.data&&(f=this.data[u].current),f},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,f,d){if(d===void 0&&(d=!1),u!=="texture")for(var p=0;p<this.totalData;p++){var y=this.data[p];y.key===u&&(y.isPlayingForward()||y.isPlayingBackward())&&(y.end=f,d&&(y.start=y.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,c.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,f,d){if(u===void 0&&(u=0),f===void 0&&(f=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive");var p=this.paused;if(this.paused=!1,u>0){for(var y=Math.floor(u/f),T=u-y*f,C=0;C<y;C++)this.update(f);T>0&&this.update(T)}return this.paused=p,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=i.MAX_SAFE_INTEGER;for(var f=this.data,d=0;d<this.totalData;d++)f[d].reset(u);this.duration=Math.max(this.duration,.01);var p=this.duration,y=this.completeDelay,T=this.loopCounter,C=this.loopDelay;T>0?this.totalDuration=p+y+(p+C)*T:this.totalDuration=p+y},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),u=0));var f=!1;if(this.isActive())for(var d=this.data,p=0;p<this.totalData;p++)d[p].update(u)&&(f=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),f||this.nextState();var y=this.isPendingRemove();return y&&this.persist&&(this.setFinishedState(),y=!1),y},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,f){if(!this.isSeeking){this.emit(u,this,this.targets);var d=this.callbacks[f];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){c.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(u){return this.scene.sys.tweens.add(u)}),a.register("tween",function(u){return this.scene.sys.tweens.create(u)}),x.exports=o},43960:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(72905),m=t(70402),l=t(83419),a=t(842),r=t(44603),i=t(39429),n=t(86353),h=new l({Extends:m,initialize:function(o){m.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(s){var o=this.parent.create(s);Array.isArray(o)||(o=[o]);for(var u=this.data,f=0;f<o.length;f++){var d=o[f];d.parent=this,u.push(d.reset())}return this.totalData=u.length,this},remove:function(s){return c(this.data,s),s.setRemovedState(),s===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(s){for(var o=this.data,u=0;u<this.totalData;u++)if(o[u].hasTarget(s))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(s){return s.seek(),s.setActiveState(),this},makeActive:function(s){return s.reset(),s.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var s=this.data,o=this.totalData,u=0;u<o;u++)s[u].reset(!1);this.setCurrentTween(0)},update:function(s){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;s*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(s):this.isCompleteDelayed()?this.updateCompleteDelay(s):this.isStartDelayed()&&(s=this.updateStartCountdown(s));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(s)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(s){this.currentIndex=s,this.currentTween=this.data[s],this.currentTween.setActiveState()},dispatchEvent:function(s,o){this.emit(s,this);var u=this.callbacks[o];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){m.prototype.destroy.call(this),this.currentTween=null}});i.register("tweenchain",function(s){return this.scene.sys.tweens.chain(s)}),r.register("tweenchain",function(s){return this.scene.sys.tweens.create(s)}),x.exports=h},48177:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95042),m=t(45319),l=t(83419),a=t(842),r=new l({Extends:c,initialize:function(n,h,s,o,u,f,d,p,y,T,C,P,A,w,L,B,F){c.call(this,n,h,p,y,T,C,P,A,w,L),this.key=s,this.getActiveValue=f,this.getEndValue=o,this.getStartValue=u,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=B,this.interpolationData=F},reset:function(i){c.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],h=this.key;i&&(n[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[h]=this.getActiveValue(n,h,0))},update:function(i){var n=this.tween,h=n.totalTargets,s=this.targetIndex,o=n.targets[s],u=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,u,o[u],s,h,n),this.end=this.getEndValue(o,u,this.start,s,h,n),this.current=this.start,o[u]=this.start,this.setPlayingForwardState(),!0;var f=this.isPlayingForward(),d=this.isPlayingBackward();if(f||d){var p=this.elapsed,y=this.duration,T=0,C=!1;p+=i,p>=y?(T=p-y,p=y,C=!0):p<0&&(p=0);var P=m(p/y,0,1);this.elapsed=p,this.progress=P,this.previous=this.current,f||(P=1-P);var A=this.ease(P);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,o[u]=this.current,C&&(f?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T):this.setStateFromStart(T)),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var h=this.tween;if(!h.isSeeking){var s=h.targets[this.targetIndex],o=this.key,u=this.current,f=this.previous;h.emit(i,h,o,s,u,f);var d=h.callbacks[n];d&&d.func.apply(h.callbackScope,[h,s,o,u,f].concat(d.params))}},destroy:function(){c.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});x.exports=r},42220:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(95042),m=t(45319),l=t(83419),a=t(842),r=new l({Extends:c,initialize:function(n,h,s,o,u,f,d,p,y,T,C){c.call(this,n,h,u,f,!1,d,p,y,T,C),this.key="texture",this.startTexture=null,this.endTexture=s,this.startFrame=null,this.endFrame=o,this.yoyo=p!==0},reset:function(i){c.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),i&&n.setTexture(this.startTexture,this.startFrame)},update:function(i){var n=this.tween,h=this.targetIndex,s=n.targets[h];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),u=this.isPlayingBackward();if(o||u){var f=this.elapsed,d=this.duration,p=0,y=!1;f+=i,f>=d?(p=f-d,f=d,y=!0):f<0&&(f=0);var T=m(f/d,0,1);this.elapsed=f,this.progress=T,y&&(o?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(p)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(p))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,n){var h=this.tween;if(!h.isSeeking){var s=h.targets[this.targetIndex],o=this.key;h.emit(i,h,o,s);var u=h.callbacks[n];u&&u.func.apply(h.callbackScope,[h,s,o].concat(u.params))}},destroy:function(){c.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});x.exports=r},86353:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};x.exports=M},83419:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,i,n){var h=n?r[i]:Object.getOwnPropertyDescriptor(r,i);return!n&&h.value&&typeof h.value=="object"&&(h=h.value),h&&M(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function c(r,i){var n=Object.getOwnPropertyDescriptor(r,i);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function m(r,i,n,h){for(var s in i)if(i.hasOwnProperty(s)){var o=t(i,s,n);if(o!==!1){var u=h||r;if(c(u.prototype,s)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,s,o)}else r.prototype[s]=i[s]}}function l(r,i){if(i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)m(r,i[n].prototype||i[n])}}function a(r){r||(r={});var i,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");i=r.initialize,delete r.initialize}else if(r.Extends){var h=r.Extends;i=function(){h.apply(this,arguments)}}else i=function(){};r.Extends?(i.prototype=Object.create(r.Extends.prototype),i.prototype.constructor=i,n=r.Extends,delete r.Extends):i.prototype.constructor=i;var s=null;return r.Mixins&&(s=r.Mixins,delete r.Mixins),l(i,s),m(i,r,!0,n),i}a.extend=m,a.mixin=l,a.ignoreFinals=!1,x.exports=a},29747:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(){};x.exports=M},20242:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(){return null};x.exports=M},71146:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a){if(a===void 0&&(a=t),m>0){var r=m-t.length;if(r<=0)return null}if(!Array.isArray(c))return t.indexOf(c)===-1?(t.push(c),l&&l.call(a,c),c):null;for(var i=c.length-1;i>=0;)t.indexOf(c[i])!==-1&&c.splice(i,1),i--;if(i=c.length,i===0)return null;m>0&&i>r&&(c.splice(r),i=r);for(var n=0;n<i;n++){var h=c[n];t.push(h),l&&l.call(a,h)}return c};x.exports=M},51067:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l,a,r){if(m===void 0&&(m=0),r===void 0&&(r=t),l>0){var i=l-t.length;if(i<=0)return null}if(!Array.isArray(c))return t.indexOf(c)===-1?(t.splice(m,0,c),a&&a.call(r,c),c):null;for(var n=c.length-1;n>=0;)t.indexOf(c[n])!==-1&&c.pop(),n--;if(n=c.length,n===0)return null;l>0&&n>i&&(c.splice(i),n=i);for(var h=n-1;h>=0;h--){var s=c[h];t.splice(m,0,s),a&&a.call(r,s)}return c};x.exports=M},66905:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.indexOf(c);return m!==-1&&m<t.length&&(t.splice(m,1),t.push(c)),c};x.exports=M},21612:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(82011),m=function(l,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=l.length);var h=0;if(c(l,i,n))for(var s=i;s<n;s++){var o=l[s];o[a]===r&&h++}return h};x.exports=m},95428:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l,a=[null];for(l=3;l<arguments.length;l++)a.push(arguments[l]);for(l=0;l<t.length;l++)a[0]=t[l],c.apply(m,a);return t};x.exports=M},36914:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(82011),m=function(l,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=l.length),c(l,i,n)){var h,s=[null];for(h=5;h<arguments.length;h++)s.push(arguments[h]);for(h=i;h<n;h++)s[0]=l[h],a.apply(r,s)}return l};x.exports=m},81957:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(c.length){if(c.length===1)return c[0]}else return NaN;var l=1,a,r;if(m){if(t<c[0][m])return c[0];for(;c[l][m]<t;)l++}else for(;c[l]<t;)l++;return l>c.length&&(l=c.length),m?(a=c[l-1][m],r=c[l][m],r-t<=t-a?c[l]:c[l-1]):(a=c[l-1],r=c[l],r-t<=t-a?r:a)};x.exports=M},43491:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=[]);for(var m=0;m<t.length;m++)Array.isArray(t[m])?M(t[m],c):c.push(t[m]);return c};x.exports=M},46710:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(82011),m=function(l,a,r,i,n){i===void 0&&(i=0),n===void 0&&(n=l.length);var h=[];if(c(l,i,n))for(var s=i;s<n;s++){var o=l[s];(!a||a&&r===void 0&&o.hasOwnProperty(a)||a&&r!==void 0&&o[a]===r)&&h.push(o)}return h};x.exports=m},58731:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(82011),m=function(l,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=l.length),c(l,i,n))for(var h=i;h<n;h++){var s=l[h];if(!a||a&&r===void 0&&s.hasOwnProperty(a)||a&&r!==void 0&&s[a]===r)return s}return null};x.exports=m},26546:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){c===void 0&&(c=0),m===void 0&&(m=t.length);var l=c+Math.floor(Math.random()*m);return t[l]===void 0?null:t[l]};x.exports=M},85835:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(c===m)return t;var l=t.indexOf(c),a=t.indexOf(m);if(l<0||a<0)throw new Error("Supplied items must be elements of the same array");return l>a||(t.splice(l,1),a=t.indexOf(m),t.splice(a+1,0,c)),t};x.exports=M},83371:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(c===m)return t;var l=t.indexOf(c),a=t.indexOf(m);if(l<0||a<0)throw new Error("Supplied items must be elements of the same array");return l<a||(t.splice(l,1),a===0?t.unshift(c):t.splice(a,0,c)),t};x.exports=M},70864:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.indexOf(c);if(m>0){var l=t[m-1],a=t.indexOf(l);t[m]=l,t[a]=c}return t};x.exports=M},69693:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=t.indexOf(c);if(l===-1||m<0||m>=t.length)throw new Error("Supplied index out of bounds");return l!==m&&(t.splice(l,1),t.splice(m,0,c)),c};x.exports=M},40853:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.indexOf(c);if(m!==-1&&m<t.length-1){var l=t[m+1],a=t.indexOf(l);t[m]=l,t[a]=c}return t};x.exports=M},20283:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=[],r,i=!1;if((m||l)&&(i=!0,m||(m=""),l||(l="")),c<t)for(r=t;r>=c;r--)i?a.push(m+r.toString()+l):a.push(r);else for(r=t;r<=c;r++)i?a.push(m+r.toString()+l):a.push(r);return a};x.exports=M},593:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(2284),m=function(l,a,r){l===void 0&&(l=0),a===void 0&&(a=null),r===void 0&&(r=1),a===null&&(a=l,l=0);for(var i=[],n=Math.max(c((a-l)/(r||1)),0),h=0;h<n;h++)i.push(l),l+=r;return i};x.exports=m},43886:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function M(m,l,a){var r=m[l];m[l]=m[a],m[a]=r}function t(m,l){return m<l?-1:m>l?1:0}var c=function(m,l,a,r,i){for(a===void 0&&(a=0),r===void 0&&(r=m.length-1),i===void 0&&(i=t);r>a;){if(r-a>600){var n=r-a+1,h=l-a+1,s=Math.log(n),o=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*o*(n-o)/n)*(h-n/2<0?-1:1),f=Math.max(a,Math.floor(l-h*o/n+u)),d=Math.min(r,Math.floor(l+(n-h)*o/n+u));c(m,l,f,d,i)}var p=m[l],y=a,T=r;for(M(m,a,l),i(m[r],p)>0&&M(m,a,r);y<T;){for(M(m,y,T),y++,T--;i(m[y],p)<0;)y++;for(;i(m[T],p)>0;)T--}i(m[a],p)===0?M(m,a,T):(T++,M(m,T,r)),T<=l&&(a=T+1),l<=T&&(r=T-1)}};x.exports=c},88492:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35154),m=t(33680),l=function(r,i,n){for(var h=[],s=0;s<r.length;s++)for(var o=0;o<i.length;o++)for(var u=0;u<n;u++)h.push({a:r[s],b:i[o]});return h},a=function(r,i,n){var h=c(n,"max",0),s=c(n,"qty",1),o=c(n,"random",!1),u=c(n,"randomB",!1),f=c(n,"repeat",0),d=c(n,"yoyo",!1),p=[];if(u&&m(i),f===-1)if(h===0)f=0;else{var y=r.length*i.length*s;d&&(y*=2),f=Math.ceil(h/y)}for(var T=0;T<=f;T++){var C=l(r,i,s);o&&m(C),p=p.concat(C),d&&(C.reverse(),p=p.concat(C))}return h&&p.splice(h),p};x.exports=a},72905:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(19133),m=function(l,a,r,i){i===void 0&&(i=l);var n;if(!Array.isArray(a))return n=l.indexOf(a),n!==-1?(c(l,n),r&&r.call(i,a),a):null;for(var h=a.length-1,s=[];h>=0;){var o=a[h];n=l.indexOf(o),n!==-1&&(c(l,n),s.push(o),r&&r.call(i,o)),h--}return s};x.exports=m},60248:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(19133),m=function(l,a,r,i){if(i===void 0&&(i=l),a<0||a>l.length-1)throw new Error("Index out of bounds");var n=c(l,a);return r&&r.call(i,n),n};x.exports=m},81409:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(82011),m=function(l,a,r,i,n){if(a===void 0&&(a=0),r===void 0&&(r=l.length),n===void 0&&(n=l),c(l,a,r)){var h=r-a,s=l.splice(a,h);if(i)for(var o=0;o<s.length;o++){var u=s[o];i.call(n,u)}return s}else return[]};x.exports=m},31856:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(19133),m=function(l,a,r){a===void 0&&(a=0),r===void 0&&(r=l.length);var i=a+Math.floor(Math.random()*r);return c(l,i)};x.exports=m},42169:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=t.indexOf(c),a=t.indexOf(m);return l!==-1&&a===-1?(t[l]=m,!0):!1};x.exports=M},86003:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=1);for(var m=null,l=0;l<c;l++)m=t.shift(),t.push(m);return m};x.exports=M},49498:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){c===void 0&&(c=1);for(var m=null,l=0;l<c;l++)m=t.pop(),t.unshift(m);return m};x.exports=M},82011:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){var a=t.length;if(c<0||c>a||c>=m||m>a){if(l)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};x.exports=M},89545:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){var m=t.indexOf(c);return m!==-1&&m>0&&(t.splice(m,1),t.unshift(c)),c};x.exports=M},17810:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(82011),m=function(l,a,r,i,n){if(i===void 0&&(i=0),n===void 0&&(n=l.length),c(l,i,n))for(var h=i;h<n;h++){var s=l[h];s.hasOwnProperty(a)&&(s[a]=r)}return l};x.exports=m},33680:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){for(var c=t.length-1;c>0;c--){var m=Math.floor(Math.random()*(c+1)),l=t[c];t[c]=t[m],t[m]=l}return t};x.exports=M},90126:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c=/\D/g;return t.sort(function(m,l){return parseInt(m.replace(c,""),10)-parseInt(l.replace(c,""),10)}),t};x.exports=M},19133:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){if(!(c>=t.length)){for(var m=t.length-1,l=t[c],a=c;a<m;a++)t[a]=t[a+1];return t.length=m,l}};x.exports=M},19186:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(82264);function m(i,n){return String(i).localeCompare(n)}function l(i,n){var h=i.length;if(h<=1)return i;for(var s=new Array(h),o=1;o<h;o*=2){a(i,n,o,s);var u=i;i=s,s=u}return i}function a(i,n,h,s){var o=i.length,u=0,f=h*2,d,p,y,T,C;for(d=0;d<o;d+=f)for(p=d+h,y=p+h,p>o&&(p=o),y>o&&(y=o),T=d,C=p;;)if(T<p&&C<y)n(i[T],i[C])<=0?s[u++]=i[T++]:s[u++]=i[C++];else if(T<p)s[u++]=i[T++];else if(C<y)s[u++]=i[C++];else break}var r=function(i,n){if(n===void 0&&(n=m),!i||i.length<2)return i;if(c.features.stableSort)return i.sort(n);var h=l(i,n);return h!==i&&a(h,null,i.length,i),i};x.exports=r},25630:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(c===m)return t;var l=t.indexOf(c),a=t.indexOf(m);if(l<0||a<0)throw new Error("Supplied items must be elements of the same array");return t[l]=m,t[a]=c,t};x.exports=M},37105:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var c=t[0].length,m=1;m<t.length;m++)if(t[m].length!==c)return!1;return!0};x.exports=M},63362:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(41836),m=t(86922),l=function(a){var r="";if(!m(a))return r;for(var i=0;i<a.length;i++){for(var n=0;n<a[i].length;n++){var h=a[i][n].toString();h!=="undefined"?r+=c(h,2):r+="?",n<a[i].length-1&&(r+=" |")}if(i<a.length-1){r+=`
`;for(var s=0;s<a[i].length;s++)r+="---",s<a[i].length-1&&(r+="+");r+=`
`}}return r};x.exports=l},92598:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.reverse()};x.exports=M},21224:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){for(var c=0;c<t.length;c++)t[c].reverse();return t};x.exports=M},98717:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37829),m=function(l){return c(l,180)};x.exports=m},44657:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37829),m=function(l,a){a===void 0&&(a=1);for(var r=0;r<a;r++)l=c(l,90);return l};x.exports=m},37829:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(86922),m=t(2429),l=function(a,r){if(r===void 0&&(r=90),!c(a))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")a=m(a),a.reverse();else if(r===-90||r===270||r==="rotateRight")a.reverse(),a=m(a);else if(Math.abs(r)===180||r==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};x.exports=l},92632:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(37829),m=function(l,a){a===void 0&&(a=1);for(var r=0;r<a;r++)l=c(l,-90);return l};x.exports=m},69512:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(86003),m=t(49498),l=function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),i!==0&&(i<0?c(a,Math.abs(i)):m(a,i)),r!==0)for(var n=0;n<a.length;n++){var h=a[n];r<0?c(h,Math.abs(r)):m(h,r)}return a};x.exports=l},2429:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){for(var c=t.length,m=t[0].length,l=new Array(m),a=0;a<m;a++){l[a]=new Array(c);for(var r=c-1;r>-1;r--)l[a][r]=t[r][a]}return l};x.exports=M},54915:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:x=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(c,m){for(var l=new Uint8Array(c),a=l.length,r=m?"data:"+m+";base64,":"",i=0;i<a;i+=3)r+=M[l[i]>>2],r+=M[(l[i]&3)<<4|l[i+1]>>4],r+=M[(l[i+1]&15)<<2|l[i+2]>>6],r+=M[l[i+2]&63];return a%3===2?r=r.substring(0,r.length-1)+"=":a%3===1&&(r=r.substring(0,r.length-2)+"=="),r};x.exports=t},53134:x=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),c=0;c<M.length;c++)t[M.charCodeAt(c)]=c;var m=function(l){l=l.substr(l.indexOf(",")+1);var a=l.length,r=a*.75,i=0,n,h,s,o;l[a-1]==="="&&(r--,l[a-2]==="="&&r--);for(var u=new ArrayBuffer(r),f=new Uint8Array(u),d=0;d<a;d+=4)n=t[l.charCodeAt(d)],h=t[l.charCodeAt(d+1)],s=t[l.charCodeAt(d+2)],o=t[l.charCodeAt(d+3)],f[i++]=n<<2|h>>4,f[i++]=(h&15)<<4|s>>2,f[i++]=(s&3)<<6|o&63;return u};x.exports=m},65839:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c={};for(var m in t)Array.isArray(t[m])?c[m]=t[m].slice(0):c[m]=t[m];return c};x.exports=M},62644:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){var c,m,l;if(typeof t!="object"||t===null)return t;c=Array.isArray(t)?[]:{};for(l in t)m=t[l],c[l]=M(m);return c};x.exports=M},79291:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(41212),m=function(){var l,a,r,i,n,h,s=arguments[0]||{},o=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},o=2),u===o&&(s=this,--o);o<u;o++)if((l=arguments[o])!=null)for(a in l)r=s[a],i=l[a],s!==i&&(f&&i&&(c(i)||(n=Array.isArray(i)))?(n?(n=!1,h=r&&Array.isArray(r)?r:[]):h=r&&c(r)?r:{},s[a]=m(f,h,i)):i!==void 0&&(s[a]=i));return s};x.exports=m},23568:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(75508),m=t(35154),l=function(a,r,i){var n=m(a,r,null);if(n===null)return i;if(Array.isArray(n))return c.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return c.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return c.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};x.exports=l},95540:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){var l=typeof t;return!t||l==="number"||l==="string"?m:t.hasOwnProperty(c)&&t[c]!==void 0?t[c]:m};x.exports=M},82840:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(35154),m=t(45319),l=function(a,r,i,n,h){h===void 0&&(h=i);var s=c(a,r,h);return m(s,i,n)};x.exports=l},35154:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){if(!t&&!l||typeof t=="number")return m;if(t&&t.hasOwnProperty(c))return t[c];if(l&&l.hasOwnProperty(c))return l[c];if(c.indexOf(".")!==-1){for(var a=c.split("."),r=t,i=l,n=m,h=m,s=!0,o=!0,u=0;u<a.length;u++)r&&r.hasOwnProperty(a[u])?(n=r[a[u]],r=r[a[u]]):s=!1,i&&i.hasOwnProperty(a[u])?(h=i[a[u]],i=i[a[u]]):o=!1;return s?n:o?h:m}else return m};x.exports=M},69036:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){for(var m=0;m<c.length;m++)if(!t.hasOwnProperty(c[m]))return!1;return!0};x.exports=M},1985:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){for(var m=0;m<c.length;m++)if(t.hasOwnProperty(c[m]))return!0;return!1};x.exports=M},97022:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.hasOwnProperty(c)};x.exports=M},41212:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};x.exports=M},46975:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(41786),m=function(l,a){var r=c(l);for(var i in a)r.hasOwnProperty(i)||(r[i]=a[i]);return r};x.exports=m},269:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(41786),m=function(l,a){var r=c(l);for(var i in a)r.hasOwnProperty(i)&&(r[i]=a[i]);return r};x.exports=m},18254:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var c=t(97022),m=function(l,a){for(var r={},i=0;i<a.length;i++){var n=a[i];c(l,n)&&(r[n]=l[n])}return r};x.exports=m},61622:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(c))return t[c]=m,!0;if(c.indexOf(".")!==-1){for(var l=c.split("."),a=t,r=t,i=0;i<l.length;i++)if(a.hasOwnProperty(l[i]))r=a,a=a[l[i]];else return!1;return r[l[l.length-1]]=m,!0}return!1};x.exports=M},1183:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return t.replace(/%([0-9]+)/g,function(m,l){return c[Number(l)-1]})};x.exports=M},41836:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c,m,l){c===void 0&&(c=0),m===void 0&&(m=" "),l===void 0&&(l=3),t=t.toString();var a=0;if(c+1>=t.length)switch(l){case 1:t=new Array(c+1-t.length).join(m)+t;break;case 3:var r=Math.ceil((a=c-t.length)/2),i=a-r;t=new Array(i+1).join(m)+t+new Array(r+1).join(m);break;default:t=t+new Array(c+1-t.length).join(m);break}return t};x.exports=M},33628:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t,c){return c===0?t.slice(1):t.slice(0,c)+t.slice(c+1)};x.exports=M},27671:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t.split("").reverse().join("")};x.exports=M},45650:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var c=Math.random()*16|0,m=t==="x"?c:c&3|8;return m.toString(16)})};x.exports=M},35355:x=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var M=function(t){return t&&t[0].toUpperCase()+t.slice(1)};x.exports=M},31749:(x,M,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */x.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},oi={};function _t(x){var M=oi[x];if(M!==void 0)return M.exports;var t=oi[x]={exports:{}};return ce[x](t,t.exports,_t),t.exports}_t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var ge=_t(85454);return ge})())})(_f);var Lx=_f.exports;const po=wx(Lx);window.onload=()=>{class It extends po.Scene{constructor(){super("scene-game")}preload(){this.load.image("bg","/public/assets/Comando.jpg")}create(){this.add.image(0,0,"bg").setOrigin(0,0)}update(){}}const Zt=document.getElementById("gameCanvas");Zt.clientWidth,Zt.clientHeight;const ce={type:po.WEBGL,canvas:Zt,scene:[It]};new po.Game(ce)};
